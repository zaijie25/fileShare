{"version":3,"sources":["assets\\ddz\\ddz\\scripts\\panel\\DdzMainUI.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,0DAAqD;AACrD,kEAA6D;AAC7D,sDAAiD;AACjD,uDAAqE;AACrE,oEAA+D;AAC/D,gEAA2D;AAC3D,0DAAqD;AACrD,qDAAgD;AAChD,0EAAqE;AAErE,0DAAqD;AACrD,8DAAyD;AACzD,gEAA2D;AAC3D,8DAA6D;AAC7D,qDAAgD;AAChD,qDAAgD;AAChD,qDAAgD;AAChD,0CAAqC;AAG/B,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAE5C;IAAuC,6BAAgB;IAAvD;QAAA,qEA8qBC;QA5qBW,oBAAc,GAAoB,EAAE,CAAC;QAiBrC,mBAAa,GAAmB,EAAE,CAAC;QACnC,mBAAa,GAAG,KAAK,CAAC;;IA0pBlC,CAAC;IAroBa,0BAAM,GAAhB;QACI,IAAI,CAAC,OAAO,GAAG,IAAI,OAAO,EAAE,CAAC;QAC7B,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpB,CAAC;IAES,4BAAQ,GAAlB;QACI,IAAI,CAAC,YAAY,CAAC,cAAc,EAAE,CAAC;QACnC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,sBAAY,CAAC,kBAAkB,EAAE,IAAI,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;QAC1E,MAAM,CAAC,KAAK,CAAC,EAAE,CAAC,WAAW,CAAC,mBAAmB,EAAE,IAAI,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;IAC9E,CAAC;IAES,6BAAS,GAAnB;QACI,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,sBAAY,CAAC,kBAAkB,EAAE,IAAI,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;QAC3E,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,WAAW,CAAC,mBAAmB,EAAE,IAAI,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;IAC/E,CAAC;IAES,6BAAS,GAAnB;QACI,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,sBAAY,CAAC,kBAAkB,EAAE,IAAI,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;QAC3E,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,WAAW,CAAC,mBAAmB,EAAE,IAAI,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;QAC3E,IAAI,CAAC,WAAW,CAAC,SAAS,EAAE,CAAC;IACjC,CAAC;IAEO,gCAAY,GAApB,UAAqB,GAAG;QACpB,IAAI,GAAG,CAAC,IAAI,CAAC,IAAI,IAAI,sBAAY,CAAC,GAAG,IAAI,GAAG,CAAC,IAAI,CAAC,IAAI,KAAK,IAAI,CAAC,OAAO,CAAC,KAAK,EAAC;YAC1E,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,WAAW,CAAC,YAAY,EAAE,GAAG,CAAC,IAAI,CAAC,CAAC;SAC1D;IACL,CAAC;IAEO,4BAAQ,GAAhB;QACI,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC;QAChD,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC;QAClD,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;QAChD,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,QAAQ,CAAC,kBAAkB,CAAC,CAAC;QACtD,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,mBAAmB,CAAC,CAAC;QACrD,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,mBAAmB,CAAC,CAAC;QACnD,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,kBAAkB,CAAC,CAAC;QACnD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,oBAAoB,CAAC,CAAC;QACnD,IAAI,CAAC,OAAO,GAAa,IAAI,CAAC,gBAAgB,CAAC,oCAAoC,EAAE,EAAE,CAAC,KAAK,CAAC,CAAC;QAC/F,IAAI,CAAC,OAAO,GAAa,IAAI,CAAC,gBAAgB,CAAC,oCAAoC,EAAE,EAAE,CAAC,KAAK,CAAC,CAAC;QAC/F,IAAI,CAAC,MAAM,GAAc,IAAI,CAAC,gBAAgB,CAAC,mBAAmB,EAAE,EAAE,CAAC,MAAM,CAAC,CAAC;QAC/E,IAAI,CAAC,OAAO,GAAc,IAAI,CAAC,gBAAgB,CAAC,oBAAoB,EAAE,EAAE,CAAC,MAAM,CAAC,CAAC;QACjF,IAAI,CAAC,aAAa,EAAE,CAAC;QAErB,IAAI,CAAC,YAAY,GAAG,IAAI,yBAAe,CAAC,IAAI,CAAC,QAAQ,CAAC,qBAAqB,CAAC,CAAC,CAAC;QAC9E,IAAI,CAAC,YAAY,CAAC,cAAc,EAAE,CAAC;QACnC,IAAI,CAAC,cAAc,EAAE,CAAC;QACtB,IAAI,CAAC,mBAAmB,EAAE,CAAC;QAC3B,IAAI,CAAC,iBAAiB,EAAE,CAAC;QACzB,IAAI,CAAC,cAAc,EAAE,CAAC;QACtB,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAC5B,IAAI,CAAC,cAAc,EAAE,CAAC;QACtB,IAAI,CAAC,aAAa,EAAE,CAAC;QACrB,IAAI,CAAC,gBAAgB,EAAE,CAAC;QACxB,IAAI,CAAC,QAAQ,EAAE,CAAC;QAEhB,IAAI,CAAC,eAAe,EAAE,CAAC;QAEvB,IAAI,YAAY,GAAG,EAAE,CAAC,IAAI,CAAC,sBAAsB,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;QAC9D,IAAI,SAAS,GAAG,EAAE,CAAC,IAAI,CAAC,6BAA6B,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;QAClE,MAAM,CAAC,QAAQ,CAAC,gBAAgB,CAAC,SAAS,EAAE,KAAK,EAAE,YAAY,CAAC,CAAC;QACjE,MAAM,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,kBAAkB,CAAC,EAAE,CAAC,CAAC,CAAA;QACjE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,qBAAqB,CAAC,CAAC;QACtD,sBAAY,CAAC,cAAc,CAAC,IAAI,CAAC,SAAS,EAAE,EAAE,EAAE,IAAI,CAAC,mBAAmB,EAAE,IAAI,CAAC,CAAC;QAChF,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,KAAK,CAAC;QAE9B,MAAM,CAAC,QAAQ,CAAC,gBAAgB,CAAC,EAAE,CAAC,IAAI,CAAC,sBAAsB,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAE7E,IAAI,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;QACzC,MAAM,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;QACzC,IAAI,QAAQ,GAAG,IAAI,qBAAW,CAAC,QAAQ,CAAC,CAAC;QACzC,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC;QACvB,IAAI,CAAC,UAAU,CAAC,mBAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,iBAAiB,EAAE,QAAQ,CAAC,CAAC;QACvE,MAAM,CAAC,QAAQ,CAAC,WAAW,CAAC,EAAE,CAAC,IAAI,CAAC,UAAU,EAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAA;QAE7D,sBAAY,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,EAAE,SAAS,EAAE;YAC9C,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC;QAChD,CAAC,EAAE,IAAI,CAAC,CAAC;IACb,CAAC;IAEO,kCAAc,GAAtB;QACI,IAAI,UAAU,GAAG,MAAM,CAAC,eAAe,CAAC,gBAAgB,CAAC,uBAAa,CAAC,eAAe,GAAG,0BAA0B,EAAE,EAAE,CAAC,MAAM,CAAC,CAAC;QAChI,IAAI,OAAO,GAAG,EAAE,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;QACzC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QACjC,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC;QAEtB,IAAI,eAAe,GAAG,MAAM,CAAC,eAAe,CAAC,gBAAgB,CAAC,uBAAa,CAAC,eAAe,GAAG,yBAAyB,EAAE,EAAE,CAAC,MAAM,CAAC,CAAC;QACpI,IAAI,MAAM,GAAG,EAAE,CAAC,WAAW,CAAC,eAAe,CAAC,CAAC;QAC7C,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAChC,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC;QAErB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,mBAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,cAAc,EAAE,CAAC,EAAE,EAAE;YAC/D,IAAI,IAAI,GAAG,OAAO,CAAC,cAAc,CAAC,WAAS,CAAG,CAAC,CAAA;YAC/C,IAAI,SAAS,GAAI,MAAM,CAAC,cAAc,CAAC,UAAQ,CAAG,CAAC,CAAA;YACnD,IAAI,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,gBAAc,CAAG,CAAC,CAAC;YAChD,IAAI,MAAM,GAAG,IAAI,uBAAa,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;YACxC,MAAM,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;YAC/B,MAAM,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;YACjC,MAAM,CAAC,IAAI,EAAE,CAAC;YACd,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SACpC;IACL,CAAC;IAEO,uCAAmB,GAA3B;QACI,IAAI,MAAM,GAAG,MAAM,CAAC,eAAe,CAAC,gBAAgB,CAAC,uBAAa,CAAC,eAAe,GAAG,+BAA+B,EAAE,EAAE,CAAC,MAAM,CAAC,CAAC;QACjI,IAAI,IAAI,GAAG,EAAE,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;QAClC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;QACnC,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC/B,IAAI,CAAC,eAAe,GAAG,IAAI,4BAAkB,CAAC,IAAI,CAAC,CAAC;QACpD,IAAI,CAAC,eAAe,CAAC,MAAM,GAAG,KAAK,CAAC;QACpC,IAAI,CAAC,UAAU,CAAC,mBAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,eAAe,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;IACrF,CAAC;IAEO,qCAAiB,GAAzB;QACI,IAAI,MAAM,GAAG,MAAM,CAAC,eAAe,CAAC,gBAAgB,CAAC,uBAAa,CAAC,eAAe,GAAG,2BAA2B,EAAE,EAAE,CAAC,MAAM,CAAC,CAAC;QAC7H,IAAI,IAAI,GAAG,EAAE,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;QAClC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAC7B,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC/B,IAAI,CAAC,aAAa,GAAG,IAAI,0BAAgB,CAAC,IAAI,CAAC,CAAC;QAChD,IAAI,CAAC,aAAa,CAAC,MAAM,GAAG,IAAI,CAAC;QACjC,IAAI,CAAC,UAAU,CAAC,mBAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,aAAa,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;IACjF,CAAC;IAEO,kCAAc,GAAtB;QACI,IAAI,MAAM,GAAG,MAAM,CAAC,eAAe,CAAC,gBAAgB,CAAC,uBAAa,CAAC,eAAe,GAAG,0BAA0B,EAAE,EAAE,CAAC,MAAM,CAAC,CAAC;QAC5H,IAAI,IAAI,GAAY,EAAE,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;QAC3C,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;QACnC,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC/B,IAAI,CAAC,cAAc,GAAG,IAAI,uBAAa,CAAC,IAAI,CAAC,CAAC;QAC9C,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,KAAK,CAAC;QACnC,IAAI,CAAC,UAAU,CAAC,mBAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,UAAU,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;IAC/E,CAAC;IAEO,wCAAoB,GAA5B;QACI,IAAI,CAAC,gBAAgB,GAAG,IAAI,+BAAqB,CAAC,IAAI,CAAC,QAAQ,CAAC,gCAAgC,CAAC,CAAC,CAAC;QACnG,IAAI,CAAC,gBAAgB,CAAC,MAAM,GAAG,KAAK,CAAC;QACrC,IAAI,CAAC,UAAU,CAAC,mBAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,gBAAgB,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;IACvF,CAAC;IAEO,kCAAc,GAAtB;QACI,IAAI,CAAC,UAAU,GAAG,IAAI,uBAAa,CAAC,IAAI,CAAC,QAAQ,CAAC,sBAAsB,CAAC,CAAC,CAAC;QAC3E,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,KAAK,CAAC;QAC/B,IAAI,CAAC,UAAU,CAAC,mBAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,UAAU,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;IAC3E,CAAC;IAEO,iCAAa,GAArB;QACI,IAAI,CAAC,SAAS,GAAoB,MAAM,CAAC,QAAQ,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,EAAE,sBAAsB,EAAE,yBAAe,CAAC,CAAC;QACvH,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;QACtB,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QACpC,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,UAAC,QAAQ;YAClC,IAAI,QAAQ,IAAI,CAAC,IAAI,QAAQ,GAAG,CAAC,EAAE;gBAC/B,MAAM,CAAC,KAAK,CAAC,mBAAmB,CAAC,6BAAa,CAAC,eAAe,GAAG,6BAAa,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;aACjG;QACL,CAAC,EAAE,IAAI,CAAC,CAAC;IACb,CAAC;IAEO,iCAAa,GAArB;QACI,IAAI,CAAC,aAAa,GAAG,IAAI,sBAAY,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QACzD,mBAAS,CAAC,QAAQ,CAAC,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC;IACtD,CAAC;IAEO,oCAAgB,GAAxB;QACI,IAAI,CAAC,YAAY,GAAG,IAAI,iCAAe,CAAC,IAAI,CAAC,QAAQ,CAAC,yBAAyB,CAAC,CAAC,CAAC;QAClF,IAAI,CAAC,YAAY,CAAC,MAAM,GAAG,IAAI,CAAC;QAChC,IAAI,CAAC,UAAU,CAAC,mBAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,YAAY,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;IAC/E,CAAC;IAEO,4BAAQ,GAAhB;QACI,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,CAAC;QACpD,IAAI,CAAC,YAAY,CAAC,MAAM,GAAG,KAAK,CAAC;QACjC,IAAI,CAAC,YAAY,GAAgB,IAAI,CAAC,gBAAgB,CAAC,wBAAwB,EAAE,EAAE,CAAC,QAAQ,CAAC,CAAC;QAC9F,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACtC,IAAI,CAAC,WAAW,GAAgB,IAAI,CAAC,gBAAgB,CAAC,uBAAuB,EAAE,EAAE,CAAC,QAAQ,CAAC,CAAC;QAC5F,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACrC,IAAI,CAAC,UAAU,GAAgB,IAAI,CAAC,gBAAgB,CAAC,sBAAsB,EAAE,EAAE,CAAC,QAAQ,CAAC,CAAC;QAC1F,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACpC,IAAI,CAAC,YAAY,GAAgB,IAAI,CAAC,gBAAgB,CAAC,wBAAwB,EAAE,EAAE,CAAC,QAAQ,CAAC,CAAC;QAC9F,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACtC,IAAI,CAAC,cAAc,GAAgB,IAAI,CAAC,gBAAgB,CAAC,0BAA0B,EAAE,EAAE,CAAC,QAAQ,CAAC,CAAC;QAClG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACxC,IAAI,CAAC,cAAc,GAAgB,IAAI,CAAC,gBAAgB,CAAC,0BAA0B,EAAE,EAAE,CAAC,QAAQ,CAAC,CAAC;QAClG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACxC,mGAAmG;QACnG,0CAA0C;QAC1C,qGAAqG;QACrG,2CAA2C;IAC/C,CAAC;IAEO,mCAAe,GAAvB;QACI,IAAI,CAAC,WAAW,GAAG,IAAI,WAAW,EAAE,CAAC;QACrC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,IAAI,CAAC,EAAE,sBAAY,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;QAC5E,IAAI,CAAC,WAAW,CAAC,kBAAkB,EAAE,CAAC;IAC1C,CAAC;IAEM,gCAAY,GAAnB,UAAoB,MAAM;QACtB,IAAI,CAAC,YAAY,CAAC,cAAc,EAAE,CAAC;QACnC,IAAI,CAAC,YAAY,CAAC,MAAM,GAAG,MAAM,CAAC;QAClC,IAAI,MAAM,EAAE;YACR,IAAI,CAAC,YAAY,CAAC,OAAO,GAAG,CAAC,CAAC;YAC9B,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,EAAE,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC,CAAC;SACrD;IACL,CAAC;IAEM,mCAAe,GAAtB,UAAuB,IAAY;QAC/B,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,MAAM,CAAC,OAAO,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;IAC9D,CAAC;IAEM,mCAAe,GAAtB,UAAuB,IAAY;QAC/B,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC;IACvC,CAAC;IAEM,+BAAW,GAAlB,UAAmB,KAAa;QAC5B,MAAM,CAAC,eAAe,CAAC,uBAAuB,CAAC,IAAI,CAAC,OAAO,EAAE,uBAAa,CAAC,eAAe,GAAG,yBAAyB,EAAE,sBAAY,CAAC,cAAc,CAAC,KAAK,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;QACxK,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,EAAE;YAChC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;SACnC;IACL,CAAC;IAEM,8BAAU,GAAjB,UAAkB,KAAa;QAC3B,MAAM,CAAC,eAAe,CAAC,uBAAuB,CAAC,IAAI,CAAC,MAAM,EAAE,uBAAa,CAAC,eAAe,GAAG,yBAAyB,EAAE,sBAAY,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC;IAC3J,CAAC;IAEM,mCAAe,GAAtB,UAAuB,MAAe,EAAE,IAAgB,EAAE,QAAiB,EAAE,SAAkB;QAAvD,qBAAA,EAAA,QAAgB;QACpD,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;QACrC,IAAI,MAAM,EAAE;YACR,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;YAC/C,IAAI,GAAG,SAAS,CAAC;YACjB,IAAI,IAAI,IAAI,CAAC,EAAE;gBACX,GAAG,GAAG,IAAI,CAAC,aAAa,CAAC,sBAAsB,EAAE,CAAC;aACrD;iBACI;gBACD,GAAG,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,sBAAsB,EAAE,CAAC;aAC5D;YACD,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC;SACxC;IACL,CAAC;IAEM,kCAAc,GAArB;QAAA,iBAqDC;QApDG,IAAI,GAAG,GAAG,sBAAY,CAAC,UAAU,CAAC,mBAAS,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QACnE,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;QACnE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YAChD,IAAI,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;YAClC,IAAI,CAAC,IAAI,CAAC,EAAM,wBAAwB;gBACpC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC;;gBAEpB,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC;YACzB,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;YACxC,KAAK,CAAC,gBAAgB,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACrC,KAAK,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;YACvB,KAAK,CAAC,OAAO,GAAG,KAAK,CAAC;SACzB;QACD,IAAI,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,GAAG,CAAC,CAAC;QAC1C,IAAI,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,GAAG,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;QACnE,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,UAAC,MAAM,EAAE,KAAK;YACtC,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC;wCACf,CAAC;oBACN,IAAI,KAAK,GAAG,KAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;oBACtC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC;oBACpB,KAAK,EAAE,CAAC;oBACR,IAAI,KAAK,SAAS,CAAC;oBACnB,IAAI,KAAK,IAAI,CAAC,EAAE;wBACZ,KAAK,GAAG,KAAI,CAAC,YAAY,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;wBAC1D,KAAK,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;qBAC1B;yBACI;wBACD,KAAK,GAAG,KAAI,CAAC,YAAY,CAAC,oBAAoB,CAAC,MAAM,CAAC,UAAU,CAAC,mBAAmB,EAAE,CAAC,CAAC;wBACxF,KAAK,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;qBAC7B;oBACD,KAAK,CAAC,WAAW,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,EAAE,KAAK,EAAE,mBAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,iBAAiB,EAAE,mBAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,oBAAoB,GAAG,CAAC,EAAE;wBACpI,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC;wBACrB,KAAI,CAAC,aAAa,CAAC,GAAG,EAAE,CAAC;wBACzB,KAAI,CAAC,aAAa,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;wBACtC,IAAI,KAAK,IAAI,CAAC;4BACV,KAAI,CAAC,YAAY,CAAC,kBAAkB,CAAC,CAAC,EAAE,GAAG,CAAC,SAAS,CAAC,CAAC;;4BAEvD,MAAM,CAAC,UAAU,CAAC,gBAAgB,CAAC,IAAI,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;oBACxD,CAAC,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;;gBArBnB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,SAAS,EAAE,CAAC,EAAE;4BAA7B,CAAC;iBAsBT;YACL,CAAC,EAAE,KAAK,GAAG,mBAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,qBAAqB,CAAC,CAAC;QAChE,CAAC,CAAC,CAAC;QAEH,IAAI,SAAS,GAAG,mBAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,qBAAqB,GAAG,CAAC,CAAC;QACpE,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC;YACxB,KAAI,CAAC,gBAAgB,CAAC,MAAM,GAAG,IAAI,CAAC;YACpC,KAAI,CAAC,gBAAgB,CAAC,WAAW,CAAC,KAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAG,YAAY;YAClF,MAAM,CAAC,KAAK,CAAC,mBAAmB,CAAC,6BAAa,CAAC,eAAe,GAAG,6BAAa,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;YACrG,KAAI,CAAC,gBAAgB,CAAC,iBAAiB,CAAC,IAAI,EAAE,mBAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,mBAAmB,CAAC,CAAC;YAC7F,KAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,CAAK,WAAW;QAC/C,CAAC,EAAE,SAAS,CAAC,CAAC;QACd,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,iBAAiB,EAAE,gBAAgB,EAAE,SAAS,GAAG,mBAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,mBAAmB,CAAC,CAAC;IAC1H,CAAC;IAEM,mCAAe,GAAtB,UAAuB,SAAS;QAAhC,iBAoBC;QAnBG,SAAS,CAAC,OAAO,CAAC,UAAA,IAAI;YAClB,IAAI,SAAS,GAAG,mBAAS,CAAC,QAAQ,CAAC,SAAS,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YACzE,IAAI,MAAM,GAAG,KAAI,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;YAC5C,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;YACvB,IAAI,SAAS,IAAI,CAAC;gBACd,MAAM,CAAC,mBAAmB,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;iBACvC;gBACD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,EAAE,CAAC,EAAE,EAAE;oBAC5B,KAAI,CAAC,YAAY,CAAC,kBAAkB,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;iBAClD;aACJ;YACD,IAAI,KAAK,GAAG,CAAC,IAAI,KAAK,IAAI,mBAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,kBAAkB;gBAClE,KAAI,CAAC,UAAU,CAAC,SAAS,EAAE,cAAc,EAAE,IAAI,CAAC,CAAC;QACzD,CAAC,CAAC,CAAA;QACF,IAAI,CAAC,YAAY,CAAC,gBAAgB,EAAE,CAAC;QACrC,IAAI,CAAC,gBAAgB,CAAC,MAAM,GAAG,IAAI,CAAC;QACpC,IAAI,CAAC,gBAAgB,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;QACpE,IAAI,CAAC,gBAAgB,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;QAC/C,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;IAC/B,CAAC;IAEM,8BAAU,GAAjB,UAAkB,MAAe;QAC7B,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,MAAM,CAAC;QAC/B,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC;IAC/B,CAAC;IAED,sBAAW,mCAAY;aAAvB,UAAwB,IAAa;YACjC,IAAI,IAAI,CAAC,aAAa,IAAI,IAAI;gBAC1B,OAAO;YACX,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;YAC1B,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,IAAI,CAAC;YAC9B,kFAAkF;QACtF,CAAC;;;OAAA;IAEO,uCAAmB,GAA3B;QACI,MAAM,CAAC,KAAK,CAAC,mBAAmB,CAAC,6BAAa,CAAC,eAAe,GAAG,6BAAa,CAAC,WAAW,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;QAC9G,IAAI,CAAC,YAAY,GAAG,CAAC,IAAI,CAAC,aAAa,CAAC;IAC5C,CAAC;IAEM,mCAAe,GAAtB,UAAuB,QAAQ;QAC3B,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;QAC3C,IAAI,QAAQ,EAAE;YACV,IAAI,CAAC,YAAY,CAAC,kBAAkB,EAAE,CAAC;SAC1C;IACL,CAAC;IAEM,gCAAY,GAAnB,UAAoB,GAAQ;QAAR,oBAAA,EAAA,QAAQ;QACxB,IAAI,GAAQ,CAAC;QACb,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,aAAa,CAAC,GAAG,CAAC,EAAE;YAC3C,GAAG,GAAG,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;SAC/C;aACI;YACD,GAAG,GAAG,mBAAS,CAAC,QAAQ,CAAC,OAAO,CAAC,kBAAkB,EAAE,CAAC;YACtD,GAAG,GAAG,mBAAS,CAAC,QAAQ,CAAC,OAAO,CAAC,eAAe,EAAE,CAAC;SACtD;QACD,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,aAAa,CAAC,GAAG,CAAC,EAAE;YAC3C,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;YACpC,IAAI,CAAC,UAAU,CAAC,CAAC,EAAE,gBAAgB,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;SACzD;IACL,CAAC;IAEM,uCAAmB,GAA1B,UAA2B,SAAS,EAAE,IAAI;QACtC,IAAI,SAAS,GAAG,CAAC,CAAC;QAClB,IAAI,sBAAY,CAAC,YAAY,CAAC,IAAI,CAAC,EAAE;YACjC,IAAI,CAAC,aAAa,EAAE,CAAC;YACrB,SAAS,IAAI,mBAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,aAAa,CAAC;SACxD;aACI,IAAI,sBAAY,CAAC,aAAa,CAAC,IAAI,CAAC,EAAE;YACvC,IAAI,CAAC,cAAc,EAAE,CAAC;YACtB,SAAS,IAAI,mBAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,cAAc,CAAA;SACxD;aACI,IAAI,sBAAY,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE;YACrC,IAAI,CAAC,YAAY,EAAE,CAAC;YACpB,SAAS,IAAI,mBAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,YAAY,CAAC;SACvD;aACI,IAAI,sBAAY,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE;YACzC,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,CAAC;YACjC,SAAS,IAAI,mBAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,gBAAgB,CAAC;SAC3D;aACI,IAAI,sBAAY,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE;YACzC,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,CAAC;YACjC,SAAS,IAAI,mBAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,gBAAgB,CAAC;SAC3D;QACD,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,iBAAiB,EAAE,qBAAqB,EAAE,SAAS,CAAC,CAAC;IAC/E,CAAC;IAEM,kCAAc,GAArB,UAAsB,GAAQ;QAAR,oBAAA,EAAA,QAAQ;QAC1B,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,aAAa,CAAC,GAAG,CAAC,EAAE;YAC3C,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;SACzC;IACL,CAAC;IAEM,iCAAa,GAApB;QACI,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE,CAAC;IACpC,CAAC;IAEM,iCAAa,GAApB;QAAA,iBAUC;QATG,IAAI,QAAQ,GAAG,sBAAY,CAAC,aAAa,CAAC;QAC1C,MAAM,CAAC,KAAK,CAAC,mBAAmB,CAAC,6BAAa,CAAC,iBAAiB,GAAG,QAAQ,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;QACtF,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC;YACxB,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;YACpC,KAAI,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;QACpD,CAAC,EAAE,GAAG,CAAC,CAAC;QACR,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC;YACxB,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACzC,CAAC,EAAE,mBAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC;IAChD,CAAC;IAEM,gCAAY,GAAnB;QAAA,iBAeC;QAdG,IAAI,QAAQ,GAAG,sBAAY,CAAC,YAAY,CAAC;QACzC,MAAM,CAAC,KAAK,CAAC,mBAAmB,CAAC,6BAAa,CAAC,iBAAiB,GAAG,QAAQ,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;QAEtF,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC;YACxB,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;YACnC,KAAI,CAAC,UAAU,CAAC,YAAY,CAAC,CAAC,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;QACnD,CAAC,EAAE,GAAG,CAAC,CAAC;QACR,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC;YACxB,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACxC,CAAC,EAAE,mBAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;QAC3C,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC;YACxB,IAAI,MAAM,GAAG,MAAM,CAAC,QAAQ,CAAC,oBAAoB,CAAC,GAAG,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;YAC9D,KAAI,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QAChC,CAAC,EAAE,mBAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,YAAY,GAAG,GAAG,CAAC,CAAC;IACrD,CAAC;IAEM,kCAAc,GAArB;QAAA,iBAcC;QAbG,IAAI,QAAQ,GAAG,sBAAY,CAAC,cAAc,CAAC;QAC3C,MAAM,CAAC,KAAK,CAAC,mBAAmB,CAAC,6BAAa,CAAC,iBAAiB,GAAG,QAAQ,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;QACtF,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC;YACxB,KAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;YACrC,KAAI,CAAC,YAAY,CAAC,YAAY,CAAC,CAAC,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;QACrD,CAAC,EAAE,GAAG,CAAC,CAAC;QACR,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC;YACxB,KAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QAC1C,CAAC,EAAE,mBAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;QAC7C,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC;YACxB,IAAI,MAAM,GAAG,MAAM,CAAC,QAAQ,CAAC,oBAAoB,CAAC,GAAG,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;YAC9D,KAAI,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QAChC,CAAC,EAAE,mBAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,cAAc,GAAG,GAAG,CAAC,CAAC;IACvD,CAAC;IAEM,oCAAgB,GAAvB,UAAwB,SAAiB;QAAzC,iBAaC;QAZG,IAAI,QAAQ,GAAG,sBAAY,CAAC,gBAAgB,CAAC;QAC7C,MAAM,CAAC,KAAK,CAAC,mBAAmB,CAAC,6BAAa,CAAC,iBAAiB,GAAG,QAAQ,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;QAEtF,IAAI,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,UAAU,CAAC,uBAAuB,EAAE,CAAC;QAC9E,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,CAAC,oBAAoB,CAAC,QAAQ,CAAC,CAAC,CAAC;QACrG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QAC5D,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;QACvC,YAAY;QACZ,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;QACnD,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC;YACxB,KAAI,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QAC5C,CAAC,EAAE,mBAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC;IACnD,CAAC;IAEM,oCAAgB,GAAvB,UAAwB,SAAiB;QAAzC,iBAaC;QAZG,IAAI,QAAQ,GAAG,sBAAY,CAAC,gBAAgB,CAAC;QAC7C,MAAM,CAAC,KAAK,CAAC,mBAAmB,CAAC,6BAAa,CAAC,iBAAiB,GAAG,QAAQ,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;QAEtF,IAAI,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,UAAU,CAAC,uBAAuB,EAAE,CAAC;QAC9E,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,CAAC,oBAAoB,CAAC,QAAQ,CAAC,CAAC,CAAC;QACrG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QAC5D,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;QACvC,YAAY;QACZ,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;QACnD,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC;YACxB,KAAI,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QAC5C,CAAC,EAAE,mBAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC;IACnD,CAAC;IAEM,kCAAc,GAArB,UAAsB,MAAc;QAApC,iBAuBC;QAtBG,IAAI,MAAM,IAAI,CAAC,EAAE,EAAI,KAAK;YACtB,MAAM,CAAC,KAAK,CAAC,mBAAmB,CAAC,6BAAa,CAAC,eAAe,GAAG,6BAAa,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;YAClG,MAAM,CAAC,KAAK,CAAC,mBAAmB,CAAC,6BAAa,CAAC,eAAe,CAAC,6BAAa,CAAC,MAAM,EAAE,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;YAC/F,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC;gBACxB,KAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;gBACrC,KAAI,CAAC,YAAY,CAAC,YAAY,CAAC,CAAC,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;YACrD,CAAC,EAAE,GAAG,CAAC,CAAC;YACR,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC;gBACxB,KAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YAC1C,CAAC,EAAE,mBAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;SAChD;aACI,IAAI,MAAM,IAAI,CAAC,EAAE,EAAI,WAAW;YACjC,MAAM,CAAC,KAAK,CAAC,mBAAmB,CAAC,6BAAa,CAAC,eAAe,GAAG,6BAAa,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;YAClG,MAAM,CAAC,KAAK,CAAC,mBAAmB,CAAC,6BAAa,CAAC,eAAe,CAAC,6BAAa,CAAC,MAAM,EAAE,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;YAC/F,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC;gBACxB,KAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;gBACrC,KAAI,CAAC,YAAY,CAAC,YAAY,CAAC,CAAC,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;YACrD,CAAC,EAAE,GAAG,CAAC,CAAC;YACR,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC;gBACxB,KAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YAC1C,CAAC,EAAE,mBAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;SAChD;IACL,CAAC;IAEM,iCAAa,GAApB,UAAqB,KAAU,EAAE,OAAO;QAAxC,iBAwCC;QAxCoB,sBAAA,EAAA,UAAU;QAC3B,IAAI,SAAS,GAAG,CAAC,CAAC;QAClB,IAAI,MAAM,GAAG,mBAAS,CAAC,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,mBAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;QACtF,IAAI,SAAS,GAAG,OAAO,CAAC,QAAQ,IAAI,CAAC,CAAC;QACtC,IAAI,SAAS,GAAG,CAAC,SAAS,IAAI,MAAM,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,SAAS,IAAI,MAAM,IAAI,CAAC,CAAC,CAAC;QAC1E,IAAI,SAAS;YACT,MAAM,CAAC,KAAK,CAAC,mBAAmB,CAAC,6BAAa,CAAC,eAAe,GAAG,6BAAa,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;;YAE9F,MAAM,CAAC,KAAK,CAAC,mBAAmB,CAAC,6BAAa,CAAC,eAAe,GAAG,6BAAa,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;QAEnG,WAAW;QACX,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC;YACxB,KAAI,CAAC,oBAAoB,CAAC,SAAS,EAAE,SAAS,EAAE,MAAM,CAAC,CAAC;YACzD,2BAA2B;QAC9B,CAAC,EAAE,CAAC,CAAC,CAAC;QACN,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC;YACxB,0CAA0C;YAC1C,2CAA2C;YAC5C,4BAA4B;QAC/B,CAAC,EAAE,mBAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,eAAe,GAAG,GAAG,CAAC,CAAC;QAEpD,SAAS,IAAI,mBAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,eAAe,CAAC;QAEvD,KAAK;QACL,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC;YACxB,KAAK,CAAC,OAAO,CAAC,UAAA,IAAI;gBACd,IAAI,SAAS,GAAG,mBAAS,CAAC,QAAQ,CAAC,SAAS,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBACzE,KAAI,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,KAAK,IAAI,CAAC,CAAC,CAAC;YAC9E,CAAC,CAAC,CAAC;QACP,CAAC,EAAE,SAAS,CAAC,CAAC;QACd,SAAS,IAAI,mBAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,cAAc,CAAC;QAEtD,OAAO;QACP,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC;YACxB,KAAI,CAAC,cAAc,CAAC,MAAM,GAAG,IAAI,CAAC;YAClC,KAAI,CAAC,cAAc,CAAC,cAAc,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;QAC3D,CAAC,EAAE,SAAS,CAAC,CAAC;QACd,SAAS,IAAI,mBAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,cAAc,CAAC;QAEtD,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,iBAAiB,EAAE,kBAAkB,EAAE,SAAS,CAAC,CAAC;IAC5E,CAAC;IAEM,wCAAoB,GAA3B,UAA4B,SAAS,EAAE,SAAS,EAAE,MAAM;QACpD,mBAAmB;QACnB,yBAAyB;QACzB,uBAAuB;QACvB,qCAAqC;QACrC,WAAW;QACX,uCAAuC;QACvC,6CAA6C;QAC7C,2DAA2D;QAC3D,+CAA+C;QAC/C,IAAI;QACJ,SAAS;QACT,yBAAyB;QACzB,uBAAuB;QACvB,oCAAoC;QACpC,WAAW;QACX,sCAAsC;QACtC,8CAA8C;QAC9C,4DAA4D;QAC5D,8CAA8C;QAC9C,IAAI;QAEJ,IAAI,SAAS;YACT,MAAM,CAAC,KAAK,CAAC,mBAAmB,CAAC,6BAAa,CAAC,eAAe,GAAG,6BAAa,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;;YAE9F,MAAM,CAAC,KAAK,CAAC,mBAAmB,CAAC,6BAAa,CAAC,eAAe,GAAG,6BAAa,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;IACxG,CAAC;IAEM,4BAAQ,GAAf;QACI,cAAc;QACd,IAAI,CAAC,YAAY,EAAE,CAAC;QACpB,IAAI,CAAC,WAAW,EAAE,CAAC;IACvB,CAAC;IAEM,gCAAY,GAAnB;QACI,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACjD,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,YAAY,EAAE,CAAC;YACtC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;SACjC;IACL,CAAC;IAEM,qCAAiB,GAAxB;QACI,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACjD,IAAI,CAAC,IAAI,CAAC;gBACN,SAAS;YACb,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,YAAY,EAAE,CAAC;YACtC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;SACjC;IACL,CAAC;IAED,mEAAmE;IAC5D,+BAAW,GAAlB;QACI,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;QACxB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;QACvB,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;QAClD,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;QACxB,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QACpC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;QACpC,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC;IACvC,CAAC;IAEM,gCAAY,GAAnB;QACI,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;QACxB,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;QAC5B,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;QACvB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACtC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACrC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACpC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACtC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACxC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACxC,2CAA2C;QAC3C,0CAA0C;QAC1C,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;QAC5B,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;QACzB,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC;QACrC,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC;IACxC,CAAC;IAEM,8BAAU,GAAjB,UAAkB,GAAW,EAAE,IAAS;QACpC,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;IACvC,CAAC;IAEM,2BAAO,GAAd,UAAkB,GAAG;QACjB,OAAO,IAAI,CAAC,OAAO,CAAC,SAAS,CAAI,GAAG,CAAC,CAAC;IAC1C,CAAC;IAED,4FAA4F;IAC5F,cAAc;IACP,8BAAU,GAAjB,UAAkB,KAAa,EAAE,IAAY;QAAE,cAAO;aAAP,UAAO,EAAP,qBAAO,EAAP,IAAO;YAAP,6BAAO;;QAClD,IAAI,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;QACxC,IAAI,MAAM,IAAI,IAAI,EAAE;YAChB,MAAM,CAAC,KAAK,CAAC,cAAc,EAAE,KAAK,CAAC,CAAC;YACpC,oEAAoE;YACpE,OAAO;SACV;QACD,IAAI,MAAM,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,IAAI,CAAC,CAAC,KAAK,EAAE;YACpC,MAAM,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;SACpC;IACL,CAAC;IAEM,kCAAc,GAArB,UAAsB,IAAY;QAAE,cAAO;aAAP,UAAO,EAAP,qBAAO,EAAP,IAAO;YAAP,6BAAO;;QACvC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,mBAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,cAAc,EAAE,CAAC,EAAE,EAAE;YAC/D,IAAI,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;YAC/B,IAAI,MAAM,IAAI,IAAI;gBACd,OAAO;YACX,IAAI,MAAM,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,IAAI,CAAC,CAAC,KAAK,EAAE;gBACpC,MAAM,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;aACpC;SACJ;IACL,CAAC;IAEM,6BAAS,GAAhB,UAAiB,KAAa;QAC1B,OAAO,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;IACtC,CAAC;IA7qBgB,SAAS;QAD7B,OAAO;OACa,SAAS,CA8qB7B;IAAD,gBAAC;CA9qBD,AA8qBC,CA9qBsC,0BAAgB,GA8qBtD;kBA9qBoB,SAAS","file":"","sourceRoot":"/","sourcesContent":["import DdzPlayerView from \"../subView/DdzPlayerView\";\r\nimport DdzBaseComponent from \"../component/DdzBaseComponent\";\r\nimport DdzMenuView from \"../subView/DdzMenuView\";\r\nimport DdzPathHelper, { DdzAudioConst } from \"../data/DdzPathHelper\";\r\nimport DdzMatchPlayerView from \"../subView/DdzMatchPlayerView\";\r\nimport DdzAskActionView from \"../subView/DdzAskActionView\";\r\nimport DdzSettleView from \"../subView/DdzSettleView\";\r\nimport DdzPokerPool from \"../tool/DdzPokerPool\";\r\nimport DdzLeftThreePokerView from \"../subView/DdzLeftThreePokerView\";\r\nimport DdzPokerView from \"../subView/DdzPokerView\";\r\nimport DdzMarkerView from \"../subView/DdzMarkerView\";\r\nimport DdzSelfInfoView from \"../subView/DdzSelfInfoView\";\r\nimport DdzAskClockView from \"../component/DdzAskClockView\";\r\nimport { DdzSelfPlayView } from \"../subView/DdzSelfPlayView\";\r\nimport DdzGameEvent from \"../data/DdzGameEvent\";\r\nimport DdzRuleConst from \"../data/DdzRuleConst\";\r\nimport DdzGameConst from \"../data/DdzGameConst\";\r\nimport DdzDriver from \"../DdzDriver\";\r\nimport DdzContext from \"../data/DdzContext\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n@ccclass\r\nexport default class DdzMainUI extends DdzBaseComponent {\r\n    public viewSet: ViewSet;\r\n    private playerViewList: DdzPlayerView[] = [];\r\n    private animLayerNode: cc.Node;\r\n    private dealRootNode: cc.Node;\r\n    private dzRootNode: cc.Node;\r\n    private baseLbl: cc.Label;\r\n    private multLbl: cc.Label;\r\n    // subView\r\n    public selfInfoView: DdzSelfInfoView;\r\n    public matchPlayerView: DdzMatchPlayerView;\r\n    public askActionView: DdzAskActionView;\r\n    public gameSettleView: DdzSettleView;\r\n    public dzLeftPokersView: DdzLeftThreePokerView;\r\n    public markerView: DdzMarkerView;\r\n    public clockComp: DdzAskClockView;\r\n    public selfPlayView: DdzSelfPlayView;\r\n\r\n    private showPokerPool: DdzPokerPool;\r\n    private showPokerList: DdzPokerView[] = [];\r\n    private _isShowMarker = false;\r\n    private markerBtn: cc.Node;\r\n    private modeSp: cc.Sprite;\r\n    private levelSp: cc.Sprite;\r\n\r\n\r\n    private playNode: cc.Node;\r\n    private pokerNode: cc.Node;\r\n    private actNode: cc.Node;\r\n    private animMaskNode: cc.Node;\r\n    private springEffect: sp.Skeleton;\r\n    private planeEffect: sp.Skeleton;\r\n    private bombEffect: sp.Skeleton;\r\n    private rocketEffect: sp.Skeleton;\r\n    private linkPairEffect: sp.Skeleton;\r\n    private straightEffect: sp.Skeleton;\r\n    // private roleWinEffect: sp.Skeleton;\r\n    // private roleLoseEffect: sp.Skeleton;\r\n    \r\n    public taskManager: TaskManager;\r\n\r\n    protected onLoad() {\r\n        this.viewSet = new ViewSet();\r\n        this.initView();\r\n    }\r\n\r\n    protected onEnable() {\r\n        this.selfInfoView.updateSelfInfo();\r\n        Game.Event.on(DdzGameEvent.OnSelfPromptPokers, this, this.doPromptPokers);\r\n        Global.Event.on(GlobalEvent.TYPE_VIP_ENTER_GAME, this, this.vipEnterGame);\r\n    }\r\n\r\n    protected onDisable() {\r\n        Game.Event.off(DdzGameEvent.OnSelfPromptPokers, this, this.doPromptPokers);\r\n        Global.Event.off(GlobalEvent.TYPE_VIP_ENTER_GAME, this, this.vipEnterGame);\r\n    }\r\n\r\n    protected onDestroy() {\r\n        Game.Event.off(DdzGameEvent.OnSelfPromptPokers, this, this.doPromptPokers);\r\n        Global.Event.off(GlobalEvent.TYPE_VIP_ENTER_GAME, this, this.vipEnterGame);\r\n        this.taskManager.onDispose();\r\n    }\r\n\r\n    private vipEnterGame(msg) {\r\n        if (msg.data._gid == DdzGameConst.Gid && msg.data._glv === Game.Control.curLv){\r\n            Global.Event.event(GlobalEvent.VIPADMISSION, msg.data);\r\n        }\r\n    }\r\n\r\n    private initView() {\r\n        this.node.width = cc.Canvas.instance.node.width;\r\n        this.node.height = cc.Canvas.instance.node.height;\r\n        this.animLayerNode = this.getChild('animLayer');\r\n        this.dealRootNode = this.getChild('topNode/dealRoot');\r\n        this.dzRootNode = this.getChild('centerNode/dzRoot');\r\n        this.playNode = this.getChild('centerNode/player');\r\n        this.pokerNode = this.getChild('centerNode/poker');\r\n        this.actNode = this.getChild('centerNode/actRoot');\r\n        this.baseLbl = <cc.Label>this.getNodeComponent('topNode/showTable/baseNode/coinLbl', cc.Label);\r\n        this.multLbl = <cc.Label>this.getNodeComponent('topNode/showTable/multNode/multLbl', cc.Label);\r\n        this.modeSp = <cc.Sprite>this.getNodeComponent('bottomNode/modeSp', cc.Sprite);\r\n        this.levelSp = <cc.Sprite>this.getNodeComponent('bottomNode/levelSp', cc.Sprite);\r\n        this.initPokerPool();\r\n\r\n        this.selfInfoView = new DdzSelfInfoView(this.getChild('bottomNode/selfInfo'));\r\n        this.selfInfoView.updateSelfInfo();\r\n        this.initPlayerList();\r\n        this.initMatchPlayerView();\r\n        this.initAskActionView();\r\n        this.initSettleView();\r\n        this.initDzLeftPokersView();\r\n        this.initMarkerView();\r\n        this.initClockComp();\r\n        this.initSelfPlayView();\r\n        this.initAnim();\r\n\r\n        this.initTaskManager();\r\n\r\n        let paoMaDengBox = cc.find('topNode/paoMaDengBox', this.node);\r\n        let pmdMsgBox = cc.find('topNode/paoMaDengBox/MsgBox', this.node);\r\n        Global.UIHelper.addPaoMaDengComp(pmdMsgBox, false, paoMaDengBox);\r\n        Global.UIHelper.addWifiComp(this.getChild('topNode/wifiNode'), 2)\r\n        this.markerBtn = this.getChild('floatNode/markerBtn');\r\n        DdzGameConst.addCommonClick(this.markerBtn, \"\", this.showMarkerViewClick, this);\r\n        this.markerBtn.active = false;\r\n\r\n        Global.UIHelper.addAdmissionComp(cc.find(\"topNode/admissionBox\", this.node));\r\n\r\n        let menuNode = this.getChild(\"menuNode\");\r\n        Global.Toolkit.adjustIphoneX([menuNode]);\r\n        let menuView = new DdzMenuView(menuNode);\r\n        menuView.active = true;\r\n        this.registView(DdzDriver.instance.Define.ViewMenuContainer, menuView);\r\n        Global.UIHelper.addWifiComp(cc.find('wifiNode',this.node), 2)\r\n\r\n        DdzGameConst.addCommonClick(this.node, \"testBtn\", ()=>{\r\n            Game.Event.event(Game.EVENT_CALL_RECONNECT);\r\n        }, this);\r\n    }\r\n\r\n    private initPlayerList() {\r\n        let palyprefab = Global.ResourceManager.getGameBundleRes(DdzPathHelper.gamePrefabsPath + \"panel/subView/playerView\", cc.Prefab);\r\n        let players = cc.instantiate(palyprefab);\r\n        players.setParent(this.playNode);\r\n        players.active = true;\r\n\r\n        let pokerNodeprefab = Global.ResourceManager.getGameBundleRes(DdzPathHelper.gamePrefabsPath + \"panel/subView/pokerView\", cc.Prefab);\r\n        let pokers = cc.instantiate(pokerNodeprefab);\r\n        pokers.setParent(this.playNode);\r\n        pokers.active = true;\r\n\r\n        for (let i = 0; i < DdzDriver.instance.Define.MaxPlayerCount; i++) {\r\n            let node = players.getChildByName(`player${i}`)\r\n            let groupNode =  pokers.getChildByName(`group${i}`)\r\n            let roleNode = this.getChild(`bgNode/role${i}`);\r\n            let player = new DdzPlayerView(node, i);\r\n            player.setPlayerRole(roleNode);\r\n            player.initPokerGroup(groupNode);\r\n            player.hide();\r\n            this.playerViewList.push(player);\r\n        }\r\n    }\r\n\r\n    private initMatchPlayerView() {\r\n        let prefab = Global.ResourceManager.getGameBundleRes(DdzPathHelper.gamePrefabsPath + \"panel/subView/matchPlayerView\", cc.Prefab);\r\n        let node = cc.instantiate(prefab);\r\n        node.setParent(this.animLayerNode);\r\n        node.setPosition(cc.Vec2.ZERO);\r\n        this.matchPlayerView = new DdzMatchPlayerView(node);\r\n        this.matchPlayerView.active = false;\r\n        this.registView(DdzDriver.instance.Define.ViewMatchPlayer, this.matchPlayerView);\r\n    }\r\n\r\n    private initAskActionView() {\r\n        let prefab = Global.ResourceManager.getGameBundleRes(DdzPathHelper.gamePrefabsPath + \"panel/subView/actRootView\", cc.Prefab);\r\n        let node = cc.instantiate(prefab);\r\n        node.setParent(this.actNode);\r\n        node.setPosition(cc.Vec2.ZERO);\r\n        this.askActionView = new DdzAskActionView(node);\r\n        this.askActionView.active = true;\r\n        this.registView(DdzDriver.instance.Define.ViewAskAction, this.askActionView);\r\n    }\r\n\r\n    private initSettleView() {\r\n        let prefab = Global.ResourceManager.getGameBundleRes(DdzPathHelper.gamePrefabsPath + \"panel/subView/settleView\", cc.Prefab);\r\n        let node: cc.Node = cc.instantiate(prefab);\r\n        node.setParent(this.animLayerNode);\r\n        node.setPosition(cc.Vec2.ZERO);\r\n        this.gameSettleView = new DdzSettleView(node);\r\n        this.gameSettleView.active = false;\r\n        this.registView(DdzDriver.instance.Define.ViewSettle, this.gameSettleView);\r\n    }\r\n\r\n    private initDzLeftPokersView() {\r\n        this.dzLeftPokersView = new DdzLeftThreePokerView(this.getChild('topNode/showTable/dzPokersNode'));\r\n        this.dzLeftPokersView.active = false;\r\n        this.registView(DdzDriver.instance.Define.ViewDZLeftPokers, this.dzLeftPokersView);\r\n    }\r\n\r\n    private initMarkerView() {\r\n        this.markerView = new DdzMarkerView(this.getChild('floatNode/markerNode'));\r\n        this.markerView.active = false;\r\n        this.registView(DdzDriver.instance.Define.ViewMarker, this.markerView);\r\n    }\r\n\r\n    private initClockComp() {\r\n        this.clockComp = <DdzAskClockView>Global.UIHelper.safeGetComponent(this.node, 'centerNode/clockView', DdzAskClockView);\r\n        this.clockComp.init();\r\n        this.clockComp.setViewActive(false);\r\n        this.clockComp.setSecondCall((leftTime) => {\r\n            if (leftTime <= 5 && leftTime > 0) {\r\n                Global.Audio.playGameBundleSound(DdzAudioConst.audioCommonPath + DdzAudioConst.HurryUp, true);\r\n            }\r\n        }, this);\r\n    }\r\n\r\n    private initPokerPool() {\r\n        this.showPokerPool = new DdzPokerPool(this.dealRootNode);\r\n        DdzDriver.instance.PokerPool = this.showPokerPool;\r\n    }\r\n\r\n    private initSelfPlayView() {\r\n        this.selfPlayView = new DdzSelfPlayView(this.getChild('centerNode/selfPlayView'));\r\n        this.selfPlayView.active = true;\r\n        this.registView(DdzDriver.instance.Define.ViewSelfPlay, this.selfPlayView);\r\n    }\r\n\r\n    private initAnim() {\r\n        this.animMaskNode = this.getChild('animLayer/mask');\r\n        this.animMaskNode.active = false;\r\n        this.springEffect = <sp.Skeleton>this.getNodeComponent('animLayer/springEffect', sp.Skeleton);\r\n        this.springEffect.node.active = false;\r\n        this.planeEffect = <sp.Skeleton>this.getNodeComponent('animLayer/planeEffect', sp.Skeleton);\r\n        this.planeEffect.node.active = false;\r\n        this.bombEffect = <sp.Skeleton>this.getNodeComponent('animLayer/bombEffect', sp.Skeleton);\r\n        this.bombEffect.node.active = false;\r\n        this.rocketEffect = <sp.Skeleton>this.getNodeComponent('animLayer/rocketEffect', sp.Skeleton);\r\n        this.rocketEffect.node.active = false;\r\n        this.linkPairEffect = <sp.Skeleton>this.getNodeComponent('animLayer/linkPairEffect', sp.Skeleton);\r\n        this.linkPairEffect.node.active = false;\r\n        this.straightEffect = <sp.Skeleton>this.getNodeComponent('animLayer/straightEffect', sp.Skeleton);\r\n        this.straightEffect.node.active = false;\r\n        // this.roleWinEffect = <sp.Skeleton>this.getNodeComponent('animLayer/roleWinEffect', sp.Skeleton);\r\n        // this.roleWinEffect.node.active = false;\r\n        // this.roleLoseEffect = <sp.Skeleton>this.getNodeComponent('animLayer/roleLoseEffect', sp.Skeleton);\r\n        // this.roleLoseEffect.node.active = false;\r\n    }\r\n    \r\n    private initTaskManager(){\r\n        this.taskManager = new TaskManager();\r\n        this.taskManager.init(cc.find('taskRoot', this.node), DdzGameConst.Gid, -1);\r\n        this.taskManager.reqGetGameTaskList();\r\n    }\r\n\r\n    public showAnimMask(isShow) {\r\n        this.animMaskNode.stopAllActions();\r\n        this.animMaskNode.active = isShow;\r\n        if (isShow) {\r\n            this.animMaskNode.opacity = 1;\r\n            this.animMaskNode.runAction(cc.fadeTo(0.25, 100));\r\n        }\r\n    }\r\n\r\n    public updateLevelBase(base: number) {\r\n        this.baseLbl.string = Global.Toolkit.formatPointStr(base);\r\n    }\r\n\r\n    public updateRoundMult(mult: number) {\r\n        this.multLbl.string = String(mult);\r\n    }\r\n\r\n    public updateLevel(level: string){\r\n        Global.ResourceManager.loadGameBundleAutoAtlas(this.levelSp, DdzPathHelper.gameTexturePath + \"atlas/frame/atlas_frame\", DdzGameConst.DeskLevelSfCfg[level], null, true);\r\n        if (level == \"l4\" || level == \"l5\") {\r\n            this.modeSp.node.active = false;\r\n        }\r\n    }\r\n\r\n    public updateMode(nMode: number){\r\n        Global.ResourceManager.loadGameBundleAutoAtlas(this.modeSp, DdzPathHelper.gameTexturePath + \"atlas/frame/atlas_frame\", DdzGameConst.ModeStrCfg[nMode]);\r\n    }\r\n\r\n    public showActionTimer(isShow: boolean, seat: number = 0, leftTime?: number, totalTime?: number) {\r\n        this.clockComp.setViewActive(isShow);\r\n        if (isShow) {\r\n            this.clockComp.startTimer(leftTime, totalTime);\r\n            let pos: cc.Vec3;\r\n            if (seat == 0) {\r\n                pos = this.askActionView.getActionClockWorldPos();\r\n            }\r\n            else {\r\n                pos = this.playerViewList[seat].getPlayerClockWorldPos();\r\n            }\r\n            this.clockComp.setClockPosition(pos);\r\n        }\r\n    }\r\n\r\n    public dealPokersAnim() {\r\n        let cfg = DdzRuleConst.ModeConfig[DdzDriver.instance.Context.mode];\r\n        this.showPokerList = this.showPokerPool.getItemArr(cfg.totalCount);\r\n        for (let i = 0; i < this.showPokerList.length; i++) {\r\n            let poker = this.showPokerList[i];\r\n            if (i <= 2)     // 处理牌显示太多导致周围阴影叠加成黑边的问题\r\n                poker.active = true;\r\n            else\r\n                poker.active = false;\r\n            poker.node.setParent(this.dealRootNode);\r\n            poker.setPokerPosition(cc.Vec3.ZERO);\r\n            poker.setPokerStyle(0);\r\n            poker.isFront = false;\r\n        }\r\n        let count = this.showPokerList.length - 1;\r\n        let posArr = this.selfPlayView.getIndexPosArr(cfg.baseCount, true);\r\n        this.playerViewList.forEach((player, index) => {\r\n            Game.Component.scheduleOnce(() => {\r\n                for (let i = 0; i < cfg.baseCount; i++) {\r\n                    let poker = this.showPokerList[count];\r\n                    poker.active = true;\r\n                    count--;\r\n                    let toPos: cc.Vec3;\r\n                    if (index == 0) {\r\n                        toPos = this.dealRootNode.convertToNodeSpaceAR(posArr[i]);\r\n                        poker.setPokerScale(1);\r\n                    }\r\n                    else {\r\n                        toPos = this.dealRootNode.convertToNodeSpaceAR(player.pokerGroup.getPokerDealAnimPos());\r\n                        poker.setPokerScale(0.34);\r\n                    }\r\n                    poker.doPokerMove(cc.Vec3.ZERO, toPos, DdzDriver.instance.Define.DealPokerMoveTime, DdzDriver.instance.Define.PerPokerDealInterval * i, () => {\r\n                        poker.active = false;\r\n                        this.showPokerList.pop();\r\n                        this.showPokerPool.recycleItem(poker);\r\n                        if (index == 0)\r\n                            this.selfPlayView.showDealPokerIndex(i, cfg.baseCount);\r\n                        else\r\n                            player.pokerGroup.setRestCountShow(true, i + 1);\r\n                    }, i % 2 == 0);\r\n                }\r\n            }, index * DdzDriver.instance.Define.PerPlayerDealInterval);\r\n        });\r\n\r\n        let totalTime = DdzDriver.instance.Define.PerPlayerDealInterval * 3;\r\n        Game.Component.scheduleOnce(() => {\r\n            this.dzLeftPokersView.active = true;\r\n            this.dzLeftPokersView.addDZPokers(this.showPokerList.splice(0, 3));   // round结束回收\r\n            Global.Audio.playGameBundleSound(DdzAudioConst.audioCommonPath + DdzAudioConst.LandlordPokers, true);\r\n            this.dzLeftPokersView.playShowAnimation(true, DdzDriver.instance.Define.DzLeftThreeShowTime);\r\n            this.setChooseEnbale(true);     // 发完牌就可以选牌\r\n        }, totalTime);\r\n        Game.Event.event(Game.EVENT_ADDTIMELOCK, \"dealPokersAnim\", totalTime + DdzDriver.instance.Define.DzLeftThreeShowTime);\r\n    }\r\n\r\n    public dealPokerDirect(userCards) {\r\n        userCards.forEach(user => {\r\n            let localSeat = DdzDriver.instance.SitHelper.serverSToLocalN(user.chair);\r\n            let player = this.playerViewList[localSeat];\r\n            let count = user.count;\r\n            if (localSeat != 0)\r\n                player.setPlayerLeftPokers(true, count);\r\n            else {\r\n                for (let i = 0; i < count; i++) {\r\n                    this.selfPlayView.showDealPokerIndex(i, count);\r\n                }\r\n            }\r\n            if (count > 0 && count <= DdzDriver.instance.Define.WarnLeftPokerCount)\r\n                this.callPlayer(localSeat, 'showWarnSign', true);\r\n        })\r\n        this.selfPlayView.layoutHandPokers();\r\n        this.dzLeftPokersView.active = true;\r\n        this.dzLeftPokersView.addDZPokers(this.showPokerPool.getItemArr(3));\r\n        this.dzLeftPokersView.playShowAnimation(false);\r\n        this.setChooseEnbale(true);\r\n    }\r\n\r\n    public showMarker(isShow: boolean) {\r\n        this.markerBtn.active = isShow;\r\n        this.isShowMarker = isShow;\r\n    }\r\n\r\n    public set isShowMarker(flag: boolean) {\r\n        if (this._isShowMarker == flag)\r\n            return;\r\n        this._isShowMarker = flag;\r\n        this.markerView.active = flag;\r\n        // this.dzLeftPokersView.active = !flag;        // 2020-03-23 18:35:10 注释掉 地主牌改成常驻\r\n    }\r\n\r\n    private showMarkerViewClick() {\r\n        Global.Audio.playGameBundleSound(DdzAudioConst.audioCommonPath + DdzAudioConst.commonAudio.ButtonClick, true);\r\n        this.isShowMarker = !this._isShowMarker;\r\n    }\r\n\r\n    public setChooseEnbale(isEnable) {\r\n        this.selfPlayView.readyForChoose(isEnable);\r\n        if (isEnable) {\r\n            this.selfPlayView.initChooseFunction();\r\n        }\r\n    }\r\n\r\n    public doPlayPokers(arr = []) {\r\n        let map: any;\r\n        if (arr && !Global.Toolkit.isEmptyObject(arr)) {\r\n            map = this.selfPlayView.getPokerArrMap(arr);\r\n        }\r\n        else {\r\n            map = DdzDriver.instance.Context.getSelectPokersMap();\r\n            arr = DdzDriver.instance.Context.getSelectPokers();\r\n        }\r\n        if (map && !Global.Toolkit.isEmptyObject(map)) {\r\n            this.selfPlayView.onPlayPokers(map);\r\n            this.callPlayer(0, 'showPlayPokers', true, arr, true);\r\n        }\r\n    }\r\n\r\n    public showPokerTypeEffect(localSeat, type) {\r\n        let totalTime = 0;\r\n        if (DdzRuleConst.checkIsPlane(type)) {\r\n            this.playPlaneAnim();\r\n            totalTime += DdzDriver.instance.Define.PlaneAnimTime;\r\n        }\r\n        else if (DdzRuleConst.checkIsRocket(type)) {\r\n            this.playRocketAnim();\r\n            totalTime += DdzDriver.instance.Define.RocketAnimTime\r\n        }\r\n        else if (DdzRuleConst.checkIsBomb(type)) {\r\n            this.playBombAnim();\r\n            totalTime += DdzDriver.instance.Define.BombAnimTime;\r\n        }\r\n        else if (DdzRuleConst.checkIsLinkPair(type)) {\r\n            this.playLinkPairAnim(localSeat);\r\n            totalTime += DdzDriver.instance.Define.LinkPairAnimTime;\r\n        }\r\n        else if (DdzRuleConst.checkIsStraight(type)) {\r\n            this.playStraightAnim(localSeat);\r\n            totalTime += DdzDriver.instance.Define.StraightAnimTime;\r\n        }\r\n        Game.Event.event(Game.EVENT_ADDTIMELOCK, 'showPokerTypeEffect', totalTime);\r\n    }\r\n\r\n    public doPromptPokers(map = {}) {\r\n        if (map && !Global.Toolkit.isEmptyObject(map)) {\r\n            this.selfPlayView.onPromptPokers(map);\r\n        }\r\n    }\r\n\r\n    public doResetPokers() {\r\n        this.selfPlayView.resetPokers();\r\n    }\r\n\r\n    public playPlaneAnim() {\r\n        let soundArr = DdzRuleConst.PlaneSoundArr;\r\n        Global.Audio.playGameBundleSound(DdzAudioConst.audioCardTypePath + soundArr[0], true);\r\n        Game.Component.scheduleOnce(() => {\r\n            this.planeEffect.node.active = true;\r\n            this.planeEffect.setAnimation(0, 'idle', false);\r\n        }, 0.2);\r\n        Game.Component.scheduleOnce(() => {\r\n            this.planeEffect.node.active = false;\r\n        }, DdzDriver.instance.Define.PlaneAnimTime);\r\n    }\r\n\r\n    public playBombAnim() {\r\n        let soundArr = DdzRuleConst.BombSoundArr;\r\n        Global.Audio.playGameBundleSound(DdzAudioConst.audioCardTypePath + soundArr[0], true);\r\n\r\n        Game.Component.scheduleOnce(() => {\r\n            this.bombEffect.node.active = true;\r\n            this.bombEffect.setAnimation(0, 'idle', false);\r\n        }, 0.1);\r\n        Game.Component.scheduleOnce(() => {\r\n            this.bombEffect.node.active = false;\r\n        }, DdzDriver.instance.Define.BombAnimTime);\r\n        Game.Component.scheduleOnce(() => {\r\n            let action = Global.UIHelper.getScreenShakeAction(0.5, 15, 5);\r\n            this.node.runAction(action);\r\n        }, DdzDriver.instance.Define.BombAnimTime - 0.5);\r\n    }\r\n\r\n    public playRocketAnim() {\r\n        let soundArr = DdzRuleConst.RocketSoundArr;\r\n        Global.Audio.playGameBundleSound(DdzAudioConst.audioCardTypePath + soundArr[0], true);\r\n        Game.Component.scheduleOnce(() => {\r\n            this.rocketEffect.node.active = true;\r\n            this.rocketEffect.setAnimation(0, 'idle', false);\r\n        }, 0.2);\r\n        Game.Component.scheduleOnce(() => {\r\n            this.rocketEffect.node.active = false;\r\n        }, DdzDriver.instance.Define.RocketAnimTime);\r\n        Game.Component.scheduleOnce(() => {\r\n            let action = Global.UIHelper.getScreenShakeAction(0.8, 15, 5);\r\n            this.node.runAction(action);\r\n        }, DdzDriver.instance.Define.RocketAnimTime - 0.8);\r\n    }\r\n\r\n    public playLinkPairAnim(localSeat: number) {\r\n        let soundArr = DdzRuleConst.LinkPairSoundArr;\r\n        Global.Audio.playGameBundleSound(DdzAudioConst.audioCardTypePath + soundArr[0], true);\r\n\r\n        let worldPos = this.getPlayer(localSeat).pokerGroup.getPokerShowDesWorldPos();\r\n        this.linkPairEffect.node.setPosition(this.linkPairEffect.node.parent.convertToNodeSpaceAR(worldPos));\r\n        this.linkPairEffect.node.setScale(localSeat == 0 ? 1 : 0.8);\r\n        this.linkPairEffect.node.active = true;\r\n        //TODO 动效节点名\r\n        this.linkPairEffect.setAnimation(0, 'idle', false);\r\n        Game.Component.scheduleOnce(() => {\r\n            this.linkPairEffect.node.active = false;\r\n        }, DdzDriver.instance.Define.LinkPairAnimTime);\r\n    }\r\n\r\n    public playStraightAnim(localSeat: number) {\r\n        let soundArr = DdzRuleConst.StraightSoundArr;\r\n        Global.Audio.playGameBundleSound(DdzAudioConst.audioCardTypePath + soundArr[0], true);\r\n\r\n        let worldPos = this.getPlayer(localSeat).pokerGroup.getPokerShowDesWorldPos();\r\n        this.straightEffect.node.setPosition(this.straightEffect.node.parent.convertToNodeSpaceAR(worldPos));\r\n        this.straightEffect.node.setScale(localSeat == 0 ? 1 : 0.8);\r\n        this.straightEffect.node.active = true;\r\n        //TODO 动效节点名\r\n        this.straightEffect.setAnimation(0, 'idle', false);\r\n        Game.Component.scheduleOnce(() => {\r\n            this.straightEffect.node.active = false;\r\n        }, DdzDriver.instance.Define.StraightAnimTime);\r\n    }\r\n\r\n    public playSpringAnim(nState: number) {\r\n        if (nState == 1) {   // 春天\r\n            Global.Audio.playGameBundleSound(DdzAudioConst.audioCommonPath + DdzAudioConst.SpringAudio, true);\r\n            Global.Audio.playGameBundleSound(DdzAudioConst.genderSoundPath(DdzAudioConst.Spring, 0), true);\r\n            Game.Component.scheduleOnce(() => {\r\n                this.springEffect.node.active = true;\r\n                this.springEffect.setAnimation(0, 'idle', false);\r\n            }, 0.2);\r\n            Game.Component.scheduleOnce(() => {\r\n                this.springEffect.node.active = false;\r\n            }, DdzDriver.instance.Define.SpringAnimTime);\r\n        }\r\n        else if (nState == 2) {   // 反春天   暂缺\r\n            Global.Audio.playGameBundleSound(DdzAudioConst.audioCommonPath + DdzAudioConst.SpringAudio, true);\r\n            Global.Audio.playGameBundleSound(DdzAudioConst.genderSoundPath(DdzAudioConst.Spring, 0), true);\r\n            Game.Component.scheduleOnce(() => {\r\n                this.springEffect.node.active = true;\r\n                this.springEffect.setAnimation(0, 'idle', false);\r\n            }, 0.2);\r\n            Game.Component.scheduleOnce(() => {\r\n                this.springEffect.node.active = false;\r\n            }, DdzDriver.instance.Define.SpringAnimTime);\r\n        }\r\n    }\r\n\r\n    public playAwardAnim(award = [], details) {\r\n        let totalTime = 0;\r\n        let dzSeat = DdzDriver.instance.Context.get(DdzDriver.instance.Define.FieldDzLocSeat);\r\n        let isLandWin = details.land_win == 1;\r\n        let isSelfWin = (isLandWin && dzSeat == 0) || (!isLandWin && dzSeat != 0);\r\n        if (isSelfWin)\r\n            Global.Audio.playGameBundleSound(DdzAudioConst.audioCommonPath + DdzAudioConst.WinGame, true);\r\n        else\r\n            Global.Audio.playGameBundleSound(DdzAudioConst.audioCommonPath + DdzAudioConst.LoseGame, true);\r\n\r\n        // 播放角色胜利失败\r\n        Game.Component.scheduleOnce(() => {\r\n            this.playRoleResultEffect(isSelfWin, isLandWin, dzSeat);\r\n           // this.showAnimMask(true);\r\n        }, 0);\r\n        Game.Component.scheduleOnce(() => {\r\n            // this.roleWinEffect.node.active = false;\r\n            // this.roleLoseEffect.node.active = false;\r\n           // this.showAnimMask(false);\r\n        }, DdzDriver.instance.Define.PlayRoleWinTime + 0.1);\r\n\r\n        totalTime += DdzDriver.instance.Define.PlayRoleWinTime;\r\n\r\n        // 飘分\r\n        Game.Component.scheduleOnce(() => {\r\n            award.forEach(user => {\r\n                let localSeat = DdzDriver.instance.SitHelper.serverSToLocalN(user.chair);\r\n                this.playerViewList[localSeat].showRewardLbl(user.award, user.award >= 0);\r\n            });\r\n        }, totalTime);\r\n        totalTime += DdzDriver.instance.Define.FloatScoreTime;\r\n\r\n        // 结算页面\r\n        Game.Component.scheduleOnce(() => {\r\n            this.gameSettleView.active = true;\r\n            this.gameSettleView.playSettleAnim(isSelfWin, details);\r\n        }, totalTime);\r\n        totalTime += DdzDriver.instance.Define.ShowSettleTime;\r\n\r\n        Game.Event.event(Game.EVENT_ADDTIMELOCK, \"ddzplayAwardAnim\", totalTime);\r\n    }\r\n\r\n    public playRoleResultEffect(isSelfWin, isLandWin, dzSeat) {\r\n        // if (isSelfWin) {\r\n        //     let animName = '';\r\n        //     if (dzSeat == 0)\r\n        //         animName = 'dizhushengli';\r\n        //     else\r\n        //         animName = 'nongminshengli';\r\n        //     this.roleWinEffect.node.active = true;\r\n        //     this.roleWinEffect.setAnimation(0, animName, false);\r\n        //     this.roleLoseEffect.node.active = false;\r\n        // }\r\n        // else {\r\n        //     let animName = '';\r\n        //     if (dzSeat == 0)\r\n        //         animName = 'dizhushibai';\r\n        //     else\r\n        //         animName = 'nongminshibai';\r\n        //     this.roleLoseEffect.node.active = true;\r\n        //     this.roleLoseEffect.setAnimation(0, animName, false);\r\n        //     this.roleWinEffect.node.active = false;\r\n        // }\r\n\r\n        if (isLandWin)\r\n            Global.Audio.playGameBundleSound(DdzAudioConst.audioCommonPath + DdzAudioConst.LordWin, true);\r\n        else\r\n            Global.Audio.playGameBundleSound(DdzAudioConst.audioCommonPath + DdzAudioConst.FarmerWin, true);\r\n    }\r\n\r\n    public clearWnd() {\r\n        //关闭界面单独清理玩家信息\r\n        this.clearPlayers();\r\n        this.clearByGame();\r\n    }\r\n\r\n    public clearPlayers() {\r\n        for (let i = 0; i < this.playerViewList.length; i++) {\r\n            this.playerViewList[i].clearByRound();\r\n            this.playerViewList[i].hide();\r\n        }\r\n    }\r\n\r\n    public clearOtherPlayers() {\r\n        for (let i = 0; i < this.playerViewList.length; i++) {\r\n            if (i == 0)\r\n                continue;\r\n            this.playerViewList[i].clearByRound();\r\n            this.playerViewList[i].hide();\r\n        }\r\n    }\r\n\r\n    //-----------------------------接口实现--------------------------------\r\n    public clearByGame() {\r\n        this.updateRoundMult(0);\r\n        this.showMarker(false);\r\n        this.showPokerPool.recycleAll(this.showPokerList);\r\n        this.showPokerList = [];\r\n        this.clockComp.setViewActive(false);\r\n        this.viewSet.callAll(\"clearByGame\");\r\n        this.callAllPlayers(\"clearByGame\");\r\n    }\r\n\r\n    public clearByRound() {\r\n        this.updateRoundMult(0);\r\n        this.showActionTimer(false);\r\n        this.showMarker(false);\r\n        this.springEffect.node.active = false;\r\n        this.planeEffect.node.active = false;\r\n        this.bombEffect.node.active = false;\r\n        this.rocketEffect.node.active = false;\r\n        this.linkPairEffect.node.active = false;\r\n        this.straightEffect.node.active = false;\r\n        // this.roleLoseEffect.node.active = false;\r\n        // this.roleWinEffect.node.active = false;\r\n        this.showActionTimer(false);\r\n        this.showAnimMask(false);\r\n        this.viewSet.callAll(\"clearByRound\");\r\n        this.callAllPlayers(\"clearByRound\");\r\n    }\r\n\r\n    public registView(key: string, view: any) {\r\n        this.viewSet.registView(key, view);\r\n    }\r\n\r\n    public getView<T>(key): T {\r\n        return this.viewSet.getViewEx<T>(key);\r\n    }\r\n\r\n    //--------------------------------------player相关--------------------------------------------\r\n    //调用单个player方法\r\n    public callPlayer(index: number, func: string, ...args) {\r\n        let player = this.playerViewList[index];\r\n        if (player == null) {\r\n            Logger.error(\"找不到player!!!\", index);\r\n            // Global.UI.fastTip(`找不到player!!! index: ${index}, func: ${func}`);\r\n            return;\r\n        }\r\n        if (player[func] && player[func].apply) {\r\n            player[func].apply(player, args);\r\n        }\r\n    }\r\n\r\n    public callAllPlayers(func: string, ...args) {\r\n        for (let i = 0; i < DdzDriver.instance.Define.MaxPlayerCount; i++) {\r\n            let player = this.getPlayer(i);\r\n            if (player == null)\r\n                return;\r\n            if (player[func] && player[func].apply) {\r\n                player[func].apply(player, args);\r\n            }\r\n        }\r\n    }\r\n\r\n    public getPlayer(index: number): DdzPlayerView {\r\n        return this.playerViewList[index];\r\n    }\r\n}"]}