{"version":3,"sources":["assets\\ddz\\ddz\\scripts\\subView\\DdzBaseView.ts"],"names":[],"mappings":";;;;;;AAKA,0CAAqC;AAErC,oCAAoC;AACpC;IAWI,0BAA0B;IAC1B;QAHQ,YAAO,GAAW,KAAK,CAAC;QAK5B,IAAI,CAAC,IAAI,GAAG,mBAAS,CAAC,QAAQ,CAAC,IAAI,CAAC;QACpC,IAAI,CAAC,MAAM,GAAG,mBAAS,CAAC,QAAQ,CAAC,MAAM,CAAC;QACxC,IAAI,CAAC,OAAO,GAAG,mBAAS,CAAC,QAAQ,CAAC,OAAO,CAAC;QAC1C,IAAI,CAAC,WAAW,GAAG,mBAAS,CAAC,QAAQ,CAAC,WAAW,CAAC;QAClD,IAAI,CAAC,cAAc,GAAG,mBAAS,CAAC,QAAQ,CAAC,cAAc,CAAC;IAC5D,CAAC;IAED,sBAAW,+BAAM;aAAjB;YAEI,OAAO,IAAI,CAAC,OAAO,CAAC;QACxB,CAAC;aAED,UAAkB,KAAK;YAEnB,IAAG,KAAK,IAAI,IAAI,CAAC,OAAO;gBACpB,OAAO;YACX,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACrB,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YACzB,IAAG,IAAI,CAAC,OAAO;gBACX,IAAI,CAAC,MAAM,EAAE,CAAC;;gBAEd,IAAI,CAAC,OAAO,EAAE,CAAC;QACvB,CAAC;;;OAZA;IAcD,6BAA6B;IACtB,+BAAS,GAAhB,UAAiB,KAAK;QAElB,IAAI,CAAC,OAAO,GAAG,CAAC,KAAK,CAAC;QACtB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;IACxB,CAAC;IAGM,6BAAO,GAAd,UAAe,IAAI;QAEf,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAG,IAAI,IAAI,IAAI,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,EACpC;YACI,MAAM,CAAC,KAAK,CAAC,mCAAmC,CAAC,CAAC;YAClD,OAAO;SACV;QACD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpB,CAAC;IAES,8BAAQ,GAAlB;IAGA,CAAC;IAES,4BAAM,GAAhB,cACC,CAAC;IAEQ,6BAAO,GAAjB,cACC,CAAC;IAEK,iCAAW,GAAlB;QAEI,IAAI,CAAC,YAAY,EAAE,CAAC;IACxB,CAAC;IAEM,kCAAY,GAAnB,cACC,CAAC;IAGQ,kCAAY,GAAtB,UAAuB,IAAW,EAAE,IAAS;QAEzC,OAAO,MAAM,CAAC,QAAQ,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAA;IAC9D,CAAC;IAES,8BAAQ,GAAlB,UAAmB,IAAW;QAE1B,OAAO,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAA;IACpD,CAAC;IACL,kBAAC;AAAD,CAvFA,AAuFC,IAAA","file":"","sourceRoot":"/","sourcesContent":["import DdzPathHelper from \"../data/DdzPathHelper\";\r\nimport DdzDefine from \"../data/DdzDefine\";\r\nimport DdzContext from \"../data/DdzContext\";\r\nimport DdzPokerHelper from \"../data/DdzPokerHelper\";\r\nimport DdzPlayRule from \"../tool/DdzPlayRule\";\r\nimport DdzDriver from \"../DdzDriver\";\r\n\r\n//viewBase   暂时不继承compoennt，不需要额外的开销\r\nexport default class DdzBaseView\r\n{\r\n    protected Path:DdzPathHelper;\r\n    protected Define:DdzDefine;\r\n    protected Context: DdzContext;\r\n    protected PokerHelper: DdzPokerHelper;\r\n    protected PlayRuleHelper: DdzPlayRule;\r\n\r\n    public node:cc.Node;\r\n    private _active:boolean = false;\r\n\r\n    // debug 子类函数声明默认值在 父类构造之后\r\n    constructor()\r\n    {\r\n        this.Path = DdzDriver.instance.Path;\r\n        this.Define = DdzDriver.instance.Define;\r\n        this.Context = DdzDriver.instance.Context;\r\n        this.PokerHelper = DdzDriver.instance.PokerHelper;\r\n        this.PlayRuleHelper = DdzDriver.instance.PlayRuleHelper;\r\n    }\r\n\r\n    public get active()\r\n    {\r\n        return this._active;\r\n    }\r\n\r\n    public set active(value)\r\n    {\r\n        if(value == this._active)\r\n            return;\r\n        this._active = value;\r\n        this.node.active = value;\r\n        if(this._active)\r\n            this.onOpen();\r\n        else\r\n            this.onClose();\r\n    }\r\n\r\n    //强制设置active 触发onClose onOpen\r\n    public setActive(value)\r\n    {\r\n        this._active = !value;\r\n        this.active = value;\r\n    }\r\n\r\n\r\n    public setNode(node)\r\n    {\r\n        this.node = node;\r\n        if(node == null || !cc.isValid(node))\r\n        {\r\n            Logger.error(\"node == null || !cc.isValid(node)\");\r\n            return;\r\n        }\r\n        this._active = node;\r\n        this.initView();\r\n    }\r\n\r\n    protected initView()\r\n    {\r\n\r\n    }\r\n\r\n    protected onOpen()\r\n    {}\r\n\r\n    protected onClose()\r\n    {}\r\n\r\n    public clearByGame()\r\n    {\r\n        this.clearByRound();\r\n    }\r\n\r\n    public clearByRound()\r\n    {}\r\n\r\n    protected getComponent<T extends cc.Component>(path:string, type: {prototype: T}): T;\r\n    protected getComponent(path:string, type: any): any\r\n    {\r\n        return Global.UIHelper.getComponent(this.node, path, type)\r\n    }\r\n\r\n    protected getChild(path:string): cc.Node\r\n    {\r\n        return Global.UIHelper.getChild(this.node, path)\r\n    }\r\n}"]}