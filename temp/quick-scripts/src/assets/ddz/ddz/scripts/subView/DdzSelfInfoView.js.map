{"version":3,"sources":["assets\\ddz\\ddz\\scripts\\subView\\DdzSelfInfoView.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAAA,6CAAwC;AACxC,0CAAqC;AAErC;;GAEG;AACH;IAA6C,mCAAW;IAOpD,yBAAY,IAAa;QAAzB,YACI,iBAAO,SAEV;QADG,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;;IACvB,CAAC;IAES,kCAAQ,GAAlB;QACI,IAAI,CAAC,OAAO,GAAa,IAAI,CAAC,YAAY,CAAC,kBAAkB,EAAE,EAAE,CAAC,KAAK,CAAC,CAAC;QACzE,IAAI,CAAC,KAAK,GAAa,IAAI,CAAC,YAAY,CAAC,gBAAgB,EAAE,EAAE,CAAC,KAAK,CAAC,CAAC;QACrE,IAAI,CAAC,OAAO,GAAc,IAAI,CAAC,YAAY,CAAC,uBAAuB,EAAE,EAAE,CAAC,MAAM,CAAC,CAAC;QAChF,IAAI,CAAC,OAAO,GAAc,IAAI,CAAC,YAAY,CAAC,kBAAkB,EAAE,EAAE,CAAC,MAAM,CAAC,CAAA;QAC1E,IAAI,CAAC,OAAO,GAAa,IAAI,CAAC,YAAY,CAAC,kBAAkB,EAAE,EAAE,CAAC,KAAK,CAAC,CAAC;QACzE,IAAI,CAAC,GAAG,GAAc,IAAI,CAAC,YAAY,CAAC,cAAc,EAAE,EAAE,CAAC,MAAM,CAAC,CAAA;IACtE,CAAC;IAEM,wCAAc,GAArB;QACI,IAAI,MAAM,GAAG,MAAM,CAAC,UAAU,CAAC;QAC/B,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,mBAAS,CAAC,QAAQ,CAAC,gBAAgB,CAAC,IAAI,CAAC,OAAO,EAAE,MAAM,CAAC,SAAS,CAAC,CAAC;SACvE;QACD,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;QACjC,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,MAAM,CAAC,QAAQ,CAAE;QACvC,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC;QACvC,yEAAyE;QACzE,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,MAAM,CAAC,OAAO,CAAC,cAAc,CAAC,MAAM,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;QACxE,IAAI,IAAI,CAAC,GAAG;YACR,MAAM,CAAC,OAAO,CAAC,oBAAoB,CAAC,IAAI,CAAC,GAAG,EAAE,MAAM,CAAC,GAAG,CAAC,CAAC;IAClE,CAAC;IAEO,qCAAW,GAAnB,UAAoB,GAAW;QAC3B,IAAI,CAAC,OAAO,CAAC,WAAW,GAAG,MAAM,CAAC,OAAO,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;IAClE,CAAC;IAEM,yCAAe,GAAtB,UAAuB,KAAa;QAChC,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,MAAM,CAAC,OAAO,CAAC,cAAc,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;IACrE,CAAC;IACL,sBAAC;AAAD,CA1CA,AA0CC,CA1C4C,qBAAW,GA0CvD","file":"","sourceRoot":"/","sourcesContent":["import DdzBaseView from \"./DdzBaseView\";\r\nimport DdzDriver from \"../DdzDriver\";\r\n\r\n/**\r\n * 玩家自己的个人信息view\r\n */\r\nexport default class DdzSelfInfoView extends DdzBaseView {\r\n    private nameLbl: cc.Label;\r\n    private idLbl: cc.Label;\r\n    private headImg: cc.Sprite;\r\n    private coinLbl: cc.Label;\r\n    private headBox: cc.Sprite;\r\n    private vip: cc.Sprite;\r\n    constructor(node: cc.Node) {\r\n        super();\r\n        this.setNode(node);\r\n    }\r\n\r\n    protected initView() {\r\n        this.nameLbl = <cc.Label>this.getComponent('nameNode/nameLbl', cc.Label);\r\n        this.idLbl = <cc.Label>this.getComponent('nameNode/idLbl', cc.Label);\r\n        this.headImg = <cc.Sprite>this.getComponent('nameNode/mask/headImg', cc.Sprite);\r\n        this.headBox = <cc.Sprite>this.getComponent(\"nameNode/headBox\", cc.Sprite)\r\n        this.coinLbl = <cc.Label>this.getComponent('coinNode/coinLbl', cc.Label);\r\n        this.vip = <cc.Sprite>this.getComponent(\"nameNode/vip\", cc.Sprite)\r\n    }\r\n\r\n    public updateSelfInfo() {\r\n        let player = Global.PlayerData;\r\n        if (this.headBox) {\r\n            DdzDriver.instance.LoadVipHeadKuang(this.headBox, player.headkuang);\r\n        }\r\n        this.loadHeadImg(player.headimg);\r\n        this.nameLbl.string = player.nickname ;\r\n        this.idLbl.string = 'ID:' + player.uid;\r\n        // this.idLbl.string = Global.Toolkit.formatPointStr(player.point, true);\r\n        this.coinLbl.string = Global.Toolkit.formatPointStr(player.point, true);\r\n        if (this.vip)\r\n            Global.Toolkit.loadLocalVipIconGame(this.vip, player.vip);\r\n    }\r\n\r\n    private loadHeadImg(str: string) {\r\n        this.headImg.spriteFrame = Global.Toolkit.getLocalHeadSf(str);\r\n    }\r\n\r\n    public updateSelfPoint(point: number) {\r\n        this.coinLbl.string = Global.Toolkit.formatPointStr(point, true);\r\n    }\r\n}"]}