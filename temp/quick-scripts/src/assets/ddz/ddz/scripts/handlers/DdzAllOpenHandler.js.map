{"version":3,"sources":["assets\\ddz\\ddz\\scripts\\handlers\\DdzAllOpenHandler.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAAA,mDAA8C;AAC9C,0CAAqC;AAErC;IAA+C,qCAAc;IAA7D;;IAuDA,CAAC;IAtDa,mCAAO,GAAjB,UAAkB,GAAG;QAArB,iBAiCC;QAhCG,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,qBAAqB,EAAE,KAAK,CAAC,CAAC;QACzD,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;QAC9C,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,cAAc,EAAE,KAAK,CAAC,CAAC;QAClD,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;QACnC,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;QAC9B,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,WAAW,EAAE,CAAC;QAExC,IAAI,SAAS,GAAG,GAAG,CAAC,KAAK,CAAC,SAAS,IAAI,EAAE,CAAC;QAC1C,SAAS,CAAC,OAAO,CAAC,UAAA,IAAI;YAClB,IAAI,IAAI,CAAC,SAAS,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC,SAAS,CAAC,EAAC;gBAChE,IAAI,OAAO,GAAG,mBAAS,CAAC,QAAQ,CAAC,WAAW,CAAC,YAAY,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;gBAC1E,IAAI,SAAS,GAAG,KAAI,CAAC,SAAS,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBAC3D,KAAI,CAAC,MAAM,CAAC,UAAU,CAAC,SAAS,EAAE,gBAAgB,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC;aAC7E;QACL,CAAC,CAAC,CAAC;QAEH,IAAI,OAAO,GAAG,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC;QAC7B,IAAI,SAAS,GAAG,CAAC,CAAC;QAClB,IAAI,OAAO,IAAI,CAAC,EAAC;YACb,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC;gBACxB,KAAI,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;YAClC,CAAC,EAAE,SAAS,CAAC,CAAC;YACd,SAAS,IAAI,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC;SAC3C;aAAK,IAAI,OAAO,IAAI,CAAC,EAAC;YACnB,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC;gBACxB,KAAI,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;YAClC,CAAC,EAAE,SAAS,CAAC,CAAC;YACd,SAAS,IAAI,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC;SAC3C;QAED,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,aAAa,EAAE,CAAC;QACzC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,iBAAiB,EAAE,mBAAmB,EAAE,SAAS,CAAC,CAAC;IAC7E,CAAC;IAES,uCAAW,GAArB,UAAsB,GAAG;QAAzB,iBAkBC;QAjBG,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,qBAAqB,EAAE,KAAK,CAAC,CAAC;QACzD,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;QAC9C,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,cAAc,EAAE,KAAK,CAAC,CAAC;QAClD,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;QACnC,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;QAC9B,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,WAAW,EAAE,CAAC;QAExC,IAAI,SAAS,GAAG,GAAG,CAAC,KAAK,CAAC,SAAS,IAAI,EAAE,CAAC;QAC1C,SAAS,CAAC,OAAO,CAAC,UAAA,IAAI;YAClB,IAAI,IAAI,CAAC,SAAS,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC,SAAS,CAAC,EAAC;gBAChE,IAAI,OAAO,GAAG,mBAAS,CAAC,QAAQ,CAAC,WAAW,CAAC,YAAY,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;gBAC1E,IAAI,SAAS,GAAG,KAAI,CAAC,SAAS,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBAC3D,KAAI,CAAC,MAAM,CAAC,UAAU,CAAC,SAAS,EAAE,gBAAgB,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC;aAC7E;QACL,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,aAAa,EAAE,CAAC;IAC7C,CAAC;IACL,wBAAC;AAAD,CAvDA,AAuDC,CAvD8C,wBAAc,GAuD5D","file":"","sourceRoot":"/","sourcesContent":["import DdzBaseHandler from \"./DdzBaseHandler\";\r\nimport DdzDriver from \"../DdzDriver\";\r\n\r\nexport default class DdzAllOpenHandler extends DdzBaseHandler{\r\n    protected execute(msg){\r\n        this.mainUI.callAllPlayers('setPlayerLeftPokers', false);\r\n        this.mainUI.callAllPlayers('setState', false);\r\n        this.mainUI.callAllPlayers('showWarnSign', false);\r\n        this.mainUI.setChooseEnbale(false);\r\n        this.mainUI.showMarker(false);\r\n        this.mainUI.askActionView.clearByGame();\r\n        \r\n        let userCards = msg._para.UserCards || [];\r\n        userCards.forEach(user =>{\r\n            if (user.all_cards && !Global.Toolkit.isEmptyObject(user.all_cards)){\r\n                let cardArr = DdzDriver.instance.PokerHelper.sortPokerArr(user.all_cards);\r\n                let localSeat = this.SitHelper.serverSToLocalN(user.chair); \r\n                this.mainUI.callPlayer(localSeat, 'showPlayPokers', true, cardArr, false);\r\n            }\r\n        });\r\n        \r\n        let nSpring = msg._para.flag;\r\n        let totalTime = 1;\r\n        if (nSpring == 1){\r\n            Game.Component.scheduleOnce(()=>{\r\n                this.mainUI.playSpringAnim(1);\r\n            }, totalTime);\r\n            totalTime += this.Define.SpringAnimTime;\r\n        }else if (nSpring == 2){\r\n            Game.Component.scheduleOnce(()=>{\r\n                this.mainUI.playSpringAnim(2);\r\n            }, totalTime);\r\n            totalTime += this.Define.SpringAnimTime;\r\n        }\r\n        \r\n        this.mainUI.selfPlayView.hideAllPokers();\r\n        Game.Event.event(Game.EVENT_ADDTIMELOCK, 'DdzAllOpenHandler', totalTime);\r\n    }\r\n\r\n    protected executeSync(msg){\r\n        this.mainUI.callAllPlayers('setPlayerLeftPokers', false);\r\n        this.mainUI.callAllPlayers('setState', false);\r\n        this.mainUI.callAllPlayers('showWarnSign', false);\r\n        this.mainUI.setChooseEnbale(false);\r\n        this.mainUI.showMarker(false);\r\n        this.mainUI.askActionView.clearByGame();\r\n\r\n        let userCards = msg._para.UserCards || [];\r\n        userCards.forEach(user =>{\r\n            if (user.all_cards && !Global.Toolkit.isEmptyObject(user.all_cards)){\r\n                let cardArr = DdzDriver.instance.PokerHelper.sortPokerArr(user.all_cards);\r\n                let localSeat = this.SitHelper.serverSToLocalN(user.chair); \r\n                this.mainUI.callPlayer(localSeat, 'showPlayPokers', true, cardArr, false);\r\n            }\r\n        });\r\n        \r\n        this.mainUI.selfPlayView.hideAllPokers();\r\n    }\r\n}"]}