{"version":3,"sources":["assets\\hall\\scripts\\logic\\core\\tool\\UIHelper.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import YXButton from \"../component/YXButton\";\r\nimport UIAnimComponent from \"../component/UIAnimComponent\";\r\nimport ScrollViewCarmack from \"../component/ScrollViewCarmack\";\r\nimport PaoMaDengComp from \"../component/PaoMaDengComp\";\r\nimport IntoGameAnimComp from \"../component/IntoGameAnimComp\";\r\nimport ScreenShakeAction from \"../component/ScreenShakeAction\";\r\nimport WifiComp from \"../component/WifiComp\";\r\nimport TaskComp from \"../component/TaskComp\";\r\nimport GameLoadingComp from \"../component/GameLoadingComp\";\r\nimport AdmissionBoxComp from \"../component/AdmissionBoxComp\";\r\nimport PrivateMarqueeComp from \"../component/PrivateMarqueeComp\";\r\nimport ButtonPlus from \"../component/ButtonPlus\";\r\nimport PaoMaDengCompNew from \"../component/PaoMaDengCompNew\";\r\n\r\n//UI通用效果\r\nexport default class UIHelper {\r\n    public addCommonClick(root: cc.Node, path: string, callback: Function, target?: any, transition = cc.Button.Transition.SCALE, time?: number, playSound = true) {\r\n        let node = this.getChild(root, path);\r\n        if (node == null) {\r\n            Logger.error(\"addCommonClick 找不到节点\", path);\r\n            return;\r\n        }\r\n\r\n        let ccButton = node.getComponent(cc.Button);\r\n        if (ccButton && !(ccButton instanceof cc.Toggle || ccButton instanceof YXButton)) {\r\n            node.removeComponent(cc.Button);    // 已经添加的就移除掉, 防止有些节点重复加了Button\r\n        }\r\n\r\n        let btn = node.getComponent(YXButton);\r\n        if (btn == null) {\r\n            btn = node.addComponent(YXButton);\r\n            btn.transition = transition;\r\n            if (transition == cc.Button.Transition.SCALE) {\r\n                btn.zoomScale = 0.8;\r\n            }\r\n        }\r\n\r\n        node.on(\"click\", (touchTarget) => {\r\n            if (btn) {\r\n                if (!btn.isClickValid)\r\n                    return;\r\n                if (time == null || time == 0)\r\n                    time = btn.CLICK_INTERVAL\r\n                btn.isClickValid = false;\r\n                btn.scheduleOnce(() => {\r\n                    if (btn.isValid)\r\n                        btn.isClickValid = true;\r\n                }, btn.CLICK_INTERVAL);\r\n            }\r\n            //播放声音\r\n            if (playSound)\r\n                Global.Audio.playBtnSound();\r\n            if (callback != null) {\r\n                if (target)\r\n                    callback.call(target, touchTarget);\r\n                else\r\n                    callback(touchTarget);\r\n            }\r\n        })\r\n        return node;\r\n    }\r\n\r\n    public getChild(node: cc.Node, path: string) {\r\n        if (node == null) {\r\n            Logger.error(\"node is null\", path);\r\n            return;\r\n        }\r\n        if (path == null || path == \"\")\r\n            return node;\r\n        return cc.find(path, node);\r\n    }\r\n\r\n    public getComponent<T extends cc.Component>(node: cc.Node, path: string, type: { prototype: T }): T;\r\n    public getComponent(node: cc.Node, path: string, type: any): any {\r\n        let target = this.getChild(node, path);\r\n        if (target == null)\r\n            return null;\r\n        return target.getComponent(type);\r\n    }\r\n\r\n    public safeGetComponent(node: cc.Node, path: string, type: any): any {\r\n        let target = this.getChild(node, path);\r\n        if (target == null)\r\n            return null;\r\n        if (type == null)\r\n            return null;\r\n        let comp = target.getComponent(type);\r\n        if (comp != null)\r\n            return comp;\r\n        else {\r\n            return target.addComponent(type);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 添加界面弹窗组件\r\n     * 支持接口和回调方式触发动画完成回调\r\n     * @param {cc.Node} node   脚本挂载节点 \r\n     * @param {cc.Node} uiNode  UI主节点\r\n     * @param {cc.Node} bgNode  透明遮罩节点\r\n     * @param {IAnimWnd} [target] \r\n     * @returns\r\n     * @memberof UIHelper\r\n     */\r\n    public addAnimComp(node: cc.Node, uiNode: cc.Node, bgNode: cc.Node, target?: IAnimWnd) {\r\n        if (node == null || uiNode == null) {\r\n            Logger.error(\"node == null || uiNode == null\");\r\n            return null;\r\n        }\r\n        let animComp: UIAnimComponent = this.safeGetComponent(node, \"\", UIAnimComponent);\r\n        animComp.ui = uiNode;\r\n        animComp.bg = bgNode;\r\n        animComp.target = target;\r\n        return animComp;\r\n    }\r\n\r\n    /**scrollview节点添加优化组件\r\n     * @param {cc.Node} scrollViewNode      脚本挂载节点 \r\n     * @param {cc.Node} itemNode            滚动内容子节点 \r\n     * @param {number} itemNodePadding      子节点之间的间隔像素值\r\n     * @param {number} itemOffSet          子节点的偏移像素值（子节点的锚点与上边界的距离像素）\r\n     * @param {any} item_setter_caller      子节点的更新函数的this对象\r\n     * @param {Function} item_setter        子节点的更新函数，参数为(item:cc.Node, index:number)\r\n     * \r\n     * @returns {ScrollViewCarmack}\r\n     */\r\n    public addScrollViewCarmackComp(scrollViewNode: cc.Node, itemNode: cc.Node, itemNodePadding: number, itemOffSet: number, item_setter_caller: any, item_setter: (item: cc.Node, index: number, data: any) => void): ScrollViewCarmack {\r\n\r\n        let scrollViewCarmack: ScrollViewCarmack = this.safeGetComponent(scrollViewNode, \"\", ScrollViewCarmack);\r\n        scrollViewCarmack.itemPrefab = itemNode;\r\n        scrollViewCarmack.item_setter_caller = item_setter_caller;\r\n        scrollViewCarmack.item_setter = item_setter;\r\n        scrollViewCarmack.itemNodePadding = itemNodePadding;\r\n        scrollViewCarmack.itemOffset = itemOffSet;\r\n        scrollViewCarmack.init();\r\n        itemNode.active = false;\r\n        // itemNode.destroy();\r\n        return scrollViewCarmack;\r\n    }\r\n\r\n    /**添加跑马灯通用组件,必须挂载再遮罩节点上 \r\n     * @param {cc.Node} maskNode            脚本挂载节点.（锚点X必须是1）\r\n     * @param {boolean} bAddDefaultMsg      是否添加默认消息（抵制不良游戏XXXXXXX）\r\n     * @param {cc.Node} rootNode            跑马灯根节点（无消息时隐藏）\r\n     * @returns {PaoMaDengComp}\r\n    */\r\n    public addPaoMaDengComp(maskNode: cc.Node, bAddDefaultMsg: boolean = false, rootNode: cc.Node = null,ttf?:cc.Font): PaoMaDengComp {\r\n\r\n        let paomadengComp: PaoMaDengComp = this.safeGetComponent(maskNode, \"\", PaoMaDengComp);\r\n        if (rootNode != null) {\r\n            paomadengComp.rootNode = rootNode;\r\n        }\r\n        paomadengComp.ttf=ttf;\r\n        paomadengComp.init();\r\n        if (bAddDefaultMsg) {\r\n            paomadengComp.addDefautMsg();\r\n        }\r\n        return paomadengComp;\r\n    }\r\n\r\n    public addNewPaoMaDengComp(rootNode: cc.Node, bAddDefaultMsg: boolean = false): PaoMaDengCompNew {\r\n\r\n        let resPath = \"hall/prefabs/ui/PaoMaDengRootNode\";\r\n        let paoMaDengComp: PaoMaDengCompNew = null\r\n        Global.ResourceManager.loadRes(resPath, (error, prefab) => {\r\n            if (error != null) {\r\n                Logger.error(\"加载资源错误\")\r\n                return\r\n            }\r\n            if (prefab == null) {\r\n                return;\r\n            }\r\n            let ui = cc.instantiate(prefab)\r\n            if (rootNode && rootNode.isValid) {\r\n                rootNode.addChild(ui)\r\n                ui.active = true\r\n            }\r\n            paoMaDengComp = this.safeGetComponent(ui, \"\", PaoMaDengCompNew);\r\n            if (paoMaDengComp) {\r\n                let poolLen = Global.Setting.SkinConfig.getPaomadengPoolLen()\r\n                paoMaDengComp.initNode(poolLen)\r\n                paoMaDengComp.run(bAddDefaultMsg)\r\n            }\r\n            \r\n        })\r\n        return paoMaDengComp;\r\n    }\r\n    private privateMarquee = new PrivateMarqueeComp();\r\n    public marqueeShowNode(data,rootNode) {\r\n        if(this.privateMarquee && this.privateMarquee.node){\r\n            this.privateMarquee.node.active =true;\r\n            this.privateMarquee.showNode(data);\r\n        }else{\r\n            if (rootNode == null) {\r\n                return;\r\n            }\r\n            let resPath = \"hall/prefabs/ui/PrivateMarqueeNode\";\r\n            Global.ResourceManager.loadRes(resPath, (error, prefab) => {\r\n                if (error != null) {\r\n                    Logger.error(\"加载资源错误\")\r\n                    return\r\n                }\r\n                if (prefab == null) {\r\n                    return;\r\n                }\r\n                let copyNode = <cc.Node>cc.instantiate(prefab);\r\n                copyNode.setParent(rootNode);\r\n                copyNode.active = true;\r\n                this.privateMarquee = this.safeGetComponent(copyNode, \"\", PrivateMarqueeComp);\r\n                this.privateMarquee.node.active =true;\r\n                this.privateMarquee.showNode(data);\r\n            })\r\n        }\r\n    }\r\n    public addPrivateMarqueeComp(rootNode: cc.Node) {\r\n        if (rootNode == null) {\r\n            return;\r\n        }\r\n        let resPath = \"hall/prefabs/ui/PrivateMarqueeNode\";\r\n        Global.ResourceManager.loadRes(resPath, (error, prefab) => {\r\n            if (error != null) {\r\n                Logger.error(\"加载资源错误\")\r\n                return\r\n            }\r\n            if (prefab == null) {\r\n                return;\r\n            }\r\n            let copyNode = <cc.Node>cc.instantiate(prefab);\r\n            copyNode.setParent(rootNode);\r\n            copyNode.active = true;\r\n            this.privateMarquee = this.safeGetComponent(copyNode, \"\", PrivateMarqueeComp);\r\n            this.privateMarquee.node.active =false;\r\n        })\r\n    }\r\n    /**\r\n     * 添加信号通用组件\r\n     * @param rootNode 脚本挂载节点\r\n     * @param type 类型 （1：大厅 2：子游戏）\r\n     */\r\n    public addWifiComp(rootNode: cc.Node, type: number = 2) {\r\n        let resPath = \"hall/prefabs/ui/wifiNode\";\r\n        Global.ResourceManager.loadRes(resPath, (error, prefab) => {\r\n            if (error != null) {\r\n                Logger.error(\"加载资源错误\")\r\n                return\r\n            }\r\n            if (prefab == null) {\r\n                return;\r\n            }\r\n            let ui = cc.instantiate(prefab)\r\n            if (rootNode && rootNode.isValid) {\r\n                rootNode.addChild(ui)\r\n                ui.active = true\r\n            }\r\n            let wifiComp: WifiComp = this.safeGetComponent(ui, \"\", WifiComp);\r\n            if (wifiComp) {\r\n                wifiComp.init(type)\r\n                wifiComp.startListen()\r\n            }\r\n        })\r\n    }\r\n\r\n    public addAdmissionComp(rootNode: cc.Node) {\r\n        let resPath = \"hall/prefabs/ui/AdmissionBoxNode\";\r\n        Global.ResourceManager.loadRes(resPath, (error, prefab) => {\r\n            if (error != null) {\r\n                Logger.error(\"加载资源错误\")\r\n                return\r\n            }\r\n            if (prefab == null) {\r\n                return;\r\n            }\r\n            let ui = cc.instantiate(prefab)\r\n            if (rootNode && rootNode.isValid) {\r\n                rootNode.addChild(ui)\r\n                ui.active = true\r\n            }\r\n            let admissionComp: AdmissionBoxComp = this.safeGetComponent(ui, \"\", AdmissionBoxComp);\r\n            if (admissionComp) {\r\n                admissionComp.init();\r\n            }\r\n        })\r\n    }\r\n\r\n    /**添加子游戏入场动画通用组件\r\n     * @param {cc.Node} rootNode            脚本挂载节点.（必须是UI根节点，且不能是loading页面节点的父级）\r\n     * @param {cc.Node} loadingNode         加载页面节点\r\n     * @param {cc.Node} bottomNodeArr       底部动画节点数组（筹码背景->自己的头像->筹码按钮），按动画先后顺序排列，每个子游戏不一样，可自行排列看效果，可为空\r\n     * @param {cc.Node} topNodeArr          顶部动画节点数组（走势图->下拉菜单按钮->走势按钮），按动画先后顺序排列，每个子游戏不一样，可自行排列看效果，可为空\r\n     * @param {cc.Node} leftNodeArr         左边动画节点数组（大富豪在内的3个头像），按动画先后顺序排列，每个子游戏不一样，可自行排列看效果，可为空\r\n     * @param {cc.Node} rightNodeArr        右边动画节点数组（智多星在内的3个头像），按动画先后顺序排列，每个子游戏不一样，可自行排列看效果，可为空\r\n     * @param autoInit                      是否自动初始化。  选场游戏用\r\n     * @returns {IntoGameAnimComp}\r\n    */\r\n    public addIntoGameAnimComp(rootNode: cc.Node, loadingNode: cc.Node, bottomNodeArr: cc.Node[], topNodeArr: cc.Node[], leftNodeArr: cc.Node[], rightNodeArr: cc.Node[], middleNodeArr: cc.Node[] = [], autoInit = true): IntoGameAnimComp {\r\n        let intoGameAnimComp: IntoGameAnimComp = this.getBriefIntoGameAnim(rootNode);\r\n        intoGameAnimComp.loadingNode = loadingNode;\r\n        intoGameAnimComp.bottomNodeArr = bottomNodeArr || [];\r\n        intoGameAnimComp.topNodeArr = topNodeArr || [];\r\n        intoGameAnimComp.leftNodeArr = leftNodeArr || [];\r\n        intoGameAnimComp.rightNodeArr = rightNodeArr || [];\r\n        intoGameAnimComp.middleNodeArr = middleNodeArr || [];\r\n        if (autoInit)\r\n            intoGameAnimComp.init();\r\n        return intoGameAnimComp;\r\n    }\r\n\r\n    /**\r\n     * 设置子游戏入场动画通用组件\r\n     * @param rootNode \r\n     */\r\n    public getBriefIntoGameAnim(rootNode: cc.Node): IntoGameAnimComp {\r\n        if (!rootNode || !rootNode.isValid) {\r\n            return Logger.error(\"挂载节点异常\")\r\n        }\r\n        return this.safeGetComponent(rootNode, \"\", IntoGameAnimComp);\r\n    }\r\n\r\n\r\n    /**\r\n     * 设置节点变暗或取消\r\n     * @param {cc.Node} node            要置灰或取消置灰的节点\r\n     * @param {boolean} bGray           是否置灰 false-取消置灰\r\n     * @param {number} color            置灰的暗度，此值越小越黑,最大为255\r\n    */\r\n    public setNodeGray(node: cc.Node, bGray: boolean, color: number = 150, includeAllNode = false): void {\r\n        let childSprites: cc.Sprite[] = node.getComponentsInChildren(cc.Sprite);\r\n        childSprites.forEach(sprite => {\r\n            if (sprite) {\r\n                if (bGray) {\r\n                    sprite.node.color = cc.color(color, color, color);\r\n                    // sprite.setState(cc.Sprite.State.GRAY);\r\n                } else {\r\n                    sprite.node.color = cc.color(255, 255, 255);\r\n                    // sprite.setState(cc.Sprite.State.NORMAL);\r\n                }\r\n            }\r\n        });\r\n        if (childSprites == null || childSprites.length == 0 || includeAllNode) {\r\n            if (bGray) {\r\n                node.color = cc.color(color, color, color);\r\n                // sprite.setState(cc.Sprite.State.GRAY);\r\n            } else {\r\n                node.color = cc.color(255, 255, 255);\r\n                // sprite.setState(cc.Sprite.State.NORMAL);\r\n            }\r\n\r\n            for (let i = 0; i < node.childrenCount; i++) {\r\n                node.children[i].color = node.color;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 获取一个抖动action\r\n     * @param duration 抖动持续时间\r\n     * @param offsetX x方向抖动偏移（幅度）\r\n     * @param offsetY y方向\r\n     */\r\n    public getScreenShakeAction(duration: number = 0.5, offsetX: number = 10, offsetY: number = 0) {\r\n        return new ScreenShakeAction(duration, offsetX, offsetY);\r\n    }\r\n\r\n    /**\r\n     * 给不规则节点添加触摸监听, 需要先挂载cc.PolygonCollider组件\r\n     * @param polygon cc.PolygonCollider组件\r\n     * 设置组件: Global.UIHelper.addPolygonButton(node.getComponent(cc.PolygonCollider));\r\n     * 节点监听: node.on(cc.Node.EventType.TOUCH_END, this.onBoxClick, this);\r\n     */\r\n    public addPolygonButton(polygon: cc.PolygonCollider) {\r\n        if (!polygon)\r\n            throw TypeError(\"polygon is null or undefined\");\r\n\r\n        if (!(polygon instanceof cc.PolygonCollider))\r\n            throw TypeError(\"polygon should be cc.PolygonCollider\");\r\n\r\n        this.safeGetComponent(polygon.node, \"\", \"PolygonButtonHit\");\r\n    }\r\n\r\n    public getGameLoadingComp(){\r\n        let path = \"hall/prefabs/ui/GameLoading/GameLoadingComp\";\r\n        let prefab = Global.ResourceManager.getBundleRes(\"resources\", path, cc.Prefab);\r\n        if (!prefab) {\r\n            Logger.error(\"error 未预加载GameLoadingComp prefab\");\r\n            return new Promise((resolve, reject) => {\r\n                Global.ResourceManager.loadBundleRes(\"resources\", path, (err, res) => {\r\n                    if (err) {\r\n                        reject(err);\r\n                    }\r\n                    else {\r\n                        let node = <cc.Node>cc.instantiate(res);\r\n                        let comp = this.safeGetComponent(node, \"\", GameLoadingComp);\r\n                        resolve(comp);\r\n                    }\r\n                })\r\n            })\r\n        }\r\n        let copyNode = cc.instantiate(prefab);\r\n        return this.safeGetComponent(copyNode, \"\", GameLoadingComp);\r\n    }\r\n}"]}