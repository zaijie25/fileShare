{"version":3,"sources":["assets\\hall\\scripts\\logic\\core\\setting\\SystemInfo.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import HallStorageKey from \"../../hallcommon/const/HallStorageKey\";\r\n\r\n//存储系统相关信息\r\nexport default class SystemInfo {\r\n    private _version = \"0.0.1\";//版本号\r\n    private _deviceId: string;\r\n    private _isIphoneX: boolean = false;\r\n    private _netWorkType: number = -1; // -1 none 1 wifi 2: 2G 3:3G 4:4G\r\n    private _isNetworkAvailable: boolean = true;\r\n    private _firstInstallStatus: boolean = false;\r\n    private _widthScale: number;\r\n    private _heigthScale: number;\r\n    private _fixHeightScale: number;// 适配高度后的宽度缩放值\r\n    private _ipAddress: string;\r\n    private _isSupportWSS: boolean = false;//是否支持WSS协议\r\n    private _appVersion: string = \"0\";//appNative游戏版本号，供强更使用\r\n    private _pkgVersion: string;//app包版本\r\n    private _gameUrlJsonCfg: string;//App gameUrl json 配置\r\n    // private _vendorChannel: string;//联运渠道id\r\n    private _nativeLog: boolean = false;//本地打印是否开启\r\n    private _bundleName: string;//原生包名\r\n    private _loginSign: string;//sign\r\n    private _webglData: string;//sign\r\n\r\n    public wxKey:string;\r\n    public jpushKey:string;\r\n    public appSign:string; //APP签名信息\r\n\r\n    /**\r\n     * 大厅主皮肤\r\n     */\r\n    public hallSkin:string;\r\n    /**\r\n     * 子游戏皮肤\r\n     */\r\n    public gameSkin:string;\r\n\r\n    /**\r\n     * 包标志 空表示官方包 \r\n     */\r\n    public packageTag:string\r\n\r\n    public nativeScreenWidth = \"0\";\r\n    public nativeScreenHeight = \"0\";\r\n    public nativeScreenDensity = \"0\";\r\n    public nativeScreenDensityDpi = \"0\";\r\n    public clipboardText;\r\n    public ChannelInfo;\r\n    public hostIp;\r\n    public osBuildModel;\r\n    public osBuildVersionSDK;\r\n    public osBuildVersionRelease;\r\n    public inviteSourceType = 0;\r\n    public deviceBrand = \"\";\r\n    private onBackground = false;\r\n\r\n    public udid = \"0\"\r\n\r\n    /**\r\n     * 入口类型 1 为mdm下载 ，字段为空或值非1则为非mdm下载\r\n     */\r\n    public entry = \"\"\r\n\r\n    /**\r\n     * 签名类型 1 内部企业签 2 内部超级签 3 外部超级签 字段为空或0则为（外部企业签/不支持传参的外部超级签）\r\n     */\r\n    public sign_type = \"\"\r\n\r\n    public nativePlatform: string;\r\n\r\n    //app端渠道\r\n    public packChannel: string = null;\r\n\r\n    private _appConstUrl: string = \"\";\r\n\r\n    public appConstBackupUrl: string = \"\";\r\n    public appConstBackupUrl1: string = \"\";\r\n    public appConstUrlArray = []; // app data 域名数组\r\n    public appID:string = \"\" // app ID\r\n    public subPlatformID:string = \"\";//总代id\r\n    public appName:string = \"\";//app 名称\r\n    public zipModel:boolean = false;//是否zip方式\r\n    public simulator:string = \"\";//模拟器 0-真机 1-模拟器 空字符串：没检测出来\r\n\r\n    public orientationLandscape = true; //横屏\r\n    public server_id =\"\"//服务器下发的server_id\r\n\r\n    public cerDirFiles = []\r\n\r\n    constructor() {\r\n\r\n    }\r\n\r\n    set Version(ver) {\r\n        this._version = ver\r\n        // Logger.log(\"--------------setSystemModel version = \" + this._version)\r\n    }\r\n\r\n    get Version() {\r\n        // Logger.log(\"--------------getSystemModel version ===\" + this._version)\r\n        return this._version;\r\n    }\r\n\r\n    public init() {\r\n    }\r\n\r\n    public getDeviceInfo() {\r\n        Global.NativeEvent.getNativeParams();\r\n    }\r\n\r\n    public onResume() {\r\n        this.onBackground = false;\r\n    }\r\n\r\n\r\n\r\n\r\n    public set deviceId(v: string) {\r\n        if (v == null || v == \"\")\r\n            return;\r\n        this._deviceId = v;\r\n    }\r\n\r\n    public get deviceId(): string {\r\n        if (this._deviceId == null) {\r\n            let deviceid = Global.Setting.storage.get(HallStorageKey.WebDeviceId);\r\n            if (deviceid == null || deviceid == \"\") {\r\n                deviceid = Global.Toolkit.genDeviceId();\r\n                Global.Setting.storage.set(HallStorageKey.WebDeviceId, deviceid);\r\n            }\r\n            this._deviceId = deviceid;\r\n        }\r\n        return this._deviceId.trim();\r\n    }\r\n    public set ipAddress(v: string) {\r\n        this._ipAddress = v;\r\n    }\r\n\r\n    public get ipAddress(): string {\r\n        return this._ipAddress\r\n    }\r\n\r\n    public set version(v: string) {\r\n        this._version = v;\r\n    }\r\n\r\n    public get version(): string {\r\n        return this._version\r\n    }\r\n\r\n\r\n    public get isIphoneX(): boolean {\r\n        return this._isIphoneX;\r\n    }\r\n\r\n    //微信iPhoneX适配\r\n    public get isWXIphoneX(): boolean {\r\n        // if (cc.sys.isNative) {\r\n        //     return false;\r\n        // } else {\r\n        //     let isX = /iphone/gi.test(navigator.userAgent) && ((Laya.Browser.clientHeight == 724) && Laya.Browser.clientWidth == 375)\r\n        //     if (isX) {\r\n        //         return true;\r\n        //     } else {\r\n        //         return false;\r\n        //     }\r\n\r\n        // }\r\n        return false;\r\n    }\r\n\r\n\r\n    public set isIphoneX(v: boolean) {\r\n        this._isIphoneX = v;\r\n    }\r\n\r\n\r\n    public set netWorkType(v: number) {\r\n        this._netWorkType = v;\r\n    }\r\n\r\n\r\n    public get netWorkType(): number {\r\n        return this._netWorkType;\r\n    }\r\n\r\n\r\n    public set isNetworkAvailable(v: boolean) {\r\n        this._isNetworkAvailable = v;\r\n    }\r\n\r\n\r\n    public get isNetworkAvailable(): boolean {\r\n        return this._isNetworkAvailable;\r\n    }\r\n\r\n\r\n    public set firstInstallStatus(v: boolean) {\r\n        this._firstInstallStatus = v;\r\n    }\r\n\r\n    public get firstInstallStatus(): boolean {\r\n        return this._firstInstallStatus;\r\n    }\r\n\r\n\r\n    public get fixHeightScale(): number {\r\n        // return laya.utils.Browser.clientWidth / laya.utils.Browser.clientHeight\r\n        return 0;\r\n    }\r\n\r\n    public get widthScale(): number {\r\n        // return laya.utils.Browser.clientWidth / laya.utils.Browser.clientHeight * Laya.stage.designHeight / Laya.stage.designWidth;\r\n        return 0;\r\n    }\r\n\r\n    public get isSupportWSS(): boolean {\r\n        if (cc.sys.isNative) {\r\n            return this._isSupportWSS;\r\n        } else {\r\n            return true;\r\n        }\r\n        // return false;\r\n    }\r\n\r\n    public set isSupportWSS(flag: boolean) {\r\n        this._isSupportWSS = flag;\r\n    }\r\n\r\n    public get appVersion(): string {\r\n        if (cc.sys.isNative) {\r\n            return this._appVersion;\r\n        } else {\r\n            return \"40000\";\r\n        }\r\n\r\n    }\r\n\r\n    public set appVersion(flag: string) {\r\n        this._appVersion = flag;\r\n    }\r\n\r\n    public checkVersion(supportVersion) {\r\n        if (!cc.sys.isNative)\r\n            return true\r\n        let version = this.appVersion;\r\n        let numVer = Number(version)\r\n\r\n        if (isNaN(numVer) || numVer >= supportVersion)\r\n            return true;\r\n        return false;\r\n    }\r\n\r\n    public get pkgVersion(): string {\r\n        if (cc.sys.isNative) {\r\n            return this._pkgVersion;\r\n        } else {\r\n            return \"\";\r\n        }\r\n\r\n    }\r\n\r\n    public set pkgVersion(flag: string) {\r\n        this._pkgVersion = flag;\r\n    }\r\n\r\n    public set gameUrlJsonCfg(cfg: string) {\r\n        this._gameUrlJsonCfg = cfg;\r\n    }\r\n\r\n    public get gameUrlJsonCfg(): string {\r\n        return this._gameUrlJsonCfg\r\n    }\r\n\r\n    // public get vendorChannel(): string {\r\n    //     if (cc.sys.isNative) {\r\n    //         return this._vendorChannel;\r\n    //     } else {\r\n    //         return \"\";\r\n    //     }\r\n\r\n    // }\r\n\r\n    // public set vendorChannel(flag: string) {\r\n    //     this._vendorChannel = flag;\r\n    // }\r\n\r\n    public get nativeLog(): boolean {\r\n        if (cc.sys.isNative) {\r\n            return this._nativeLog;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    public set nativeLog(flag: boolean) {\r\n        this._nativeLog = flag;\r\n    }\r\n\r\n    public get bundleName(): string {\r\n        if (cc.sys.isNative) {\r\n            return this._bundleName;\r\n        } else {\r\n            return \"\";\r\n        }\r\n    }\r\n\r\n    public set bundleName(flag: string) {\r\n        this._bundleName = flag;\r\n    }\r\n\r\n    public get webglData(): string {\r\n        if (cc.sys.isNative) {\r\n            return this._webglData;\r\n        } else {\r\n            return \"\";\r\n        }\r\n    }\r\n\r\n    public set webglData(flag: string) {\r\n        this._webglData = flag;\r\n    }\r\n    public get loginSign(): string {\r\n        // if (cc.sys.isNative) {\r\n        //     return this._loginSign;\r\n        // } else {\r\n        //     return \"\";\r\n        // }\r\n        return this._loginSign;\r\n    }\r\n\r\n    public set loginSign(flag: string) {\r\n        this._loginSign = flag;\r\n    }\r\n\r\n    public set appConstUrl(url: string) {\r\n        this._appConstUrl = url;\r\n    }\r\n\r\n    public get appConstUrl() {\r\n        return this._appConstUrl;\r\n    }\r\n\r\n\r\n\r\n\r\n}"]}