{"version":3,"sources":["assets\\hall\\scripts\\logic\\core\\loadingMVC\\HotUpdateProxy.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["\r\nimport LoadingFacade from \"./LoadingFacade\";\r\nimport Const from \"./LoadingConst\";\r\nimport AppHelper from \"../tool/AppHelper\";\r\nimport PreLoadProxy from \"./PreLoadProxy\";\r\nimport { ReportTool } from \"../tool/ReportTool\";\r\nimport HallStorageKey from \"../../hallcommon/const/HallStorageKey\";\r\n\r\n\r\n// 大厅部分热更\r\nexport default class HotUpdateProxy extends puremvc.Proxy {\r\n    facade: LoadingFacade;\r\n\r\n    //hotUpdate\r\n    // manifestUrl: any;\r\n    localManifestJsonObj: any;\r\n    localManifest: any;\r\n\r\n    _currentVersion: string;\r\n    _newestVersion: string;\r\n    _storagePath: string;\r\n    _updating: boolean;\r\n    _needUpdate: boolean;\r\n    _assetsMgr: jsb.AssetsManager;\r\n\r\n    _canRetry: boolean;\r\n    _faildRes: any;\r\n    _updateListener: any;\r\n    _checkListener: any;\r\n    manifestNativeUrl: any;\r\n\r\n\r\n    checkVersionData:any;\r\n\r\n\r\n    //服务器返回的热更地址\r\n    private serverHotupdateUrl = \"\"\r\n    private serverVersion = \"\"\r\n\r\n    static NAME = \"HotUpdateProxy\";\r\n\r\n    constructor(manifest) {\r\n        super();\r\n        // Logger.log(\"----------HotUpdateProxy-------\" + manifest.nativeUrl)\r\n        this.proxyName = HotUpdateProxy.NAME;\r\n        this.manifestNativeUrl = manifest.nativeUrl;\r\n    }\r\n\r\n    onRegister() {\r\n        //初始化system信息\r\n        Global.Setting.SystemInfo.Version = \"1.0.5\";\r\n    }\r\n    /**\r\n     * _versionCompare\r\n     */\r\n    _versionCompare(versionA: string, versionB: string) {\r\n        // Logger.log(\"JS Custom Version Compare: version A is \" + versionA + ', version B is ' + versionB);\r\n        var vA = versionA.split('.');\r\n        var vB = versionB.split('.');\r\n        this._currentVersion = versionA;\r\n        this._newestVersion = versionB;\r\n        Global.HotUpdateManager.hallNewVersion = versionB\r\n        for (var i = 0; i < vA.length; ++i) {\r\n            var a = parseInt(vA[i]);\r\n            var b = parseInt(vB[i] || \"0\");\r\n            if (a === b) { continue; }\r\n            else { return a - b; }\r\n        }\r\n        if (vB.length > vA.length) { return -1; }\r\n        else { return 0; }\r\n    }\r\n\r\n    check(hotUpdateUrl: string, version: string,isBack = 0,checkVersionData:any = null) {\r\n        // this.checkVersionData = checkVersionData\r\n        if (!cc.sys.isNative) {\r\n            this.next();\r\n            return;\r\n        }\r\n        if (!Global.Setting.isStartHotUpdate) {\r\n            this.next();\r\n            return;\r\n        }\r\n        this.checkVersionData = checkVersionData\r\n        //添加本地版本与服务器版本号一致不走热更逻辑。\r\n        let hallNativeVer = Global.HotUpdateManager.getNativeHotUpdateVersion(\"hall\");\r\n        if (Global.Toolkit.versionCompare(version, hallNativeVer) == 0){\r\n            Logger.log(\"本地版本与服务器版本号一致\")\r\n            this.next();\r\n            return;\r\n        }\r\n        let newHotUpdateUrl = hotUpdateUrl;\r\n        let newVersion = version;\r\n        let hotUpdateManager = Global.HotUpdateManager;\r\n        if (newHotUpdateUrl) {\r\n            Global.HotUpdateManager.hotUpdateUrl = newHotUpdateUrl\r\n        } else {\r\n            newHotUpdateUrl = Global.HotUpdateManager.hotUpdateUrl\r\n        }\r\n        if (newVersion) {\r\n            Global.HotUpdateManager.hallNewVersion = newVersion\r\n        } else {\r\n            newVersion = Global.HotUpdateManager.hallNewVersion\r\n        }\r\n\r\n        //服务器热更地址\r\n        this.serverHotupdateUrl = hotUpdateUrl + \"/hall/\" + version + \"/\";\r\n        this.serverVersion = version;\r\n\r\n        //修改热更新地址\r\n        this.localManifestJsonObj = Global.HotUpdateManager.changeManifestUrl(\"hall\", newVersion, newHotUpdateUrl, this.manifestNativeUrl,isBack)\r\n        this._storagePath = ((jsb.fileUtils ? jsb.fileUtils.getWritablePath() : '/') + hotUpdateManager.hotUpdateDirName + \"/\" + hotUpdateManager.hallHotUpdateDirName);\r\n        // Logger.log(\"storagePath=======\" + this._storagePath)\r\n        // Logger.log(\"manifestUrl ======\" + this.manifestNativeUrl)\r\n        //修改本地版本文件\r\n        let storageManifestUrl = this._storagePath + '/' + hotUpdateManager.updateHelper.prjFileName();\r\n        //let jsonStr = JSON.stringify(this.localManifestJsonObj)\r\n        \r\n\r\n       \r\n        let tmpManifest = this.localManifestJsonObj;\r\n        let assets = tmpManifest.assets;\r\n        let removeList = []\r\n        let appid = Global.Setting.SystemInfo.appID \r\n        for(let key in assets)\r\n        {\r\n            if(key.indexOf(\"app/\") == 0)\r\n            {\r\n                if(key.indexOf(\"app/\" + appid + \"/\") < 0)\r\n                {\r\n                    removeList.push(key);\r\n                }\r\n            }\r\n        }\r\n        for(let i = 0; i < removeList.length; i++)\r\n        {\r\n            delete(assets[removeList[i]])\r\n        }\r\n        tmpManifest.assets =  assets\r\n        jsb.fileUtils.writeStringToFile(JSON.stringify(tmpManifest), storageManifestUrl)\r\n        this.localManifestJsonObj = tmpManifest\r\n        this._assetsMgr = new jsb.AssetsManager(\"\", this._storagePath, this._versionCompare.bind(this))\r\n\r\n        this._assetsMgr.setVerifyCallback(this._cbVerify)\r\n        if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n            this._assetsMgr.setMaxConcurrentTask(5)\r\n        }\r\n        this.sendNotification(Const.SHOW_CHECK_LABEL, { parm: \"检查更新中...\" })\r\n        this.checkUpdate();\r\n    }\r\n\r\n    checkUpdate() {\r\n        if (this._updating) {\r\n            this.sendNotification(Const.SHOW_CHECK_LABEL, { parm: \"检查更新中...\" })\r\n            return;\r\n        }\r\n        if (this._assetsMgr.getState() === jsb.AssetsManager.State.UNINITED) {\r\n            // if (cc.loader.md5Pipe) {\r\n            //     this.manifestUrl = cc.loader.md5Pipe.transformURL(this.manifestUrl);\r\n            // }\r\n            let jsonStr = JSON.stringify(this.localManifestJsonObj)\r\n            // Logger.log(\"----------checkUpdate  jsonStr ========\" + jsonStr)\r\n            this.localManifest = new jsb.Manifest(jsonStr, this._storagePath)\r\n            this._assetsMgr.loadLocalManifest(this.localManifest, this._storagePath);\r\n        }\r\n        // 更换 manifest 路径以后这里会报错\r\n        if (!this._assetsMgr.getLocalManifest() || !this._assetsMgr.getLocalManifest().isLoaded()) {\r\n            this.sendNotification(Const.SHOW_CHECK_LABEL, { parm: \"导入文件失败，建议重启游戏或重新下载最新版本\" })\r\n            return;\r\n        }\r\n\r\n        this._assetsMgr.setEventCallback(this._cbCheckUpdate.bind(this));\r\n        this._assetsMgr.checkUpdate();\r\n        this._updating = true;\r\n    }\r\n\r\n    /**\r\n     * _cbCheckUpdate\r\n     * \r\n     * ios10中，在弹出是否允许联网之前，会报：\r\n     * AssetsManagerEx : Fail to download version file, step skipped Code: 1\r\n     */\r\n    _cbCheckUpdate(event) {\r\n        switch (event.getEventCode()) {\r\n            case jsb.EventAssetsManager.ALREADY_UP_TO_DATE:\r\n                this.sendNotification(Const.SHOW_PROGRESS_BAR, { parm: -1 })\r\n                this.sendNotification(Const.SHOW_CHECK_LABEL, { parm: \"已经是最新版\" })\r\n                this.next();\r\n                break;\r\n                //version Update_progression在new version found之前\r\n            case jsb.EventAssetsManager.UPDATE_PROGRESSION:\r\n                if(event && event.getMessage() == \"VersionDownloaded\")\r\n                {\r\n                    Logger.error(\"VersionDownloaded formatVersion\")\r\n                    this.formatVersion();\r\n                }else if(event && event.getMessage() == \"ProjectDownloaded\")\r\n                {\r\n                    Logger.error(\"ProjectDownloaded formatManifest\")\r\n                    this.formatManifest();\r\n                }\r\n                return;\r\n            case jsb.EventAssetsManager.NEW_VERSION_FOUND:\r\n\r\n                // ui - bar\r\n                // this._showRetry( false );\r\n                // this.barProgress.progress = 0 ;\r\n                this.sendNotification(Const.SHOW_PROGRESS_BAR, { parm: 0 })\r\n                this._needUpdate = true;\r\n                break;\r\n            case jsb.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:\r\n            case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:\r\n            case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:\r\n                let reportParam = {\"game\":\"hall\",\"eventcode\":event.getEventCode(),\"event\":\"checkupdate\",\"url\":Global.Setting.Urls.hallHotUpdateUrl}\r\n                Global.ReportTool.ReportClientError(ReportTool.REPORT_TYPE_HOT_UPDATE_ERROR,reportParam)\r\n\r\n                this.sendNotification(Const.SHOW_CHECK_LABEL, { parm: \"下载失败，请检查网络\" })\r\n                let updateCallBackFunc = () => {\r\n                    setTimeout(() => {\r\n                        this.restartCheckUpdate();\r\n                    }, 1000);\r\n                }\r\n                Global.UI.showSingleBox(\"下载失败，请检查网络\", updateCallBackFunc, updateCallBackFunc);\r\n                // this._showRetryPanel( true );\r\n                break;\r\n            default:\r\n                return;\r\n        }\r\n        this._assetsMgr.setEventCallback(null);\r\n        this._checkListener = null;\r\n        this._updating = false;\r\n        this.hotUpdate();\r\n    }\r\n\r\n    restartCheckUpdate(autoRestart = true) {\r\n        Logger.error(\"restartCheckUpdate\")\r\n        if (this._assetsMgr) {\r\n            this._assetsMgr.setEventCallback(null);\r\n            this._updateListener = null;\r\n            this._updating = false;\r\n            this._assetsMgr = null;\r\n        }\r\n        if(autoRestart){\r\n            let errorReStartTimes = cc.sys.localStorage.getItem(\"errorReStartTimes\")\r\n            if (errorReStartTimes != null && errorReStartTimes != \"\"){\r\n                let num = Number(errorReStartTimes)\r\n                if (num){\r\n                    num ++;\r\n                }else {\r\n                    num = 1;\r\n                }\r\n                cc.sys.localStorage.setItem(\"errorReStartTimes\",num)\r\n            }else {\r\n                cc.sys.localStorage.setItem(\"errorReStartTimes\",1)\r\n            }\r\n        }\r\n        let storage_hall_urls = Global.Setting.storage.getObject(HallStorageKey.HotUpdateHosts)\r\n        if (!storage_hall_urls){\r\n            Global.Setting.storage.setObject(HallStorageKey.HotUpdateHosts,Global.Setting.Urls.hallHotUpdateUrlArray)\r\n        }\r\n        this.clearProjectManifest();\r\n        \r\n        //发送上报\r\n        let reportParam = {\"host\":Global.Setting.Urls.hallHotUpdateUrl}\r\n        Global.ReportTool.ReportClientError(ReportTool.REPORT_TYPE_HOTUPDATE_HOST_ERROR,reportParam)\r\n        \r\n        if (autoRestart){\r\n            this.restartGame()\r\n        }else {\r\n            setTimeout(() => {\r\n                Global.UI.show(\"WndMessageBox\", \"修复完成，点击确定将重启游戏.\", 0, ()=>{\r\n                    this.restartGame()\r\n                }, ()=>{\r\n                    this.restartGame()\r\n                });\r\n            }, 300);\r\n            \r\n        }\r\n        \r\n    }\r\n\r\n    restartGame(){\r\n        Global.UI.clearAllUIPrefab();\r\n        Global.NativeEvent.unzipHallPackage();\r\n        setTimeout(() => {\r\n            cc.game.restart();\r\n        }, 1000);\r\n    }\r\n\r\n    clearProjectManifest(){\r\n        let projectPath = Global.HotUpdateManager.updateHelper.genStoragePath(\"hall/\") + \"project.manifest\";\r\n            if(jsb.fileUtils.isFileExist(projectPath))\r\n            {\r\n                Logger.error(\"remove file projectPath is exist = \" + projectPath)\r\n                jsb.fileUtils.removeFile(projectPath);\r\n            }else {\r\n                Logger.error(\"projectPath is not exist = \" + projectPath)\r\n            }\r\n    }\r\n\r\n    clearDownloadTmpDir(){\r\n        let tmpDowndloadPath = Global.HotUpdateManager.updateHelper.genStoragePath(\"hall_temp\")\r\n        if (jsb.fileUtils.isDirectoryExist(tmpDowndloadPath)){\r\n            Logger.error(\"remove tmpDowndloadPath  = \" + tmpDowndloadPath)\r\n            jsb.fileUtils.removeDirectory(tmpDowndloadPath)\r\n        }else {\r\n            Logger.error(\"tmpDowndloadPath is not exist = \" + tmpDowndloadPath)\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * hotUpdate\r\n     */\r\n    hotUpdate() {\r\n        if (this._assetsMgr && !this._updating) {\r\n            // this.barNode.active = true ;\r\n            this.sendNotification(Const.SHOW_PROGRESS_BAR, { parm: 0 })\r\n\r\n            this._assetsMgr.setEventCallback(this._cbUpdate.bind(this));\r\n\r\n            if (this._assetsMgr.getState() === jsb.AssetsManager.State.UNINITED) {\r\n\r\n                // if (cc.loader.md5Pipe) {\r\n                //     this.manifestUrl = cc.loader.md5Pipe.transformURL(this.manifestUrl);\r\n                // }\r\n                // this._assetsMgr.loadLocalManifest(this.manifestUrl);\r\n                this.localManifest = new jsb.Manifest(JSON.stringify(this.localManifestJsonObj), this._storagePath)\r\n                this._assetsMgr.loadLocalManifest(this.localManifest);\r\n            }\r\n\r\n            // this._failCount = 0;\r\n            this._assetsMgr.update();\r\n            this._updating = true;\r\n\r\n        }\r\n    }\r\n\r\n\r\n    private formatVersion()\r\n    {\r\n        let tmpVersionPath = Global.HotUpdateManager.updateHelper.genStoragePath(\"hall_temp/\") + Global.HotUpdateManager.versionCfgFileName;\r\n        if(!jsb.fileUtils.isFileExist(tmpVersionPath))\r\n        {\r\n            Logger.error(\"找不到文件\", tmpVersionPath);\r\n            return;\r\n        }\r\n        let content = jsb.fileUtils.getStringFromFile(tmpVersionPath);\r\n        let tmpVersion = JSON.parse(content);\r\n        tmpVersion.packageUrl = this.serverHotupdateUrl;\r\n        tmpVersion.remoteManifestUrl = this.serverHotupdateUrl + Global.HotUpdateManager.projectCfgFileName\r\n        tmpVersion.remoteVersionUrl = this.serverHotupdateUrl + Global.HotUpdateManager.versionCfgFileName;\r\n        tmpVersion.version = this.serverVersion;\r\n\r\n        let newTmpContent = JSON.stringify(tmpVersion);\r\n        jsb.fileUtils.writeStringToFile(newTmpContent, tmpVersionPath);\r\n    }\r\n\r\n\r\n\r\n    //清理不用的资源   @todo更新url\r\n    private formatManifest()\r\n    {\r\n        if(!cc.sys.isNative)\r\n            return;\r\n        let tmpProjectPath = Global.HotUpdateManager.updateHelper.genStoragePath(\"hall_temp/\") + \"project.manifest.temp\";\r\n        if(!jsb.fileUtils.isFileExist(tmpProjectPath))\r\n        {\r\n            Logger.error(\"找不到文件\", tmpProjectPath);\r\n            return;\r\n        }\r\n        let content = jsb.fileUtils.getStringFromFile(tmpProjectPath);\r\n        let tmpManifest = JSON.parse(content);\r\n        let assets = tmpManifest.assets;\r\n        let removeList = []\r\n        let appid = Global.customApp.getAppID() \r\n        for(let key in assets)\r\n        {\r\n            if(key.indexOf(\"app/\") == 0)\r\n            {\r\n                \r\n                if(key.indexOf(\"app/\" + appid + \"/\") < 0)\r\n                {\r\n                    \r\n                    removeList.push(key);\r\n                }\r\n            }\r\n        }\r\n        for(let i = 0; i < removeList.length; i++)\r\n        {\r\n            delete(assets[removeList[i]])\r\n        }\r\n\r\n        tmpManifest.packageUrl = this.serverHotupdateUrl;\r\n        tmpManifest.remoteManifestUrl = this.serverHotupdateUrl + Global.HotUpdateManager.projectCfgFileName\r\n        tmpManifest.remoteVersionUrl = this.serverHotupdateUrl + Global.HotUpdateManager.versionCfgFileName;\r\n        tmpManifest.version = this.serverVersion;\r\n\r\n        let newTmpContent = JSON.stringify(tmpManifest);\r\n        jsb.fileUtils.writeStringToFile(newTmpContent, tmpProjectPath);\r\n    }\r\n\r\n    /**\r\n     * _cbUpdate - 更新的回调\r\n     */\r\n    _cbUpdate(event) {\r\n        var needRestart = false;\r\n        var failed = false;\r\n\r\n        switch (event.getEventCode()) {\r\n            case jsb.EventAssetsManager.UPDATE_PROGRESSION:\r\n                let percentNum = event.getPercent()\r\n                if (isNaN(percentNum) || percentNum == null || percentNum == undefined) {\r\n                    percentNum = 0.0001\r\n                }\r\n                this.sendNotification(Const.SHOW_PROGRESS_BAR, { parm:percentNum })\r\n                let per = (percentNum * 100).toFixed(2);\r\n\r\n                if(event && event.getMessage() == \"ProjectDownloaded\")\r\n                {\r\n                    this.formatManifest();\r\n                }\r\n                //event.getDownloadedFiles() + ' / ' + event.getTotalFiles() \r\n                // let per = (event.getDownloadedBytes() ) + \" / \"+ event.getTotalBytes();\r\n                this.sendNotification(Const.SHOW_CHECK_LABEL, { parm: '已下载: ' + per + \"%\" })\r\n                \r\n                break;\r\n            case jsb.EventAssetsManager.UPDATE_FINISHED:\r\n                this.sendNotification(Const.SHOW_CHECK_LABEL, { parm: '更新完成：' + event.getMessage() })\r\n                needRestart = true;\r\n                break;\r\n            case jsb.EventAssetsManager.ALREADY_UP_TO_DATE:\r\n\r\n                this.sendNotification(Const.SHOW_CHECK_LABEL, { parm: '已经是最新版' })\r\n                failed = true;\r\n                break;\r\n            case jsb.EventAssetsManager.UPDATE_FAILED:\r\n                let reportParam3 = {\"game\":\"hall\",\"eventcode\":event.getEventCode(),\"event\":\"update\",\"faildres\":event.getAssetId(),\"url\":Global.Setting.Urls.hallHotUpdateUrl}\r\n                Global.ReportTool.ReportClientError(ReportTool.REPORT_TYPE_HOT_UPDATE_ERROR,reportParam3)\r\n                this.sendNotification(Const.SHOW_CHECK_LABEL, { parm: '更新失败： ' + event.getMessage() })\r\n                this._updating = false;\r\n                this._canRetry = true;\r\n                failed = true;\r\n                break;\r\n            case jsb.EventAssetsManager.ERROR_UPDATING:\r\n                this._faildRes = event.getAssetId();\r\n                let reportParam1 = {\"game\":\"hall\",\"eventcode\":event.getEventCode(),\"event\":\"update\",\"faildres\":this._faildRes,\"url\":Global.Setting.Urls.hallHotUpdateUrl}\r\n                Global.ReportTool.ReportClientError(ReportTool.REPORT_TYPE_HOT_UPDATE_ERROR,reportParam1)\r\n\r\n                // this.sendNotification(Const.SHOW_CHECK_LABEL, { parm: 'Asset update error: ' + event.getAssetId() + ', ' + event.getMessage() })\r\n                failed = true;\r\n                break;\r\n            case jsb.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:\r\n            case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:\r\n            case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:\r\n            case jsb.EventAssetsManager.ERROR_DECOMPRESS:\r\n                let reportParam2 = {\"game\":\"hall\",\"eventcode\":event.getEventCode(),\"event\":\"update\",\"faildres\":event.getAssetId(),\"url\":Global.Setting.Urls.hallHotUpdateUrl}\r\n                Global.ReportTool.ReportClientError(ReportTool.REPORT_TYPE_HOT_UPDATE_ERROR,reportParam2)\r\n\r\n                this.sendNotification(Const.SHOW_CHECK_LABEL, { parm: '下载失败，请检查网络' })\r\n                let updateCallBackFunc = () => {\r\n                    setTimeout(() => {\r\n                        this.restartCheckUpdate();\r\n                    }, 1000);\r\n                }\r\n                Global.UI.showSingleBox(\"下载失败，请检查网络\", updateCallBackFunc, updateCallBackFunc);\r\n                failed = true;\r\n                break;\r\n        }\r\n\r\n        if (failed) {\r\n            Logger.error(\"event.getEventCode()\", event.getEventCode(), event.getAssetId(), Global.Setting.Urls.hallHotUpdateUrl, failed);\r\n            this._assetsMgr.setEventCallback(null);\r\n\r\n            this._updateListener = null;\r\n            this._updating = false;\r\n            this.retry();\r\n        }\r\n\r\n        if (needRestart) {\r\n            this.sendNotification(Const.CLEAR_LOADING_TIMER)\r\n            cc.sys.localStorage.setItem(\"errorReStartTimes\",null)\r\n            Global.Setting.storage.removeKey(HallStorageKey.HotUpdateHosts)\r\n            this._assetsMgr.setEventCallback(null);\r\n            this._updateListener = null;\r\n            Global.HotUpdateManager.hotFailRes = \"\";\r\n            Global.HotUpdateManager.hotFaildNum = 0;\r\n            // gLocalData.userInfo.hotFailRes = '';\r\n            // gLocalData.userInfo.hotFaildNum = 0;\r\n            // DataHelper.Instance.saveAllData();\r\n\r\n            // Prepend the manifest's search path\r\n            let searchPaths = jsb.fileUtils.getSearchPaths();\r\n            Logger.log('searchPaths ---------' + searchPaths)\r\n            let newPaths = this._assetsMgr.getLocalManifest().getSearchPaths();\r\n            Global.SearchPathHelper.addPathList(newPaths);\r\n            Logger.log('newPaths -------------' + JSON.stringify(newPaths));\r\n            // let tempPaths = searchPaths.concat(newPaths);\r\n            // let retPaths = Global.JSUtil.arrayConcat(searchPaths,newPaths)\r\n            let retPaths = Global.SearchPathHelper.getSystemSearchPath();\r\n            Logger.log('searchPaths new -------------' + retPaths);\r\n            // searchPaths new -------------, \"xxx\"\r\n            \r\n            // Array.prototype.unshift(searchPaths, newPaths);\r\n            let hotUpdateManager = Global.HotUpdateManager\r\n            cc.sys.localStorage.setItem(hotUpdateManager.hotUpdateStorageKey + hotUpdateManager.hallHotUpdateDirName, hotUpdateManager.hallHotUpdateDirName);\r\n            cc.sys.localStorage.setItem('HotUpdateSearchPaths', JSON.stringify(retPaths));\r\n            // jsb.fileUtils.setSearchPaths(retPaths);\r\n            cc.sys.localStorage.setItem(\"needRestart\",1) \r\n            cc.audioEngine.stopAll();\r\n            Global.UI.clearAllUIPrefab()\r\n            setTimeout(() => {\r\n                cc.game.restart();\r\n            }, 1000);\r\n            Logger.error(\"restart\");\r\n        }\r\n    }\r\n    /**\r\n     * retry\r\n     */\r\n    retry() {\r\n        Logger.log(\"---------retry---------------\")\r\n        //如果一个资源下载失败超过了两次，就清除之前的下载\r\n        if (Global.HotUpdateManager.hotFailRes == this._faildRes && Global.HotUpdateManager.hotFaildNum >= 2) {\r\n            if (this._faildRes) {\r\n                // Global.UI.fastTip(this._faildRes)\r\n            }\r\n            Global.HotUpdateManager.hotFailRes = \"\";\r\n            Global.HotUpdateManager.hotFaildNum = 0;\r\n            \r\n            let updateCallBackFunc = () => {\r\n                setTimeout(() => {\r\n                    this.restartCheckUpdate();\r\n                }, 1000);\r\n            }\r\n            Global.UI.showSingleBox(\"下载失败，请检查网络\", updateCallBackFunc, updateCallBackFunc);\r\n        } else {\r\n            Global.HotUpdateManager.hotFaildNum = this._faildRes;\r\n            Global.HotUpdateManager.hotFaildNum++;\r\n            \r\n        }\r\n\r\n    }\r\n\r\n    \r\n\r\n    /**\r\n     * _cbVerify\r\n     * \r\n     * 由于下载过程中仍然有小概率可能由于网络原因或其他网络库的问题导致下载的文件内容有问题，所以我们提供了用户文件校验接口，在文件下载完成后热更新管理器会调用这个接口（用户实现的情况下），如果返回 true 表示文件正常，返回 false 表示文件有问题\r\n     * \r\n     */\r\n    _cbVerify(path, asset) {\r\n        // Setup the verification callback, but we don't have md5 check function yet, so only print some message\r\n        // Return true if the verification passed, otherwise return false\r\n        // When asset is compressed, we don't need to check its md5, because zip file have been deleted.\r\n        var compressed = asset.compressed;\r\n        // Retrieve the correct md5 value.\r\n        var expectedMD5 = asset.md5;\r\n        // asset.path is relative path and path is absolute.\r\n        var relativePath = asset.path;\r\n        // The size of asset file, but this value could be absent.\r\n        var size = asset.size;\r\n        if (compressed) {\r\n            // Logger.log((\"Verification passed : \" + relativePath));\r\n            return true;\r\n        }\r\n        else {\r\n            // let fileSize = jsb.fileUtils.getFileSize(path);\r\n            // Logger.log(\"file size = \", fileSize, \"manifest size = \", asset.size);\r\n            // return fileSize == asset.size;\r\n            // Logger.log((\"Verification passed : \" + relativePath + ' (' + expectedMD5 + ')'));\r\n            // return true;\r\n            // Logger.log(relativePath, path, jsb.fileUtils.getFileSize(path), JSON.stringify(asset));\r\n            var data = jsb.fileUtils.getDataFromFile(path);\r\n            if (data == null) {\r\n                // Logger.log('data == null MD5 verify fail,path a:' + path + ',path b:' + asset.path  + ',md5 b:' + asset.md5);\r\n                return false;\r\n            }\r\n            var curMD5 = md5(data);\r\n            if (curMD5 == asset.md5) {\r\n                // Logger.log('MD5 verify success!');\r\n                return true;\r\n            }\r\n            else {\r\n                // Logger.log('MD5 verify fail,path a:' + path + ',path b:' + asset.path + ',md5 a:' + curMD5 + ',md5 b:' + asset.md5);\r\n                return false;\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n    next() {\r\n        Logger.log(\"-------------------enter next\")\r\n        //热更完再检测一遍openinstall\r\n        //TestFlight 包低于20007 客户端弹更新弹框\r\n        let nativePlatform = Global.Setting.SystemInfo.nativePlatform\r\n        if (nativePlatform == \"testflight\" && this.checkIsLower20007Verion()){\r\n            let app_force_type = 0\r\n            Global.AppUpdateHelper.showLoadingGameUpdateUI(app_force_type)\r\n        }else {\r\n            if (!Global.AppUpdateHelper.startForceUpdateLogic(this.checkVersionData)){\r\n                Global.AppUpdateHelper.goToLogin();\r\n            }\r\n        }\r\n        \r\n    }\r\n\r\n\r\n    //检测是否20007版本引擎\r\n    private checkIsLower20007Verion(){\r\n        if (!cc.sys.isNative){\r\n            return true;\r\n        }\r\n        let nativeAppVersion = Global.Setting.SystemInfo.appVersion\r\n        let isLowEngineVer = false\r\n        let nativeAppVersionNum = Number(nativeAppVersion) || 0;\r\n        if (nativeAppVersionNum < 20007){\r\n            isLowEngineVer = true;\r\n        }\r\n        return isLowEngineVer;\r\n    }\r\n\r\n    \r\n\r\n    onRemove() {\r\n\r\n    }\r\n\r\n}"]}