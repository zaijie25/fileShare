{"version":3,"sources":["assets\\hall\\scripts\\logic\\hall\\ui\\Feedback\\FeedbackListItem.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAEA,yDAAoD;AAI9C,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAA8C,oCAAY;IAA1D;QAAA,qEAkFC;QA/EG,YAAM,GAAa,IAAI,CAAC;QAGxB,YAAM,GAAa,IAAI,CAAC;;QAmExB;;;;;;;;YAQI;IACR,CAAC;IA3DG,gCAAK,GAAL;QACI,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;IAC7B,CAAC;IACD,iBAAiB;IACV,sCAAW,GAAlB;QACI,OAAO,IAAI,CAAC,QAAQ,CAAC;IACzB,CAAC;IACM,iCAAM,GAAb,UAAc,IAAS,EAAC,WAAmB;QACvC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACrB,IAAI,CAAC,QAAQ,GAAG,WAAW,CAAC;QAC5B,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpB,CAAC;IACD,mCAAQ,GAAR;QACI,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC;QAC3B,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC;QACnC,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,IAAI,GAAC,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC;QACnD,IAAI,OAAO,GAAU,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC;QAC3C,IAAI,IAAI,GAAG,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC/B,IAAG,IAAI,CAAC,MAAM,GAAC,CAAC,EAAC;YACb,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,OAAO,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC,CAAC,EAAC,EAAE,CAAC,CAAC;SACrE;aAAI;YACD,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,OAAO,CAAC,iBAAiB,CAAC,OAAO,EAAC,EAAE,CAAC,CAAC;SACrE;QACD,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC;QACnC;;;gCAGwB;IAC5B,CAAC;IAED,yCAAc,GAAd;QACI,WAAW;QACX,MAAM,CAAC,KAAK,CAAC,YAAY,EAAE,CAAC;QAC5B,IAAI,IAAI,GAAC;YACL,IAAI,EAAE,CAAC;YACZ,OAAO,EAAE,EAAE;YACR,EAAE,EAAE,IAAI,CAAC,EAAE,CAAE,MAAM;SACpB,CAAC;QACF,MAAM,CAAC,YAAY,CAAC,QAAQ,CAAC,eAAe,CAAC,CAAC,YAAY,CAAC,IAAI,EAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IACnF,CAAC;IAED,2CAAgB,GAAhB;QACI,UAAU;QACV,MAAM,CAAC,KAAK,CAAC,YAAY,EAAE,CAAC;QAC5B,IAAI,cAAc,GAAmB,MAAM,CAAC,EAAE,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC;QAClG,IAAI,MAAM,GAAsD,cAAc,CAAC,OAAO,CAAC,sBAAsB,CAAC,CAAC;QAC/G,MAAM,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;QACxB,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAClD,cAAc,CAAC,UAAU,CAAC,iCAAa,CAAC,oBAAoB,CAAC,CAAC;IAClE,CAAC;IArED;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;oDACK;IAGxB;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;oDACK;IANP,gBAAgB;QADpC,OAAO;OACa,gBAAgB,CAkFpC;IAAD,uBAAC;CAlFD,AAkFC,CAlF6C,EAAE,CAAC,SAAS,GAkFzD;kBAlFoB,gBAAgB","file":"","sourceRoot":"/","sourcesContent":["import RightPanelView from \"./RightPanelView\";\r\nimport FeedbackShowAndWriteView from \"./FeedbackShowAndWriteView\";\r\nimport { RightViewType } from \"./FeedbackConstants\";\r\n\r\n\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class FeedbackListItem extends cc.Component {\r\n\r\n    @property(cc.Label)\r\n    label1: cc.Label = null;\r\n\r\n    @property(cc.Label)\r\n    label2: cc.Label = null;\r\n\r\n    /* @property(cc.Sprite)\r\n    Unread: cc.Sprite = null;\r\n    @property(cc.Sprite)\r\n    CheckSprite: cc.Sprite = null;\r\n    @property(cc.Sprite)\r\n    UnCheckSprite: cc.Sprite = null;\r\n    */\r\n    gameData: any; \r\n    private id: number;\r\n    private status: number; //0为未读1已读2已回复\r\n    // private problem: string;\r\n    private answer: string;\r\n    dealpage: number;\r\n\r\n\r\n    close(){\r\n        this.node.active = false;\r\n    }\r\n    // update (dt) {}\r\n    public getGameData() {\r\n        return this.gameData;\r\n    }\r\n    public onInit(data: any,responePage: number) {\r\n        this.gameData = data;\r\n        this.dealpage = responePage;\r\n        this.initView();\r\n    }\r\n    initView() {\r\n        this.id = this.gameData.id;\r\n        this.status = this.gameData.status;\r\n        this.label1.string = \"问题\"+this.gameData.problem_id;\r\n        let problem:string = this.gameData.problem;\r\n        let prob = problem.split(\"\\n\");\r\n        if(prob.length>0){\r\n            this.label2.string = Global.Toolkit.substrEndWithElli(prob[0],24);\r\n        }else{\r\n            this.label2.string = Global.Toolkit.substrEndWithElli(problem,24);\r\n        }\r\n        this.answer = this.gameData.answer;\r\n        /* this.BackgroundTxt.string =  this.gameData;\r\n        this.CheckTxt.string = this.gameData;\r\n        this.toggle.isChecked =false\r\n        this.toggle.uncheck() */\r\n    }\r\n\r\n    deleteItemByID(){\r\n        // let id =\r\n        Global.Audio.playBtnSound();\r\n        var para={\r\n            type: 1 ,//0 提交 1删除\r\n\t \t    problem: \"\" ,//问题 0的时候\r\n     \t    id: this.id  //1的时候\r\n        };\r\n        Global.ModelManager.getModel(\"FeedbackModel\").dealFeedback(para,this.dealpage);\r\n    }\r\n\r\n    openReplayDetail(){\r\n        // this.id\r\n        Global.Audio.playBtnSound();\r\n        let rightPanelView = <RightPanelView>Global.UI.getWindow(\"WndFeedback\").getView(\"RightPanelView\");\r\n        let replay:FeedbackShowAndWriteView = <FeedbackShowAndWriteView>rightPanelView.getView(\"feedbackShowAndWrite\");\r\n        replay.setShowOrEdit(1);\r\n        replay.setData(this.gameData.problem,this.answer);\r\n        rightPanelView.changeView(RightViewType.feedbackShowAndWrite);\r\n    }\r\n    /* public SetBackgroundChecked(state:boolean){\r\n        this.CheckSprite.node.active = state\r\n        this.UnCheckSprite.node.active = !state\r\n      \r\n    }\r\n    \r\n    public SetUnReadActiveState(state:boolean){\r\n        this.Unread.node.active = state\r\n    } */\r\n}\r\n"]}