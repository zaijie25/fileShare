{"version":3,"sources":["assets\\hall\\scripts\\logic\\hall\\ui\\login\\WndForgetPwd.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import WndBase from \"../../../core/ui/WndBase\";\r\nimport LoginModel from \"../../../hallcommon/model/LoginModel\";\r\nimport PhoneInputView from \"./view/PhoneInputView\";\r\nimport AutoCodeView from \"./view/AutoCodeView\";\r\nimport PwdInputView from \"./view/PwdInputView\";\r\n\r\nexport default class WndForgetPwd extends WndBase\r\n{\r\n\r\n    private phoneInputView:PhoneInputView;\r\n    private authCodeView:AutoCodeView;\r\n    private pwdInputView:PwdInputView;\r\n\r\n    private loginModel:LoginModel;\r\n    protected onInit()\r\n    {\r\n        this.name = \"WndForgetPwd\";\r\n        this.layer = \"PopLayer\";\r\n        this.resPath = \"hall/prefabs/ui/ForgetPwdUI\";\r\n        this.loginModel = <LoginModel>Global.ModelManager.getModel(\"LoginModel\");\r\n    }\r\n\r\n    protected initView()\r\n    {\r\n        this.addCommonClick(\"cancelBtn\", this.close, this);\r\n        this.addCommonClick(\"bg/close\", this.close, this);\r\n        this.addCommonClick(\"sureBtn\", this.onSureBtnClick, this);\r\n\r\n        this.phoneInputView = <PhoneInputView>this.addView(\"PhoneInputView\", this.getChild(\"phoneContainer\"), PhoneInputView);\r\n        this.authCodeView = <AutoCodeView>this.addView(\"AutoCodeView\", this.getChild(\"authCodeView\"), AutoCodeView);\r\n        this.authCodeView.setPhoneInputAndType(this.phoneInputView, 2);\r\n        this.pwdInputView = <PwdInputView>this.addView(\"PwdInputView\", this.getChild(\"pwdContainer\"), PwdInputView);\r\n\r\n    }\r\n\r\n    onOpen()\r\n    {\r\n        this.phoneInputView.subViewState = true\r\n        this.authCodeView.subViewState = true\r\n        this.pwdInputView.subViewState = true\r\n    }\r\n\r\n\r\n    private onSureBtnClick()\r\n    {\r\n        if(this.phoneInputView.phone == \"\")\r\n        {\r\n            Global.UI.fastTip(\"请输入手机号码\");\r\n            return;\r\n        }\r\n        if(this.pwdInputView.pwd == \"\")\r\n        {\r\n            Global.UI.fastTip(\"请输入密码\");\r\n            return;\r\n        }\r\n        if(this.authCodeView.code == \"\")\r\n        {\r\n            Global.UI.fastTip(\"请输入验证码\");\r\n            return;\r\n        }\r\n\r\n        if(!this.phoneInputView.isAreaVaild())\r\n        {\r\n            Global.UI.fastTip(\"请选择正确的地区信息\");\r\n            return;\r\n        }\r\n\r\n        let phone = this.phoneInputView.phone;\r\n        let code = this.authCodeView.code;\r\n        let area = this.phoneInputView.area;\r\n        let pwd = this.pwdInputView.pwd;\r\n        \r\n        if(!Global.Toolkit.checkPWFormat(this.pwdInputView.pwd))\r\n        {\r\n            Global.UI.fastTip(Global.Language.getWord(1303));\r\n            return ;\r\n        }\r\n        pwd = Global.Toolkit.md5(pwd);\r\n        this.loginModel.reqChangePwd(phone, pwd, code, area);\r\n    }\r\n}"]}