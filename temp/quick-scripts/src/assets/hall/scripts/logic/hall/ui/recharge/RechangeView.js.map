{"version":3,"sources":["assets\\hall\\scripts\\logic\\hall\\ui\\recharge\\RechangeView.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import ViewBase from \"../../../core/ui/ViewBase\";\r\nimport RechargeModel from \"../../../hallcommon/model/RechargeModel\";\r\nimport RechargePayView from \"./RechargePayView\";\r\nimport AppHelper from \"../../../core/tool/AppHelper\";\r\nimport RechagreTipModel from \"../../../hallcommon/model/RechagreTipModel\";\r\nimport WaitingView from \"../waiting/WaitingView\";\r\n\r\nexport default class RechangeView extends ViewBase {\r\n    private rechargePayView: RechargePayView;\r\n\r\n    private curPayType: string = '';\r\n    private model: RechargeModel;\r\n    private btnLayout: cc.Layout;\r\n    private Tipmodel: RechagreTipModel;\r\n    private copyToggle: cc.Node;\r\n    private toggleList = [];\r\n    private fanliIconNode: cc.Node;\r\n    private waitingNode :cc.Node;\r\n    protected onSubViewShow() {\r\n        if(this.waitingNode)\r\n        {\r\n            this.waitingNode.active = true;\r\n        }\r\n        this.rechargePayView.subViewState = true\r\n        this.model.reqGetPayConfig();\r\n    }\r\n    protected initView() {\r\n        this.node.width = cc.Canvas.instance.node.width;\r\n        this.node.height = cc.Canvas.instance.node.height;\r\n        this.model = <RechargeModel>Global.ModelManager.getModel(\"RechargeModel\");\r\n        this.model.on(RechargeModel.ReadyForConfig, this, this.show);\r\n        this.rechargePayView = <RechargePayView>this.addView(\"RechargePayView\", this.getChild(\"payView\"), RechargePayView);\r\n        this.copyToggle = this.getChild(\"leftBtns/toggle_1\");\r\n        this.btnLayout = <cc.Layout>this.getComponent(\"leftBtns/toggleSv/view/btnLayout\", cc.Layout);\r\n        this.copyToggle.active = false;\r\n        this.fanliIconNode = this.getChild(\"leftBtns/fanli\");\r\n        this.fanliIconNode.active = false\r\n        if(this.waitingNode == null|| this.waitingNode == undefined){\r\n            //view 内的loading\r\n            this.waitingNode = WaitingView.initWaitingView(this.node,cc.v2(138,0));\r\n        }\r\n    }\r\n    private initToggleList() {\r\n        let payCfgList = this.model.getPayListData();\r\n        this.recycleToggleList();\r\n        let isForceSelect = true;\r\n        for (let i = 0; i < payCfgList.length; i++) {\r\n            let item = this.toggleList[i];\r\n            if (!item) {\r\n                let node = cc.instantiate(this.copyToggle);\r\n                node.setParent(this.btnLayout.node);\r\n                item = new ToggleItem(node, this.onToggleClick, this);\r\n                this.toggleList.push(item);\r\n            }\r\n            item.active = true;\r\n            item.setItemStyle(payCfgList[i].pay_key);\r\n            if (payCfgList[i].tip_status === 1) {\r\n                item.addFanliIcon(this.fanliIconNode, payCfgList[i].tip);\r\n            }\r\n            if (this.curPayType === payCfgList[i].pay_key) {    // 设置当前页签\r\n                isForceSelect = false;\r\n                item.setToggleChecked(true);\r\n                item.moveFanli(true);\r\n            }\r\n        }\r\n\r\n        if (!Global.Toolkit.isEmptyObject(payCfgList) && isForceSelect) {\r\n            this.curPayType = payCfgList[0].pay_key;\r\n            let curToggle = this.toggleList.find((item)=> item.itemkey == this.curPayType);\r\n            if(curToggle){\r\n                curToggle.moveFanli(true);\r\n            }\r\n        }\r\n    }\r\n\r\n    public ShowVip() {\r\n        let viewName = \"vippay\";\r\n        if (viewName == this.curPayType) return;\r\n        this.curPayType = viewName;\r\n        this.toggleList.forEach((Element) => {\r\n            if (Element.itemkey == viewName) {\r\n                Element.setToggleChecked(true);\r\n                Element.moveFanli(true);\r\n            }\r\n        })\r\n        this.rechargePayView.showView(viewName);\r\n    }\r\n\r\n    private recycleToggleList() {\r\n        this.toggleList.forEach(element => {\r\n            if(element)\r\n            {\r\n                element.active = false;\r\n                let fanliNode = cc.find(\"Fanli\",element.node)\r\n                if(fanliNode)\r\n                {\r\n                    fanliNode.active = false\r\n                }\r\n            }\r\n            \r\n        });\r\n    }\r\n\r\n    private onToggleClick(name: string) {\r\n        let viewName = name;\r\n        if (viewName == this.curPayType) return;\r\n        this.curPayType = viewName;\r\n        this.rechargePayView.showView(viewName);\r\n        this.toggleList.forEach(element => {\r\n            if(element.itemkey == name){\r\n                element.moveFanli(true);\r\n                element.toggleChecked(false);\r\n            }else{\r\n                element.moveFanli(false);\r\n                element.toggleChecked(true);\r\n            }\r\n        });\r\n    }\r\n\r\n    private show() {\r\n        if(this.waitingNode){\r\n            this.waitingNode.active = false;\r\n        }\r\n        this.initToggleList();\r\n        this.Tipmodel = <RechagreTipModel>Global.ModelManager.getModel(\"RechagreTipModel\");\r\n        if (this.Tipmodel.RechagreTipModel && this.Tipmodel.Salenum && this.Tipmodel.Salenum > 0) {\r\n            if (this.Tipmodel.flag) {\r\n                cc.error(this.Tipmodel.flag)\r\n                return\r\n            }\r\n            else {\r\n                this.Tipmodel.flag = true;\r\n                Global.UI.show(\"WndRechangeTip\", this.Tipmodel.Salenum)\r\n            }\r\n\r\n        }\r\n        this.rechargePayView.showView(this.curPayType);\r\n    }\r\n    protected onSubViewHide() {\r\n    }\r\n    protected onDispose() {\r\n        this.curPayType = '';\r\n        this.toggleList = [];\r\n        if (this.model){\r\n            this.model.clearReqTimeout();\r\n            this.model.off(RechargeModel.ReadyForConfig, this, this.show);\r\n        }\r\n    }\r\n}\r\n\r\nclass ToggleItem extends ViewBase {\r\n    public itemkey = '';\r\n    private toggleComp: cc.Toggle;\r\n    private typeSprite: cc.Sprite;\r\n\r\n     //赠送入款专区特殊处理（原vip入款）\r\n     private isVipItem:boolean = false;  //标识是否为赠送专区入款\r\n     private vipSpine:cc.Node;       //动效\r\n     private vipSprite:cc.Sprite;        //页签文字（切图）\r\n    //  private vipSprite1:cc.Sprite;        //页签文字（切图）\r\n    //  private goldSpine:cc.Sprite;       // 闪光动效\r\n    //  private goldSpine1:cc.Sprite;       // 闪光动效\r\n     private vipFanli:cc.Sprite;           //返利\r\n     private vipFanliLabel:cc.Label;     //返利百分比文字\r\n     //赠送入款专区特殊处理（原vip入款）\r\n\r\n    constructor(node: cc.Node, private callback: Function, private target: any) {\r\n        super();\r\n        this.setNode(node);\r\n    }\r\n\r\n    protected initView() {\r\n        this.typeSprite = <cc.Sprite>this.getComponent(\"typeSprite\", cc.Sprite);\r\n        this.addCommonClick(\"\", this.onItemClick, this);\r\n        this.toggleComp = <cc.Toggle>this.getComponent(\"\", cc.Toggle);\r\n         //赠送入款专区特殊处理（原vip入款）\r\n         this.vipSpine = <cc.Node>this.getChild(\"vipSpine\");\r\n         this.vipSprite = <cc.Sprite>this.getComponent(\"vipSprite\",cc.Sprite);\r\n        //  this.vipSprite1 = <cc.Sprite>this.getComponent(\"vipSprite1\",cc.Sprite);\r\n        //  this.goldSpine = <cc.Sprite>this.getComponent(\"goldSpine\",cc.Sprite);\r\n        //  this.goldSpine1 = <cc.Sprite>this.getComponent(\"goldSpine1\",cc.Sprite);\r\n         this.vipFanli = <cc.Sprite>this.getComponent(\"vipFanli\",cc.Sprite);\r\n         this.vipFanliLabel = <cc.Label>this.getComponent(\"vipFanli/label\",cc.Label);\r\n        //  this.vipSpine.node.active = false;\r\n        //  this.vipSprite.node.active = false;\r\n        //  this.vipFanli.active = false;\r\n         //赠送入款专区特殊处理（原vip入款）\r\n        \r\n    }\r\n\r\n    private onItemClick() {\r\n        if (this.callback) {\r\n            // console.error(\"点击\",this.target,this.itemkey,this.callback);\r\n            this.callback.call(this.target, this.itemkey);\r\n        }\r\n    }\r\n\r\n     //赠送入款专区特殊处理（原vip入款）\r\n     private setVipItemStyle(){\r\n        // let check_close = <cc.Node>this.getChild(\"check_close\");\r\n        // let check_open = <cc.Node>this.getChild(\"check_open\");\r\n        // check_close.active = false;\r\n        this.vipSprite.node.active = true;\r\n        // this.vipSprite1.node.active = true;\r\n        this.vipSpine.active = true;\r\n        // this.goldSpine.node.active = true;\r\n        // this.goldSpine1.node.active = true;\r\n        this.isVipItem = true;\r\n    }\r\n    //赠送入款专区特殊处理（原vip入款）\r\n\r\n    //赠送入款专区特殊处理（原vip入款）\r\n    private setVipItemFanli(sale){\r\n        this.vipFanli.node.active = true;\r\n        this.vipFanliLabel.string = parseFloat(sale).toString();\r\n    }\r\n    //赠送入款专区特殊处理（原vip入款）\r\n\r\n    public setItemStyle(key: string) {\r\n        this.itemkey = key;\r\n        if (key == RechargeModel.PayType.Vip){\r\n            this.setVipItemStyle();\r\n            return;\r\n        }\r\n        let bgCfg = Global.Setting.SkinConfig.rechargeIconsCfg[key];\r\n        if (!bgCfg) return Logger.error(\"未配置key\", key);\r\n        let [normal, checked] = bgCfg;\r\n        if (Global.Setting.SkinConfig.isPurple) {\r\n            //紫色是图片\r\n            let bg = <cc.Sprite>this.getComponent(\"check_close/btnLayout/bg\", cc.Sprite);\r\n            let checkBg = <cc.Sprite>this.getComponent(\"check_open/btnLayout/bg\", cc.Sprite);\r\n            let bg1 = <cc.Sprite>this.getComponent(\"check_close/btnLayout/bg1\", cc.Sprite);\r\n            let checkBg1 = <cc.Sprite>this.getComponent(\"check_open/btnLayout/bg1\", cc.Sprite);\r\n            let layout = <cc.Layout>this.getComponent(\"check_close/btnLayout\", cc.Layout);\r\n            let layout1 = <cc.Layout>this.getComponent(\"check_open/btnLayout\", cc.Layout);\r\n            let typeNode = <cc.Sprite>this.getComponent(\"check_close/typeNode\", cc.Sprite);\r\n            let typeNode1 = <cc.Sprite>this.getComponent(\"check_open/typeNode\", cc.Sprite);\r\n            Global.ResourceManager.loadAutoAtlas(bg, \"hall/texture/hall/rechargeCash/rechargeCash\", normal);\r\n            Global.ResourceManager.loadAutoAtlas(checkBg, \"hall/texture/hall/rechargeCash/rechargeCash\", checked);\r\n            if (Global.Setting.SkinConfig.rechargeIconsCfg[key][3]) {\r\n                Global.ResourceManager.loadAutoAtlas(typeNode, \"hall/texture/hall/rechargeCash/rechargeCash\", Global.Setting.SkinConfig.rechargeIconsCfg[key][3]);\r\n                typeNode.node.active = true;\r\n                layout.node.x = 18;\r\n                // layout1.node.x = 18;\r\n            } else {\r\n                typeNode.node.active = false;\r\n                layout.node.x = 6;\r\n                // layout1.node.x = 6;\r\n            }\r\n            if (Global.Setting.SkinConfig.rechargeIconsCfg[key][4]) {\r\n                Global.ResourceManager.loadAutoAtlas(typeNode1, \"hall/texture/hall/rechargeCash/rechargeCash\", Global.Setting.SkinConfig.rechargeIconsCfg[key][4]);\r\n                typeNode1.node.active = true;\r\n                // layout.node.x = 18;\r\n                layout1.node.x = 18;\r\n            } else {\r\n                typeNode1.node.active = false;\r\n                // layout.node.x = 6;\r\n                layout1.node.x = 6;\r\n            }\r\n            let _index = key.indexOf(\"_\");\r\n            if (_index > -1) {\r\n                let config_index = \"\";\r\n                config_index = key.substring(_index + 1);\r\n                Global.ResourceManager.loadAutoAtlas(bg1, \"hall/texture/hall/rechargeCash/rechargeCash\", \"img_\" + config_index);\r\n                Global.ResourceManager.loadAutoAtlas(checkBg1, \"hall/texture/hall/rechargeCash/rechargeCash\", \"img_\" + config_index);\r\n                // if (Global.Setting.SkinConfig.rechargeIconsCfg[key][3]) {  \r\n                //     bg1.node.x = bg.node.x + bg.node.width / 2 - 4;\r\n                //     checkBg1.node.x = checkBg.node.x + checkBg.node.width / 2 - 4;\r\n                // } else {\r\n                //     bg1.node.x = 48;\r\n                //     checkBg1.node.x = 48;\r\n                // }\r\n                // bg1.node.x = bg.node.x + bg.node.width / 2 - 4;\r\n                // checkBg1.node.x = checkBg.node.x + checkBg.node.width / 2 - 4;\r\n                bg1.node.active = true;\r\n                checkBg1.node.active = true;\r\n            } else {\r\n                bg1.node.active = false;\r\n                checkBg1.node.active = false;\r\n            }\r\n        }\r\n        else {\r\n            let bg = <cc.Label>this.getComponent(\"check_close/bg\", cc.Label);\r\n            let checkBg = <cc.Label>this.getComponent(\"check_open/bg\", cc.Label);\r\n            // let fontSize = 27\r\n            // if(normal.length > 4){ //海外支付字体比较小\r\n            //     bg.fontSize = 21;\r\n            //     checkBg.fontSize = 21;\r\n            // }else{\r\n            //     bg.fontSize = fontSize;\r\n            //     checkBg.fontSize = fontSize;\r\n            // }\r\n            bg.string = normal\r\n            checkBg.string = checked\r\n            if (Global.Setting.SkinConfig.rechargeIconsCfg[key][3]) {\r\n                Global.ResourceManager.loadAutoAtlas(this.typeSprite, \"hall/texture/hall/rechargeCash/rechargeCash\", Global.Setting.SkinConfig.rechargeIconsCfg[key][3]);\r\n                this.typeSprite.node.active = true;\r\n                // layout1.node.x = 18;\r\n            }\r\n        }\r\n        \r\n            \r\n    }\r\n\r\n    public addFanliIcon(fanliNode: cc.Node, sale) {\r\n         //赠送入款专区特殊处理（原vip入款）\r\n         if (this.isVipItem){\r\n            this.setVipItemFanli(sale);\r\n            return;\r\n        }\r\n        //赠送入款专区特殊处理（原vip入款）\r\n        let old = cc.find(\"Fanli\", this.node)\r\n        if (old) {\r\n            old.removeFromParent(false)\r\n        }\r\n        let obj = cc.instantiate(fanliNode)\r\n        obj.name = \"Fanli\"\r\n        let txtObj = cc.find(\"content\", obj).getComponent(cc.Label)\r\n        txtObj.string = sale;\r\n        obj.setParent(this.node)\r\n        obj.active = true;\r\n        obj.setPosition(44, 30);\r\n    }\r\n\r\n    //移动返利节点\r\n    public moveFanli(isCheck){\r\n        let fanliNode = cc.find(\"Fanli\",this.node);\r\n        if(fanliNode){\r\n            // isCheck ? fanliNode.setPosition(60, 30) : fanliNode.setPosition(Global.Setting.SkinConfig.rechargeFanliPos[0], Global.Setting.SkinConfig.rechargeFanliPos[1]);\r\n            fanliNode.setPosition(44, 30)\r\n        }\r\n    }\r\n\r\n    // 切换显示\r\n    public toggleChecked(isCheck) {\r\n        let checkClose = cc.find(\"check_close\", this.node);\r\n        checkClose.active = isCheck;\r\n        let checkOpen = cc.find(\"check_open\", this.node);\r\n        checkOpen.active = !isCheck;\r\n    }\r\n\r\n    public setToggleChecked(flag: boolean) {\r\n        if (flag)\r\n            this.toggleComp.check();\r\n        else\r\n            this.toggleComp.uncheck();\r\n    }\r\n\r\n}"]}