{"version":3,"sources":["assets\\hall\\scripts\\logic\\hall\\ui\\recharge\\VipPayView.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import ViewBase from \"../../../core/ui/ViewBase\";\r\nexport default class VipPayView extends ViewBase{\r\n    private copyNode: cc.Node;\r\n    private svContent: cc.Node;\r\n    private sv: cc.ScrollView;\r\n    private model: RechargeModel;\r\n    private listView: any;\r\n\r\n    protected initView(){\r\n        this.model = Global.ModelManager.getModel(\"RechargeModel\");\r\n        this.sv = this.getComponent(\"scrollView\", cc.ScrollView);\r\n        this.svContent = this.getChild(\"scrollView/view/content\");\r\n        this.copyNode = this.getChild(\"scrollView/view/content/vipItem\");\r\n        this.copyNode.active = false;\r\n        this.initListView();\r\n    }\r\n\r\n    private initListView(){\r\n        let item_setter = (item, index, data) =>{\r\n            new VipItem(item, data);\r\n        };\r\n\r\n        this.listView = Global.UIHelper.addScrollViewCarmackComp(this.sv.node, this.copyNode, 10, 0, this, item_setter);\r\n    }\r\n\r\n    public updateScrollView(list){\r\n        let dataArr: Array<any> = list || [];\r\n        this.listView.clearView();\r\n        if (!Global.Toolkit.isEmptyObject(dataArr)){   \r\n            this.listView.allDatas = Global.Toolkit.getOutOrderArray(dataArr);\r\n            this.listView.updateView();\r\n        }\r\n    }\r\n\r\n    protected onSubViewShow() {\r\n        \r\n    }\r\n\r\n    protected onSubViewHide() {\r\n        \r\n    }\r\n}\r\n\r\nimport RechargeModel from \"../../../hallcommon/model/RechargeModel\";\r\nimport AppHelper from \"../../../core/tool/AppHelper\";\r\nimport { CustomerEntranceType } from \"../../../hallcommon/model/ServicerModel\";\r\n\r\nclass VipItem extends ViewBase{\r\n    private vipHeadSp: cc.Sprite;\r\n    private vipNameLbl: cc.Label;\r\n    private iconList: Array<cc.Node> = [];\r\n    private creditNode: cc.Node;\r\n    private creditTypeLbl: cc.RichText;\r\n    \r\n    private xingNode: cc.Node;\r\n    private salesLabel: cc.Label;\r\n    private extCfg = [\r\n        \"花呗\",\r\n        \"信用卡\",\r\n        \"qq钱包\"\r\n    ]\r\n    private payType ={\r\n        1000:1, //支付宝\r\n        1001:0, //微信\r\n        1002:2, //银行卡\r\n    }\r\n    private oldPayType ={\r\n        1:1, //支付宝\r\n        2:0, //微信\r\n        3:2 //银行卡\r\n    }\r\n    private w: number;\r\n    private h: number;\r\n\r\n    constructor(node: cc.Node, private data: any){\r\n        super();\r\n        this.setNode(node);\r\n    }\r\n\r\n    protected initView(){\r\n        this.vipHeadSp = this.getComponent(\"leftNode/vipHead\", cc.Sprite);\r\n        this.w = this.vipHeadSp.node.width;\r\n        this.h = this.vipHeadSp.node.height;\r\n        this.vipNameLbl = this.getComponent(\"leftNode/vipNameLbl\", cc.Label);\r\n        this.creditNode = this.getChild(\"leftNode/layout/creditNode\");\r\n        this.creditTypeLbl = this.getComponent(\"leftNode/layout/creditNode/type\", cc.RichText);\r\n\r\n        this.iconList = [];\r\n        for (let i=1; i<= 3; i++){\r\n            let iconNode = this.getChild(\"rightNode/iconList/icon\"+ String(i));\r\n            iconNode.active = false;\r\n            this.iconList.push(iconNode);\r\n        }\r\n        this.xingNode = this.getChild(\"leftNode/layout/xingList\");\r\n        this.salesLabel = this.getComponent(\"rightNode/sales\", cc.Label);\r\n        this.getChild('rightNode/payBtn').off('click'); // debug 事件无法直接覆盖\r\n        this.addCommonClick(\"rightNode/payBtn\", this.openVipService, this);\r\n        this.setItemStyle();\r\n    }\r\n\r\n    private openVipService(){\r\n\r\n        if(Global.Toolkit.checkRechargeLimited())\r\n        {\r\n            return\r\n        }\r\n        if(this.data.ptype == CustomerEntranceType.QuickPayService){\r\n            Global.ChatServer.serverType = CustomerEntranceType.QuickPayService;\r\n            Global.ChatServer.userSetting(this.data);\r\n            \r\n        }else{\r\n            let jumpType = this.data.open_type;\r\n            let url = this.data.url;\r\n            switch (jumpType) {\r\n                case 0:\r\n                    if (!url) {\r\n                        Global.UI.fastTip(\"配置异常\");\r\n                        return;\r\n                    }\r\n                    if (String(url).indexOf('http') < 0) {\r\n                        url = \"http://\" + url;\r\n                    }\r\n                    cc.sys.openURL(Global.Toolkit.DealWithUrl(url))\r\n                    break\r\n                case 1:\r\n                    Global.UI.show(\"WndRechargeVipShow\", this.data);\r\n                    break;\r\n                case 2:\r\n                    if (!url) {\r\n                        Global.UI.fastTip(\"配置异常\");\r\n                        return;\r\n                    }\r\n                    Global.ChatServer.userSetting(null, url);\r\n                    break;\r\n                case 3:\r\n                    if (!url) {\r\n                        Global.UI.fastTip(\"配置异常\");\r\n                        return;\r\n                    }\r\n                    if (String(url).indexOf('http') < 0) {\r\n                        url = \"http://\" + url;\r\n                    }\r\n                    url = Global.Toolkit.AssembyUrl(url)\r\n                    cc.sys.openURL(Global.Toolkit.DealWithUrl(url))\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    private setItemStyle(){\r\n        this.vipNameLbl.string = Global.Toolkit.substrEndWithElli(this.data.name, 14);\r\n        this.setIconList();\r\n        this.setCredit();\r\n        this.setHead();\r\n        this.setXingXing();\r\n    }\r\n\r\n    private setIconList(){\r\n        let payList = this.data.pay_type || [];\r\n        if(this.data.ptype == CustomerEntranceType.QuickPayService){\r\n            for (const payKey in payList) {\r\n                let iconIndex = this.payType[payList[payKey]];\r\n                if(iconIndex !=null && iconIndex !=undefined){\r\n                    let iconNode = this.iconList[iconIndex];\r\n                    iconNode.active = true;\r\n                }\r\n            }\r\n        }else{\r\n            for (const payKey in payList) {\r\n                let iconIndex = this.oldPayType[payList[payKey]];\r\n                if(iconIndex !=null && iconIndex !=undefined){\r\n                    let iconNode = this.iconList[iconIndex];\r\n                    iconNode.active = true;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private setCredit(){\r\n        let extList = this.data.ext_type || [];\r\n        if (extList.length > 0){\r\n            this.creditNode.active = true;\r\n            let str = \"\";\r\n            extList.forEach((e, index) => {\r\n                if (index > 0){\r\n                    str += '·';\r\n                }\r\n                str += this.extCfg[e-1];\r\n            });\r\n            this.creditTypeLbl.string = str;\r\n            this.creditNode.width = 50 + extList.length * 60;\r\n        }\r\n        else{\r\n            this.creditNode.active = false;\r\n        }\r\n    }\r\n\r\n    private setHead(){\r\n        let sfName = this.data.head_url || '1';\r\n        // Global.ResourceManager.loadAutoAtlas(this.vipHeadSp, \"hall/texture/hall/rechargeCash/rechargeCash\", sfName)\r\n        this.vipHeadSp.spriteFrame = Global.Toolkit.getLocalHeadSf(sfName)\r\n        this.vipHeadSp.node.width = this.w;\r\n        this.vipHeadSp.node.height = this.h;\r\n    }\r\n    private setXingXing(){\r\n        //销量\r\n        // if(this.data.sales){\r\n        //     this.salesLabel.node.active = true;\r\n        //     this.salesLabel.string = `月销${this.data.sales}+`;\r\n        // }else{\r\n        //     this.salesLabel.node.active = false;\r\n        // }\r\n        //星星\r\n        let xingNumber = Number(this.data.xingxing || '0');\r\n        // if(xingNumber > 0){\r\n        //     this.xingNode.active = true;\r\n        // }else{\r\n        //     this.xingNode.active = false;\r\n        // }\r\n        for (let i=0; i<5; i++){\r\n            let iconNode:cc.Sprite = this.getComponent(\"leftNode/layout/xingList/xing\"+ String(i), cc.Sprite);\r\n            if(xingNumber >= 1){\r\n                Global.ResourceManager.loadAutoAtlas(iconNode,\"hall/texture/hall/chat/chat\", \"f_20\", null, false);\r\n            }else if( xingNumber > 0){\r\n                Global.ResourceManager.loadAutoAtlas(iconNode,\"hall/texture/hall/chat/chat\", \"f_19\", null, false);\r\n            }else{\r\n                Global.ResourceManager.loadAutoAtlas(iconNode,\"hall/texture/hall/chat/chat\", \"f_18\", null, false);\r\n            }\r\n            xingNumber = xingNumber -1;\r\n        }\r\n    }\r\n    public setPos(x: number, y: number){\r\n        this.node.x = x;\r\n        this.node.y = y;\r\n    }\r\n}"]}