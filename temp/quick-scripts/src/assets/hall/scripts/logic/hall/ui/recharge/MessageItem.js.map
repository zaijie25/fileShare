{"version":3,"sources":["assets\\hall\\scripts\\logic\\hall\\ui\\recharge\\MessageItem.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["\r\n\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class MessageItem extends cc.Component {\r\n\r\n    @property([cc.SpriteFrame])\r\n    spriteList: Array<cc.SpriteFrame> = [];\r\n\r\n    @property([cc.String])\r\n    stringList: Array<string> = [];\r\n\r\n    @property(cc.Sprite)\r\n    iconSprite: cc.Sprite = null;\r\n\r\n    @property(cc.Label)\r\n    iconName: cc.Label = null;\r\n\r\n    @property(cc.Label)\r\n    messageLabel: cc.Label = null;\r\n\r\n    private _isRechargePanel: boolean = false;\r\n    private _isMyself: boolean = false;\r\n    private _isOther: boolean = false;\r\n    private holdTime = 0;    //用来检测长按\r\n    private holdClick = false;  //用来检测点击\r\n\r\n    /* @property(cc.Label)\r\n    servicerName: cc.Label = null;\r\n\r\n    @property([cc.SpriteFrame])\r\n    btnSpriteList : Array<cc.SpriteFrame> = []; */\r\n\r\n    /* private data : any = null;\r\n    private btn_RichText: cc.RichText;\r\n    private btnSprite: cc.Sprite;\r\n    // private btn_Label: cc.Label;\r\n    private isOnlineServicer: boolean = false; */\r\n\r\n    public get isRechargePanel(): boolean {\r\n        return this._isRechargePanel;\r\n    }\r\n\r\n    public set isRechargePanel(isPanrel: boolean) {\r\n        this._isRechargePanel = isPanrel;\r\n    }\r\n\r\n    public get isMyself(): boolean {\r\n        return this._isMyself;\r\n    }\r\n\r\n    public set isMyself(isMyself: boolean) {\r\n        this._isMyself = isMyself;\r\n    }\r\n\r\n    public get isOther(): boolean {\r\n        return this._isOther;\r\n    }\r\n\r\n    public set isOther(isOther: boolean) {\r\n        this._isOther = isOther;\r\n    }\r\n\r\n    reset() {\r\n\r\n    }\r\n\r\n    onLoad() {\r\n        this.node.on(cc.Node.EventType.TOUCH_START, this.touchStart, this);\r\n        this.node.on(cc.Node.EventType.TOUCH_END, this.touchEnd, this);\r\n\r\n    }\r\n\r\n    touchStart() {\r\n        this.holdClick = true;\r\n        this.holdTime = 0;\r\n    }\r\n\r\n    touchEnd() {\r\n        this.holdClick = false;\r\n        //开始记录时间\r\n        this.holdTime = 0;\r\n    }\r\n\r\n    onDestroy() {\r\n        this.node.off(cc.Node.EventType.TOUCH_START, this.touchStart, this);\r\n        this.node.off(cc.Node.EventType.TOUCH_END, this.touchEnd, this);\r\n    }\r\n\r\n    update(dt) {\r\n        if (this.holdClick) {\r\n            this.holdTime += dt;\r\n            if (this.holdTime > 1500) {\r\n                //如果长按时间大于1.5s，则认为长按了1.5s\r\n                this.holdTime = 1500;\r\n                let msg = this.messageLabel.string;\r\n                if (msg && msg != null) {\r\n                    this.ServicerBtnFunc(msg);\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    public setData(data: any) {\r\n\r\n    }\r\n\r\n    copyTextToClipboardCallBack(retStr) {\r\n        if (retStr.result == 0) {\r\n            Global.UI.fastTip(\"已复制到剪贴板\");\r\n        } else {\r\n            Global.UI.fastTip(\"复制失败\");\r\n        }\r\n    }\r\n\r\n    //复制消息\r\n    ServicerBtnFunc(str: string) {\r\n        Global.NativeEvent.copyTextToClipboard(str, this.copyTextToClipboardCallBack.bind(this));\r\n    }\r\n}\r\n"]}