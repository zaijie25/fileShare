{"version":3,"sources":["assets\\hall\\scripts\\logic\\hall\\ui\\recharge\\WndBankRechange.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import WndBase, { DestoryType } from \"../../../core/ui/WndBase\";\r\n\r\nexport default class WndBankRechange extends WndBase {\r\n    private nameLabel: cc.Label;\r\n    private numberLabel: cc.Label;\r\n    private bankNameLabel: cc.Label;\r\n    private tipsLabel: cc.Label;\r\n\r\n    private titleLabel: cc.Label;\r\n    private iconSprite: cc.Sprite;\r\n    private tipNode: cc.Node;\r\n    private bankNode: cc.Node;\r\n    private textNode: cc.Node;\r\n    private textLabel: cc.Label;\r\n    private bg: cc.Node;\r\n    private colorString= {\r\n        1000:\"#478CF6\",\r\n        1001:\"#14AE58\",\r\n        1002:\"#EAB429\",\r\n    };\r\n    protected onInit() {\r\n        this.name = \"WndBankRechange\";\r\n        this.layer = Global.UI.PopLayer;\r\n        this.resPath = \"hall/prefabs/ui/Recharge/BankRechangeUI\";\r\n        this.destoryType = DestoryType.None;\r\n    }\r\n    protected initView() {\r\n        this.node.width     = cc.Canvas.instance.node.width;\r\n        this.node.height    = cc.Canvas.instance.node.height;\r\n        this.bg             = this.getChild(\"bg\");\r\n        this.tipNode        = this.getChild(\"tipNode\");\r\n        this.bankNode       = this.getChild(\"bankNode\");\r\n        this.textNode       = this.getChild(\"bankNode/textNode\");\r\n        this.titleLabel     = this.getChild(\"bankNode/titleLabel\").getComponent(cc.Label);\r\n        this.iconSprite     = this.getChild(\"bankNode/iconSprite\").getComponent(cc.Sprite);\r\n        this.nameLabel      = this.getChild(\"bankNode/textNode/nameLabel\").getComponent(cc.Label);\r\n        this.numberLabel    = this.getChild(\"bankNode/textNode/numberLabel\").getComponent(cc.Label);\r\n        this.bankNameLabel  = this.getChild(\"bankNode/textNode/bankNameLabel\").getComponent(cc.Label);\r\n        this.textLabel    = this.getChild(\"bankNode/textLabel\").getComponent(cc.Label);\r\n        this.tipsLabel      = this.getChild(\"tipNode/tips/tipsLabel\").getComponent(cc.Label);\r\n        this.addCommonClick(\"headNode/btnBack\", this.goBack, this,cc.Button.Transition.NONE);\r\n        this.addCommonClick(\"headNode/helpNode\", this.goBack, this,cc.Button.Transition.NONE);\r\n        this.addCommonClick(\"bankNode/textNode/nameLabel/copyNode\", this.copyName, this,cc.Button.Transition.NONE);\r\n        this.addCommonClick(\"bankNode/textNode/numberLabel/copyNode\", this.copyNumber, this,cc.Button.Transition.NONE);\r\n        this.addCommonClick(\"bankNode/textNode/bankNameLabel/copyNode\", this.copyBankName, this,cc.Button.Transition.NONE);\r\n        // this.addCommonClick(\"bankNode/addresLabel/copyNode\", this.copyAddres, this,cc.Button.Transition.NONE);\r\n    }\r\n    onOpen(){\r\n        // 392\r\n        let data = this.args[0];\r\n        let colorStr = this.colorString[data.pay_type];\r\n        this.bg.color =  new cc.Color().fromHEX(colorStr);\r\n        this.nameLabel.string       = data['name']      //银行卡姓名\r\n        this.numberLabel.string     = data['account']   //银行卡卡号\r\n        this.bankNameLabel.string   = data['bank_type'] //银行名称\r\n        // this.addresLabel.string     = data['bank_zhi']  //支行名称\r\n        this.tipsLabel.string       = data['tips']      //温馨提示\r\n\r\n        this.updateUI(data);\r\n    }\r\n    //更新界面\r\n    private updateUI(data){\r\n        let tipWidget = this.tipNode.getComponent(cc.Widget);\r\n        if(data.pay_type == \"1002\"){\r\n            this.bankNode.height = 310\r\n            tipWidget.top = 530;\r\n            this.textNode.y = -180;\r\n            this.textLabel.node.active = true;\r\n        }else{\r\n            this.bankNode.height = 270\r\n            tipWidget.top = 490;\r\n            this.textNode.y = -130;\r\n            this.textLabel.node.active = false;\r\n        }\r\n        tipWidget.updateAlignment();\r\n\r\n        if(data.pay_type == \"1000\"){\r\n            this.titleLabel.string = \"支付宝银行卡转账\";\r\n            Global.ResourceManager.loadAutoAtlas(this.iconSprite,\"hall/texture/hall/chat/chat\", \"f_35\", null, false);\r\n            this.iconSprite.node.x = -110\r\n        }else if(data.pay_type == \"1001\"){\r\n            this.titleLabel.string = \"微信银行卡转账\";\r\n            Global.ResourceManager.loadAutoAtlas(this.iconSprite,\"hall/texture/hall/chat/chat\", \"f_36\", null, false);\r\n            this.iconSprite.node.x = -100\r\n        }else{\r\n            this.titleLabel.string = \"银行卡收款\";\r\n            Global.ResourceManager.loadAutoAtlas(this.iconSprite,\"hall/texture/hall/chat/chat\", \"f_34\", null, false);\r\n            this.iconSprite.node.x = -70\r\n        }\r\n\r\n    }\r\n    private goBack() {\r\n        this.close();\r\n    }\r\n    \r\n    private copyName() {\r\n        Global.NativeEvent.copyTextToClipboard(String(this.nameLabel.string), this.copyTextToClipboardCallBack.bind(this) );\r\n    }\r\n    private copyNumber() {\r\n        Global.NativeEvent.copyTextToClipboard(String(this.numberLabel.string), this.copyTextToClipboardCallBack.bind(this) );\r\n    }\r\n    private copyBankName() {\r\n        Global.NativeEvent.copyTextToClipboard(String(this.bankNameLabel.string), this.copyTextToClipboardCallBack.bind(this) );\r\n    }\r\n    // private copyAddres() {\r\n    //     Global.NativeEvent.copyTextToClipboard(String(this.addresLabel.string), this.copyTextToClipboardCallBack.bind(this) );\r\n    // }\r\n    /**\r\n     * 复制回调\r\n     * @param retStr \r\n     */\r\n    private copyTextToClipboardCallBack(retStr){\r\n        if (retStr.result == 0) {\r\n            Global.UI.fastTip(\"复制成功\");\r\n        }else {\r\n            Global.UI.fastTip(\"复制失败\");\r\n        }\r\n    }\r\n}"]}