{"version":3,"sources":["assets\\hall\\scripts\\logic\\hall\\ui\\rank\\RankItem.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["\r\n\r\n//游戏列表item\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class RankItem extends cc.Component {\r\n    @property(cc.Label)\r\n    LabelName :cc.Label = null;\r\n    @property(cc.Label)\r\n    LabelID :cc.Label = null;\r\n    @property(cc.Label)\r\n    LabelCount : cc.Label = null;\r\n    @property(cc.Label)\r\n    selfRankLab :cc.Label = null;\r\n    @property(cc.Node)\r\n    headImg : cc.Node = null;\r\n    @property(cc.Sprite)\r\n    selfRankSprite :cc.Sprite = null;\r\n\r\n    onLoad()\r\n    {\r\n        this.headImg.on(cc.Node.EventType.TOUCH_END, this.onHeadClick, this)\r\n    }\r\n\r\n    Init(data:any){\r\n        if (Number(data.headimg)) {\r\n            let headSprite = this.headImg.getComponent(cc.Sprite)\r\n            let tempFrame = Global.Toolkit.getLocalHeadSf(data.headimg)\r\n            headSprite.spriteFrame = tempFrame\r\n        } else {\r\n            Global.Toolkit.loadWebPic(this.headImg, data.headimg)\r\n        }\r\n        let LabelStr = data.uid+\"\"\r\n        this.LabelID.string =  Global.Toolkit.formateStrWithAsterisk(LabelStr, LabelStr.length-4, 1);\r\n\r\n        this.LabelName.string =  Global.Toolkit.substrEndWithElli( data.name ,8);\r\n        this.LabelCount.string = Global.Toolkit.GetText(data.point);\r\n        this.selfRankLab.string =(data.rank == null)?\"W\":data.rank;\r\n        let self = this\r\n        this.selfRankLab.node.active = false\r\n        let atlasPath = \"hall/texture/rank/rankAtlas\"\r\n        if (data.rank > 3)\r\n        {\r\n            //大于三 排名后紫色有背景图，红色没有背景图\r\n            if(Global.Setting.SkinConfig.isPurple)\r\n            {\r\n                Global.ResourceManager.loadAutoAtlas(this.selfRankSprite, atlasPath, \"rank_04\", null, false);\r\n            }\r\n            else\r\n            {\r\n                self.selfRankSprite.spriteFrame = null;\r\n            }\r\n            self.selfRankLab.node.active = true;\r\n        }\r\n        else\r\n        {\r\n            //中国红前三是图标和文本一起组成，需要显示\r\n            if(Global.Setting.SkinConfig.isRed)\r\n            {\r\n                self.selfRankLab.node.active = true;\r\n            }\r\n            switch (data.rank) {\r\n                case 1:\r\n                    Global.ResourceManager.loadAutoAtlas(this.selfRankSprite, atlasPath, \"rank_01\", null, false);\r\n                    break;\r\n                case 2 :\r\n                    Global.ResourceManager.loadAutoAtlas(this.selfRankSprite, atlasPath, \"rank_02\", null, false);\r\n                    break;\r\n                case 3 :\r\n                    Global.ResourceManager.loadAutoAtlas(this.selfRankSprite, atlasPath, \"rank_03\", null, false);\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n    \r\n    onHeadClick() {\r\n        //Global.UI.getWindow<WndRank>(\"WndRank\").RefreshInfoPanel()\r\n    }\r\n\r\n   \r\n}\r\n"]}