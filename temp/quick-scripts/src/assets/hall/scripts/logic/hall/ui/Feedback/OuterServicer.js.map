{"version":3,"sources":["assets\\hall\\scripts\\logic\\hall\\ui\\Feedback\\OuterServicer.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import AbsServicer from \"./AbsServicer\";\r\n\r\n\r\n\r\n/**\r\n   跳转外部打开的客服。如：在线客服，QQ，微信，在线客服等\r\n */\r\nexport default abstract class OuterServicer extends AbsServicer {\r\n\r\n    public acceptService(index:number){\r\n        this.jumpOrOpen(this.serviceDatas[index]);\r\n    }\r\n    //跳转或打开\r\n    abstract jumpOrOpen(data);\r\n\r\n}\r\n\r\nexport class QqServicer extends OuterServicer {\r\n\r\n\r\n    jumpOrOpen(data: any) {\r\n        Global.NativeEvent.copyTextToClipboard(data.info, (retStr)=>{\r\n            if (retStr.result == 0) {\r\n                Global.UI.fastTip(\"复制成功\");\r\n                Global.NativeEvent.awakeQQApp(this.awakeQQCallBack.bind(this));\r\n            }else {\r\n                Global.UI.fastTip(\"复制失败\");\r\n            }\r\n        } );\r\n    }\r\n\r\n    awakeQQCallBack( retStr ){\r\n        if (retStr.result == 0) {\r\n        } \r\n        else {\r\n            let ret = retStr.result\r\n            if (ret == -1) {\r\n                Logger.log(\"请先安装QQ\");\r\n                Global.UI.showSingleBox(\"请先安装QQ\", null);\r\n            } else {\r\n                Logger.log(\"打开QQ失败\");\r\n                Global.UI.showSingleBox(\"打开QQ失败\", null);\r\n            }\r\n        }\r\n    }\r\n\r\n   \r\n}\r\n\r\nexport class WxServicer extends OuterServicer {\r\n\r\n    jumpOrOpen(data: any) {\r\n        Global.NativeEvent.copyTextToClipboard(data.info, (retStr)=>{\r\n            if (retStr.result == 0) {\r\n                Global.UI.fastTip(\"复制成功\");\r\n                Global.NativeEvent.awakeWechatApp(this.awakeWeChatCallBack.bind(this));\r\n            }else {\r\n                Global.UI.fastTip(\"复制失败\");\r\n            }\r\n        } );\r\n    }\r\n\r\n    awakeWeChatCallBack( retStr ){\r\n        if (retStr.result == 0) {\r\n        } else {\r\n            let ret = retStr.result\r\n            if (ret == -1) {\r\n                Logger.log(\"请先安装微信\");\r\n                Global.UI.showSingleBox(\"请先安装微信\", null);\r\n            } else {\r\n                Logger.log(\"打开微信失败\");\r\n                Global.UI.showSingleBox(\"打开微信失败\", null);\r\n            }\r\n        }\r\n    }\r\n   \r\n}\r\n\r\nexport class OnlineServicer extends OuterServicer {\r\n\r\n\r\n    jumpOrOpen(data: any) {\r\n        cc.sys.openURL(Global.Toolkit.DealWithUrl(data.info));\r\n    }\r\n\r\n\r\n   \r\n}"]}