{"version":3,"sources":["assets\\hall\\scripts\\logic\\hall\\ui\\recharge\\WndVipQuickPayChat.ts"],"names":[],"mappings":"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C,IAAI,EAAC,EAAE,EAAC,IAAI,EAAC,EAAE,EAAC,IAAI,EAAC,EAAE,EAAC,KAAK,EAAC,EAAE,EAAC,IAAI,EAAC,EAAE,EAAC,IAAI,EAAC,EAAE,EAAC,IAAI;YAC5F,EAAE,EAAC,KAAK,EAAC,GAAG,EAAC,IAAI,EAAC,GAAG,EAAC,KAAK,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,IAAI,EAAC,GAAG,EAAC,IAAI,EAAC,GAAG,EAAC,IAAI,EAAC,GAAG,EAAC,IAAI,EAAC,GAAG,EAAC,IAAI,EAAC,GAAG,EAAC,IAAI,EAAC,GAAG,EAAC,IAAI;YAClG,GAAG,EAAC,IAAI,EAAC,GAAG,EAAC,IAAI,EAAC,GAAG,EAAC,IAAI,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,IAAI,EAAC,GAAG,EAAC,KAAK,EAAC,GAAG,EAAC,IAAI,EAAC,GAAG,EAAC,MAAM,EAAC,GAAG,EAAC,KAAK,EAAC,GAAG,EAAC,IAAI;YACpG,GAAG,EAAC,IAAI,EAAC,GAAG,EAAC,KAAK,EAAC,GAAG,EAAC,IAAI,EAAC,GAAG,EAAC,IAAI,EAAC,GAAG,EAAC,IAAI,EAAC,GAAG,EAAC,IAAI,EAAC,GAAG,EAAC,KAAK,EAAC,GAAG,EAAC,IAAI,EAAC,GAAG,EAAC,IAAI,EAAC,GAAG,EAAC,IAAI,EAAC,GAAG,EAAC,IAAI;YACpG,GAAG,EAAC,IAAI,EAAC,GAAG,EAAC,IAAI,EAAC,GAAG,EAAC,KAAK,EAAC,GAAG,EAAC,IAAI,EAAC,GAAG,EAAC,IAAI,EAAC,GAAG,EAAC,IAAI,EAAC,GAAG,EAAC,KAAK,EAAC,GAAG,EAAC,IAAI,EAAC,GAAG,EAAC,IAAI,EAAC,GAAG,EAAC,IAAI,EAAC,GAAG,EAAC,IAAI;YACpG,GAAG,EAAC,IAAI,EAAC,GAAG,EAAC,IAAI,EAAC,GAAG,EAAC,KAAK,EAAC,GAAG,EAAC,IAAI,EAAC,GAAG,EAAC,IAAI,EAAC,GAAG,EAAC,IAAI,EAAC,GAAG,EAAC,MAAM,EAAC,GAAG,EAAC,MAAM,EAAC,GAAG,EAAC,IAAI,EAAC,GAA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","file":"","sourceRoot":"/","sourcesContent":["import WndBase, { DestoryType } from \"../../../core/ui/WndBase\";\r\nimport { italk } from \"../../../core/net/tcp/italkmsg_pb\";\r\nimport { HallRedSpotType } from \"../../../hallcommon/model/HallModel\";\r\nimport { CustomerEntranceType } from \"../../../hallcommon/model/ServicerModel\";\r\nimport ChatCenterNode from \"./ChatCenterNode\";\r\n\r\nexport default class WndVipQuickPayChat extends WndBase {\r\n\r\n    public centerNode: ChatCenterNode;\r\n    private endEditNode: cc.Node;//点击收起键盘的Node\r\n    private botNode: cc.Node;\r\n    private depositNode: cc.Node;\r\n    private inputBox: cc.EditBox;\r\n    private title: cc.Label;\r\n    private plus: cc.Node;\r\n    private sendBtn: cc.Node;\r\n    private emojPanel: cc.Node;\r\n    private photoPanel: cc.Node;\r\n    private emojScrollView: cc.ScrollView;\r\n    private emojTemplateItem: cc.Node;\r\n    private depositScrollView: cc.ScrollView;//充值列表\r\n    private depositItem: cc.Node;\r\n    private spriteString= {\r\n        1000:\"用支付宝充值\",\r\n        1001:\"用微信充值\",\r\n        1002:\"用银行卡充值\",\r\n        10000:\"我充好了\"\r\n    };\r\n    private isPressed: boolean = false;\r\n    private isPhoto: boolean = false;\r\n    private emojText:string = \"<img src='%s' />\";\r\n    public severHeadFrame:cc.SpriteFrame = null;\r\n    public data = new Array();\r\n    public depositBottom = 165;\r\n    public depositH = 60; //间距\r\n    public depositData = new Array();\r\n    public isOpen = false;\r\n    public copyBtn:cc.Node\r\n    private copyText = \"\"\r\n    emojMap={\r\n        0:\"大笑\",1:\"开心\",2:\"泪哭\",3:\"尴尬\",4:\"快乐\",5:\"媚眼\",6:\"微笑\",7:\"馋嘴\",8:\"墨镜\",9:\"色\",10:\"飞吻\",\r\n        11:\"爱情\",12:\"嘟嘴\",13:\"吹口哨\",14:\"可爱\",15:\"幸福\",16:\"拍手\",17:\"崇拜\",18:\"思考\",19:\"挑眉\",20:\"平淡\",21:\"无奈\",\r\n        22:\"失望\",23:\"白眼\",24:\"坏笑\",25:\"衰\",26:\"压力\",27:\"吃惊\",28:\"闭嘴\",29:\"惊讶\",30:\"困\",31:\"厌烦\",32:\"睡觉\",\r\n        33:\"如释重负\",34:\"鬼脸\",35:\"舌头\",36:\"调皮\",37:\"流口水\",38:\"不屑\",39:\"悲伤\",40:\"困惑\",41:\"财迷\",42:\"兴奋\",43:\"不满\",\r\n        44:\"委屈\",45:\"纠结\",46:\"伤心\",47:\"担忧\",48:\"愤怒\",49:\"哭\",50:\"流泪\",51:\"呆\",52:\"害怕\",53:\"震惊\",54:\"悲伤疲倦\",\r\n        55:\"抓狂\",56:\"尴尬地笑\",57:\"冷汗\",58:\"惊吓\",59:\"不明\",60:\"滑稽\",61:\"中毒\",62:\"发怒\",63:\"不爽\",64:\"语无伦次\",65:\"口罩\",\r\n        66:\"感冒\",67:\"受伤\",68:\"恶心\",69:\"吐\",70:\"打喷嚏\",71:\"天使\",72:\"牛仔\",73:\"匹诺曹\",74:\"嘘\",75:\"捂嘴\",76:\"观察\",\r\n        77:\"发呆\",78:\"魔王\",79:\"恶魔生气\",80:\"小丑\",81:\"怪物\",82:\"妖怪\",83:\"死亡\",84:\"海盗\",85:\"外星人\",86:\"蒙住眼睛\",87:\"堵上耳朵\",\r\n        88:\"捂住嘴巴\",89:\"青苹果\",90:\"茄子\",91:\"牛油果\",92:\"香蕉\",93:\"樱桃\",94:\"葡萄\",95:\"胡萝卜\",96:\"黄瓜\",97:\"玉米\",98:\"辣椒\",\r\n        99:\"猕猴桃\",100:\"柠檬\",101:\"哈密瓜\",102:\"梨\",103:\"苹果\",104:\"草莓\",105:\"橙子\",106:\"西瓜\",107:\"椰子\",108:\"番茄\",109:\"桃子\",\r\n        110:\"花生\",111:\"地瓜\",112:\"土豆\",113:\"蛋\",114:\"肉\",115:\"玫瑰\",116:\"向日葵\",117:\"奶瓶\",118:\"法式面包\",119:\"甜甜圈\",120:\"蛋糕\",\r\n        121:\"面包\",122:\"巧克力\",123:\"奶酪\",124:\"饺子\",125:\"米饭\",126:\"煎蛋\",127:\"牛角包\",128:\"香槟\",129:\"咖啡\",130:\"饮料\",131:\"薯条\",\r\n        132:\"汉堡\",133:\"热狗\",134:\"爆米花\",135:\"披萨\",136:\"鸡腿\",137:\"炸虾\",138:\"三明治\",139:\"便当\",140:\"果冻\",141:\"团子\",142:\"寿司\",\r\n        143:\"清酒\",144:\"饭团\",145:\"肉夹馍\",146:\"卷饼\",147:\"烙饼\",148:\"米饼\",149:\"椒盐卷饼\",150:\"幸运饼干\",151:\"曲奇\",152:\"蜜罐\",153:\"排骨\",\r\n        154:\"糖果\",155:\"棒棒糖\",\r\n    }\r\n\r\n    protected onInit() {\r\n        this.name = \"WndVipQuickPayChat\";\r\n        this.layer = Global.UI.PopLayer;\r\n        this.resPath = \"hall/prefabs/ui/Recharge/VipQuickPayChatUI\";\r\n        this.destoryType = DestoryType.None;\r\n    }\r\n    \r\n    protected initView() {\r\n        if(cc.Canvas.instance.node.width < cc.Canvas.instance.node.height)\r\n        {\r\n            this.node.width = cc.Canvas.instance.node.width;\r\n            this.node.height = cc.Canvas.instance.node.height;\r\n        }else{\r\n            this.node.width = cc.Canvas.instance.node.height;\r\n            this.node.height = cc.Canvas.instance.node.width;\r\n        }\r\n        this.title = this.getChild(\"content/topNode/title_label\").getComponent(cc.Label);\r\n        this.centerNode = this.getChild(\"content/centerNode\").getComponent(ChatCenterNode);\r\n        this.endEditNode = this.getChild(\"content/centerNode/endEditNode\");\r\n        this.addCommonClick(\"content/centerNode/endEditNode\", this.endEditing, this);\r\n        this.botNode = this.getChild(\"content/botNode\");\r\n        this.copyBtn = this.getChild(\"copy\");\r\n        this.depositNode = this.getChild(\"content/botNode/depositNode\");\r\n        this.depositNode.active = false;\r\n        this.inputBox = this.getChild(\"content/botNode/botBox/contentNode/inputEditBox\").getComponent(cc.EditBox);\r\n\r\n        this.inputBox.node.on('editing-return', this.editingReturn, this); //点击return时触发事件\r\n        this.inputBox.node.on('text-changed', this.textChangeCallback, this);\r\n        this.inputBox.node.on('editing-did-began', this.editingBeganCallback, this);\r\n        this.emojPanel = this.getChild(\"content/botNode/emojPanel\");\r\n        this.photoPanel = this.getChild(\"content/botNode/photoPanel\");\r\n        \r\n\r\n        this.emojScrollView = this.getChild(\"content/botNode/emojPanel/ScrollView\").getComponent(cc.ScrollView);\r\n        this.emojTemplateItem = this.getChild(\"content/botNode/emojPanel/emojTemplateItem\");\r\n        this.emojTemplateItem.active = false;\r\n\r\n        this.depositScrollView = this.getChild(\"content/botNode/depositNode/scrollView\").getComponent(cc.ScrollView);\r\n        this.depositItem = this.getChild(\"content/botNode/depositNode/scrollView/view/content/item\");\r\n        this.depositItem.active = false;\r\n        \r\n\r\n        this.plus = this.addCommonClick(\"content/botNode/botBox/key_btnPlus/kuozhan\", this.kuoZhan, this);\r\n        this.addCommonClick(\"content/botNode/botBox/key_btnEmoj\", this.openEmojPanel, this);\r\n        this.addCommonClick(\"content/topNode/btnBack\", this.goBack, this);\r\n\r\n        this.addCommonClick(\"content/botNode/photoPanel/album\", this.openAlbum, this);\r\n        this.addCommonClick(\"content/botNode/photoPanel/camera\", this.openCamera, this);\r\n        this.sendBtn = this.addCommonClick(\"content/botNode/botBox/key_btnPlus/send_btn\", this.sendMessage, this);\r\n        this.copyBtn = this.addCommonClick(\"copy\", this.copyMsgText, this);\r\n        this.copyBtn.active = false;\r\n        this.initEmoj();\r\n    }\r\n    initEmoj(){\r\n        for(let key in this.emojMap){\r\n            let node = cc.instantiate(this.emojTemplateItem).getComponent(cc.Sprite);\r\n            node.node.active = true;\r\n            let name = this.emojMap[key];\r\n            node.spriteFrame = this.getLocalEmoj(name);\r\n            node.node.attr({key,name});\r\n            node.node.on(cc.Node.EventType.TOUCH_END,this.clickEmoj,this);\r\n            this.emojScrollView.content.addChild(node.node);\r\n        }\r\n    }\r\n    private initDepositList(data){\r\n        this.depositScrollView.content.removeAllChildren();\r\n        var w = 0;\r\n        let centerLayout = this.centerNode.getComponent(cc.Widget);\r\n        centerLayout.bottom = this.depositBottom;\r\n        if(data.length > 1){\r\n            this.depositNode.active = true;\r\n        }\r\n        for(var i = 0; i < data.length; i++){\r\n            if(this.spriteString[data[i]]){\r\n                let node = cc.instantiate(this.depositItem);\r\n                let bgFrame = cc.find(\"bg\",node).getComponent(cc.Sprite);\r\n                Global.ResourceManager.loadAutoAtlas(bgFrame,\"hall/texture/hall/chat/chat\", data[i]+\"_s\", null, false);\r\n                let photo =  Global.UIHelper.addCommonClick(node, \"bg\", this.depositSend, this, cc.Button.Transition.NONE);\r\n                    photo.string = data[i];\r\n                node.width = bgFrame.node.width;\r\n                w += node.width - 5;\r\n                node.active = true;\r\n                this.depositScrollView.content.addChild(node);\r\n            }\r\n        }\r\n        this.depositScrollView.content.setContentSize(w, 0);\r\n    }\r\n    depositSend(target){ //自动回复\r\n        if(target && target.node && this.spriteString[target.node.string]){\r\n            Global.ChatServer.sendChatTextMsg(this.spriteString[target.node.string],target.node.string+\"\");\r\n        }\r\n    }\r\n    clickEmoj(event){\r\n        let node = event.target;\r\n        this.inputBox.string = this.inputBox.string.concat(\"&[\"+node.name+\"]&\");\r\n        this.textChangeCallback();\r\n    }\r\n\r\n    onOpen() {\r\n        //切换成竖屏\r\n        this.isOpen = true;\r\n        if(!Global.ChatServer.severUserid || Global.ChatServer.severUserid.length == 0)\r\n        {\r\n            Global.UI.fastTip(\"当前没有客服在线，请留言\");\r\n        }\r\n        let frameSize = cc.view.getFrameSize()\r\n        this.node.height = frameSize.height *(this.node.width/frameSize.width);\r\n        if(this.args!=null&&this.args.length>0){\r\n            this.title.string = this.args[0]||\"default\";\r\n        }\r\n        Global.ChatServer.sendOfflineMsg();\r\n        if(Global.ChatServer.QuickData && Global.ChatServer.QuickData.pay_type && Global.ChatServer.QuickData.pay_type.length > 0){//手动添加我充好了按钮\r\n            this.depositData = Global.ChatServer.QuickData.pay_type.concat([10000]);\r\n            // console.log(\"添加后\",this.depositData);\r\n            this.initDepositList(this.depositData);\r\n        }\r\n        Global.Event.on(GlobalEvent.setCopypostion,this,this.setCopypostion)\r\n    }\r\n    //结束编辑\r\n    private endEditing(){\r\n        this.endEditNode.active = false;\r\n        this.isPhoto = false;\r\n        this.isPressed = false;\r\n        this.hideToolBar();\r\n    }\r\n    //输入框开始编辑\r\n    private editingBeganCallback(){\r\n        this.endEditNode.active = false;\r\n        this.isPhoto = false;\r\n        this.isPressed = false;\r\n        this.hideToolBar();\r\n    }\r\n    public editingReturn(){\r\n        this.sendMessage();\r\n    }\r\n\r\n    private textChangeCallback() {\r\n        //当前输入字符大于0 并且不全部为空格或换行\r\n        if (this.inputBox.string.length > 0 && !(this.isNull(this.inputBox.string))) {\r\n            this.plus.active = false;\r\n            this.sendBtn.active = true;\r\n        } else {\r\n            this.plus.active = true;\r\n            this.sendBtn.active = false;\r\n        }\r\n    }\r\n    private openAlbum() {\r\n        if (cc.sys.os == cc.sys.OS_IOS) {\r\n            Global.Component.scheduleOnce(() => {\r\n                Global.Event.event(GlobalEvent.SHOW_NET_WAITING, \"videcompress\", 120, \"上传中\");\r\n            }, 0.5);\r\n        } else {\r\n            Global.Event.event(GlobalEvent.SHOW_NET_WAITING, \"videcompress\", 120, \"上传中\");\r\n        }\r\n        Global.NativeEvent.nstartOpenAlbum(2, 51200, 120, 200, 20, (path) => {\r\n            Global.Event.event(GlobalEvent.FORCE_HIDE_WAITING, \"videcompress\")\r\n            if (path.result == 0) {\r\n                if (!Global.ChatServer.socketStatus()) {\r\n                    Global.UI.fastTip(\"聊天系统暂无连接,请稍后再试\");\r\n                    Global.ChatServer.connect();\r\n                    return;\r\n                }\r\n                let param = path.funcParam;\r\n                if (param.type == 2) {//视频  \r\n                    let msgcontent = new italk.pb.ItalkMsgContent(); //消息内容 \r\n                    msgcontent.size = param.size;\r\n                    msgcontent.second = param.second;//视频时长\r\n                    msgcontent.width = param.width;\r\n                    msgcontent.height = param.height;\r\n                    msgcontent.url = Global.Setting.alioss_file_url + param.url;\r\n                    msgcontent.thumburl = Global.Setting.alioss_file_url + param.url;\r\n                    Global.ChatServer.sendChatMoveMsg(msgcontent);\r\n                } else {\r\n\r\n                    this.sendChatImage(path.funcParam);\r\n                }\r\n\r\n            } else {\r\n                Logger.error(\"取消选择图片---\");\r\n            }\r\n        })\r\n    }\r\n    private openCamera() {\r\n        if (cc.sys.os == cc.sys.OS_IOS) {\r\n            Global.Component.scheduleOnce(() => {\r\n                Global.Event.event(GlobalEvent.SHOW_NET_WAITING, \"videcompress\", 60, \"上传中\");\r\n            }, 0.5);\r\n        } else {\r\n            Global.Event.event(GlobalEvent.SHOW_NET_WAITING, \"videcompress\", 60, \"上传中\");\r\n        }\r\n        Global.NativeEvent.nstartOpenCamera(2, 200, 20, (path) => {\r\n            Global.Event.event(GlobalEvent.FORCE_HIDE_WAITING, \"videcompress\")\r\n            if (!Global.ChatServer.socketStatus()) {\r\n                Global.UI.fastTip(\"聊天系统暂无连接,请稍后再试\");\r\n                Global.ChatServer.connect();\r\n                return;\r\n            }\r\n            if (path.result == 0) {\r\n                this.sendChatImage(path.funcParam);\r\n            }\r\n        })\r\n    }\r\n    //上传选择的视频或者图片\r\n    sendChatImage(funcParam){\r\n        Logger.error(\"取消选择 -- 上传中loading\");\r\n        Global.Event.event(GlobalEvent.SHOW_NET_WAITING, \"uploadfile\",15,\"上传中\");\r\n        let dateArr =  funcParam.filePath.split(\".\");\r\n        let fileName =  dateArr[dateArr.length-1];\r\n        var imageData = null;\r\n        //新版本因为视频原因 直接从底层传文件的base64String 到上层\r\n        imageData = funcParam.fileData \r\n        // 上传原文件\r\n        let param = {\r\n            name:Global.ChatServer.uuid()+\".\"+fileName,\r\n            value:imageData,\r\n            token:Global.ChatServer.token,\r\n        }\r\n        let func = \"SetOssFile\" //上传图片\r\n        if(fileName == \"mp4\"){\r\n            func = \"SetOssVideoFile\"\r\n        }\r\n        Global.ChatServer.sendImageWithParam(\"/login/ossfile\",func,param,(bigRes)=>{\r\n            // 上传缩略图\r\n            this.getThumbuImageData(funcParam,bigRes,fileName)\r\n        },(error)=>{\r\n            Global.Event.event(GlobalEvent.HIDE_NET_WAITING,\"uploadfile\");\r\n            Global.UI.fastTip(error._errstr);\r\n        })\r\n    }\r\n    //获取压缩后的图片资源\r\n    getThumbuImageData(funcParam,bigRes,fileName){\r\n        let baseData = funcParam.thumImage;\r\n        let param = {\r\n            name:Global.ChatServer.uuid()+\".jpg\",\r\n            value:baseData,\r\n            token:Global.ChatServer.token,\r\n        }\r\n        Global.ChatServer.sendImageWithParam(\"/login/ossfile\",\"SetOssFile\",param,(res)=>{\r\n            Global.Event.event(GlobalEvent.HIDE_NET_WAITING,\"uploadfile\")\r\n            let msgcontent = new italk.pb.ItalkMsgContent(); //消息内容\r\n            msgcontent.size = funcParam.size;\r\n            if(funcParam.second){\r\n                msgcontent.second = funcParam.second;//视频时长\r\n            }\r\n            msgcontent.width = funcParam.width;\r\n            msgcontent.height = funcParam.height;\r\n            msgcontent.url = bigRes.url;\r\n            msgcontent.thumburl = res.url;\r\n            if(fileName == \"mp4\")\r\n            {       //选择的mp4文件\r\n                Global.ChatServer.sendChatMoveMsg(msgcontent);\r\n            }else{  //选择的图片\r\n                Global.ChatServer.sendChatImageMsg(msgcontent);\r\n            }\r\n        },(error)=>{\r\n            Global.Event.event(GlobalEvent.HIDE_NET_WAITING,\"uploadfile\")\r\n            Global.UI.fastTip(error._errstr);\r\n        })\r\n    }\r\n    transformArrayBufferToBase64 (buffer) {\r\n        var binary = '';\r\n        var bytes = new Uint8Array(buffer);\r\n        for (var len = bytes.byteLength, i = 0; i < len; i++) {\r\n            binary += String.fromCharCode(bytes[i]);\r\n        }\r\n        return btoa(binary);\r\n    }\r\n        //TODO\r\n    private kuoZhan() {\r\n        this.endEditNode.active = true;\r\n        this.photoPanel.active = true;\r\n        this.emojPanel.active = false;\r\n        this.isPhoto = !this.isPhoto;\r\n        this.isPressed = false;\r\n        if (this.isPhoto) {\r\n            // this.botNode.stopAllActions();\r\n            // this.botNode.runAction(cc.moveTo(0.2, 0, -340).easing(cc.easeBackOut()));\r\n            let botNodeLayout = this.botNode.getComponent(cc.Widget);\r\n            botNodeLayout.bottom = -140;\r\n            let centerNodeLayout = this.centerNode.getComponent(cc.Widget);\r\n            centerNodeLayout.bottom = 470+botNodeLayout.bottom + (this.depositNode.active ? this.depositH:0);;\r\n            this.botNode.getComponent(cc.Widget).updateAlignment();\r\n            this.centerNode.getComponent(cc.Widget).updateAlignment();\r\n            this.updateUI(this.title.string);\r\n            // this.centerNode.node.stopAllActions();\r\n            // this.centerNode.node.runAction(cc.moveTo(0.2, 0, 200).easing(cc.easeBackOut()));\r\n        } else {\r\n            this.hideToolBar();\r\n        }\r\n        \r\n    }\r\n    private openEmojPanel() {\r\n        this.endEditNode.active = true;\r\n        this.photoPanel.active = false;\r\n        this.emojPanel.active = true;\r\n        this.isPressed = !this.isPressed;\r\n        this.isPhoto = false;\r\n        if (this.isPressed) {\r\n            // this.botNode.stopAllActions();\r\n            // this.botNode.runAction(cc.moveTo(0.2, 0, -175).easing(cc.easeBackOut()));\r\n            let botNodeLayout = this.botNode.getComponent(cc.Widget);\r\n            botNodeLayout.bottom = 0;\r\n            let centerNodeLayout = this.centerNode.getComponent(cc.Widget);\r\n            centerNodeLayout.bottom = 470+botNodeLayout.bottom + (this.depositNode.active ? this.depositH:0);\r\n            this.botNode.getComponent(cc.Widget).updateAlignment();\r\n            this.centerNode.getComponent(cc.Widget).updateAlignment();\r\n            this.updateUI(this.title.string);\r\n            // this.centerNode.node.stopAllActions();\r\n            // this.centerNode.node.runAction(cc.moveTo(0.2, 0, 365).easing(cc.easeBackOut()));\r\n        } else {\r\n            this.hideToolBar();\r\n        }\r\n    }\r\n    private hideToolBar(){\r\n        // this.botNode.stopAllActions();\r\n        let botNodeLayout = this.botNode.getComponent(cc.Widget);\r\n        botNodeLayout.bottom = -365;\r\n        // this.botNode.runAction(cc.moveTo(0.2, 0, -540).easing(cc.easeBackIn()));\r\n        let centerNodeLayout = this.centerNode.getComponent(cc.Widget);\r\n        centerNodeLayout.bottom = 105 + (this.depositNode.active ? this.depositH:0);;\r\n        this.botNode.getComponent(cc.Widget).updateAlignment();\r\n        this.centerNode.getComponent(cc.Widget).updateAlignment();\r\n        this.updateUI(this.title.string);\r\n        // this.centerNode.node.stopAllActions();\r\n        // this.centerNode.node.runAction(cc.moveTo(0.2, 0, -5).easing(cc.easeBackOut()));\r\n    }\r\n    private goBack() {\r\n        this.data = [];\r\n        this.depositNode.active = false;\r\n        this.close();\r\n    }\r\n\r\n    onClose(){\r\n        this.data =[];\r\n        Global.ChatServer.QuickData = null\r\n        this.updateUI(this.title.string);\r\n        this.isOpen = false;\r\n        //客服状态清理\r\n        if(Global.ChatServer.serverType == CustomerEntranceType.LoginService){ //登陆客服\r\n            Global.Event.event(GlobalEvent.CloseRedSpot, HallRedSpotType.LoginKefu);\r\n        }else if(Global.ChatServer.serverType == CustomerEntranceType.HallService){ //大厅联系客服\r\n            Global.Event.event(GlobalEvent.CloseRedSpot, HallRedSpotType.Kefu);\r\n        }\r\n        this.hideToolBar();\r\n        this.clearInputMsg();\r\n        //切换回横屏\r\n        Global.NativeEvent.changeOrientationH(true);\r\n        Global.UI.adjuestCanvasScreenStretch(cc.Canvas.instance); \r\n    }\r\n    isNull( str ){\r\n        if ( str == \"\" ) return true;\r\n        var regu = \"^[ ]+$\";\r\n        var re = new RegExp(regu);\r\n        return re.test(str);\r\n    }\r\n    private sendMessage() {\r\n        if(!Global.ChatServer.socketStatus()){\r\n            Global.UI.fastTip(\"聊天系统暂无连接,请稍后再试\");\r\n            Global.ChatServer.connect();\r\n            return;\r\n        }\r\n        let str = this.inputBox.string.trim();\r\n        if((this.isNull(str))){ //当前输入的全部是空格或者换行符\r\n            this.clearInputMsg();\r\n            return;\r\n        }\r\n        let strArr:string[] = str.split(\"&\");\r\n        let tempStr = \"\";\r\n        let tempStr2 =\"\";\r\n        if(strArr.length>1){\r\n            for(let i=0;i<strArr.length;i++){\r\n                let s = strArr[i];\r\n                tempStr2+=s;\r\n                if(s.indexOf(\"[\")!=-1&&s.indexOf(\"]\")!=-1){\r\n                    tempStr+=cc.js.formatStr(this.emojText,s);\r\n                    continue;\r\n                }\r\n                tempStr+=s;\r\n            }\r\n        }else{\r\n            tempStr2 = str;\r\n        }\r\n        Global.ChatServer.sendChatTextMsg(tempStr2);\r\n        this.clearInputMsg();\r\n    }\r\n\r\n    clearBracket(str:string):string{\r\n        const reg = new RegExp(/\\[|]/g);\r\n        return str.replace(reg,\"\");\r\n    }\r\n\r\n    // getImageHttp\r\n    //接收表情解析\r\n    public replaceLocalImg(str:string):string{\r\n        let temp = str;\r\n        const reg = new RegExp(/\\[.*?\\]/g);\r\n        let repAft = temp.replace(reg,\"&[\");\r\n        let matchArr = str.match(reg);\r\n        if(matchArr!=null){\r\n            for(let i=0;i<matchArr.length;i++){\r\n                let val = cc.js.formatStr(this.emojText,matchArr[i]);\r\n                repAft = repAft.replace(\"&[\",val);\r\n            }\r\n        }\r\n        return this.clearBracket(repAft);\r\n    }\r\n    clearInputMsg(){\r\n        this.inputBox.string = \"\";\r\n        this.textChangeCallback();\r\n    }\r\n\r\n    onDispose() {\r\n        this.isOpen = false;\r\n        this.title = null\r\n        this.centerNode = null;\r\n    }\r\n\r\n    public getLocalEmoj(sfName: string, sprite?: cc.Sprite, width?: number, height?: number) {\r\n\r\n        if (sfName == null || sfName == undefined || sfName == \"\") {\r\n            Logger.error(\"sfName is empty, return!!!\");\r\n            return null;\r\n        }\r\n\r\n        let spriteFrame = Global.ResourceManager.getSprite(\"hall/texture/chat/emoj\", sfName);\r\n        \r\n        if (spriteFrame == null) {\r\n            Logger.error(\"找不到表情 sfName = \" + sfName + \", return!!!\");\r\n            return null;\r\n        }\r\n\r\n        if (sprite != null && sprite != undefined) {\r\n            width = (width != null) ? width : sprite.node.width;\r\n            height = (height != null) ? height : sprite.node.height;\r\n            sprite.spriteFrame = spriteFrame;\r\n            sprite.node.width = width;\r\n            sprite.node.height = height;\r\n        }\r\n        return spriteFrame;\r\n    }\r\n    public loadSeverHeader(url,callback:Function){\r\n        //获取图片\r\n        cc.loader.load({\r\n            url: url,\r\n            type: \"jpg\"\r\n        }, function (err, texture) {\r\n                var frame = new cc.SpriteFrame(texture);\r\n                callback(frame);\r\n        })\r\n    }\r\n    public updateUI(title,isClear=true){\r\n        if(this.centerNode){\r\n            this.title.string = title;\r\n            this.centerNode.data = this.data;\r\n            this.centerNode.severHeadFrame = this.severHeadFrame;\r\n            if(this.isOpen){\r\n                this.centerNode.updateUI(isClear);\r\n            }\r\n        }else{\r\n            this.data =[];\r\n            Logger.error(\"this.centerNode 为空\");\r\n        }\r\n    }\r\n\r\n    public setCopypostion(postion,text){\r\n        let localPos = this.copyBtn.parent.convertToNodeSpaceAR(postion);\r\n        this.copyBtn.position = localPos\r\n        this.copyBtn.active = true;\r\n        this.copyText = text;\r\n    }\r\n    //点击复制\r\n    private copyMsgText(){\r\n        this.copyBtn.active = false;\r\n        this.centerNode.copyBtnActive = false;\r\n        Global.NativeEvent.copyTextToClipboard(this.copyText, (retStr)=>{\r\n            if (retStr.result == 0) {\r\n                Global.UI.fastTip(\"复制成功\");\r\n            }else {\r\n                Global.UI.fastTip(\"复制失败\");\r\n            }\r\n        });\r\n    }\r\n}"]}