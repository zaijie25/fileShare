{"version":3,"sources":["assets\\hall\\scripts\\logic\\hall\\ui\\Activity\\DailyRecharge\\WndTimeLimitedRechargeGift.ts"],"names":[],"mappings":";;;;;AACA,uDAAuD;;;;;;;;;;;;;;;;AAEvD,oFAA+E;AAC/E,0DAAuE;AACvE,uDAAkD;AAClD,qEAAgE;AAChE,mEAA8D;AAG9D;IAAwD,8CAAO;IAA/D;QAAA,qEA4aC;QAzaW,kBAAY,GAAG,IAAI,CAAA;QAInB,WAAK,GAAI,IAAI,CAAA;QACrB;;WAEG;QACH,iBAAW,GAAa,EAAE,CAAA;QAC1B;;WAEG;QACH,WAAK,GAAG,EAAE,CAAA;QAOF,cAAQ,GAAG,EAAE,CAAA;QAGb,cAAQ,GAAG,EAAE,CAAA;QAGrB;;WAEG;QAEH,oBAAc,GAAO,EAAE,CAAA;QAGvB;;WAEG;QACH,yBAAmB,GAAG,EAAE,CAAA;QAcxB;;WAEG;QACH,eAAS,GAAY,IAAI,CAAA;;IAqX7B,CAAC;IAnXa,2CAAM,GAAhB;QACI,IAAI,CAAC,IAAI,GAAG,4BAA4B,CAAC;QACzC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAA;QACvB,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,EAAE,CAAC,QAAQ,CAAC;QAChC,IAAI,CAAC,OAAO,GAAG,yDAAyD,CAAA;IAC5E,CAAC;IACS,6CAAQ,GAAlB;QAGI,IAAI,CAAC,KAAK,GAAsB,MAAM,CAAC,YAAY,CAAC,QAAQ,CAAC,mBAAmB,CAAC,CAAC;QAClF,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,EAAC,IAAI,CAAC,mBAAmB,EAAC,IAAI,CAAC,CAAA;QAC1E,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAA;QACxC,IAAI,CAAC,cAAc,CAAC,OAAO,EAAC,IAAI,CAAC,KAAK,EAAC,IAAI,CAAC,CAAA;QAC5C,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,aAAa,EAAC,EAAE,CAAC,WAAW,CAAC,CAAA;QAC/D,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,YAAY,CAAC,8BAA8B,EAAC,EAAE,CAAC,QAAQ,CAAC,CAAA;QAChF,IAAI,CAAC,QAAQ,CAAC,QAAQ,GAAG,CAAC,CAAC;QAC3B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC,wBAAwB,EAAC,EAAE,CAAC,KAAK,CAAC,CAAA;QACtE,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAA;QAC5C,KAAK,IAAI,KAAK,GAAG,CAAC,EAAE,KAAK,GAAG,CAAC,EAAE,KAAK,EAAE,EAAE;YACnC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,GAAG,MAAM,CAAC,QAAQ,CAAC,cAAc,CAAC,IAAI,CAAC,UAAU,EAAC,EAAE,CAAC,EAAE,CAAC,SAAS,CAAC,UAAU,EAAC,KAAK,CAAC,EAAC,IAAI,CAAC,iBAAiB,EAAC,IAAI,CAAC,CAAA;YACvI,IAAG,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,UAAU,EACvC;gBACG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC,UAAU,GAAC,EAAE,CAAC,EAAE,CAAC,SAAS,CAAC,MAAM,EAAC,KAAK,GAAC,CAAC,CAAC,EAAE,EAAE,CAAC,QAAQ,CAAC,CAAA;gBAC9F,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC,UAAU,GAAC,EAAE,CAAC,EAAE,CAAC,SAAS,CAAC,aAAa,EAAC,KAAK,GAAC,CAAC,CAAC,EAAC,EAAE,CAAC,QAAQ,CAAC,CAAA;aAEpH;iBAED;gBACG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC,UAAU,GAAC,EAAE,CAAC,EAAE,CAAC,SAAS,CAAC,MAAM,EAAC,KAAK,GAAC,CAAC,CAAC,EAAE,EAAE,CAAC,KAAK,CAAC,CAAA;gBAC3F,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC,UAAU,GAAC,EAAE,CAAC,EAAE,CAAC,SAAS,CAAC,aAAa,EAAC,KAAK,GAAC,CAAC,CAAC,EAAC,EAAE,CAAC,KAAK,CAAC,CAAA;aAEjH;YAED,IAAG,CAAC,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,EAC9B;gBACG,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,GAAG,EAAE,CAAA;aACjC;YACD,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,GAAI,IAAI,CAAC,QAAQ,CAAC,UAAU,GAAC,EAAE,CAAC,EAAE,CAAC,SAAS,CAAC,aAAa,EAAC,KAAK,GAAC,CAAC,CAAC,GAAG,KAAK,CAAC,CAAA;YACzG,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,UAAU,GAAC,EAAE,CAAC,EAAE,CAAC,SAAS,CAAC,aAAa,EAAC,KAAK,GAAC,CAAC,CAAC,GAAG,MAAM,CAAC,CAAA;SAE7G;QAED,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,2BAAiB,CAAC,oCAAoC,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QAC7F,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,2BAAiB,CAAC,+BAA+B,EAAE,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QACzF,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;IACxD,CAAC;IACD,sDAAiB,GAAjB,UAAkB,MAAM;QACpB,IAAI,IAAI,GAAG,MAAM,CAAC,IAAI,CAAA;QACtB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAA;QACrB,IAAG,IAAI,IAAI,IAAI,CAAC,OAAO,EACvB;YACI,IAAI,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,iCAAuB,CAAC,CAAA;YAC1D,IAAG,SAAS,EACZ;gBACI,IAAI,CAAC,KAAK,CAAC,uCAAuC,CAAC,SAAS,CAAC,GAAG,CAAC,CAAA;aACpE;SAGJ;IAEL,CAAC;IACD,wDAAmB,GAAnB;QAEI,MAAM,CAAC,EAAE,CAAC,IAAI,CAAC,aAAa,EAAE,QAAQ,CAAC,CAAC;IAC5C,CAAC;IAED,0CAAK,GAAL;QACI,MAAM,CAAC,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC3B,0BAAgB,CAAC,QAAQ,CAAC,WAAW,CAAC,gCAAY,CAAC,mBAAmB,CAAC,CAAC;IAC5E,CAAC;IAES,2CAAM,GAAhB;QAGI,IAAI,CAAC,KAAK,CAAC,kCAAkC,EAAE,CAAA;IACnD,CAAC;IAEO,+CAAU,GAAlB,UAAmB,SAAS;QAExB,IAAG,CAAC,SAAS,EACb;YACI,OAAM;SACT;QACD,MAAM,CAAC,EAAE,CAAC,IAAI,CAAC,cAAc,EAAE,SAAS,CAAC,KAAK,CAAC,CAAC;QAChD,IAAG,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,EAC3C;YACI,IAAI,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,iCAAuB,CAAC,CAAA;YACpE,IAAG,SAAS,EACZ;gBACI,SAAS,CAAC,WAAW,CAAC,mBAAmB,CAAC,UAAU,CAAC,CAAA;aACxD;SACJ;QACD,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC,GAAG,CAAC,CAAA;QAEtC,IAAI,IAAI,GAAG,IAAI,CAAC,oBAAoB,EAAE,CAAA;QACtC,IAAG,CAAC,IAAI,EACR;YACI,IAAI,CAAC,KAAK,CAAC,iBAAiB,GAAG,CAAC,CAAA;YAChC,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,WAAW,CAAC,+BAA+B,EAAC,IAAI,CAAC,CAAA;YACpE,IAAI,CAAC,KAAK,EAAE,CAAA;SACf;IAGL,CAAC;IAGS,4CAAO,GAAjB;QAEI,IAAI,CAAC,SAAS,GAAG,IAAI,CAAA;QACrB,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAA;QAClB,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAA;QAClB,IAAI,CAAC,YAAY,EAAE,CAAA;IACvB,CAAC;IACO,gDAAW,GAAnB,UAAoB,IAAI;QAEpB,IAAI,CAAC,cAAc,EAAE,CAAA;QACrB,IAAG,IAAI,IAAI,IAAI;YAAE,OAAM;QACvB,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,qCAAiB,CAAC,iBAAiB,EAAE,KAAK,CAAC,CAAA;QAC9D,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,IAAI,CAAC,CAAA;QACtC,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,GAAG,CAAC,CAAA;QAEvC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAA;IAC3B,CAAC;IAED,iDAAY,GAAZ,UAAa,OAAY;QACrB,IAAG,OAAO,IAAI,IAAI;YAAE,OAAM;QAC1B,IAAI,CAAC,QAAQ,EAAE,CAAA;QACf,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAA;QACzB,IAAI,CAAC,uBAAuB,CAAC,OAAO,CAAC,CAAA;QACrC,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAA;QAC9B,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAA;QAC/B,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAA;IAE7B,CAAC;IAED,gDAAW,GAAX,UAAY,IAAI;QAGZ,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAE,IAAI,CAAC,QAAQ,CAAC,CAAA;QAClC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAE,IAAI,CAAC,QAAQ,CAAC,CAAA;QAClC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAE,IAAI,CAAC,UAAU,CAAC,CAAA;QAEpC,IAAI,GAAG,GAAG,IAAI,CAAC,IAAI,CAAA;QACnB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAA;QAC9B,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAA;QAC9B,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAA;IACpC,CAAC;IAED,4DAAuB,GAAvB,UAAwB,IAAI;QAGxB,IAAI,MAAM,GAAG,IAAI,CAAC,MAAM,CAAA,CAAC,oCAAoC;QAC7D,IAAI,SAAS,GAAG,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAA;QAC7C,IAAG,CAAC,IAAI,CAAC,cAAc;YAAC,OAAM;QAE9B,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,MAAM,IAAI,CAAC,CAAA;QAC9C,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,MAAM,GAAG,CAAC,CAAA;QAE7C,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,CAAC,SAAS,CAAA;QAC7C,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,SAAS,CAAA;QAE5C,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,MAAM,IAAI,CAAC,CAAA;QAC9C,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,MAAM,IAAI,CAAC,CAAA;QAE9C,IAAG,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,UAAU,EACvC;YACI,IAAG,MAAM,GAAC,CAAC,EACX;gBACI,IAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,4DAA4D,CAAA;aACpG;iBAED;gBACI,IAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,2DAA2D,CAAA;aACnG;YACD,IAAG,SAAS,EACZ;gBACI,IAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,8CAA8C,CAAA;aACtF;iBAED;gBACI,IAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,8CAA8C,CAAA;aACtF;YAED,IAAG,MAAM,IAAI,CAAC,EACd;gBACI,IAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,4CAA4C,CAAA;aACpF;iBAED;gBACI,IAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,4CAA4C,CAAA;aACpF;SAGJ;aACI,IAAG,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,OAAO,EACzC;YACI,IAAG,MAAM,GAAC,CAAC,EACX;gBACI,IAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,EAAE,CAAC,KAAK,EAAE,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;aAC9E;iBAED;gBACI,IAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,EAAE,CAAC,KAAK,EAAE,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;aAC9E;YACD,IAAG,SAAS,EACZ;gBACI,IAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,EAAE,CAAC,KAAK,EAAE,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;aAC9E;iBAED;gBACI,IAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,EAAE,CAAC,KAAK,EAAE,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;aAC9E;YAED,IAAG,MAAM,IAAI,CAAC,EACd;gBACI,IAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,EAAE,CAAC,KAAK,EAAE,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;aAC9E;iBAED;gBACI,IAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,EAAE,CAAC,KAAK,EAAE,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;aAC9E;SACJ;IAGL,CAAC;IAED,qDAAgB,GAAhB,UAAiB,IAAI;QAEjB,IAAI,IAAI,GAAG,mCAAmC,CAAA;QAC9C,IAAI,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAA;QAC/B,IAAG,CAAC,QAAQ,EACZ;YACI,OAAM;SACT;QACD,IAAI,IAAI,GAAG,CAAC,CAAA;QACZ,KAAK,IAAI,KAAK,GAAG,CAAC,EAAE,KAAK,GAAG,QAAQ,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE;YAClD,IAAI,KAAK,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC;YAC5B,IAAI,IAAI,GAAG,KAAK,CAAC,IAAI,CAAA;YACrB,IAAI,KAAK,GAAG,KAAK,CAAC,UAAU,CAAA;YAC5B,IAAI,IAAI,IAAI,CAAC,YAAY,GAAG,IAAI,GAAC,GAAG,CAAA;YACpC,IAAI,KAAK,GAAG,CAAC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,GAAG,KAAK,CAAA;YAC9C,IAAG,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,UAAU,EACvC;gBACI,IAAI,GAAG,CAAC,KAAK,GAAC,CAAC,CAAC,GAAC,GAAG,GAAC,uDAAuD,CAAA;gBAC5E,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,QAAM,IAAI,SAAM,CAAA;gBAC3C,SAAQ;aACX;iBACI,IAAG,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,OAAO,EACzC;gBACI,IAAI,GAAG,CAAC,KAAK,GAAC,CAAC,CAAC,GAAC,GAAG,GAAC,uDAAuD,CAAA;gBAC5E,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,QAAM,IAAI,SAAM,CAAA;aAC9C;YACD,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,EAAE,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC,KAAK,GAAC,CAAC,CAAC,GAAC,GAAG,GAAC,IAAI,EAAC,IAAI,EAAC,KAAK,EAAC,KAAK,EAAC,IAAI,CAAC,YAAY,GAAG,IAAI,GAAC,GAAG,CAAC,CAAA;SAE/G;IAGL,CAAC;IAED,sDAAiB,GAAjB,UAAkB,IAAI;QAElB,IAAI,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAA;QAC/B,IAAG,CAAC,QAAQ,EACZ;YACI,OAAM;SACT;QACD,KAAK,IAAI,KAAK,GAAG,CAAC,EAAE,KAAK,GAAG,QAAQ,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE;YAClD,IAAI,KAAK,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC;YAC5B,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,YAAY,CAAC,iCAAuB,CAAC,CAAC,YAAY,CAAC,IAAI,EAAC,KAAK,EAAC,KAAK,EAAC,IAAI,CAAC,QAAQ,EAAC,IAAI,CAAC,QAAQ,CAAC,CAAA;SAE3H;IACL,CAAC;IAED,uDAAkB,GAAlB,UAAmB,IAAI;QAEnB,IAAI,IAAI,GAAG,KAAK,CAAA;QAChB,IAAI,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAA;QAE/B,IAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,IAAI,CAAC;YAAE,OAAO,IAAI,CAAA;QACzC,KAAK,IAAI,KAAK,GAAG,CAAC,EAAE,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE;YACvD,IAAI,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;YACjC,IAAG,KAAK,IAAI,WAAW,IAAI,KAAK,EAChC;gBACI,IAAI,GAAG,IAAI,CAAA;gBACX,MAAK;aACR;SAEJ;QACD,OAAO,IAAI,CAAA;IACf,CAAC;IAED,6CAAQ,GAAR;QAAA,iBAqBC;QAnBG,IAAG,IAAI,CAAC,KAAK,CAAC,iBAAiB,GAAE,CAAC,EAClC;YACI,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAA;YACnC,OAAM;SACT;QACD,IAAI,CAAC,YAAY,EAAE,CAAA;QACnB,IAAI,WAAW,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAA;QACtC,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,GAAG,IAAI,GAAG,WAAW,CAAA;QACpD,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,GAAC,IAAI,CAAC,CAAA;QAC3B,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,MAAM,CAAC,OAAO,CAAC,eAAe,CAAC,IAAI,CAAC,CAAA;QAC7D,IAAI,CAAC,KAAK,GAAG,WAAW,CAAC;YACrB,KAAI,CAAC,UAAU,CAAC,MAAM,GAAG,MAAM,CAAC,OAAO,CAAC,eAAe,CAAC,IAAI,CAAC,CAAA;YAC7D,IAAI,IAAI,CAAC,CAAA;YACT,IAAG,IAAI,IAAE,CAAC,EACV;gBACI,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAA;aACtC;QACL,CAAC,EAAE,IAAI,CAAC,CAAC;IAEb,CAAC;IAED,iDAAY,GAAZ;QAEI,IAAG,IAAI,CAAC,KAAK,EACb;YACI,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAA;SAC5B;QACD,IAAI,CAAC,KAAK,GAAG,IAAI,CAAA;IACrB,CAAC;IACD;;;OAGG;IACH,gDAAW,GAAX,UAAY,IAAQ;QAChB,IAAI,CAAC,QAAQ,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,GAAE,IAAI,CAAC,UAAU,CAAA;QACvD,IAAG,CAAC,IAAI,CAAC,UAAU,EACnB;YACI,IAAI,CAAC,QAAQ,CAAC,QAAQ,GAAG,CAAC,CAAA;SAC7B;QACD,IAAI,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC,cAAc,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,GAAG,CAAA;QACjE,IAAI,GAAG,GAAG,MAAM,CAAC,OAAO,CAAC,cAAc,CAAC,IAAI,CAAC,UAAU,CAAC,IAAG,GAAG,CAAA;QAC9D,IAAI,CAAC,WAAW,CAAC,MAAM,GAAM,OAAO,SAAI,GAAG,SAAM,CAAA;IAErD,CAAC;IAGO,uDAAkB,GAA1B,UAA2B,KAAK;QAE5B,IAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAC,CAAC,CAAC,KAAK,CAAC,EAC/B;YACI,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAC,CAAC,CAAC,GAAG,CAAC,CAAA;SAE7B;IACL,CAAC;IAEO,yDAAoB,GAA5B;QAEI,KAAK,IAAI,KAAK,GAAG,CAAC,EAAE,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE;YACvD,IAAK,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;YACpC,IAAG,CAAC,OAAO,EACX;gBACI,OAAO,IAAI,CAAA;aACd;SACJ;QACD,OAAO,KAAK,CAAA;IAChB,CAAC;IAGS,8CAAS,GAAnB;QAEI,IAAI,CAAC,SAAS,GAAG,IAAI,CAAA;QACrB,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAA;QAClB,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAA;QAClB,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,2BAAiB,CAAC,oCAAoC,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QAC9F,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,2BAAiB,CAAC,+BAA+B,EAAE,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QAC1F,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;IACzD,CAAC;IAEL,iCAAC;AAAD,CA5aA,AA4aC,CA5auD,iBAAO,GA4a9D;;AAED,IAAY,mBASX;AATD,WAAY,mBAAmB;IAE3B,YAAY;IACZ,iEAAU,CAAA;IACV,WAAW;IACX,+EAAiB,CAAA;IACjB,SAAS;IACT,yEAAc,CAAA;AAElB,CAAC,EATW,mBAAmB,GAAnB,2BAAmB,KAAnB,2BAAmB,QAS9B","file":"","sourceRoot":"/","sourcesContent":["\r\n// import ViewBase from \"../../../../core/ui/ViewBase\";\r\n\r\nimport RechargeGiftModel from \"../../../../hallcommon/model/RechargeGiftModel\";\r\nimport { ActivityConstants, ActivityType } from \"../ActivityConstants\";\r\nimport WndBase from \"../../../../core/ui/WndBase\";\r\nimport TimeLimitedAwardBoxItem from \"./TimeLimitedAwardBoxItem\";\r\nimport HallPopMsgHelper from \"../../../tool/HallPopMsgHelper\";\r\n\r\n\r\nexport default class WndTimeLimitedRechargeGift extends WndBase {\r\n    private model: RechargeGiftModel\r\n\r\n    private examplePoint = 1000\r\n\r\n    private timerLabel:cc.Label\r\n\r\n    private timer  = null\r\n    /**\r\n     * 宝箱合集\r\n     */\r\n    awardBtnArr:cc.Node []= []\r\n    /**\r\n     * 打码示例合集\r\n     */\r\n    egArr = []\r\n    awardPanel:cc.Node\r\n    /**\r\n     * 进行中\r\n     */\r\n    joinedBtn:cc.Node\r\n\r\n    private levelCfg = []\r\n\r\n\r\n    private reachCfg = []\r\n\r\n\r\n    /**\r\n     * 达成条件合集\r\n     */\r\n\r\n    conditionTabel:any = {}\r\n    \r\n\r\n    /**\r\n     * 条件文本集合\r\n     */\r\n    conditionLabelTable = []\r\n    /**\r\n     * 立即参与\r\n     */\r\n    joinBtn:cc.Node\r\n    /**\r\n     * 打码进度条\r\n     */\r\n    progress:cc.ProgressBar\r\n\r\n    /**\r\n     * 打码进度\r\n     */\r\n    winProgress:cc.RichText\r\n    /**\r\n     * 当前点击的宝箱\r\n     */\r\n    clickNode :cc.Node = null\r\n\r\n    protected onInit(){\r\n        this.name = \"WndTimeLimitedRechargeGift\";\r\n        this.isNeedDelay = true\r\n        this.layer = Global.UI.PopLayer;\r\n        this.resPath = \"hall/prefabs/ui/TimeLimitedActivity/TimeLimitedRecharge\"\r\n    }\r\n    protected initView()\r\n    {\r\n       \r\n        this.model = <RechargeGiftModel>Global.ModelManager.getModel(\"RechargeGiftModel\");\r\n        this.joinBtn = this.addCommonClick(\"button\",this.onJoinButtonClicked,this)\r\n        this.joinedBtn = this.getChild(\"joined\")\r\n        this.addCommonClick(\"close\",this.close,this)\r\n        this.progress = this.getComponent(\"progressBar\",cc.ProgressBar)\r\n        this.winProgress = this.getComponent(\"WinProgress/WinProgressLabel\",cc.RichText)\r\n        this.progress.progress = 0;\r\n        this.timerLabel = this.getComponent(\"WinProgress/timerLabel\",cc.Label)\r\n        this.awardPanel = this.getChild(\"AwarPanel\")\r\n        for (let index = 0; index < 3; index++) {\r\n             this.awardBtnArr[index] = Global.UIHelper.addCommonClick(this.awardPanel,cc.js.formatStr(\"Award_%s\",index),this.onAwardBtnClicked,this)\r\n             if(Global.Setting.SkinConfig.isDarkgold)\r\n             {\r\n                this.egArr[index] = this.getComponent(\"content/\"+cc.js.formatStr(\"eg%s\",index+1), cc.RichText)\r\n                this.conditionLabelTable[index] = this.getComponent(\"content/\"+cc.js.formatStr(\"condition%s\",index+1),cc.RichText)\r\n\r\n             }\r\n             else\r\n             {\r\n                this.egArr[index] = this.getComponent(\"content/\"+cc.js.formatStr(\"eg%s\",index+1), cc.Label)\r\n                this.conditionLabelTable[index] = this.getComponent(\"content/\"+cc.js.formatStr(\"condition%s\",index+1),cc.Label)\r\n\r\n             }\r\n             \r\n             if(!this.conditionTabel[index])\r\n             {\r\n                this.conditionTabel[index] = {}\r\n             }\r\n             this.conditionTabel[index][0]  = this.getChild(\"content/\"+cc.js.formatStr(\"condition%s\",index+1) + \"/no\")\r\n             this.conditionTabel[index][1] = this.getChild(\"content/\"+cc.js.formatStr(\"condition%s\",index+1) + \"/yes\")\r\n\r\n        }\r\n\r\n        this.model.on(RechargeGiftModel.GetLimitTimeFirstPayActivityPointReq, this, this.onGetAward);\r\n        this.model.on(RechargeGiftModel.GetLimitTimeFirstPayActivityCfg, this, this.onGetConfig);\r\n        cc.game.on(cc.game.EVENT_SHOW, this.setTimer, this);\r\n    }\r\n    onAwardBtnClicked(target) {\r\n        let node = target.node\r\n        this.clickNode = node\r\n        if(node && node.isValid)\r\n        {\r\n            let awardItem = node.getComponent(TimeLimitedAwardBoxItem)\r\n            if(awardItem)\r\n            {\r\n                this.model.reqGetLimitTimeFirstPayActivityPointReq(awardItem.key)\r\n            }\r\n            \r\n\r\n        }\r\n\r\n    }\r\n    onJoinButtonClicked() \r\n    {\r\n        Global.UI.show(\"WndRecharge\", \"vippay\");\r\n    }\r\n\r\n    close(){\r\n        Global.UI.close(this.name);\r\n        HallPopMsgHelper.Instance.releaseLock(ActivityType.TimeLimitedActivity);\r\n    }\r\n\r\n    protected onOpen()\r\n    {\r\n       \r\n        this.model.reqGetLimitTimeFirstPayActivityCfg()\r\n    }\r\n\r\n    private onGetAward(awardData) {\r\n        \r\n        if(!awardData)\r\n        {\r\n            return\r\n        }\r\n        Global.UI.show(\"WndRebateGet\", awardData.point);\r\n        if(this.clickNode && this.clickNode.isValid)\r\n        {\r\n            let awardItem = this.clickNode.getComponent(TimeLimitedAwardBoxItem)\r\n            if(awardItem)\r\n            {\r\n                awardItem.setBoxState(TimeLimitedBoxState.AlreadyGot)\r\n            }\r\n        }\r\n        this.changeReceiveState(awardData.key)\r\n\r\n        let flag = this.checkIsAnyNotReceive()\r\n        if(!flag)\r\n        {\r\n            this.model.TimelimitedStatus = 0\r\n            Global.Event.event(GlobalEvent.TimeLimitedRechargeStatusChange,true)\r\n            this.close()\r\n        }\r\n       \r\n\r\n    }\r\n\r\n\r\n    protected onClose()\r\n    {\r\n        this.clickNode = null\r\n        this.levelCfg = []\r\n        this.reachCfg = []\r\n        this.clearTimeOut()\r\n    }\r\n    private onGetConfig(data)\r\n    {\r\n        this.OnDataPrepared()\r\n        if(data == null) return\r\n        Global.Event.event(ActivityConstants.SHOW_ACT_WAITTING, false)\r\n        this.joinBtn.active = data.status == 1\r\n        this.joinedBtn.active = data.status > 1\r\n\r\n        this.refreshPanel(data)\r\n    }\r\n   \r\n    refreshPanel(actData: any) {\r\n        if(actData == null) return\r\n        this.setTimer()\r\n        this.assembyData(actData)\r\n        this.refreshConditionContent(actData)\r\n        this.refreshEgContent(actData)\r\n        this.refreshAwardPanel(actData)\r\n        this.setProgress(actData)\r\n\r\n    }\r\n\r\n    assembyData(data)\r\n    {\r\n        \r\n        this.levelCfg.push( data.one_code)\r\n        this.levelCfg.push( data.two_code)\r\n        this.levelCfg.push( data.three_code)\r\n\r\n        let cfg = data.data\r\n        this.reachCfg.push(cfg.one_lv)\r\n        this.reachCfg.push(cfg.two_lv)\r\n        this.reachCfg.push(cfg.three_lv)\r\n    }\r\n\r\n    refreshConditionContent(data)\r\n    {\r\n       \r\n        let status = data.status // 1 未参与 2 参与未第二次充值 3 参与已经第二次充值 0 结束\r\n        let reachFlag = this.checkReachAnyLevel(data)\r\n        if(!this.conditionTabel)return\r\n\r\n        this.conditionTabel[0][0].active = status == 1\r\n        this.conditionTabel[0][1].active = status > 1\r\n        \r\n        this.conditionTabel[1][0].active = !reachFlag\r\n        this.conditionTabel[1][1].active = reachFlag\r\n\r\n        this.conditionTabel[2][0].active = status != 3\r\n        this.conditionTabel[2][1].active = status == 3\r\n\r\n        if(Global.Setting.SkinConfig.isDarkgold)\r\n        {\r\n            if(status>1)\r\n            {\r\n                this.conditionLabelTable[0].string = '<i><color = #8FC31F>条件一 ：该活动仅限会员第一笔【赠送专区入款】充值自动参与；</c></i>'\r\n            }\r\n            else\r\n            {\r\n                this.conditionLabelTable[0].string = '<i><color = #F5D8A7>条件一 ：该活动仅限会员第一笔【赠送专区入款】充值自动参与</c></i>'\r\n            }\r\n            if(reachFlag)\r\n            {\r\n                this.conditionLabelTable[1].string = '<i><color = #8FC31F>条件二 ：达到对应的流水打码量；</c></i>'\r\n            }\r\n            else\r\n            {\r\n                this.conditionLabelTable[1].string = '<i><color = #F5D8A7>条件二 ：达到对应的流水打码量；</c></i>'\r\n            }\r\n\r\n            if(status == 3)\r\n            {\r\n                this.conditionLabelTable[2].string = '<i><color = #8FC31F>条件三 ：次日充值任意金额；</c></i>'\r\n            }\r\n            else\r\n            {\r\n                this.conditionLabelTable[2].string = '<i><color = #F5D8A7>条件三 ：次日充值任意金额；</c></i>'\r\n            }\r\n\r\n\r\n        }\r\n        else if(Global.Setting.SkinConfig.isGreen)\r\n        {\r\n            if(status>1)\r\n            {\r\n                this.conditionLabelTable[0].node.color = new cc.Color().fromHEX('#22AC38');\r\n            }\r\n            else\r\n            {\r\n                this.conditionLabelTable[0].node.color = new cc.Color().fromHEX('#9D5725');\r\n            }\r\n            if(reachFlag)\r\n            {\r\n                this.conditionLabelTable[1].node.color = new cc.Color().fromHEX('#22AC38');\r\n            }\r\n            else\r\n            {\r\n                this.conditionLabelTable[1].node.color = new cc.Color().fromHEX('#9D5725');\r\n            }\r\n\r\n            if(status == 3)\r\n            {\r\n                this.conditionLabelTable[2].node.color = new cc.Color().fromHEX('#22AC38');\r\n            }\r\n            else\r\n            {\r\n                this.conditionLabelTable[2].node.color = new cc.Color().fromHEX('#9D5725');\r\n            }\r\n        }\r\n\r\n        \r\n    }\r\n\r\n    refreshEgContent(data)\r\n    {\r\n        let info = '当会员达到（1000+%s）*%s=%s流水即可获得%s元首充彩金'\r\n        let levelCfg = data.config.list\r\n        if(!levelCfg)\r\n        {\r\n            return\r\n        }\r\n        let dama = 0\r\n        for (let index = 0; index < levelCfg.length; index++) {\r\n            let level = levelCfg[index];\r\n            let rata = level.rate\r\n            let muilt = level.dama_multi\r\n            dama += this.examplePoint * rata/100\r\n            let total = (this.examplePoint + dama) * muilt\r\n            if(Global.Setting.SkinConfig.isDarkgold)\r\n            {\r\n                info = (index+1)+\".\"+'当会员达到（1000+%s）*%s=<color= #FFF55B>%s</c>流水即可获得%s元首充彩金'\r\n                this.egArr[index].string = `<i>${info}</i>`\r\n                continue\r\n            }\r\n            else if(Global.Setting.SkinConfig.isGreen)\r\n            {\r\n                info = (index+1)+\".\"+'当会员达到（1000+%s）*%s=<color= #EB6100>%s</c>流水即可获得%s元首充彩金'\r\n                this.egArr[index].string = `<i>${info}</i>`\r\n            }\r\n            this.egArr[index].string = cc.js.formatStr((index+1)+\".\"+info,dama,muilt,total,this.examplePoint * rata/100)\r\n\r\n        }\r\n\r\n\r\n    }\r\n\r\n    refreshAwardPanel(data)\r\n    {\r\n        let levelCfg = data.config.list\r\n        if(!levelCfg)\r\n        {\r\n            return\r\n        }\r\n        for (let index = 0; index < levelCfg.length; index++) {\r\n            let level = levelCfg[index];\r\n            this.awardBtnArr[index].getComponent(TimeLimitedAwardBoxItem).refreshState(data,level,index,this.levelCfg,this.reachCfg)\r\n\r\n        }\r\n    }\r\n\r\n    checkReachAnyLevel(data)\r\n    {\r\n        let flag = false\r\n        let currentDama = data.put_code\r\n        \r\n        if(this.levelCfg.length == 0) return flag      \r\n        for (let index = 0; index < this.levelCfg.length; index++) {\r\n            let level = this.levelCfg[index];\r\n            if(level && currentDama >= level)\r\n            {\r\n                flag = true\r\n                break\r\n            }\r\n            \r\n        }  \r\n        return flag\r\n    }\r\n\r\n    setTimer()\r\n    {\r\n        if(this.model.TimelimitedStatus >1)\r\n        {\r\n            this.timerLabel.node.active = false\r\n            return\r\n        }\r\n        this.clearTimeOut()\r\n        let currentTime = new Date().getTime()\r\n        let time = this.model.CountDown * 1000 - currentTime\r\n        time = Math.ceil(time/1000)\r\n        this.timerLabel.string = Global.Toolkit.secondFormatHMS(time)\r\n        this.timer = setInterval(() => {\r\n            this.timerLabel.string = Global.Toolkit.secondFormatHMS(time)\r\n            time -= 1\r\n            if(time<=0)\r\n            {\r\n                this.timerLabel.node.active = false\r\n            }\r\n        }, 1000);\r\n\r\n    }\r\n\r\n    clearTimeOut()\r\n    {\r\n        if(this.timer)\r\n        {\r\n            clearInterval(this.timer)\r\n        }\r\n        this.timer = null\r\n    }\r\n    /**\r\n     * 设置进度条\r\n     * @param actData \r\n     */\r\n    setProgress(data:any) {\r\n        this.progress.progress = data.put_code/ data.three_code\r\n        if(!data.three_code)\r\n        {\r\n            this.progress.progress = 0\r\n        }\r\n        let current = Global.Toolkit.formatPointStr(data.put_code) || \"0\"\r\n        let all = Global.Toolkit.formatPointStr(data.three_code)|| \"0\"\r\n        this.winProgress.string = `${current}/${all}</c>`\r\n        \r\n    }\r\n    \r\n\r\n    private changeReceiveState(level)\r\n    {\r\n        if(this.reachCfg[level-1] === 0)\r\n        {\r\n            this.reachCfg[level-1] = 1\r\n\r\n        }\r\n    }\r\n\r\n    private checkIsAnyNotReceive()\r\n    {\r\n        for (let index = 0; index < this.reachCfg.length; index++) {\r\n            let  element = this.reachCfg[index];\r\n            if(!element)\r\n            {\r\n                return true\r\n            }\r\n        }\r\n        return false\r\n    }\r\n\r\n\r\n    protected onDispose()\r\n    {\r\n        this.clickNode = null\r\n        this.levelCfg = []\r\n        this.reachCfg = []\r\n        this.model.off(RechargeGiftModel.GetLimitTimeFirstPayActivityPointReq, this, this.onGetAward);\r\n        this.model.off(RechargeGiftModel.GetLimitTimeFirstPayActivityCfg, this, this.onGetConfig);\r\n        cc.game.off(cc.game.EVENT_SHOW, this.setTimer, this);\r\n    }\r\n  \r\n}\r\n\r\nexport enum TimeLimitedBoxState\r\n{\r\n    /**常规 不可点击*/\r\n    Normal = 0, \r\n    /**高亮 可点击*/\r\n    TodayAchieved = 1,\r\n    /**已领取 */\r\n    AlreadyGot = 2,\r\n    \r\n}\r\n"]}