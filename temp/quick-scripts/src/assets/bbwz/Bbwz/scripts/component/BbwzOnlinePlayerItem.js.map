{"version":3,"sources":["assets\\bbwz\\Bbwz\\scripts\\component\\BbwzOnlinePlayerItem.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,4CAAuC;AAEjC,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAE1C;;GAEG;AAEH;IAAkD,wCAAY;IAA9D;QAAA,qEA0GC;QAzGG;;WAEG;QACH,gBAAU,GAAa,IAAI,CAAC;QAC5B;;WAEG;QACH,eAAS,GAAa,IAAI,CAAC;QAC3B;;WAEG;QACH,eAAS,GAAY,IAAI,CAAC;QAC1B;;WAEG;QACH,eAAS,GAAY,IAAI,CAAC;QAC1B;;WAEG;QACH,cAAQ,GAAW,IAAI,CAAC;QACxB;;WAEG;QACH,iBAAW,GAAY,IAAI,CAAC;QAC5B;;WAEG;QACH,mBAAa,GAAY,IAAI,CAAC;QAOtB,mBAAa,GAAc,EAAE,CAAC;;IAuE1C,CAAC;IAnEG,qCAAM,GAAN;QACI,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC,IAAI,CAAC,kBAAkB,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;QACjF,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;QAC1E,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;QACzE,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;QACzE,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;QAClD,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;QAC3E,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC;QAC5B,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC,IAAI,CAAC,mBAAmB,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;QAClF,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC,IAAI,CAAC,qBAAqB,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;QAEtF,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC,IAAI,CAAC,oBAAoB,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;QAC3D,KAAK,IAAI,CAAC,GAAE,CAAC,EAAE,CAAC,IAAG,CAAC,EAAE,CAAC,EAAE,EAAC;YACtB,IAAI,IAAI,GAAG,EAAE,CAAC,IAAI,CAAC,QAAQ,GAAG,CAAC,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;YAClD,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SACjC;QACD,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC,IAAI,CAAC,kBAAkB,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;QACvD,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC,IAAI,CAAC,iBAAiB,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;IAClF,CAAC;IAED;;;;OAIG;IACH,uCAAQ,GAAR,UAAS,IAAI,EAAE,KAAa;QACxB,IAAI,CAAC,UAAU,CAAC,WAAW,GAAG,MAAM,CAAC,OAAO,CAAC,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAC1E,oBAAU,CAAC,QAAQ,CAAC,gBAAgB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;QAEjE,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC;QACtC,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,EAAE,GAAG,MAAM,CAAC,OAAO,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAEvE,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,KAAK,CAAC;QAC7B,IAAG,IAAI,CAAC,IAAI,EAAC;YACT,IAAI;YACJ,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC;SAC/B;QAED,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,MAAM,CAAC,OAAO,CAAC,cAAc,CAAC,IAAI,CAAC,SAAS,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC,CAAE,qBAAqB;QAC7G,IAAI,CAAC,aAAa,CAAC,MAAM,GAAG,EAAE,GAAG,IAAI,CAAC,SAAS,CAAC;QAEhD,IAAG,IAAI,CAAC,YAAY,EAAC;YACjB,KAAK;YACL,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC;YAC5B,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,KAAK,CAAC;YAC/B,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;SACtC;aACI,IAAI,KAAK,GAAG,CAAC,EAAE;YAChB,KAAK;YACL,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,KAAK,CAAC;YAC7B,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,IAAI,CAAC;YAC9B,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YACnC,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,UAAC,IAAI,EAAE,CAAC;gBAC/B,IAAI,CAAC,IAAI,KAAK;oBACV,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;;oBAEnB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YAC5B,CAAC,CAAC,CAAA;SACL;aACG;YACA,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,KAAK,CAAC;YAC7B,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,KAAK,CAAC;YAC/B,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;YAClC,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,EAAE,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC;SAC5C;IACL,CAAC;IAxGgB,oBAAoB;QADxC,OAAO;OACa,oBAAoB,CA0GxC;IAAD,2BAAC;CA1GD,AA0GC,CA1GiD,EAAE,CAAC,SAAS,GA0G7D;kBA1GoB,oBAAoB","file":"","sourceRoot":"/","sourcesContent":["import BbwzDriver from \"../BbwzDriver\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n/**\r\n * 在线玩家弹窗界面中的单个玩家 组件\r\n */\r\n@ccclass\r\nexport default class BbwzOnlinePlayerItem extends cc.Component {\r\n    /**\r\n     * 头像\r\n     */\r\n    spriteHead:cc.Sprite = null;\r\n    /**\r\n     * 头像框\r\n     */\r\n    headKuang:cc.Sprite = null;\r\n    /**\r\n     * 玩家名字\r\n     */\r\n    lableName:cc.Label = null;\r\n    /**\r\n     * 玩家金币\r\n     */\r\n    lableGold:cc.Label = null;\r\n    /**\r\n     * 自己的标签\r\n     */\r\n    selfNode:cc.Node = null;\r\n    /**\r\n     * 下注数量文本\r\n     */\r\n    lableXiazhu:cc.Label = null;\r\n    /**\r\n     * 获胜局数文本\r\n     */\r\n    labelWinCount:cc.Label = null;\r\n    // 排名文本\r\n    labelCur: cc.Label;\r\n    // 智多星\r\n    private wiseNode: cc.Node;\r\n    // 大富豪\r\n    private richerNode: cc.Node;\r\n    private richerTextArr: cc.Node[] = [];\r\n    // 排名文本\r\n    private labelRank:cc.Label;\r\n    \r\n    onLoad(){\r\n        this.spriteHead = cc.find(\"mask/sprite_head\", this.node).getComponent(cc.Sprite);\r\n        this.headKuang = cc.find(\"head_kuang\", this.node).getComponent(cc.Sprite);\r\n        this.lableName = cc.find(\"label_name\", this.node).getComponent(cc.Label);\r\n        this.lableGold = cc.find(\"label_gold\", this.node).getComponent(cc.Label);\r\n        this.selfNode = cc.find(\"sprite_self\", this.node);\r\n        this.labelCur = cc.find(\"info/label_ju\", this.node).getComponent(cc.Label);\r\n        this.labelCur.string = \"20\";\r\n        this.lableXiazhu = cc.find(\"info/label_xiazhu\", this.node).getComponent(cc.Label);\r\n        this.labelWinCount = cc.find(\"info/label_winCount\", this.node).getComponent(cc.Label);\r\n\r\n        this.richerNode = cc.find(\"rank/sprite_richer\", this.node);\r\n        for (let i= 1; i<= 3; i++){\r\n            let node = cc.find(\"richer\" + i, this.richerNode);\r\n            this.richerTextArr.push(node);\r\n        }\r\n        this.wiseNode = cc.find(\"rank/sprite_wise\", this.node);\r\n        this.labelRank = cc.find(\"rank/label_rank\", this.node).getComponent(cc.Label);\r\n    }\r\n\r\n    /**\r\n     * 更新显示\r\n     * @param data 数据对象\r\n     * @param index 排名索引 0-智多星\r\n     */\r\n    updateUI(data, index: number){\r\n        this.spriteHead.spriteFrame = Global.Toolkit.getLocalHeadSf(data.headimg);\r\n        BbwzDriver.instance.loadVipHeadKuang(this.headKuang, data.a_box);\r\n\r\n        this.lableName.string = data.nickname;\r\n        this.lableGold.string = \"\" + Global.Toolkit.GetMoneyFormat(data.point);\r\n        \r\n        this.selfNode.active = false;\r\n        if(data.isMy){\r\n            //自己\r\n            this.selfNode.active = true;\r\n        }\r\n\r\n        this.lableXiazhu.string = Global.Toolkit.formatPointStr(data.total_bet, false, false);  // 确定会不会出现小数 目前没有切小数点\r\n        this.labelWinCount.string = \"\" + data.win_count;\r\n\r\n        if(data.isZhiduoxing){\r\n            //智多星\r\n            this.wiseNode.active = true;\r\n            this.richerNode.active = false;\r\n            this.labelRank.node.active = false;\r\n        }\r\n        else if (index < 3) {\r\n            //大富豪\r\n            this.wiseNode.active = false;\r\n            this.richerNode.active = true;\r\n            this.labelRank.node.active = false;\r\n            this.richerTextArr.forEach((node, i)=>{\r\n                if (i == index)\r\n                    node.active = true;\r\n                else\r\n                    node.active = false;\r\n            })\r\n        }\r\n        else{\r\n            this.wiseNode.active = false;\r\n            this.richerNode.active = false;\r\n            this.labelRank.node.active = true;\r\n            this.labelRank.string = \"\" + (1 + index);\r\n        }\r\n    }\r\n\r\n}\r\n"]}