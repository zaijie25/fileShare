{"version":3,"sources":["assets\\ermj\\Ermj\\scripts\\subView\\ErmjBaseView.ts"],"names":[],"mappings":";;;;;;AAGA,4CAAuC;AAEvC,oCAAoC;AACpC;IASI,0BAA0B;IAC1B;QAHQ,YAAO,GAAW,KAAK,CAAC;QAK5B,IAAI,CAAC,IAAI,GAAG,oBAAU,CAAC,QAAQ,CAAC,IAAI,CAAC;QACrC,IAAI,CAAC,MAAM,GAAG,oBAAU,CAAC,QAAQ,CAAC,MAAM,CAAC;QACzC,IAAI,CAAC,OAAO,GAAG,oBAAU,CAAC,QAAQ,CAAC,OAAO,CAAC;IAC/C,CAAC;IAED,sBAAW,gCAAM;aAAjB;YAEI,OAAO,IAAI,CAAC,OAAO,CAAC;QACxB,CAAC;aAED,UAAkB,KAAK;YAEnB,IAAG,KAAK,IAAI,IAAI,CAAC,OAAO;gBACpB,OAAO;YACX,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACrB,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YACzB,IAAG,IAAI,CAAC,OAAO;gBACX,IAAI,CAAC,MAAM,EAAE,CAAC;;gBAEd,IAAI,CAAC,OAAO,EAAE,CAAC;QACvB,CAAC;;;OAZA;IAcD,6BAA6B;IACtB,gCAAS,GAAhB,UAAiB,KAAK;QAClB,IAAI,CAAC,OAAO,GAAG,CAAC,KAAK,CAAC;QACtB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;IACxB,CAAC;IAEM,8BAAO,GAAd,UAAe,IAAI;QACf,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAG,IAAI,IAAI,IAAI,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,EACpC;YACI,MAAM,CAAC,KAAK,CAAC,mCAAmC,CAAC,CAAC;YAClD,OAAO;SACV;QACD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpB,CAAC;IAES,+BAAQ,GAAlB;IAGA,CAAC;IAES,6BAAM,GAAhB,cACC,CAAC;IAEQ,8BAAO,GAAjB,cACC,CAAC;IAEK,kCAAW,GAAlB;QAEI,IAAI,CAAC,YAAY,EAAE,CAAC;IACxB,CAAC;IAEM,mCAAY,GAAnB,cACC,CAAC;IAIQ,mCAAY,GAAtB,UAAuB,IAAW,EAAE,IAAS;QAEzC,OAAO,MAAM,CAAC,QAAQ,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAA;IAC9D,CAAC;IAES,+BAAQ,GAAlB,UAAmB,IAAW;QAE1B,OAAO,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAA;IACpD,CAAC;IACL,mBAAC;AAAD,CAjFA,AAiFC,IAAA","file":"","sourceRoot":"/","sourcesContent":["import ErmjPathHelper from \"../data/ErmjPathHelper\";\r\nimport ErmjDefine from \"../data/ErmjDefine\";\r\nimport ErmjContext from \"../data/ErmjContext\";\r\nimport ErmjDriver from \"../ErmjDriver\";\r\n\r\n//viewBase   暂时不继承compoennt，不需要额外的开销\r\nexport default class ErmjBaseView\r\n{\r\n    protected Path:ErmjPathHelper;\r\n    protected Define:ErmjDefine;\r\n    protected Context: ErmjContext;\r\n\r\n    public node:cc.Node;\r\n    private _active:boolean = false;\r\n\r\n    // debug 子类函数声明默认值在 父类构造之后\r\n    constructor()\r\n    {\r\n        this.Path = ErmjDriver.instance.Path;\r\n        this.Define = ErmjDriver.instance.Define;\r\n        this.Context = ErmjDriver.instance.Context;\r\n    }\r\n\r\n    public get active()\r\n    {\r\n        return this._active;\r\n    }\r\n\r\n    public set active(value)\r\n    {\r\n        if(value == this._active)\r\n            return;\r\n        this._active = value;\r\n        this.node.active = value;\r\n        if(this._active)\r\n            this.onOpen();\r\n        else\r\n            this.onClose();\r\n    }\r\n\r\n    //强制设置active 触发onClose onOpen\r\n    public setActive(value){\r\n        this._active = !value;\r\n        this.active = value;\r\n    }\r\n\r\n    public setNode(node){\r\n        this.node = node;\r\n        if(node == null || !cc.isValid(node))\r\n        {\r\n            Logger.error(\"node == null || !cc.isValid(node)\");\r\n            return;\r\n        }\r\n        this._active = node;\r\n        this.initView();\r\n    }\r\n\r\n    protected initView()\r\n    {\r\n\r\n    }\r\n\r\n    protected onOpen()\r\n    {}\r\n\r\n    protected onClose()\r\n    {}\r\n\r\n    public clearByGame()\r\n    {\r\n        this.clearByRound();\r\n    }\r\n\r\n    public clearByRound()\r\n    {}\r\n\r\n    // 系统组件采用，自建组件使用Global.UIHelper.safeGetComponent\r\n    protected getComponent<T extends cc.Component>(path:string, type: {prototype: T}): T;\r\n    protected getComponent(path:string, type: any): any\r\n    {\r\n        return Global.UIHelper.getComponent(this.node, path, type)\r\n    }\r\n\r\n    protected getChild(path:string): cc.Node\r\n    {\r\n        return Global.UIHelper.getChild(this.node, path)\r\n    }\r\n}"]}