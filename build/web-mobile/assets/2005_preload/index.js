window.__require=function t(e,o,n){function i(c,a){if(!o[c]){if(!e[c]){var r=c.split("/");if(r=r[r.length-1],!e[r]){var s="function"==typeof __require&&__require;if(!a&&s)return s(r,!0);if(l)return l(r,!0);throw new Error("Cannot find module '"+c+"'")}c=r}var d=o[c]={exports:{}};e[c][0].call(d.exports,function(t){return i(e[c][1][t]||t)},d,d.exports,t,e,o,n)}return o[c].exports}for(var l="function"==typeof __require&&__require,c=0;c<n.length;c++)i(n[c]);return i}({DdzLobbyUI:[function(t,e,o){"use strict";cc._RF.push(e,"e74d2ypsF5EGK9oSCQEZZHF","DdzLobbyUI");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),l=this&&this.__decorate||function(t,e,o,n){var i,l=arguments.length,c=l<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(l<3?i(c):l>3?i(e,o,c):i(e,o))||c);return l>3&&c&&Object.defineProperty(e,o,c),c},c=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,l){function c(t){try{r(n.next(t))}catch(e){l(e)}}function a(t){try{r(n.throw(t))}catch(e){l(e)}}function r(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(c,a)}r((n=n.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var o,n,i,l,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return l={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function a(t){return function(e){return r([t,e])}}function r(l){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(i=2&l[0]?n.return:l[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,l[1])).done)return i;switch(n=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return c.label++,{value:l[1],done:!1};case 5:c.label++,n=l[1],l=[0];continue;case 7:l=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===l[0]||2===l[0])){c=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){c.label=l[1];break}if(6===l[0]&&c.label<i[1]){c.label=i[1],i=l;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(l);break}i[2]&&c.ops.pop(),c.trys.pop();continue}l=e.call(t,c)}catch(a){l=[6,a],n=0}finally{o=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,d=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaultLevel=[{level:"l0",PointLow:3e5,PointRate:1e4},{level:"l1",PointLow:5e5,PointRate:1e4},{level:"l2",PointLow:5e6,PointRate:5e4},{level:"l3",PointLow:1e7,PointRate:1e5},{level:"l4",PointLow:1e7,PointRate:1e5},{level:"l5",PointLow:1e7,PointRate:1e5}],e.levelToBtnIndexMap={l0:0,l1:1,l2:2,l3:3,l4:4,l5:5},e.levelPosMap={4:[cc.v2(42,112),cc.v2(404,112),cc.v2(42,-137),cc.v2(404,-137)],3:[cc.v2(218,112),cc.v2(42,-137),cc.v2(404,-137)],2:[cc.v2(42,0),cc.v2(404,0)],1:[cc.v2(218,0)]},e.showMaxItem=6,e.levelItemList=[],e}return i(e,t),e.prototype.onLoad=function(){this.node.width=cc.Canvas.instance.node.width,this.node.height=cc.Canvas.instance.node.height,this.topNode=cc.find("topNode",this.node),this.bottomNode=cc.find("bottomNode",this.node),this.centerNode=cc.find("centerNode",this.node),Global.UIHelper.addCommonClick(this.node,"topNode/content/leaveBtn",this.onLeaveClick,this,cc.Button.Transition.SCALE,null,!1),Global.UIHelper.addCommonClick(this.node,"topNode/content/settingBtn",this.onSettingClick,this,cc.Button.Transition.SCALE,null,!1),Global.UIHelper.addCommonClick(this.node,"topNode/content/ruleBtn",this.onRuleClick,this,cc.Button.Transition.SCALE,null,!1),Global.UIHelper.addCommonClick(this.node,"bottomNode/quickStartBtn",this.onQuickStartClick,this,cc.Button.Transition.SCALE,null,!1),cc.find("bottomNode/quickStartBtn",this.node).active=!1,this.selfInfoView=Global.UIHelper.safeGetComponent(this.node,"bottomNode/content",p),this.initLevel();var t=cc.find("topNode/paoMaDengBox",this.node);Global.UIHelper.addPaoMaDengComp(cc.find("topNode/paoMaDengBox/MsgBox",this.node),!1,t),Global.UIHelper.addWifiComp(cc.find("topNode/content/wifiNode",this.node),1),Global.Toolkit.adjustIphoneX([cc.find("topNode/content",this.node)]),this.animComp=Global.UIHelper.addAnimComp(this.node,this.centerNode,cc.find("mask",this.node))},e.prototype.initLevel=function(){this.scrollView=cc.find("centerNode/scrollView",this.node).getComponent(cc.ScrollView),this.layout=cc.find("view/content",this.scrollView.node).getComponent(cc.Layout),this.levelItemList=[];for(var t=0;t<6;t++){var e=cc.find("centerNode/scrollView/view/content/level"+t.toString(),this.node);e.active=!0;var o=Global.UIHelper.safeGetComponent(e,"",h);o.setCallback(this.onLevelItemAct,this),o.node.active=!1,this.levelItemList.push(o)}},e.prototype.refreshPlayerInfo=function(){this.selfInfoView.updateInfo()},e.prototype.onEnable=function(){Global.Event.on(GlobalEvent.PERSONALINFOUPDATE,this,this.refreshPlayerInfo),this.refreshPlayerInfo(),this.updateLevelItem(),Global.HallServer.send(NetAppface.mod,NetAppface.GetUserPoint,{}),this.animComp.doFullScreenOpenAnim(this.topNode,null,[this.centerNode],this.bottomNode)},e.prototype.onLeaveClick=function(){Global.Audio.playBtnSound(),Game.Event.event(GlobalEvent.OnCloseGameLobby)},e.prototype.onRuleClick=function(){return c(this,void 0,void 0,function(){var t,e;return a(this,function(o){switch(o.label){case 0:return Global.Audio.playBtnSound(),this.rulePop&&cc.isValid(this.rulePop)?(this.rulePop.active=!0,[3,3]):[3,1];case 1:return[4,Game.GamePreloadTool.preloadPrefab(Game.GamePreloadTool.rulePop,!0)];case 2:t=o.sent(),this.node&&cc.isValid(this.node)&&t&&cc.isValid(t)&&((e=cc.instantiate(t)).setParent(Global.UI.getLayer("PopLayer")),e.active=!0,this.rulePop=e),o.label=3;case 3:return[2]}})})},e.prototype.onSettingClick=function(){return c(this,void 0,void 0,function(){var t,e;return a(this,function(o){switch(o.label){case 0:return Global.Audio.playBtnSound(),this.settingPop&&cc.isValid(this.settingPop)?(this.settingPop.active=!0,[3,3]):[3,1];case 1:return[4,Game.GamePreloadTool.preloadPrefab(Game.GamePreloadTool.settingPop,!0)];case 2:t=o.sent(),this.node&&cc.isValid(this.node)&&t&&cc.isValid(t)&&((e=cc.instantiate(t)).setParent(Global.UI.getLayer("PopLayer")),e.active=!0,this.settingPop=e),o.label=3;case 3:return[2]}})})},e.prototype.onQuickStartClick=function(){Global.Audio.playBtnSound();var t=Global.GameData.getGameInfo(Game.GamePreloadTool.curGameId).levels;if(t&&!(t.length<=0)){for(var e=t[0].level,o=0,n=t.length-1;n>=0;n--){var i=t[n];i.PointLow<=Global.PlayerData.point&&i.PointLow>o&&(o=i,e=i.level)}this.onLevelItemAct(e)}},e.prototype.updateLevelItem=function(){var t,e=Global.GameData.getGameInfo(Game.GamePreloadTool.curGameId);console.log(e),t=e&&e.levels&&!Global.Toolkit.isEmptyObject(e.levels)?e.levels:this.defaultLevel;for(var o=0;o<this.levelItemList.length;o++)this.levelItemList[o].node.active=!1;for(o=0;o<t.length;o++){var n=t[o],i=t[o].level,l=this.levelToBtnIndexMap[i];if(null!=l&&l<this.levelItemList.length){var c=this.levelItemList[l];this.levelItemList[l].node.active=!0,c.setLevel(i),c.setItemStyle(n.PointRate,n.PointLow)}}},e.prototype.onLevelItemAct=function(t){console.log(t),console.log("\u573a\u6b21\u7b49\u7ea7"),Game.Event.event(GlobalEvent.OnGotoGameScene,t)},e.prototype.onDestroy=function(){Global.Event.off(GlobalEvent.PERSONALINFOUPDATE,this,this.refreshPlayerInfo)},e.prototype.onDisable=function(){Global.Event.off(GlobalEvent.PERSONALINFOUPDATE,this,this.refreshPlayerInfo),this.rulePop&&cc.isValid(this.rulePop)&&(this.rulePop.removeFromParent(),this.rulePop.destroy(),this.rulePop=null),this.settingPop&&cc.isValid(this.settingPop)&&(this.settingPop.removeFromParent(),this.settingPop.destroy(),this.settingPop=null)},l([s],e)}(cc.Component));o.default=d;var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){this.baseLbl=cc.find("baseNode/baseLbl",this.node).getComponent(cc.Label),this.limitLbl=cc.find("coinNode/limitLbl",this.node).getComponent(cc.Label),this.node.off("click"),Global.UIHelper.addCommonClick(this.node,"",this.onItemClick,this,cc.Button.Transition.SCALE,null,!1),this.modeNode=cc.find("mode",this.node),this.modeNode1=cc.find("mode1",this.node)},e.prototype.setCallback=function(t,e){this.callback=t,this.target=e},e.prototype.setLevel=function(t){this.level=t},e.prototype.setMode=function(t,e){t?1==e?(this.modeNode.active=!0,this.modeNode1.active=!1):(this.modeNode.active=!1,this.modeNode1.active=!0):(this.modeNode.active=t,this.modeNode1.active=t)},e.prototype.setItemStyle=function(t,e){this.baseLbl.string=""+Global.Toolkit.formatPointStr(t),this.limitLbl.string=""+Global.Toolkit.formatPointStr(e)},e.prototype.onItemClick=function(){Global.Audio.playBtnSound(),this.callback&&this.callback.call(this.target,this.level)},e}(cc.Component),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){this.nameLbl=cc.find("nameNode/nameLbl",this.node).getComponent(cc.Label),this.idLbl=cc.find("nameNode/idLbl",this.node).getComponent(cc.Label),this.headImg=cc.find("nameNode/mask/headImg",this.node).getComponent(cc.Sprite),this.headBox=cc.find("nameNode/headBox",this.node).getComponent(cc.Sprite),this.coinLbl=cc.find("coinNode/coinLbl",this.node).getComponent(cc.Label),Global.UIHelper.addCommonClick(this.node,"coinNode/btn_cz",this.openRecharge,this,cc.Button.Transition.SCALE,null,!1)},e.prototype.openRecharge=function(){Global.Audio.playBtnSound(),Global.UI.show("WndRecharge")},e.prototype.updateInfo=function(){var t=Global.PlayerData;this.nameLbl.string=t.nickname,this.idLbl.string="ID:"+t.uid,this.coinLbl.string=Global.Toolkit.formatPointStr(t.point,!0),this.loadHeadImg(t.headimg),this.loadHeadBox(t.headkuang)},e.prototype.loadHeadImg=function(t){var e=this.headImg.node.width,o=this.headImg.node.height;this.headImg.spriteFrame=Global.Toolkit.getLocalHeadSf(t),this.headImg.node.width=e,this.headImg.node.height=o},e.prototype.loadHeadBox=function(t){this.headBox.node.width,this.headBox.node.height;var e="txkuang_vip"+t;Global.ResourceManager.loadBundleAutoAtlas("2005_preload",this.headBox,"texture/headFrame/headFrame",e,null,!0)},e}(cc.Component);cc._RF.pop()},{}],DdzRulePop:[function(t,e,o){"use strict";cc._RF.push(e,"f1ccee1biZC/Jf0CI98fajQ","DdzRulePop");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),l=this&&this.__decorate||function(t,e,o,n){var i,l=arguments.length,c=l<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(l<3?i(c):l>3?i(e,o,c):i(e,o))||c);return l>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,r=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){this.node.width=cc.Canvas.instance.node.width,this.node.height=cc.Canvas.instance.node.height,this.sv=cc.find("centerNode/scrollView",this.node).getComponent(cc.ScrollView),Global.UIHelper.addCommonClick(this.node,"centerNode/close",this.closeWnd,this,cc.Button.Transition.SCALE,null,!1),Global.UIHelper.addCommonClick(this.node,"mask",this.closeWnd,this,cc.Button.Transition.NONE,cc.Button.Transition.SCALE,!1),this.animComp=Global.UIHelper.addAnimComp(this.node,cc.find("centerNode",this.node),cc.find("mask",this.node))},e.prototype.onEnable=function(){this.sv.scrollToTop(0),this.animComp.doPopupOpenAnim()},e.prototype.closeWnd=function(){var t=this;Global.Audio.playBtnSound(),this.animComp.doPopupCloseAnim(function(){t.node.active=!1})},l([a],e)}(cc.Component));o.default=r,cc._RF.pop()},{}],DdzSettingPop:[function(t,e,o){"use strict";cc._RF.push(e,"31ec8mlt4VAi6cRA44JtgTF","DdzSettingPop");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),l=this&&this.__decorate||function(t,e,o,n){var i,l=arguments.length,c=l<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(l<3?i(c):l>3?i(e,o,c):i(e,o))||c);return l>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,r=c.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.version="1.0.1",e}return i(e,t),e.prototype.onLoad=function(){this.node.width=cc.Canvas.instance.node.width,this.node.height=cc.Canvas.instance.node.height,Global.UIHelper.addCommonClick(this.node,"centerNode/close",this.closeWnd,this,cc.Button.Transition.SCALE,null,!1),Global.UIHelper.addCommonClick(this.node,"mask",this.closeWnd,this,cc.Button.Transition.NONE,cc.Button.Transition.SCALE,!1),this.initVersion(),this.initToggle(),this.animComp=Global.UIHelper.addAnimComp(this.node,cc.find("centerNode",this.node),cc.find("mask",this.node))},e.prototype.onEnable=function(){this.animComp.doPopupOpenAnim()},e.prototype.initVersion=function(){this.versionLbl=cc.find("centerNode/versionLbl",this.node).getComponent(cc.Label);var t=Game.GamePreloadTool.curGameId,e=Global.GameData.getGameInfo(t);e?this.setVersion(e.native_version):this.setVersion(this.version)},e.prototype.initToggle=function(){var t=Global.Setting.settingData.musicEnable,e=Global.Setting.settingData.soundEnable,o=Global.UIHelper.safeGetComponent(this.node,"centerNode/musicToggle",d);o.setCallback(this.onMusicToggle,this);var n=Global.UIHelper.safeGetComponent(this.node,"centerNode/soundToggle",d);n.setCallback(this.onAudioToggle,this),o.isChecked=t,n.isChecked=e},e.prototype.setVersion=function(t){this.versionLbl.string="\u7248\u672c\u53f7\uff1aV"+t},e.prototype.onMusicToggle=function(t){Global.Audio.playBtnSound();var e=t.isChecked;Global.Audio.setMusicEnable(e)},e.prototype.onAudioToggle=function(t){var e=t.isChecked;Global.Audio.setSoundEnable(e),Global.Audio.playBtnSound()},e.prototype.closeWnd=function(){var t=this;Global.Audio.playBtnSound(),this.animComp.doPopupCloseAnim(function(){t.node.active=!1})},l([r],e.prototype,"version",void 0),l([a],e)}(cc.Component);o.default=s;var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.setCallback=function(t,e){this.callback=t,this.target=e},e.prototype.onLoad=function(){this.normalNode=cc.find("close",this.node),this.checkNode=cc.find("open",this.node),Global.UIHelper.addCommonClick(this.node,"",this.onToggleClick,this,cc.Button.Transition.SCALE,null,!1)},e.prototype.onToggleClick=function(){this.isChecked=!this._isCheck,this.callback&&this.target&&this.callback.call(this.target,this)},Object.defineProperty(e.prototype,"isChecked",{get:function(){return this._isCheck},set:function(t){t!==this._isCheck&&(this._isCheck=t,this.updateStyle())},enumerable:!1,configurable:!0}),e.prototype.updateStyle=function(){this.normalNode.active=!this._isCheck,this.checkNode.active=!!this._isCheck},e}(cc.Component);cc._RF.pop()},{}]},{},["DdzLobbyUI","DdzRulePop","DdzSettingPop"]);