window.__require=function e(t,o,i){function n(a,s){if(!o[a]){if(!t[a]){var l=a.split("/");if(l=l[l.length-1],!t[l]){var c="function"==typeof __require&&__require;if(!s&&c)return c(l,!0);if(r)return r(l,!0);throw new Error("Cannot find module '"+a+"'")}a=l}var p=o[a]={exports:{}};t[a][0].call(p.exports,function(e){return n(t[a][1][e]||e)},p,p.exports,e,t,o,i)}return o[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<i.length;a++)n(i[a]);return n}({AESUtil:[function(e,t,o){"use strict";cc._RF.push(t,"54027Buy+RKIIJXc5rn+jfZ","AESUtil"),Object.defineProperty(o,"__esModule",{value:!0}),o.AESUtil=void 0;var i=e("../../../framework/libs/cryptoTs/lib/Hasher"),n=e("../../../framework/libs/cryptoTs/algo/MD5"),r=e("../../../framework/libs/cryptoTs/crypto-ts"),a=function(){function e(){this.cryptoKey="yaoxing8901234561234567890123488",this.cryptoIv="yaoxing890123488",this.routeCrypKey="kjhlouyuf20987677869887978987277",this.routeCrypIv="kjhlouyuf2098767",this._pwCheckString="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz"}return e.prototype.md5=function(e){return null==this.MD5Hasher&&(this.MD5Hasher=i.Hasher._createHelper(n.MD5)),this.MD5Hasher(e).toString()},e.prototype.aesEncrptMsg=function(e){return"s:"+this.aesEncrypt(this.routeCrypKey,this.routeCrypIv,e)},e.prototype.decodeMsg=function(e){var t=e.trim();if(!t)return"";if("{"==t.charAt(0))return e;if(t.indexOf("<html")>0||t.indexOf(" ")>0||t.indexOf("\t")>0||t.indexOf(">")>0)return"";var o=Global.NativeEvent.decryptData(e);return null==o||o.result<0?this.decodeInternal(e):o.funcParam},e.prototype.decodeInternal=function(e){return this.aesDecrypt(e)},e.prototype.aesEncryptWithCommonKey=function(e){return this.aesEncrypt(this.cryptoKey,this.cryptoIv,e)},e.prototype.aesEncrypt=function(e,t,o){var i=r.enc.Utf8.parse(e),n=r.enc.Utf8.parse(t);return r.AES.encrypt(o,i,{iv:n,mode:r.mode.CBC,padding:r.pad.PKCS7}).toString()},e.prototype.aesDcryptWithPKC27=function(e){var t=r.enc.Utf8.parse(this.cryptoKey),o=r.enc.Utf8.parse(this.cryptoIv);return r.AES.decrypt(e,t,{iv:o,mode:r.mode.CBC,padding:r.pad.PKCS7}).toString(r.enc.Utf8)},e.prototype.aesDecrypt=function(e){var t=r.enc.Utf8.parse(this.cryptoKey),o=r.enc.Utf8.parse(this.cryptoIv);return r.AES.decrypt(e,t,{iv:o,mode:r.mode.CBC,padding:r.pad.NoPadding}).toString(r.enc.Utf8)},e.prototype.aesEncrptSendMsg=function(e){return"s:"+this.aesEncrypt(this.routeCrypKey,this.routeCrypIv,e)},e.prototype.aesDecrptHost=function(e){var t=r.enc.Utf8.parse(this.routeCrypKey),o=r.enc.Utf8.parse(this.routeCrypIv),i=r.AES.decrypt(e,t,{iv:o,mode:r.mode.CBC,padding:r.pad.NoPadding}).toString(r.enc.Utf8);return Global.Toolkit.strReplaceCtrChar(i)},e}();o.AESUtil=a,cc._RF.pop()},{"../../../framework/libs/cryptoTs/algo/MD5":"MD5","../../../framework/libs/cryptoTs/crypto-ts":"crypto-ts","../../../framework/libs/cryptoTs/lib/Hasher":"Hasher"}],AES:[function(e,t,o){"use strict";cc._RF.push(t,"831e6LvSAVEpYHlSNsp6m/f","AES");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.AES=void 0;var r=e("../lib/BlockCipher"),a=[],s=[],l=[],c=[],p=[],h=[],u=[],d=[],f=[],g=[];(function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var o=0,i=0;for(t=0;t<256;t++){var n=i^i<<1^i<<2^i<<3^i<<4;n=n>>>8^255&n^99,a[o]=n,s[n]=o;var r=e[o],m=e[r],y=e[m],b=257*e[n]^16843008*n;l[o]=b<<24|b>>>8,c[o]=b<<16|b>>>16,p[o]=b<<8|b>>>24,h[o]=b,b=16843009*y^65537*m^257*r^16843008*o,u[n]=b<<24|b>>>8,d[n]=b<<16|b>>>16,f[n]=b<<8|b>>>24,g[n]=b,o?(o=r^e[e[e[y^r]]],i^=e[e[i]]):o=i=1}})();var m=[0,1,2,4,8,16,32,64,128,27,54],y=function(e){function t(t,o,i){return e.call(this,t,o,i)||this}return n(t,e),t.prototype.reset=function(){if(e.prototype.reset.call(this),!this._nRounds||this._keyPriorReset!==this._key){for(var t=this._keyPriorReset=this._key,o=t.words,i=t.sigBytes/4,n=4*((this._nRounds=i+6)+1),r=this._keySchedule=[],s=0;s<n;s++)if(s<i)r[s]=o[s];else{var l=r[s-1];s%i?i>6&&s%i==4&&(l=a[l>>>24]<<24|a[l>>>16&255]<<16|a[l>>>8&255]<<8|a[255&l]):(l=a[(l=l<<8|l>>>24)>>>24]<<24|a[l>>>16&255]<<16|a[l>>>8&255]<<8|a[255&l],l^=m[s/i|0]<<24),r[s]=r[s-i]^l}for(var c=this._invKeySchedule=[],p=0;p<n;p++)s=n-p,l=void 0,l=p%4?r[s]:r[s-4],c[p]=p<4||s<=4?l:u[a[l>>>24]]^d[a[l>>>16&255]]^f[a[l>>>8&255]]^g[a[255&l]]}},t.prototype.encryptBlock=function(e,t){this._doCryptBlock(e,t,this._keySchedule,l,c,p,h,a)},t.prototype.decryptBlock=function(e,t){var o=e[t+1];e[t+1]=e[t+3],e[t+3]=o,this._doCryptBlock(e,t,this._invKeySchedule,u,d,f,g,s),o=e[t+1],e[t+1]=e[t+3],e[t+3]=o},t.prototype._doCryptBlock=function(e,t,o,i,n,r,a,s){for(var l=e[t]^o[0],c=e[t+1]^o[1],p=e[t+2]^o[2],h=e[t+3]^o[3],u=4,d=1;d<this._nRounds;d++){var f=i[l>>>24]^n[c>>>16&255]^r[p>>>8&255]^a[255&h]^o[u++],g=i[c>>>24]^n[p>>>16&255]^r[h>>>8&255]^a[255&l]^o[u++],m=i[p>>>24]^n[h>>>16&255]^r[l>>>8&255]^a[255&c]^o[u++],y=i[h>>>24]^n[l>>>16&255]^r[c>>>8&255]^a[255&p]^o[u++];l=f,c=g,p=m,h=y}var b=(s[l>>>24]<<24|s[c>>>16&255]<<16|s[p>>>8&255]<<8|s[255&h])^o[u++],v=(s[c>>>24]<<24|s[p>>>16&255]<<16|s[h>>>8&255]<<8|s[255&l])^o[u++],_=(s[p>>>24]<<24|s[h>>>16&255]<<16|s[l>>>8&255]<<8|s[255&c])^o[u++],S=(s[h>>>24]<<24|s[l>>>16&255]<<16|s[c>>>8&255]<<8|s[255&p])^o[u++];e[t]=b,e[t+1]=v,e[t+2]=_,e[t+3]=S},t.keySize=8,t}(r.BlockCipher);o.AES=y,cc._RF.pop()},{"../lib/BlockCipher":"BlockCipher"}],AbsServicer:[function(e,t,o){"use strict";cc._RF.push(t,"0b4b6T/mk1J6oVmBxkJH+6d","AbsServicer"),Object.defineProperty(o,"__esModule",{value:!0}),o.ServicerDataEntity=void 0;var i=function(){function e(e){this._name=[],this._info=[],this._serKey="",this.serviceDatas=null,this._serKey=e}return e.prototype.initServicerData=function(){if(null==this.serviceDatas&&(this.serviceDatas=new Array),this.serviceDatas.length>0)return this.serviceDatas;for(var e=this._info,t=this._name||[],o=0;o<e.length;o++)if(""!=e[o].trim()&&e[o]){var i=new n;i.name=t[o],i.info=e[o],i.type=this._type,this.serviceDatas.push(i)}return this.serviceDatas},e.prototype.acceptService=function(){},Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(e){this._name=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"info",{get:function(){return this._info},set:function(e){this._info=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},set:function(e){this._type=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serKey",{get:function(){return this._serKey},enumerable:!1,configurable:!0}),e.prototype.isEmptyInfo=function(){return!this._info||0==this._info.length},e}();o.default=i;var n=function(){function e(){}return Object.defineProperty(e.prototype,"info",{get:function(){return this._info},set:function(e){this._info=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(e){this._name=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},set:function(e){this._type=e},enumerable:!1,configurable:!0}),e}();o.ServicerDataEntity=n,cc._RF.pop()},{}],ActivityCenterModule:[function(e,t,o){"use strict";cc._RF.push(t,"305a1XheXhFAY/NGp7o80L8","ActivityCenterModule");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.viewClass="WndActivityCenter",t.modelClass="",t.resPaths=[],t.prefabPaths=["hall/prefabs/ui/PlayerInfo/PlayerInfoUI"],t.children=[{viewClass:"",modelClass:"",resPaths:[],prefabPaths:[],children:[]}],t}return n(t,e),t}(e("../../../framework/module/ModuleBase").ModuleBase);o.default=r,cc._RF.pop()},{"../../../framework/module/ModuleBase":"ModuleBase"}],ActivityConstants:[function(e,t,o){"use strict";cc._RF.push(t,"16e23ztzMFNyqZtChrarYJb","ActivityConstants"),Object.defineProperty(o,"__esModule",{value:!0}),o.ActivityType=o.ActivityConstants=void 0;var i=function(){function e(){}return e.SHOW_ACT_WAITTING="SHOW_ACT_WAITTING",e.HIDE_ACT_WAITTING="HIDE_ACT_WAITTING",e.HIDE_RED_PORT="HIDE_RED_PORT",e}();o.ActivityConstants=i,function(e){e[e.register=1]="register",e[e.bindPhone=2]="bindPhone",e[e.loginGive=3]="loginGive",e[e.rechargeGift=4]="rechargeGift",e[e.zhuanpan=5]="zhuanpan",e[e.shareActivity=6]="shareActivity",e[e.betRefund=7]="betRefund",e[e.dailyRechargeGift=8]="dailyRechargeGift",e[e.backGameActivity=9]="backGameActivity",e[e.spreadAward=10]="spreadAward",e[e.signActivity=11]="signActivity",e[e.autoGive=12]="autoGive",e[e.subsidyGive=13]="subsidyGive",e[e.taskGive=14]="taskGive",e[e.taskReward=15]="taskReward",e[e.rechargeGive=16]="rechargeGive",e[e.vipReward=17]="vipReward",e[e.dailyGift=18]="dailyGift",e[e.insurance=19]="insurance",e[e.dailyPayRedpack=20]="dailyPayRedpack",e[e.TimeLimitedActivity=21]="TimeLimitedActivity",e[e.noMsgTips=1e3]="noMsgTips",e[e.picture=10086]="picture"}(o.ActivityType||(o.ActivityType={})),cc._RF.pop()},{}],ActivityRightPanelView:[function(e,t,o){"use strict";cc._RF.push(t,"a86f2Q6jf1Mjo1nrd5AW9m8","ActivityRightPanelView");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/ui/ViewBase"),a=e("./ActivityConstants"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rightPage=[],t.selectId=-1,t.orgWide=895,t.orgHeight=501,t}return n(t,e),t.prototype.initView=function(){this.spriteNode=this.getChild("pictureView/scrollview/view/content/SpriteItem"),this.spriteNode&&(this.spriteNode.active=!1),this.contentSprite=this.spriteNode.getComponent(cc.Sprite),this.picturePanel=this.getChild("pictureView"),this.picturePanel&&(this.picturePanel.active=!1),this.noMsgTips=this.getChild("noMsgTips"),this.noMsgTips&&(this.noMsgTips.active=!1),this.rightPage.push(this.picturePanel),this.rightPage.push(this.noMsgTips)},t.prototype.onSubViewShow=function(){this.selectId=-1},t.prototype.onSubViewHide=function(){this.selectId=-1},t.prototype.changeView=function(e,t){if(e!=this.selectId)switch(this.rightPage.forEach(function(e){e&&(e.active=!1,e.subViewState&&(e.subViewState=!1))}),e){case a.ActivityType.picture:this.picturePanel.active=!0,this.spriteNode.active=!0,t&&(this.selectId=t.atype,this.RefreshInfoPanel(t));break;case a.ActivityType.noMsgTips:this.noMsgTips.active=!0}},t.prototype.showNotips=function(e){this.noMsgTips.active=e},t.prototype.RefreshInfoPanel=function(e){Global.Event.event(a.ActivityConstants.SHOW_ACT_WAITTING,!0),this.contentSprite.spriteFrame=null;var t=this;null==e.url||Global.Toolkit.isEmptyObject(e.url)||cc.assetManager.loadRemote(e.url,{ext:".png"},function(o,i){if(t.selectId==e.atype&&null==o&&t.spriteNode&&t.spriteNode.isValid){Global.Event.event(a.ActivityConstants.SHOW_ACT_WAITTING,!1);var n=new cc.SpriteFrame(i);t.contentSprite.node.width=t.orgWide;var r=t.orgWide*i.height/i.width;r<=t.orgHeight&&(r=t.orgHeight),t.contentSprite.node.height=r,t.contentSprite.sizeMode=cc.Sprite.SizeMode.CUSTOM,t.contentSprite.spriteFrame=n}})},t}(r.default);o.default=s,cc._RF.pop()},{"../../../core/ui/ViewBase":"ViewBase","./ActivityConstants":"ActivityConstants"}],ActivityToggle:[function(e,t,o){"use strict";cc._RF.push(t,"109a7jWdCdBT4IrBli1VAAy","ActivityToggle"),Object.defineProperty(o,"__esModule",{value:!0}),o.SingleActivityModel=void 0;var i=function(){this.status=0,this.sort=0,this.atype=0,this.button_status=0,this.ptype=0};o.SingleActivityModel=i;var n=function(){function e(){this._activityList=[],this._activitCfg=null,this.clear()}return Object.defineProperty(e.prototype,"ActivityCfg",{get:function(){return this._activitCfg},set:function(e){this._activitCfg=e},enumerable:!1,configurable:!0}),e.prototype.clear=function(){this._activityList=[]},e.prototype.init=function(e){if(e){for(var t=[],o=0;o<e.length;o++){var n=e[o];if(null!=n){var r=new i;for(var a in r)null!=n[a]&&null!=n[a]&&(r[a]=n[a]);1==r.button_status&&t.push(r)}}this._activityList=t}else Logger.error("----activityList------ null")},Object.defineProperty(e.prototype,"activityList",{get:function(){return this._activityList},enumerable:!1,configurable:!0}),e.prototype.checkActivityBtnOpen=function(e){for(var t=0;t<this._activitCfg.length;t++)if(this._activitCfg[t].atype===e)return 1==this._activitCfg[t].button_status;return!1},e}();o.default=n,cc._RF.pop()},{}],AdmissionBoxComp:[function(e,t,o){"use strict";cc._RF.push(t,"0c44fwijq1DkosfirUgz+yR","AdmissionBoxComp");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../tool/PoolBase"),s=cc._decorator,l=s.ccclass,c=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isPlaying=!1,t.checkTimer=null,t.msgDataCacheList=[],t.listLengthLimit=8,t.totalLenghLimit=10,t}return n(t,e),t.prototype.onLoad=function(){this.showNode=cc.find("showNode",this.node),this.layout=cc.find("Layout",this.node),this.layout.active=!1,this.node.opacity=0,this.ItemPool=new p(cc.find("pool",this.node),this.layout)},t.prototype.updateUseInfo=function(e){return"</color><color=#00ff00>"+e+"</color><color=#ffffff>"},t.prototype.init=function(){this.startTimer()},t.prototype.onDestroy=function(){this.stopTimer()},t.prototype.onEnable=function(){this.isPlaying=!1,this.reset(),this.startTimer()},t.prototype.onDisable=function(){this.stopTimer()},t.prototype.startTimer=function(){null==this.checkTimer&&(this.checkTimer=setInterval(this.checkMsgList.bind(this),100),Global.Event.on(GlobalEvent.VIPADMISSION,this,this.addMsgData))},t.prototype.stopTimer=function(){this.checkTimer&&(Global.Event.off(GlobalEvent.VIPADMISSION,this,this.addMsgData),clearInterval(this.checkTimer),this.checkTimer=null)},t.prototype.reset=function(){this.node.stopAllActions(),this.isPlaying=!1},t.prototype.checkMsgList=function(){try{if(!this.node||!this.node.isValid)return;if(this.isPlaying)return;if(0==this.msgDataCacheList.length)return void(this.node.opacity=0);var e=this.msgDataCacheList.shift(),t="",o=0;if(null!=e.nickname){var i=e.name,n=e.vip;t=this.updateUseInfo(i),o=n}else t=e.name,o=e.vip;this.playAnim(!0,o,t)}catch(r){}},t.prototype.playAnim=function(e,t,o){var i=this;if(e){var n=this.getItem(t,o);Global.Component.scheduleOnce(function(){i.recoveryItem(n)},3),this.isPlaying=!0,this.node.opacity=255}},t.prototype.getItem=function(e,t){var o=this.ItemPool.getItem(),i=cc.find("vipSp",o).getComponent(cc.Sprite),n=cc.find("name",o).getComponent(cc.RichText),r=cc.find("vipsmall1",i.node),a=cc.find("vipsmall2",i.node);return n&&(n.node.anchorX=0,n.node.anchorY=this.node.anchorY,n.horizontalAlign=cc.macro.TextAlignment.LEFT,n.fontSize=26,n.useSystemFont=!0,n.fontFamily="Microsoft Yahei",n.maxWidth=0,n.lineHeight=this.node.height,n.handleTouchEvent=!0,n.string=t),i&&(Global.ResourceManager.loadAutoAtlas(i,"hall/texture/admissionBox/admissionBox_Atlas","v"+e.toString(),null,!1),e>=7&&e<10?r.active=!0:e>=10?a.active=!0:(r.active=!1,a.active=!1)),o.y=0,o.active=!0,o.setParent(this.showNode),o},t.prototype.recoveryItem=function(e){e.active=!1,this.isPlaying=!1,this.ItemPool.recycleItem(e)},t.prototype.addMsgData=function(e){this.addMsgItem(e)},t.prototype.addMsgItem=function(e){null!=this.node&&this.node.isValid?this.msgDataCacheList.length>=this.totalLenghLimit||this.msgDataCacheList.length>=this.listLengthLimit&&null!=e.clientPriority&&0==e.clientPriority&&null!=e.nickname||this.msgDataCacheList.push(e):this.stopTimer()},r([l],t)}(cc.Component));o.default=c;var p=function(e){function t(t,o){var i=e.call(this)||this;return i.rootNode=t,i.copyNode=o,i}return n(t,e),Object.defineProperty(t.prototype,"preCount",{get:function(){return 60},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"everyCount",{get:function(){return 30},enumerable:!1,configurable:!0}),t.prototype.createItem=function(){var e=cc.instantiate(this.copyNode);return e.active=!0,e},t.prototype.resetItem=function(e){e.active=!1,e.setParent(null)},t.prototype.recycleAll=function(t){e.prototype.recycleAll.call(this,t)},t}(a.default);cc._RF.pop()},{"../tool/PoolBase":"PoolBase"}],AliDNS:[function(e,t,o){"use strict";cc._RF.push(t,"830c1rK/55ChqAWBx3cgC0r","AliDNS"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./IDNS"),n=function(){function e(){}return e.prototype.init=function(e){Global.NativeEvent.initAlicloudHttpDns(e.accountId)},e.prototype.requestHosts=function(e,t){Global.NativeEvent.setPreResolveHosts(JSON.stringify(e),null),t&&t()},e.prototype.getHttpRequestDNSInfo=function(e){var t=Global.UrlUtil.getHostFromUrl(e),o=this.getIp(t);if(""==o||null==o||o==t)return null;Logger.error("host ip is ",o),e=e.replace(t,o);var n=new i.DNSInfo;return n.realUrl=e,n.ip=o,n.host=t,n.headerMap={Host:t},n},e.prototype.getHttpDNSInfo=function(e){var t=e.realHost,o=e.addressHost,n=this.getIp(t);if(""==n||null==n||n==t){if(o!=t){e.address=t;var r=new i.DNSInfo;r.ip=n,r.host=o;var a={Host:e.addressHost};return e.cerPath&&(a.CertPath=e.cerPath),r.headerMap=a,r}return null}Logger.error("host ip is ",n),e.address=n;var s=new i.DNSInfo;s.ip=n,s.host=o;var l={Host:e.addressHost};return e.cerPath&&(l.CertPath=e.cerPath),s.headerMap=l,s},e.prototype.getIp=function(e){var t=null;if(Global.NativeEvent.getIpsByHostAsync(e,function(e){if(e&&null!=e.funcParam&&""!=e.funcParam)try{t=JSON.parse(e.funcParam)}catch(o){}}),Logger.error("return value",JSON.stringify(t)),null==t||0==t.length)return null;var o=Math.floor(Math.random()*t.length);return Logger.error("ips info",t.length,o),t[o]},e.prototype.update=function(){},e}();o.default=n,cc._RF.pop()},{"./IDNS":"IDNS"}],AliDun:[function(e,t,o){"use strict";cc._RF.push(t,"5a55bAnt31OwLVIOyc0ejQ+","AliDun"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../logic/hallcommon/const/HallStorageKey"),n=e("./AppDunControl"),r=e("../../../logic/core/tool/ReportTool"),a=function(){function e(e){var t=this;this.isDunInit=!1,this._isSupport=!1,this.sdkName="alidun",this._dunType=0,this._group=null,this._dip=null,this._dunType=e,Global.NativeEvent.isSupportSDK(this.sdkName,null,function(o){0==o.result?t._isSupport=!0:Logger.error("checkAppIsSupportDunByType dunType = "+e+" isSupport = false")})}return e.prototype.isAppSupport=function(){return this._isSupport},e.prototype.checkCfgIsValid=function(e){if(e&&(e.group?(this._group=e.group,Logger.error("checkCfgIsValid set group "+this._group)):Logger.error("checkCfgIsValid set group = null"),e.dip?(this._dip=e.dip,Logger.error("checkCfgIsValid set dip "+this._dip)):Logger.error("checkCfgIsValid set dip = null")),cc.sys.os==cc.sys.OS_ANDROID){if(e&&e.android)return!0}else if(cc.sys.os==cc.sys.OS_IOS&&e&&e.ios)return!0;return!1},e.prototype.getCfgAppKey=function(e){if(cc.sys.os==cc.sys.OS_ANDROID){if(e&&e.android)return e.android}else if(cc.sys.os==cc.sys.OS_IOS&&e&&e.ios)return e.ios},e.prototype.init=function(e,t){var o=this;if(Logger.error("init AliDun SDK"),this.checkCfgIsValid(e))if(this.isDunInit)Logger.error("init AliDun SDK this.isTDunInit  = true");else{var a=this.getInitState();Logger.error("init AliDun SDK state = "+a);var s=this.getCfgAppKey(e),l=this.getToken();a==n.DUNSTATE.INIT&&s&&l?(Logger.error("initAliDunSDK"),Global.NativeEvent.initAliDunSDK(s,l,function(e){if(Logger.error("initAliDunSDK ret = "+JSON.stringify(e)),e){var a=Number(e.result);if(0==a||0==a)o.isDunInit=!0,Global.Event.event(GlobalEvent.DunInitFinish),Global.Setting.storage.set(i.default.DunInitRecord+"_"+n.DUNTYPE.Ali_DUN,1),Logger.error("initAliDunSDK ret = 0 success ");else{Logger.error("initAliDunSDK ret != 0 failed ");var s={result:"ret != 0 "+a,type:n.DUNTYPE.Ali_DUN};Global.ReportTool.ReportClientError(r.ReportTool.REPORT_TYPE_INIT_DUN_ERROR,s)}}else Logger.error("initAliDunSDK retObj == null failed "),s={result:"initAliDunSDK retObj == null failed",type:n.DUNTYPE.Ali_DUN},Global.ReportTool.ReportClientError(r.ReportTool.REPORT_TYPE_INIT_DUN_ERROR,s);t&&t()})):Logger.error("initAliDunSDK failed ",a,s,l)}else Logger.error("init AliDun SDK checkCfgIsValid  = false")},e.prototype.getToken=function(){var e=Number(Global.Setting.storage.get(i.default.Uid))||0;return e?e.toString():"token"},e.prototype.isInit=function(){return this.isDunInit||0==this.getInitState()&&(this.isDunInit=!0),this.isDunInit},e.prototype.getInitState=function(){return Global.NativeEvent.getAliDunInitRet()},e.prototype.getServerIPAndPort=function(e,t,o){if(this.isDunInit){var i={};i.token=this.getToken();var n=this._group,r=this._dip;if(o&&(Logger.error("AliDun getServerIPAndPort set attr param"),o.group?(n=o.group,Logger.error("AliDun getServerIPAndPort set group "+n)):Logger.error("AliDun getServerIPAndPort set group = null"),o.dip?(r=o.dip,Logger.error("AliDun getServerIPAndPort set dip "+r)):Logger.error("AliDun getServerIPAndPort set dip = null")),n&&r){i.groupName=n,i.domainName=r;var a=Global.NativeEvent.getAliDunPort(i,t);if(a){Logger.error("getServerIPAndPort serverIPAndPortJson = "+a);var s=JSON.parse(a);if(s){if(null!=s.result&&(0==s.result||0==s.result)&&s.serverIp&&s.serverPort)return{ip:s.serverIp,port:Number(s.serverPort)}}else Logger.error("getServerIPAndPort serverIPAndPort json error")}else Logger.error("getServerIPAndPort serverIPAndPortJson = null");return null}Logger.error("AliDun getServerIPAndPort group == null  or dip == null")}else Logger.error("AliDun getServerIPAndPort isDunInit = false")},e}();o.default=a,cc._RF.pop()},{"../../../logic/core/tool/ReportTool":"ReportTool","../../../logic/hallcommon/const/HallStorageKey":"HallStorageKey","./AppDunControl":"AppDunControl"}],AppCfg:[function(e,t,o){"use strict";cc._RF.push(t,"45843ce6spEkq1e1RtbEcQq","AppCfg"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function e(){}return e.SKIN_TYPE=10,e}();o.default=i,cc._RF.pop()},{}],AppConfigProxy:[function(e,t,o){"use strict";cc._RF.push(t,"129ebSsIkpFZaz1/cCCFpgd","AppConfigProxy");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){return e.call(this)||this}return n(t,e),t.prototype.loadData=function(){Logger.log("----------------------AppConfigProxy loadData-----------")},t.prototype.onRegister=function(){e.prototype.onRegister.call(this),this.loadData(),Logger.log("-------------AppConfigProxy onRegister--------------")},t}(puremvc.Proxy);o.default=r,cc._RF.pop()},{}],AppDunControl:[function(e,t,o){"use strict";cc._RF.push(t,"a29e00GFsVIi62WKu8QRtA2","AppDunControl"),Object.defineProperty(o,"__esModule",{value:!0}),o.DUNSTATE=o.DUNTYPE=void 0;var i,n,r=e("../../../logic/hallcommon/const/HallStorageKey"),a=e("./YunDun"),s=e("./ZADun"),l=e("./AliDun");(function(e){e[e.None=0]="None",e[e.YUN_DUN=2]="YUN_DUN",e[e.ZA_DUN=3]="ZA_DUN",e[e.Ali_DUN=4]="Ali_DUN"})(i=o.DUNTYPE||(o.DUNTYPE={})),function(e){e[e.INIT=1e4]="INIT",e[e.LOADING=10001]="LOADING",e[e.SUCCESS=0]="SUCCESS",e[e.FAILED=-1]="FAILED"}(n=o.DUNSTATE||(o.DUNSTATE={}));var c=function(){function e(){}return e.prototype.setDunConfig=function(e){null==e&&null==e.type||Global.Setting.storage.setObject(r.default.DunConfig,e)},e.prototype.loadDunConfig=function(){var e=Global.Setting.storage.getObject(r.default.DunConfig);null!=e?this.DUNConifg=e:Logger.error("loadDunConfig cfg = null")},e.prototype.init=function(){this.loadDunConfig(),this.initDun()},e.prototype.initDun=function(){this.yunDun=new a.default(i.YUN_DUN),this.zaDun=new s.default(i.ZA_DUN),this.aliDun=new l.default(i.Ali_DUN),this.DUNConifg&&(this.initDunSDKByStorage(i.YUN_DUN),this.initDunSDKByStorage(i.ZA_DUN),this.initDunSDKByStorage(i.Ali_DUN))},e.prototype.initDunSDKByStorage=function(e){Global.Setting.storage.get(r.default.DunInitRecord+"_"+e)&&this.initDunSDK(e)},e.prototype.initDunSDK=function(e){if(e){var t=this.checkAppIsSupportDunByType(e);if(t)if(this.DUNConifg||(Logger.log("initDunSDK this.DUNConifg == null"),this.loadDunConfig(),this.DUNConifg)){var o=null,n=null;switch(e){case i.YUN_DUN:o=this.yunDun,n=this.DUNConifg.yundun;break;case i.ZA_DUN:o=this.zaDun,n=this.DUNConifg.zadun;break;case i.Ali_DUN:o=this.aliDun,n=this.DUNConifg.alidun}if(o)if(n){var r=o.checkCfgIsValid(n);if(t&&r){var a=o.getInitState();this.checkDunStateIsInit(a)?Logger.log("initDunSDK checkDunStateIsInit == true "+e):o.init(n)}else Logger.log("initDunSDK  can't init dunType"+e)}else Logger.log("initDunSDK dunConfig == null dunType = "+e);else Logger.log("initDunSDK dunObj == null dunType = "+e)}else Logger.log("initDunSDK loadDunConfig DUNConifg == null");else Logger.log("initDunSDK App is not Support dunType ="+e)}else Logger.log("initDunSDK dunType == null")},e.prototype.checkAppIsSupportDunByType=function(e){var t=!1,o=null;switch(e){case i.YUN_DUN:o=this.yunDun;break;case i.ZA_DUN:o=this.zaDun;break;case i.Ali_DUN:o=this.aliDun}return o&&(t=o.isAppSupport()),t},e.prototype.checkDunStateIsInit=function(e){return null!=e&&e!=n.INIT&&e!=n.FAILED},e.prototype.getDunIsInitByType=function(e){if(e){var t=!1,o=null;switch(e){case i.YUN_DUN:o=this.yunDun;break;case i.ZA_DUN:o=this.zaDun;break;case i.Ali_DUN:o=this.aliDun}return o&&(t=o.isInit()),t||this.initDunSDK(e),Logger.error("getDunIsInit dunType = "+e+" isDunInit = "+t),t}Logger.log("getDunIsInitByType dunType = null")},e.prototype.getServerIPAndPort=function(e,t,o,n){if(e&&t&&o){if(this.checkAppIsSupportDunByType(o)){var r=null,a=null;switch(o){case i.YUN_DUN:a=this.yunDun;break;case i.ZA_DUN:a=this.zaDun;break;case i.Ali_DUN:a=this.aliDun}return a&&(r=a.getServerIPAndPort(e,t,n)),r}Logger.log("getServerIPAndPort App not Support dunType = "+o)}else Logger.log("getServerIPAndPort error host lo_port dunType ")},e.prototype.checkIsDunLoading=function(){var e=!1;return this.yunDun&&this.yunDun.getInitState()==n.LOADING&&(e=!0),this.zaDun&&this.zaDun.getInitState()==n.LOADING&&(e=!0),this.aliDun&&this.aliDun.getInitState()==n.LOADING&&(e=!0),e},e}();o.default=c,cc._RF.pop()},{"../../../logic/hallcommon/const/HallStorageKey":"HallStorageKey","./AliDun":"AliDun","./YunDun":"YunDun","./ZADun":"ZADun"}],AppHelper:[function(e,t,o){"use strict";cc._RF.push(t,"f9145PzqCVJ2a4kZirTn+Hc","AppHelper");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.BaiduPlatform=o.SpecialPlatform=void 0;var r=function(){function e(){}return e.init=function(){this.specialPlatfromList=[],this.specialPlatfromList.push(new s)},e.getConfigUrl=function(){return"https://d.dtdsnt.com/"},e.formatUrl=function(e){if(e=(e=(e=e.replace(/\[ch\]/g,Global.Setting.ChannelInfo.getPlayerChannel().toString())).replace(/\[appid\]/g,Global.Setting.appId.toString())).replace(/\[invite_code\]/g,encodeURIComponent(Global.Setting.ChannelInfo.getInviteId().toString())),null==Global.PlayerData)return e;var t=e=e.replace(/\[uid\]/g,Global.PlayerData.uid.toString());try{t.indexOf("token")>-1&&(t=t.replace("[token]",encodeURIComponent(Global.PlayerData.token))),e.indexOf("uname")>-1&&(t=t.replace("[uname]",encodeURIComponent(Global.PlayerData.nickname))),e=t}catch(o){Logger.error("encodeURIComponent error"),Global.ReportTool.ReportClientError("formatUrlError",{des:"encodeURIComponent error",token:Global.PlayerData.token,nickname:Global.PlayerData.nickname,url:e})}return e},Object.defineProperty(e,"enableWxShare",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e,"enableAiTeApp",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e,"enableAwakeAli",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e,"enableAliPaySDK",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e,"enableWXSDK",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e,"enableAliPayInterceptorWithUrl",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e,"enableAliPayAuthWithUrl",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e,"enableAliPayCheckInstall",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e,"enableForceUpdateAppInstall",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e,"enableAliPayAuthWithPayAuthInfo",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e,"enableSDKPay",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e,"enableUPay",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e,"enableSDK",{get:function(){return!0},enumerable:!1,configurable:!0}),e.isBaiduPlatform=function(){return this.specialPlatfromList&&this.specialPlatfromList[0]&&this.specialPlatfromList[0].isTargetPlatform()},e.isBaiduSpecialState=function(){return!!this.isBaiduPlatform()&&!this.specialPlatfromList[0].isTimeup},e.getAppCfg=function(){var e=Global.Setting.appId;return this.appCfg[e]},e.getAppWXShareEnable=function(){if(!this.checkWxkey())return!1;var e=this.getAppCfg();if(null==e)return!0;var t=e.wxShare;return t.length>1&&""!=t[1]&&Global.UI.fastTip(t[1]),t[0]},e.getAppWXLoginEnable=function(){if(!this.checkWxkey())return!1;var e=this.getAppCfg();if(null==e)return!0;var t=e.wxLogin;return t.length>1&&""!=t[1]&&Global.UI.fastTip(t[1]),t[0]},e.checkPlatformWXEnable=function(e){void 0===e&&(e=!0);var t=Global.Toolkit.checkIsPlatformShowWX();return!t&&e&&Global.UI.fastTip("\u8be5\u7248\u672c\u6682\u4e0d\u652f\u6301\u5fae\u4fe1\u529f\u80fd\uff0c\u8bf7\u624b\u52a8\u6253\u5f00\u5fae\u4fe1"),t},e.isFilterGame=function(e){if(!this.isBaiduPlatform())return!1;var t=this.specialPlatfromList[0];return!!(t&&t.filterGameArray.indexOf(e)>-1)},e.checkWxkey=function(e){if(void 0===e&&(e=!0),null==Global.Setting.SystemInfo.bundleName||""==Global.Setting.SystemInfo.bundleName)return!0;if(""==Global.Setting.serverWxMd5||null==Global.Setting.serverWxMd5)return!0;var t=Global.Setting.serverAndroidIdMd5;return cc.sys.platform==cc.sys.IPHONE&&(t=Global.Setting.serverIOSIdMd5),null==t||""==t||Global.Toolkit.md5(Global.Setting.SystemInfo.bundleName)==t&&Global.Toolkit.md5(Global.Setting.SystemInfo.wxKey)==Global.Setting.serverWxMd5||(e&&Global.UI.fastTip("\u8be5\u7248\u672c\u6682\u4e0d\u652f\u6301\u5fae\u4fe1\u529f\u80fd"),!1)},e.checkAPPAndChannel=function(e,t,o){return void 0===t&&(t=null),void 0===o&&(o=!1),Global.Setting.appId==e&&(null!=t&&Number(Global.Setting.SystemInfo.packChannel)==t||!(!o||Number(Global.Setting.ChannelInfo.configChannel)!=t))},e.checkChannel=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),null!=e&&Number(Global.Setting.SystemInfo.packChannel)==e||!(!t||Number(Global.Setting.ChannelInfo.configChannel)!=e)},e.onPreloadRes=function(e,t,o){for(var i=0;i<this.specialPlatfromList.length;i++){var n=this.specialPlatfromList[i];n.isTargetPlatform()&&n.onPreloadRes(e,t,o)}},e.afterGetConfig=function(){for(var e=0;e<this.specialPlatfromList.length;e++){var t=this.specialPlatfromList[e];t.isTargetPlatform()&&t.afterGetConfig()}},e.afterWindowInit=function(e,t,o){for(var i=0;i<this.specialPlatfromList.length;i++){var n=this.specialPlatfromList[i];n.isTargetPlatform()&&n.afterWindowInit(e,t,o)}},e.specialPlatfromList=[],e.isCash=!1,e.appCfg={1001:{wxLogin:[!1,"\u4f53\u9a8c\u670d\u6682\u4e0d\u652f\u6301\u5fae\u4fe1\u767b\u5f55"],wxShare:[!1,"\u4f53\u9a8c\u670d\u6682\u4e0d\u652f\u6301\u5fae\u4fe1\u5206\u4eab"]},1002:{wxLogin:[!1,"\u4f53\u9a8c\u670d\u6682\u4e0d\u652f\u6301\u5fae\u4fe1\u767b\u5f55"],wxShare:[!1,"\u4f53\u9a8c\u670d\u6682\u4e0d\u652f\u6301\u5fae\u4fe1\u5206\u4eab"]},1003:{wxLogin:[!1,"\u4f53\u9a8c\u670d\u6682\u4e0d\u652f\u6301\u5fae\u4fe1\u767b\u5f55"],wxShare:[!1,"\u4f53\u9a8c\u670d\u6682\u4e0d\u652f\u6301\u5fae\u4fe1\u5206\u4eab"]}},e}();o.default=r;var a=function(){function e(){}return e.prototype.getName=function(){return""},e.prototype.isTargetPlatform=function(){return!1},e.prototype.onPreloadRes=function(){},e.prototype.afterGetConfig=function(){},e.prototype.afterWindowInit=function(){},e}();o.SpecialPlatform=a;var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.timeupState=!1,t.timerID=null,t.filterGameArray=[7005,2008,1001],t}return n(t,e),t.prototype.getName=function(){return"baidu"},t.prototype.isTargetPlatform=function(){return!1},t.prototype.afterGetConfig=function(){},Object.defineProperty(t.prototype,"isTimeup",{get:function(){return this.timeupState},set:function(e){this.timeupState=e,e&&(Global.Event.event(GlobalEvent.UPDATE_BAIDU_STATE),this.timerID&&clearInterval(this.timerID))},enumerable:!1,configurable:!0}),t.prototype.afterWindowInit=function(){},t}(a);o.BaiduPlatform=s,cc._RF.pop()},{}],AppHotUpdateProxy:[function(e,t,o){"use strict";cc._RF.push(t,"ff1det73mVBZrN2I5HF/Plj","AppHotUpdateProxy");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__awaiter||function(e,t,o,i){return new(o||(o=Promise))(function(n,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,s)}l((i=i.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var o,i,n,r,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(e){return function(t){return l([e,t])}}function l(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,i&&(n=2&r[0]?i.return:r[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,r[1])).done)return n;switch(i=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){a.label=r[1];break}if(6===r[0]&&a.label<n[1]){a.label=n[1],n=r;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(r);break}n[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(s){r=[6,s],i=0}finally{o=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0}),o.HotUpdateContext=void 0;var s,l=e("./LoadingConst"),c=e("../tool/ReportTool"),p=e("../../hallcommon/const/HallStorageKey");(function(e){e[e.none=-1]="none",e[e.app=0]="app",e[e.hall=1]="hall",e[e.main=2]="main"})(s=o.HotUpdateContext||(o.HotUpdateContext={}));var h=function(e){function t(o){var i=e.call(this)||this;return i.totalAssetByte=0,i.totalFileCount=0,i.totalByte=0,i.startTime=0,i.downLoadType=0,i.appStartVer="0.0.0",i.hallStyleStartver="0.0.0",i.mainBundleStartVer="0.0.0",i.startVer="0.0.0",i.targetVer="0.0.0",i.targetAppVer="0.0.0",i.targetHallStyleVer="0.0.0",i.targetMainBundleVer="0.0.0",i.hallTotalSize=0,i.mainTotalSize=0,i.hallTotalFilecount=0,i.mainTotalFilecount=0,i.updateFailTimes=0,i.needRestart=!1,i.loadVersion=!1,i.isAwait=!1,i.updateCount=-1,i.updateFinishedSubCount=0,i.hotUpdateNameObj={"-1":null,0:"app",1:"hall_style",2:"main"},i.serverHotupdateUrl="",i.serverVersion="",i.proxyName=t.NAME,i.currentContext=s.none,i.projectManifestNativeUrl=i.getNativeUrl(o),i.currentManifestUrl="",i}return n(t,e),t.prototype.getNativeUrl=function(e){if(!e||0==e.length)return null;for(var t=[],o=0;o<e.length;o++)e[o],t.push(e[o].nativeUrl);return t},t.prototype.reportLog=function(e,t,o){void 0===e&&(e=1),void 0===t&&(t=c.ReportTool.REPORT_TYPE_DOWNLOADSUBGAME_RESULT),void 0===o&&(o="");var i=(new Date).getTime()-this.startTime;this.totalAssetByte&&this.totalAssetByte!=this.totalByte&&1==e&&(e=2),this.totalAssetByte||(this.totalAssetByte=0),this.totalAssetByte=Number(this.totalAssetByte)||0;var n=cc.sys.localStorage.getItem("errorReStartTimes");n=Number(n)||0,this.totalByte=this.hallTotalSize+this.mainTotalSize,this.totalFileCount=this.hallTotalFilecount+this.mainTotalFilecount;var r={result:e,game:0,totalFileCount:this.totalFileCount,totalByte:this.totalByte/1e3,totalTime:i/1e3,downLoadType:this.downLoadType,updateUrl:Global.HotUpdateManager.hotUpdateUrl,startVer:this.startVer,totalAssetsBytes:this.totalAssetByte/1e3,targetVer:this.targetVer,appBundleStartVer:this.appStartVer,hallStyleStartVer:this.hallStyleStartver,mainBundleStartVer:this.mainBundleStartVer,targetAppBundlever:Global.Setting.Urls.appVersion,targetHallStyleVer:this.targetHallStyleVer,targeMainBundleVer:this.targetMainBundleVer,retryTimes:Number(n),appVersion:Global.Setting.SystemInfo.appVersion,dun:Global.DunHotUpdateUrlSetting.curDunType,failedRes:o};e?Global.ReportTool.ReportPublicClientLog(t,r):Global.ReportTool.ReportClientError(t,r)},t.prototype.getCurrentHotUpdateName=function(e){return e==s.none?"":e!=s.hall?this.hotUpdateNameObj[e]:"assets/"+Global.customApp.getHallBundleName()},t.prototype.getLocalHotUpdatePath=function(){return(jsb.fileUtils?jsb.fileUtils.getWritablePath():"/")+Global.HotUpdateManager.hotUpdateDirName+"/"+Global.HotUpdateManager.hallHotUpdateDirName+"/"},t.prototype.onRegister=function(){},t.prototype._versionCompare=function(e,t){return e===t?0:-1},t.prototype.preUpdate=function(e,t,o){var i=this;if(Global.Setting.isStartHotUpdate){this.sendNotification(l.default.SHOW_CHECK_LABEL,{parm:"\u68c0\u67e5\u66f4\u65b0\u4e2d..."}),Global.HotUpdateManager.hotUpdateUrl=e,this.serverHotupdateUrl=Global.HotUpdateManager.hotUpdateUrl+"/"+o+"/"+t+"/main/";var n=this.serverHotupdateUrl+Global.HotUpdateManager.versionCfgFileName;console.log("\u8fd9\u662f\u5f53\u524d\u5f00\u59cb\u66f4\u65b0\u6574\u5730\u5740="+n),Global.HotUpdateManager.getGameVersion(n).then(function(e){var t=Global.HotUpdateManager.getNativeHotUpdateVersion("hall");if(i.serverVersion=e.version,console.log("main\u672c\u5730="+t+"\u8fdc\u7a0b\u7248\u672c="+i.serverVersion),0==Global.Toolkit.versionCompare(i.serverVersion,t))return console.log("\u672c\u5730\u7248\u672c\u4e0e\u670d\u52a1\u5668\u7248\u672c\u53f7\u4e00\u81f4"),void i.checkNext();Global.UI.show("WndGameUpgrade"),i._storagePath=i.getLocalHotUpdatePath(),i.localManifestJsonObj=Global.HotUpdateManager.getManifestObj(i.serverHotupdateUrl,i.getLocalHotUpdatePath());var o=i._storagePath+"/"+Global.HotUpdateManager.projectCfgFileName;jsb.fileUtils.writeStringToFile(JSON.stringify(i.localManifestJsonObj),o),i._assetsMgr=new jsb.AssetsManager("",i._storagePath,i._versionCompare.bind(i)),i._assetsMgr.setVerifyCallback(i._cbVerify.bind(i)),cc.sys.os===cc.sys.OS_ANDROID&&i._assetsMgr.setMaxConcurrentTask(10),i.checkUpdate()},function(){i.downloadVerFaild(e,t,o)})}else this.next()},t.prototype.saveVerFileToNative=function(e,t,o){var i=(jsb.fileUtils?jsb.fileUtils.getWritablePath():"/")+Global.HotUpdateManager.hotUpdateDirName+"/"+Global.HotUpdateManager.hallHotUpdateDirName;if(jsb.fileUtils.isDirectoryExist(i)||jsb.fileUtils.createDirectory(i),void 0!==t&&jsb.fileUtils.writeDataToFile(new Uint8Array(t),e))return cc.log("DiantaiItem Remote write file succeed."),void(o&&o())},t.prototype.downloadVerFaild=function(e,t,o){var i=this;this.updateFailTimes+=1;var n=function(){setTimeout(function(){i.restartCheckUpdate()},1e3)};if(this.updateFailTimes>2)Global.UI.showSingleBox("\u4e0b\u8f7d\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc",n,n);else{var r={host:e};Global.ReportTool.ReportClientError(c.ReportTool.REPORT_TYPE_HOTUPDATE_HOST_ERROR,r),Global.UI.showSingleBox("\u4e0b\u8f7d\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc",this.preUpdate.bind(this,e,t,o),this.preUpdate.bind(this,e,t,o))}},t.prototype.checkUpdate=function(){if(this._updating)this.sendNotification(l.default.SHOW_CHECK_LABEL,{parm:"\u68c0\u67e5\u66f4\u65b0\u4e2d..."});else{if(this._assetsMgr.getState()===jsb.AssetsManager.State.UNINITED){var e=JSON.stringify(this.localManifestJsonObj);this.localManifest=new jsb.Manifest(e,this._storagePath),this._assetsMgr.loadLocalManifest(this.localManifest,this._storagePath)}this._assetsMgr.getLocalManifest()&&this._assetsMgr.getLocalManifest().isLoaded()?(this._assetsMgr.setEventCallback(this._cbCheckUpdate.bind(this)),this._assetsMgr.checkUpdate(),this._updating=!0):this.sendNotification(l.default.SHOW_CHECK_LABEL,{parm:"\u5bfc\u5165\u6587\u4ef6\u5931\u8d25\uff0c\u5efa\u8bae\u91cd\u542f\u6e38\u620f\u6216\u91cd\u65b0\u4e0b\u8f7d\u6700\u65b0\u7248\u672c"})}},t.prototype._cbCheckUpdate=function(e){var t=this;switch(e.getEventCode()){case jsb.EventAssetsManager.ALREADY_UP_TO_DATE:return this.sendNotification(l.default.SHOW_CHECK_LABEL,{parm:"\u5df2\u7ecf\u662f\u6700\u65b0\u7248"}),this.next(),void(this.updateFinishedSubCount+=1);case jsb.EventAssetsManager.UPDATE_PROGRESSION:return void(e&&"VersionDownloaded"==e.getMessage()?(Logger.error("VersionDownloaded formatVersion"),this.formatVersion()):e&&"ProjectDownloaded"==e.getMessage()&&(Logger.error("ProjectDownloaded formatManifest"),this.formatManifest()));case jsb.EventAssetsManager.NEW_VERSION_FOUND:this._needUpdate=!0;break;case jsb.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:this.reportLog(0,c.ReportTool.REPORT_TYPE_DOWNLOADSUBGAME_FAILED),this.sendNotification(l.default.SHOW_CHECK_LABEL,{parm:"\u4e0b\u8f7d\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc"});var o=function(){setTimeout(function(){t.restartCheckUpdate()},1e3)};Global.UI.showSingleBox("\u4e0b\u8f7d\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc",o,o);break;case jsb.EventAssetsManager.UPDATE_FINISHED:return this.checkNext(),void(this.updateFinishedSubCount+=1);default:return}this._assetsMgr.setEventCallback(null),this._updating=!1,this.hotUpdate()},t.prototype.checkNext=function(){return r(this,void 0,void 0,function(){return a(this,function(){return this.sendNotification(l.default.CLEAR_LOADING_TIMER),this._assetsMgr&&(this._assetsMgr.setEventCallback(null),this._assetsMgr=null,this._updating=!1),Global.HotUpdateManager.hotFailRes="",Global.HotUpdateManager.hotFaildNum=0,this.next(),[2]})})},t.prototype.restartCheckUpdate=function(e){var t=this;if(void 0===e&&(e=!0),Logger.error("restartCheckUpdate"),this._assetsMgr&&(this._assetsMgr.setEventCallback(null),this._updating=!1,this._assetsMgr=null),e){var o=cc.sys.localStorage.getItem("errorReStartTimes");if(null!=o&&""!=o){var i=Number(o);i?i++:i=1,cc.sys.localStorage.setItem("errorReStartTimes",i)}else cc.sys.localStorage.setItem("errorReStartTimes",1)}Global.Setting.storage.getObject(p.default.HotUpdateHosts)||Global.Setting.storage.setObject(p.default.HotUpdateHosts,Global.Setting.Urls.hallHotUpdateUrlArray);var n={host:Global.Setting.Urls.hallHotUpdateUrl};Global.ReportTool.ReportClientError(c.ReportTool.REPORT_TYPE_HOTUPDATE_HOST_ERROR,n),this.clearDownloadTmpDir(),e?this.restartGame():setTimeout(function(){Global.UI.show("WndMessageBox","\u4fee\u590d\u5b8c\u6210\uff0c\u70b9\u51fb\u786e\u5b9a\u5c06\u91cd\u542f\u6e38\u620f...",0,function(){t.restartGame()},function(){t.restartGame()})},300)},t.prototype.restartGame=function(){Global.UI.clearAllUIPrefab(),Global.NativeEvent.unzipHallPackage(),setTimeout(function(){cc.game.restart()},1e3)},t.prototype.clearProjectManifest=function(){var e=this.getCurrentHotUpdateName(this.currentContext),t=cc.js.formatStr("hall/%s/",e);Logger.error("clearProjectManifest--pathParam--path--",e,t);var o=Global.HotUpdateManager.updateHelper.genStoragePath(t)+Global.HotUpdateManager.projectCfgFileName;jsb.fileUtils.isFileExist(o)?(Logger.error("remove file projectPath is exist = "+o),jsb.fileUtils.removeFile(o)):Logger.error("projectPath is not exist = "+o)},t.prototype.clearDownloadTmpDir=function(){var e=this.getTempPath(),t=Global.HotUpdateManager.updateHelper.genStoragePath(e);jsb.fileUtils.isDirectoryExist(t)?(Logger.error("remove tmpDowndloadPath  = "+t),jsb.fileUtils.removeDirectory(t)):Logger.error("tmpDowndloadPath is not exist = "+t)},t.prototype.getTempPath=function(){return"hall_temp"},t.prototype.hotUpdate=function(){this._assetsMgr&&!this._updating&&(Logger.error(JSON.stringify(this._assetsMgr)),this._assetsMgr.setEventCallback(this._cbUpdate.bind(this)),this._assetsMgr.getState()===jsb.AssetsManager.State.UNINITED&&(this.localManifest=new jsb.Manifest(JSON.stringify(this.localManifestJsonObj),this._storagePath),this._assetsMgr.loadLocalManifest(this.localManifest)),this._assetsMgr.update(),this._updating=!0)},t.prototype.formatVersion=function(){var e=this.getTempPath();Logger.error("formatVersion----path--",e);var t=this.serverVersion,o=Global.HotUpdateManager.updateHelper.genStoragePath(e)+"/"+Global.HotUpdateManager.versionCfgFileName;if(jsb.fileUtils.isFileExist(o)){var i=jsb.fileUtils.getStringFromFile(o),n=JSON.parse(i);n.packageUrl=this.serverHotupdateUrl,n.remoteManifestUrl=this.serverHotupdateUrl+Global.HotUpdateManager.projectCfgFileName,n.remoteVersionUrl=this.serverHotupdateUrl+Global.HotUpdateManager.versionCfgFileName,n.version=t;var r=JSON.stringify(n);jsb.fileUtils.writeStringToFile(r,o)}else Logger.error("\u627e\u4e0d\u5230\u6587\u4ef6",o)},t.prototype.formatManifest=function(){if(cc.sys.isNative){var e=this.getTempPath();Logger.error("formatVersion----path--",e);var t=this.serverVersion,o=Global.HotUpdateManager.updateHelper.genStoragePath(e)+"/project.manifest.temp";if(jsb.fileUtils.isFileExist(o)){var i=jsb.fileUtils.getStringFromFile(o),n=JSON.parse(i);n.packageUrl=this.serverHotupdateUrl,n.remoteManifestUrl=this.serverHotupdateUrl+Global.HotUpdateManager.projectCfgFileName,n.remoteVersionUrl=this.serverHotupdateUrl+Global.HotUpdateManager.versionCfgFileName,n.version=t,this.totalAssetByte+=n.totalSize;var r=JSON.stringify(n);jsb.fileUtils.writeStringToFile(r,o)}else Logger.error("\u627e\u4e0d\u5230\u6587\u4ef6",o)}},t.prototype._cbUpdate=function(e){var t=this,o=!1,i=!1,n=!1;switch(e.getEventCode()){case jsb.EventAssetsManager.UPDATE_PROGRESSION:var r=e.getPercent();(!r||r<1e-4)&&(r=1e-4),this.updateCount>0&&(r=r/this.updateCount+this.updateFinishedSubCount/this.updateCount),this.sendNotification(l.default.SHOW_PROGRESS_BAR,{parm:r});var a=(100*r).toFixed(2);e&&"ProjectDownloaded"==e.getMessage()&&this.formatManifest(),this.sendNotification(l.default.SHOW_PROGRESS_LABEL,{parm:parseInt(a)+"%"});break;case jsb.EventAssetsManager.UPDATE_FINISHED:this.sendNotification(l.default.SHOW_PROGRESS_LABEL,{parm:"100%"}),this.sendNotification(l.default.SHOW_CHECK_LABEL,{parm:"\u66f4\u65b0\u5b8c\u6210"+e.getMessage()}),o=!0,n=!0,this.needRestart=!0,this.updateFinishedSubCount+=1;break;case jsb.EventAssetsManager.ALREADY_UP_TO_DATE:return this.sendNotification(l.default.SHOW_CHECK_LABEL,{parm:"\u5df2\u7ecf\u662f\u6700\u65b0\u7248"}),void this.checkNext();case jsb.EventAssetsManager.UPDATE_FAILED:this.reportLog(0,c.ReportTool.REPORT_TYPE_DOWNLOADSUBGAME_FAILED,e.getAssetId()),this.sendNotification(l.default.SHOW_CHECK_LABEL,{parm:"\u66f4\u65b0\u5931\u8d25\uff1a "+e.getMessage()}),this._updating=!1,this._canRetry=!0,i=!0;break;case jsb.EventAssetsManager.ERROR_UPDATING:this._faildRes=e.getAssetId(),this.reportLog(0,c.ReportTool.REPORT_TYPE_DOWNLOADSUBGAME_FAILED,this._faildRes),i=!0;break;case jsb.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:case jsb.EventAssetsManager.ERROR_DECOMPRESS:this.reportLog(0,c.ReportTool.REPORT_TYPE_DOWNLOADSUBGAME_FAILED,e.getAssetId()),this.sendNotification(l.default.SHOW_CHECK_LABEL,{parm:"\u4e0b\u8f7d\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc"});var s=function(){setTimeout(function(){t.restartCheckUpdate()},1e3)};Global.UI.showSingleBox("\u4e0b\u8f7d\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc",s,s),i=!0}if(i&&(this._assetsMgr.setEventCallback(null),this._updating=!1,this.retry()),n){this.sendNotification(l.default.CLEAR_LOADING_TIMER),Global.HotUpdateManager.hotFailRes="",Global.HotUpdateManager.hotFaildNum=0,jsb.fileUtils.getSearchPaths();var h=this._assetsMgr.getLocalManifest().getSearchPaths();Global.SearchPathHelper.addPathList(h);var u=Global.SearchPathHelper.getSystemSearchPath(),d=Global.HotUpdateManager;cc.sys.localStorage.setItem(d.hotUpdateStorageKey+d.hallHotUpdateDirName,d.hallHotUpdateDirName),cc.sys.localStorage.setItem("HotUpdateSearchPaths",JSON.stringify(u)),this._assetsMgr.setEventCallback(null),this._assetsMgr=null,this._updating=!1,o?(this.reportLog(1,c.ReportTool.REPORT_TYPE_DOWNLOADSUBGAME_RESULT),Global.Setting.storage.removeKey(p.default.HotUpdateHosts),cc.sys.localStorage.setItem("errorReStartTimes",null),cc.sys.localStorage.setItem("needRestart",1),cc.audioEngine.stopAll(),Global.UI.clearAllUIPrefab(),setTimeout(function(){cc.game.restart()},1e3),Logger.error("restart")):this.checkNext()}},t.prototype.restart=function(){Global.Setting.storage.removeKey(p.default.HotUpdateHosts),cc.sys.localStorage.setItem("needRestart",1),cc.audioEngine.stopAll(),Global.UI.clearAllUIPrefab(),setTimeout(function(){cc.game.restart()},1e3),Logger.error("restart")},t.prototype.retry=function(){var e=this;if(Global.HotUpdateManager.hotFailRes==this._faildRes&&Global.HotUpdateManager.hotFaildNum>=2){Global.HotUpdateManager.hotFailRes="",Global.HotUpdateManager.hotFaildNum=0;var t=function(){setTimeout(function(){e.restartCheckUpdate()},1e3)};Global.UI.showSingleBox("\u4e0b\u8f7d\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc",t,t)}else Global.HotUpdateManager.hotFaildNum=this._faildRes,Global.HotUpdateManager.hotFaildNum++},t.prototype._cbVerify=function(e,t){var o=t.compressed,i=(t.md5,t.path),n=(t.size,jsb.fileUtils.getFileSize(e));return this.currentContext==s.hall?(this.hallTotalSize+=n,this.hallTotalFilecount+=1):this.currentContext==s.main&&(this.mainTotalSize+=n,this.mainTotalFilecount+=1),o?(Logger.log("Verification passed : "+i),!0):n==t.size},t.prototype.next=function(){if(this.needRestart)return cc.sys.localStorage.setItem("errorReStartTimes",null),this.reportLog(1,c.ReportTool.REPORT_TYPE_DOWNLOADSUBGAME_RESULT),void this.restart();Global.ChannelUtil.getUuid(),Global.ChannelUtil.getEntryType(),Global.ChannelUtil.getSignType(),Global.ChannelUtil.PostInstallApp(),Global.ChannelUtil.initOpeninstall(),this.sendNotification(l.default.CLEAR_LOADING_TIMER),"testflight"==Global.Setting.SystemInfo.nativePlatform?Global.AppUpdateHelper.showLoadingGameUpdateUI(0):Global.AppUpdateHelper.startForceUpdateLogic(this.checkVersionData)||Global.AppUpdateHelper.goToLogin()},t.prototype.onRemove=function(){},t.NAME="AppHotUpdateProxy",t}(puremvc.Proxy);o.default=h,cc._RF.pop()},{"../../hallcommon/const/HallStorageKey":"HallStorageKey","../tool/ReportTool":"ReportTool","./LoadingConst":"LoadingConst"}],AppUpdateHelper:[function(e,t,o){"use strict";cc._RF.push(t,"4f1abPzHHtGWLDYxNNNBXSU","AppUpdateHelper"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../loadingMVC/LoadingFacade"),n=e("./AppHelper"),r=e("../../hall/tool/HallPopMsgHelper"),a=function(){function e(){this._forceDialogSceneType=-1,this._hasShowForceDialog=!1,this._checkVersionData=null,this._forceDialogType=-1}return Object.defineProperty(e.prototype,"forceDialogSceneType",{get:function(){return this._forceDialogSceneType},set:function(e){this._forceDialogSceneType=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasShowForceDialog",{get:function(){return this._hasShowForceDialog},set:function(e){this._hasShowForceDialog=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"checkVersionData",{get:function(){return this._checkVersionData},set:function(e){this._checkVersionData=e},enumerable:!1,configurable:!0}),e.prototype.goToLogin=function(){i.default.releaseInstance(),Global.SceneManager.goToLogin()},e.prototype.showLoadingGameUpdateUI=function(e){var t=this,o=function(){t.goToLogin()},i=!0,n=1;0==e&&(n=2,o=function(){t.showLoadingGameUpdateUI(e)},i=!1),Global.UI.show("WndGameUpdateUI",n,function(){var e=Global.Setting.Urls.downLoadUrl;cc.sys.openURL(Global.Toolkit.DealWithUrl(e))},o,i,!1,this.checkVersionData.app_force.desc)},e.prototype.checkIsShowLoginUpdateDlg=function(){var e=this._checkVersionData;if(e){var t=e.app_force;if(t){var o=t.version,i=Global.Setting.SystemInfo.appVersion;if(1==this.forceDialogSceneType&&0==this.hasShowForceDialog&&Global.Toolkit.versionCompare(o,i)>0)return!0}}return!1},e.prototype.showLoginUpdateDlg=function(){var e=this;if(this.checkIsShowLoginUpdateDlg()){if(this._checkVersionData){var t=this._checkVersionData.app_force;if(t){var o=t.force_type,i=t.url;r.default.Instance.addMsgList(r.PopWndName.ForceUpdate,function(){r.default.Instance.addLock(r.PopWndName.ForceUpdate);var n=function(){r.default.Instance.releaseLock(r.PopWndName.ForceUpdate)},a=!0,s=1;0==o&&(s=2,n=function(){r.default.Instance.releaseLock(r.PopWndName.ForceUpdate),e.showLoginUpdateDlg()},a=!1),Global.UI.show("WndGameUpdateUI",s,function(){var e=Global.Setting.Urls.downLoadUrl;i&&(e=i),cc.sys.openURL(Global.Toolkit.DealWithUrl(e))},n,a,!1,t.desc),e.hasShowForceDialog=!0})}}}else Logger.error("showLoginUpdateDlg false")},e.prototype.startForceUpdateLogic=function(e){var t=this;if(!e)return Logger.error("data == null"),!1;this.checkVersionData=e;var o=e.app_force,i=Global.Setting.SystemInfo.appVersion;if(o&&o.version&&o.version>0&&o.pack_type&&""!=o.pack_type){var r=o.version,a=o.pack_type,s=Global.Setting.SystemInfo.nativePlatform,l=o.tips_type;if(null!=l&&null!=l&&""!=l){if(this.forceDialogSceneType=l,1==this.forceDialogSceneType)return!1;Logger.error("startForceUpdateLogic show loading update dlg ")}if("all"!=a&&s!=a)return!1;if(Global.Toolkit.versionCompare(r,i)>0){var c=e.force_update_url,p=e.app_force,h=p.url,u=p.force_type,d=p.desc,f=p.url_type;if(n.default.enableForceUpdateAppInstall){var g=function(){t.startForceUpdateLogic(e)},m=function(){t.goToLogin()},y=!0,b=1,v=!1;if(0==u&&(b=2,m=g,y=!1,v=!0),null!=d&&""!==d||(d="\u6709\u65b0\u7248\u672c\u66f4\u65b0\uff0c\u8bf7\u5347\u7ea7\uff01"),0==f){if(cc.sys.os===cc.sys.OS_IOS)if(Global.Toolkit.md5(Global.Setting.SystemInfo.appSign)==Global.Setting.serverIOSCertMd5)if(h&&""!=h){var _=function(){Global.NativeEvent.hotUpdateIPA(h)};0==u?Global.UI.showSingleBox(d,_,m,y,!1):Global.UI.showYesNoBox(d,_,m,y)}else{if(!c||""==c)return!1;this.showForceUpdateWnd(c,v)}else{if(!c||""==c)return!1;_=function(){cc.sys.openURL(Global.Toolkit.DealWithUrl(c))},d="\u6709\u65b0\u7248\u672c\u66f4\u65b0\uff0c\u8bf7\u5378\u8f7dApp\u540e\u91cd\u65b0\u4e0b\u8f7d\uff01",0==u?Global.UI.showSingleBox(d,_,m,y,!1):Global.UI.showYesNoBox(d,_,m,y)}else if(cc.sys.os===cc.sys.OS_ANDROID)if(h&&""!=h)Global.UI.show("WndDownLoadApkUI",d,b,h,function(){},m,y,!1);else{if(!c||""==c)return!1;this.showForceUpdateWnd(c,v)}}else if(1==f)if(h&&""!=h){_=function(){cc.sys.openURL(Global.Toolkit.DealWithUrl(h))};var S=!0,C=1;0==u&&(C=2,m=g,S=!1),Global.UI.show("WndGameUpdateUI",C,_,m,S,!1,d)}else{if(!c||""==c)return!1;this.showForceUpdateWnd(c,v)}}else{if(!c||""==c)return!1;this.showForceUpdateWnd(c)}return!0}}else{var w=e.force_update_url,I=e.force_version;if(Global.Toolkit.versionCompare(I,i)>0)return this.showForceUpdateWnd(w),!0}return!1},e.prototype.showForceUpdateWnd=function(e,t){void 0===t&&(t=!1);var o=function(){cc.sys.openURL(Global.Toolkit.DealWithUrl(e))},i=null;t?(i=o,Global.UI.showSingleBox("\u6709\u65b0\u7248\u672c\u66f4\u65b0\uff0c\u8bf7\u91cd\u65b0\u4e0b\u8f7d\u6e38\u620f",o,i,!1,!1)):Global.UI.showYesNoBox("\u6709\u65b0\u7248\u672c\u66f4\u65b0\uff0c\u8bf7\u91cd\u65b0\u4e0b\u8f7d\u6e38\u620f",o,i,!0)},e}();o.default=a,cc._RF.pop()},{"../../hall/tool/HallPopMsgHelper":"HallPopMsgHelper","../loadingMVC/LoadingFacade":"LoadingFacade","./AppHelper":"AppHelper"}],ArrayUtil:[function(e,t,o){"use strict";cc._RF.push(t,"d8f32r8/sNKJKqpkc+SYO3c","ArrayUtil"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function e(){}return e.stringify=function(e){for(var t="",o=0,i=e;o<i.length;o++)t=t+" "+i[o].toString();return t},e.prototype.compareArraySort=function(e,t){if(!e&&t||e&&!t)return!1;if(e.length!==t.length)return!1;var o=[].concat(e),i=[].concat(t);o=o.sort(),i=i.sort();for(var n=0,r=o.length;n<r;n++)if(o[n]!==i[n])return!1;return!0},e}();o.default=i,cc._RF.pop()},{}],AudioManager:[function(e,t,o){"use strict";cc._RF.push(t,"bc66fjdQ3RCLJFJbnYoC7zd","AudioManager"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function e(){this.curRunningBgm="",this.targetBgm="",this.commonBtnSoundUrl="hall/sound/btnClick",this.commonCloseSoundUrl="",this.pauseTime=0,this.inBackground=!1,this.MaxAudioSourceCount=5,this.audioSourceList=[],this.resToAudioMap={}}return e.prototype.setup=function(e,t){this.settingData=e,this.resourceMgr=t,cc.audioEngine.setMaxAudioInstance(30),this.setMusicVolume(this.settingData.musicVolume),this.setSoundVolume(this.settingData.soundVolume),cc.game.on(cc.game.EVENT_HIDE,this.onPause,this),cc.game.on(cc.game.EVENT_SHOW,this.onResume,this)},e.prototype.onPause=function(){this.pauseTime=Date.now(),this.inBackground=!0},e.prototype.onResume=function(){this.pauseTime=0,this.inBackground=!1,0!=this.pauseTime&&Date.now()-this.pauseTime>2e3&&this.stopAllEffect()},e.prototype.playGameBundleMusic=function(e,t){void 0===t&&(t=!1);var o=Global.ResourceManager.gameBundle;o?this.playBundleMusic(o,e):Logger.error("playGameBundleMusic bundleName null")},e.prototype.playBundleMusic=function(e,t,o){var i=this;if(void 0===o&&(o=!1),this.targetBgm=t,t!=this.curRunningBgm&&""!=t&&this.settingData.musicEnable){this.curRunningBgm=t;var n=this.resourceMgr.getBundleRes(e,t,cc.AudioClip);if(n)cc.audioEngine.playMusic(n,!0);else{var r=function(e,o){null==e?t==i.curRunningBgm?cc.audioEngine.playMusic(o,!0):Logger.error("\u58f0\u97f3\u672a\u52a0\u8f7d\u5b8c\u5c31\u5207\u6362\u97f3\u4e50",t,i.curRunningBgm):Logger.error("\u97f3\u6548\u52a0\u8f7d\u5931\u8d25",e.message,t)};cc.sys.isNative&&jsb&&jsb.fileUtils.isFileExist(t)?this.resourceMgr.load(t,r):this.resourceMgr.loadBundleRes(e,t,r)}}},e.prototype.playMusic=function(e,t){var o=this;if(void 0===t&&(t=!1),this.targetBgm=e,e!=this.curRunningBgm&&""!=e&&this.settingData.musicEnable){this.curRunningBgm=e;var i=this.resourceMgr.getRes(e,cc.AudioClip);if(i)cc.audioEngine.playMusic(i,!0);else{var n=function(i,n){null==i?e==o.curRunningBgm?(t&&Global.ResourceManager.setAutoReleaseRecursively(n,!0),cc.audioEngine.playMusic(n,!0)):Logger.error("\u58f0\u97f3\u672a\u52a0\u8f7d\u5b8c\u5c31\u5207\u6362\u97f3\u4e50",e,o.curRunningBgm):Logger.error("\u97f3\u6548\u52a0\u8f7d\u5931\u8d25",i.message,e)};cc.sys.isNative&&jsb&&jsb.fileUtils.isFileExist(e)?this.resourceMgr.load(e,n):this.resourceMgr.loadRes(e,n,cc.AudioClip)}}},e.prototype.stopMusic=function(){cc.audioEngine.stopMusic(),this.targetBgm=this.curRunningBgm,this.curRunningBgm=""},e.prototype.playSound=function(e,t){if(void 0===t&&(t=!1),this.settingData.soundEnable)if(this.inBackground)Logger.error("play sound in background!!!",e);else{var o=this.resourceMgr.getRes(e,cc.AudioClip);if(o)return cc.audioEngine.playEffect(o,!1);this.resourceMgr.loadRes(e,function(o,i){null==o?(cc.audioEngine.playEffect(i,!1),t&&Global.ResourceManager.setAutoReleaseRecursively(i,!0)):Logger.error("\u97f3\u6548\u52a0\u8f7d\u5931\u8d25",o.message,e)},cc.AudioClip)}},e.prototype.playGameBundleSound=function(e,t){void 0===t&&(t=!1);var o=Global.ResourceManager.gameBundle;if(o)return this.playBundleSound(o,e);Logger.error("playGameBundleSound bundleName null")},e.prototype.playBundleSound=function(e,t,o){if(void 0===o&&(o=!1),this.settingData.soundEnable)if(this.inBackground)Logger.error("play sound in background!!!",t);else{var i=this.resourceMgr.getBundleRes(e,t,cc.AudioClip);if(i)return cc.audioEngine.playEffect(i,!1);this.resourceMgr.loadBundleRes(e,t,function(e,i){null==e?(cc.audioEngine.playEffect(i,!1),o&&Global.ResourceManager.setAutoReleaseRecursively(i,!0)):Logger.error("\u97f3\u6548\u52a0\u8f7d\u5931\u8d25",e.message,t)})}},e.prototype.stopAllEffect=function(){cc.audioEngine.stopAllEffects()},e.prototype.playBtnSound=function(){""!=this.commonBtnSoundUrl&&this.playSound(this.commonBtnSoundUrl)},e.prototype.playCloseSound=function(){""!=this.commonCloseSoundUrl&&this.playSound(this.commonCloseSoundUrl)},e.prototype.setMusicEnable=function(e){if(this.settingData.setMusicEnable(e),e){var t=Global.ResourceManager.gameBundle;t?this.playBundleMusic(t,this.targetBgm):this.playMusic(this.targetBgm)}else this.stopMusic()},e.prototype.playHallBGM=function(){this.playMusic(Global.Setting.hallBGM)},e.prototype.setSoundEnable=function(e){this.settingData.setSoundEnable(e),e||this.stopAllEffect()},e.prototype.setMusicVolume=function(e){this.settingData.musicVolume=e,cc.audioEngine.setMusicVolume(e)},e.prototype.setSoundVolume=function(e){this.settingData.soundVolume=e,cc.audioEngine.setEffectsVolume(e)},e.prototype.getIdleAudioSource=function(){for(var e=null,t=0;t<this.audioSourceList.length;t++)if(this.audioSourceList[t]&&!this.audioSourceList[t].isPlaying){e=this.audioSourceList[t];break}if(e)for(var o in this.resToAudioMap)if(this.resToAudioMap[o]==e){this.resToAudioMap[o]=null;break}return e},e.prototype.getNewAudioSource=function(){if(this.audioSourceList.length>=this.MaxAudioSourceCount)return null;var e=Global.Persist.getPersistNode().addComponent(cc.AudioSource);return this.audioSourceList.push(e),e},e.prototype.getAudioSource=function(e){var t=this.resToAudioMap[e];return null==t&&(t=this.getIdleAudioSource()),null==t&&(t=this.getNewAudioSource()),t},e.prototype.playAudioSource=function(e,t,o){if(void 0===t&&(t=!1),void 0===o&&(o=!1),this.settingData.soundEnable)if(this.inBackground)Logger.error("play sound in background!!!",e);else{var i=this.getAudioSource(e);if(null!=i&&(!i.isPlaying||t)){this.resToAudioMap[e]=i;var n=this.resourceMgr.getRes(e,cc.AudioClip);n?(i.clip=n,i.play()):this.resourceMgr.loadRes(e,function(t,n){null==t?(o&&Global.ResourceManager.setAutoReleaseRecursively(n,!0),i.isPlaying||(i.clip=n,i.play())):Logger.error("\u97f3\u6548\u52a0\u8f7d\u5931\u8d25",t.message,e)},cc.AudioClip)}}},e}();o.default=i,cc._RF.pop()},{}],AutoCodeView:[function(e,t,o){"use strict";cc._RF.push(t,"2bb58cz8m9H+YbrQP3D4iia","AutoCodeView");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../../core/ui/ViewBase"),a=e("../../../../core/component/YXButton"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nextSendTime=0,t.type=1,t}return n(t,e),t.prototype.initView=function(){this.addCommonClick("codeBtn",this.onCodeBtnClick,this),this.sendCodeBtn=this.getComponent("codeBtn",a.default),this.codeInput=this.getComponent("code",cc.EditBox),this.timeBtn=this.getChild("timeBtn"),this.timeLabel=this.getComponent("timeBtn/label",cc.RichText),this.timeBtn.active=!1},t.prototype.setPhoneInputAndType=function(e,t){this.phoneInputView=e,this.type=t},Object.defineProperty(t.prototype,"code",{get:function(){return this.codeInput.string},set:function(e){this.codeInput.string=e},enumerable:!1,configurable:!0}),t.prototype.onCodeBtnClick=function(){var e=this;if(""!=this.phoneInputView.phone)if(this.phoneInputView.isAreaVaild()){var t=this.phoneInputView.area;Global.ModelManager.getModel("LoginModel").reqGetPhoneVerifyCode(this.phoneInputView.phone,this.type,t,function(t){Global.UI.fastTip("\u9a8c\u8bc1\u7801\u53d1\u9001\u6210\u529f"),e.nextSendTime=Date.now()+1e3*Global.Setting.phoneVerifyCodeInterval,e.updateSendCodeTime(),t&&t.code&&Global.UI.showSingleBox(t.code)})}else Global.UI.fastTip("\u8bf7\u9009\u62e9\u6b63\u786e\u7684\u5730\u533a\u4fe1\u606f");else Global.UI.fastTip("\u8bf7\u8f93\u5165\u624b\u673a\u53f7\u7801")},t.prototype.onSubViewShow=function(){this.updateSendCodeTime()},t.prototype.onSubViewHide=function(){this.sendCodeBtn.unscheduleAllCallbacks()},t.prototype.onDispose=function(){this.nextSendTime=0},t.prototype.updateSendCodeTime=function(){var e=this;if(this.checkCanSend())this.setCodeBtnCanSend();else{var t=this.getLeftTime();this.sendCodeBtnDisable(),this.codeInput.schedule(function(){e.checkCanSend()?(e.setCodeBtnCanSend(),e.sendCodeBtn.unscheduleAllCallbacks(),e.sendCodeBtn.isClickValid=!0):e.timeLabel.string=e.getLeftTime()+"s"},1,t+1)}},t.prototype.checkCanSend=function(){return 0==this.nextSendTime||this.nextSendTime<Date.now()+1e3},t.prototype.sendCodeBtnDisable=function(){this.sendCodeBtn.node.active=!1,this.timeBtn.active=!0;var e=this.getLeftTime();this.timeLabel.string=e.toString()},t.prototype.setCodeBtnCanSend=function(){this.sendCodeBtn.node.active=!0,this.timeBtn.active=!1},t.prototype.getLeftTime=function(){return Math.floor((this.nextSendTime-Date.now())/1e3)},t}(r.default);o.default=s,cc._RF.pop()},{"../../../../core/component/YXButton":"YXButton","../../../../core/ui/ViewBase":"ViewBase"}],AwardBoxItem:[function(e,t,o){"use strict";cc._RF.push(t,"ef764t1tiZLuIcFoYczoEtr","AwardBoxItem");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./WndDailyRechargeGift"),s=cc._decorator,l=s.ccclass,c=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.awardStateSprite=[],t.shinyNode=null,t.rateLabel=null,t.data=null,t.is_done=!1,t.isYesterdayAchieve=!1,t.is_todayData=!1,t}return n(t,e),t.prototype.refreshState=function(e,t,o,i){if(e){this.data=e,this.is_done=t,this.is_todayData=o,this.isYesterdayAchieve=i;var n=this.getBoxStateByData(e,o);this.setBoxState(n)}else this.setBoxState(a.BoxState.Normal)},t.prototype.refreshRate=function(e){e&&(this.rateLabel.string=e.rate+"%")},t.prototype.setBoxState=function(e){var t=this.node.getComponent(cc.Button);switch(e){case a.BoxState.Normal:t&&(t.interactable=!1),this.awardStateSprite[0].node.active=!0,this.awardStateSprite[1].node.active=!1,this.awardStateSprite[2].node.active=!1,this.shinyNode.active=!1;break;case a.BoxState.TodayAchieved:t&&(t.interactable=!0),this.awardStateSprite[0].node.active=!0,this.awardStateSprite[1].node.active=!1,this.awardStateSprite[2].node.active=!0,this.shinyNode.active=!1;break;case a.BoxState.RealAchieved:t&&(t.interactable=!0),this.awardStateSprite[0].node.active=!1,this.awardStateSprite[1].node.active=!1,this.awardStateSprite[2].node.active=!1,this.shinyNode.active=!0;break;case a.BoxState.AlreadyGot:t&&(t.interactable=!1),this.awardStateSprite[0].node.active=!1,this.awardStateSprite[1].node.active=!0,this.awardStateSprite[2].node.active=!1,this.shinyNode.active=!1}},t.prototype.getBoxStateByData=function(e,t){return e&&e.is_ava?!e.is_ava||e.status||t?e.is_ava&&!e.status&&t?a.BoxState.TodayAchieved:e.is_ava&&e.status?a.BoxState.AlreadyGot:void 0:a.BoxState.RealAchieved:a.BoxState.Normal},r([c([cc.Sprite])],t.prototype,"awardStateSprite",void 0),r([c(cc.Node)],t.prototype,"shinyNode",void 0),r([c(cc.Label)],t.prototype,"rateLabel",void 0),r([l],t)}(cc.Component);o.default=p,cc._RF.pop()},{"./WndDailyRechargeGift":"WndDailyRechargeGift"}],AwardCommiItem:[function(e,t,o){"use strict";cc._RF.push(t,"c01bdW1h89GIpnYGvqL+A0R","AwardCommiItem");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,l=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nameLabel=null,t.min_maxLabel=null,t.commiLabel=null,t}return n(t,e),t.prototype.Init=function(e){if(null==e)this.nameLabel.string="",this.min_maxLabel.string="",this.commiLabel.string="";else{if(this.nameLabel.string=e.name,0===e.max_point){var t=e.min_point;e.min_point>=1e4&&(t=(e.min_point/1e4).toString()+"\u4e07"),this.min_maxLabel.string=t+"\u4ee5\u4e0a"}else{var o=e.min_point;t=e.max_point,e.min_point>=1e4&&(o=(e.min_point/1e4).toString()+"\u4e07"),e.max_point>=1e4&&(t=(e.max_point/1e4).toString()+"\u4e07"),this.min_maxLabel.string=o.toString()+"-"+t.toString()}this.commiLabel.string=e.commi+"/\u4e07"}},r([l(cc.Label)],t.prototype,"nameLabel",void 0),r([l(cc.Label)],t.prototype,"min_maxLabel",void 0),r([l(cc.Label)],t.prototype,"commiLabel",void 0),r([s],t)}(cc.Component);o.default=c,cc._RF.pop()},{}],AwardDetailItem:[function(e,t,o){"use strict";cc._RF.push(t,"5e487XyJDZBHKehjM1FXMw7","AwardDetailItem");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,l=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.TimeLabel=null,t.weekMyselfDir=null,t.WeekDirLabel=null,t.WeekOtherLabel=null,t.Amount=null,t}return n(t,e),t.prototype.Init=function(e){var t=Global.ModelManager.getModel("SpreadModel").commiType;null==e?(this.TimeLabel.string="",this.weekMyselfDir&&(this.weekMyselfDir.string=""),this.WeekDirLabel.string="",this.WeekOtherLabel.string="",this.Amount.string=""):2==t&&(this.TimeLabel.string=e.time,this.weekMyselfDir&&(this.weekMyselfDir.string=Global.Toolkit.formatPointStr(e.total_flow)),this.WeekDirLabel.string=Global.Toolkit.formatPointStr(e.unter_flow),this.Amount.string=Global.Toolkit.formatPointStr(e.commi),this.WeekOtherLabel.string=Global.Toolkit.formatPointStr(e.team_flow))},r([l(cc.Label)],t.prototype,"TimeLabel",void 0),r([l(cc.Label)],t.prototype,"weekMyselfDir",void 0),r([l(cc.Label)],t.prototype,"WeekDirLabel",void 0),r([l(cc.Label)],t.prototype,"WeekOtherLabel",void 0),r([l(cc.Label)],t.prototype,"Amount",void 0),r([s],t)}(cc.Component);o.default=c,cc._RF.pop()},{}],AwardRecordItem:[function(e,t,o){"use strict";cc._RF.push(t,"26992UuFkJJuIMcjbXS+PPY","AwardRecordItem");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,l=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.TimeLabel=null,t.TypeLabel=null,t.Amount=null,t}return n(t,e),t.prototype.Init=function(e){var t=Global.ModelManager.getModel("SpreadModel").commiType;null==e?(this.TimeLabel.string="",this.TypeLabel.string="",this.Amount.string=""):(2===t?(this.TimeLabel.string=e.read_date+" "+e.read_time,this.TypeLabel.string="\u4e1a\u7ee9\u6536\u5165\u5956\u52b1"):this.TimeLabel.string=e.read_time,0==e.read_type?this.TypeLabel.string="\u63a8\u5e7f\u7a0e\u6536\u5956\u52b1":1==e.read_type&&(this.TypeLabel.string="\u81ea\u8425\u7a0e\u6536\u5956\u52b1"),this.Amount.string=Global.Toolkit.formatPointStr(e.read_point))},r([l(cc.Label)],t.prototype,"TimeLabel",void 0),r([l(cc.Label)],t.prototype,"TypeLabel",void 0),r([l(cc.Label)],t.prototype,"Amount",void 0),r([s],t)}(cc.Component);o.default=c,cc._RF.pop()},{}],BackUpGameModule:[function(e,t,o){"use strict";cc._RF.push(t,"93c57oNFmRMuYy2/zLV6Hx5","BackUpGameModule");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.viewClass="WndBackUpGame",t.modelClass="",t.resPaths=[],t.prefabPaths=[""],t.children=[],t}return n(t,e),t}(e("../../../framework/module/ModuleBase").ModuleBase);o.default=r,cc._RF.pop()},{"../../../framework/module/ModuleBase":"ModuleBase"}],BankDrawWin:[function(e,t,o){"use strict";cc._RF.push(t,"71605io+yNM5Ivp461kKbh5","BankDrawWin");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.getBaseNum=function(){return Global.PlayerData.bank_point/Global.Setting.glodRatio},t.prototype.confirmBtnFunc=function(){this.curInputNum>0?this.model.reqDrawBankPoint(this.curInputNum*Global.Setting.glodRatio):this.model.showBankTips("\u8bf7\u8f93\u5165\u53d6\u6b3e\u91d1\u989d")},t.prototype.sliderChangeFunc=function(){e.prototype.sliderChangeFunc.call(this),0==Global.PlayerData.bank_point&&this.model.showBankTips("\u94f6\u884c\u4f59\u989d\u4e3a0\uff0c\u65e0\u6cd5\u53d6\u6b3e")},t.prototype.textChangeFunc=function(){e.prototype.textChangeFunc.call(this),this.curInputNum<0&&(this.model.showBankTips("\u8bf7\u8f93\u5165\u53d6\u6b3e\u91d1\u989d"),this.inputEditBox.string)},t}(e("./BankSaveDrawBaseWin").default);o.default=r,cc._RF.pop()},{"./BankSaveDrawBaseWin":"BankSaveDrawBaseWin"}],BankEvent:[function(e,t,o){"use strict";cc._RF.push(t,"7db4doPBQhDf7+TBU9O75zK","BankEvent"),Object.defineProperty(o,"__esModule",{value:!0}),o.BankEvent=void 0;var i=function(){function e(){}return e.BankUpdateView="BankUpdateView",e}();o.BankEvent=i,cc._RF.pop()},{}],BankGiftRecordItem:[function(e,t,o){"use strict";cc._RF.push(t,"df2cb6ARmdPIKamvc+5FJrh","BankGiftRecordItem");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,l=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.timeLabel=null,t.giverIDLabel=null,t.numLabel=null,t.stateNodes=[],t}return n(t,e),t.prototype.reset=function(){},t.prototype.setData=function(){},r([l(cc.Label)],t.prototype,"timeLabel",void 0),r([l(cc.Label)],t.prototype,"giverIDLabel",void 0),r([l(cc.Label)],t.prototype,"numLabel",void 0),r([l([cc.Node])],t.prototype,"stateNodes",void 0),r([s],t)}(cc.Component);o.default=c,cc._RF.pop()},{}],BankModel:[function(e,t,o){"use strict";cc._RF.push(t,"da6b7ZpJXdM4bz0HFP95uGT","BankModel");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../framework/model/ModelBase"),a=e("../../core/net/hall/NetEvent"),s=e("../../core/GlobalEvent"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._defaultPassword="888888",t._bankPassword=null,t}return n(t,e),Object.defineProperty(t.prototype,"Name",{get:function(){return"BankModel"},enumerable:!1,configurable:!0}),t.prototype.onInit=function(){},t.prototype.onClear=function(){this._bankPassword=null},t.prototype.getDefaultPassword=function(){return this._defaultPassword},t.prototype.IntoWnd=function(){this._bankPassword?this.reqLoginBank(this._bankPassword):Global.UI.show("WndBankLogin")},t.prototype.bankErronFunc=function(e){return null==e._errstr||(this.showBankTips(e._errstr),!1)},t.prototype.showBankTips=function(e){Global.UI.fastTip(e)},t.prototype.reqLoginBank=function(e){var t={pwd:Global.Toolkit.md5(e)};Global.HallServer.send(a.NetAppface.mod,a.NetAppface.LoginBank,t,function(t){this._bankPassword=e,this.onResLoginBank(t)}.bind(this),function(e){return this._bankPassword=null,this.bankErronFunc(e)}.bind(this))},t.prototype.onResLoginBank=function(e){Global.Event.event(s.default.SHOW_NET_WAITING,"WndBankUI"),Global.PlayerData.bank_point=e.bank_point,Global.UI.close("WndBankLogin"),Global.UI.show("WndBankUI")},t.prototype.reqSetBankPwd=function(e,t){var o={old_pwd:Global.Toolkit.md5(e),new_pwd:Global.Toolkit.md5(t)};Global.HallServer.send(a.NetAppface.mod,a.NetAppface.SetBankPwd,o,function(e){this._bankPassword=t,this.onResSetBankPwd(e)}.bind(this),this.bankErronFunc.bind(this))},t.prototype.onResSetBankPwd=function(){this.showBankTips("\u4fee\u6539\u5bc6\u7801\u6210\u529f"),Global.UI.close("WndBankChangePW"),this.IntoWnd()},t.prototype.reqForgetBankPwd=function(e,t,o,i){var n=Global.Toolkit.md5(o),r={phone:Global.AESUtil.aesEncrypt(Global.Toolkit.cryptoKey,Global.Toolkit.cryptoIv,e),code:t,pwd:n,acode:i};Global.HallServer.send(a.NetAppface.mod,a.NetAppface.ForgetBankPwd,r,this.onResForgetBankPwd.bind(this),this.bankErronFunc.bind(this))},t.prototype.onResForgetBankPwd=function(){this.showBankTips("\u4fee\u6539\u5bc6\u7801\u6210\u529f"),Global.UI.close("WndBankForgetPW")},t.prototype.reqSaveBankPoint=function(e){var t=e.toFixed(0),o={type:1,point:parseInt(t,10)};Global.HallServer.send(a.NetAppface.mod,a.NetAppface.DealBankPoint,o,this.onResSaveDealBankPoint.bind(this),this.bankErronFunc.bind(this))},t.prototype.reqDrawBankPoint=function(e){var t=e.toFixed(0),o={type:2,point:parseInt(t,10)};Global.HallServer.send(a.NetAppface.mod,a.NetAppface.DealBankPoint,o,this.onResDarwDealBankPoint.bind(this),this.bankErronFunc.bind(this))},t.prototype.onResSaveDealBankPoint=function(e){this.showBankTips("\u5b58\u6b3e\u6210\u529f"),Global.PlayerData.point=e.point,Global.PlayerData.bank_point=e.bank_point},t.prototype.onResDarwDealBankPoint=function(e){this.showBankTips("\u53d6\u6b3e\u6210\u529f"),Global.PlayerData.point=e.point,Global.PlayerData.bank_point=e.bank_point},t}(r.default);o.default=l,cc._RF.pop()},{"../../../framework/model/ModelBase":"ModelBase","../../core/GlobalEvent":"GlobalEvent","../../core/net/hall/NetEvent":"NetEvent"}],BankModule:[function(e,t,o){"use strict";cc._RF.push(t,"cc88bDnZ0JCj73lbwbq5ykE","BankModule");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.viewClass="WndBankUI",t.modelClass="BankModel",t.resPaths=[],t.prefabPaths=["hall/prefabs/ui/money/bank/BankUI"],t.children=[{viewClass:"WndBankLogin",modelClass:"",resPaths:[],prefabPaths:["hall/prefabs/ui/money/bank/BankLoginBankUI"],children:[]},{viewClass:"WndBankForgetPW",modelClass:"",resPaths:[],prefabPaths:["hall/prefabs/ui/money/bank/BankForgetPWUI"],children:[]},{viewClass:"WndBankChangePW",modelClass:"",resPaths:[],prefabPaths:["hall/prefabs/ui/money/bank/BankChangePWUI"],children:[]},{viewClass:"WndUnionBandConfirm",modelClass:"",resPaths:[],prefabPaths:["hall/prefabs/ui/money/extractCash/unionBandConfirmUI"],children:[]},{viewClass:"WndOverseasBandConfirm",modelClass:"",resPaths:[],prefabPaths:["hall/prefabs/ui/money/extractCash/overseasBandConfirmUI"],children:[]}],t}return n(t,e),t}(e("../../../framework/module/ModuleBase").ModuleBase);o.default=r,cc._RF.pop()},{"../../../framework/module/ModuleBase":"ModuleBase"}],BankSaveDrawBaseWin:[function(e,t,o){"use strict";cc._RF.push(t,"d2a42pUQBhMcqW78K5lhMoI","BankSaveDrawBaseWin");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../../../core/ui/ViewBase"),a=e("../../../../../core/GlobalEvent"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.inputEditBox=null,t.sliderPlus=null,t.curInputNum=0,t}return n(t,e),t.prototype.initView=function(){this.model=Global.ModelManager.getModel("BankModel"),this.myMoney=this.getComponent("balanceLabel",cc.Label),this.bankMoney=this.getComponent("bankLabel",cc.Label),this.inputEditBox=this.getComponent("inputEditBox",cc.EditBox),this.inputEditBox.node.on("editing-did-ended",this.textChangeFunc,this),this.sliderPlus=new l,this.sliderPlus.setNode(this.getChild("SliderPlus")),this.sliderPlus.addOn(this.sliderChangeFunc,this),this.addCommonClick("resetBtn",this.resetBtnFunc,this),this.addCommonClick("confirmBtn",this.confirmBtnFunc,this)},t.prototype.onSubViewShow=function(){Global.Event.on(a.default.PERSONALINFOUPDATE,this,this.updateMoneyView),this.sliderPlus.active=!0,this.sliderPlus.pro=0,this.updateMoneyView(),this.inputEditBox.string=""},t.prototype.onSubViewHide=function(){this.sliderPlus.active=!1,Global.Event.off(a.default.PERSONALINFOUPDATE,this,this.updateMoneyView)},t.prototype.getBaseNum=function(){return 1},t.prototype.updateMoneyView=function(){this.myMoney.string=Global.Toolkit.formatPointStr(Global.PlayerData.point,!0),this.bankMoney.string=Global.Toolkit.formatPointStr(Global.PlayerData.bank_point,!0),this.updateView(this.sliderPlus.pro);var e=Global.UI.getWindow("WndBankUI");e&&e.OnDataPrepared()},t.prototype.updateView=function(e){var t=this.getBaseNum(),o=Global.Toolkit.formatPointStr(t*Global.Setting.glodRatio,!0);if(0==t||"0.00"==o)return this.inputEditBox.string="0",void(this.sliderPlus.pro=0);e=Math.ceil(100*e)/100;var i=Math.floor(t*e*100)/100;this.curInputNum=i,this.inputEditBox.string=i+"",this.sliderPlus.pro=e},t.prototype.textChangeFunc=function(){var e=this.getBaseNum();if(0!=e){var t=parseFloat(""==this.inputEditBox.string?"0":this.inputEditBox.string);t>=0||(t=0),t>e&&this.model.showBankTips("\u8f93\u5165\u8d85\u51fa\u8303\u56f4"),t=Math.min(t,e),t=Number(Global.Toolkit.formatPointStr(t*Global.Setting.glodRatio,!0)),this.curInputNum=t;var o=Math.ceil(t/e*100)/100;this.sliderPlus.pro=Math.min(1,o),this.inputEditBox.string=t+""}else this.updateView(0)},t.prototype.sliderChangeFunc=function(){this.updateView(this.sliderPlus.pro)},t.prototype.resetBtnFunc=function(){Logger.error("\u91cd\u7f6e",0),this.updateView(0)},t.prototype.confirmBtnFunc=function(){},t}(r.default);o.default=s,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bandNode=null,t.msgNode=null,t}n(t,e),t.prototype.initView=function(){this.bandNode=this.getChild("bandNode"),this.msgNode=this.getChild("msgNode"),this.addCommonClick("bandNode/bandBtn",this.bandBtnFunc,this)},t.prototype.onSubViewShow=function(){Global.Event.on(a.default.PERSONALINFOUPDATE,this,this.updateView),this.updateView()},t.prototype.onSubViewHide=function(){Global.Event.off(a.default.PERSONALINFOUPDATE,this,this.updateView)},t.prototype.updateView=function(){var e=null!=Global.PlayerData.phone&&""!=Global.PlayerData.phone;this.bandNode.active=!e,this.msgNode.active=e},t.prototype.bandBtnFunc=function(){Global.UI.show("WndBindPhone")}}(r.default);var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.progressBar=null,t.sliderBar=null,t.valueLabel=null,t}return n(t,e),t.prototype.initView=function(){this.progressBar=this.node.getComponent(cc.ProgressBar),this.sliderBar=this.getComponent("slider",cc.Slider),this.valueLabel=this.getComponent("slider/Handle/valueBox/valueLabel",cc.Label),this.sliderBar.node.on("slide",this.updateView,this),this.sliderBar.node.on(cc.Node.EventType.TOUCH_START,this.touchDown,this),this.sliderBar.handle.node.on(cc.Node.EventType.TOUCH_END,this.touchDown,this),this.handleNode=this.getChild("slider/Handle")},t.prototype.touchDown=function(){Global.Audio.playBtnSound()},t.prototype.updateView=function(){var e=this.sliderBar.progress;this.progressBar.progress=e,this.valueLabel.string=100*e+"%"},Object.defineProperty(t.prototype,"pro",{get:function(){return this.sliderBar.progress},set:function(e){this.sliderBar.progress=e,this.progressBar.progress=e,0==e&&this.forceLocate(),this.valueLabel.string=Math.floor(100*e)+"%"},enumerable:!1,configurable:!0}),t.prototype.addOn=function(e,t){this.sliderBar.node.on("slide",e,t)},t.prototype.forceLocate=function(){this.handleNode.setPosition(cc.v2(-312.5,0))},t}(r.default);cc._RF.pop()},{"../../../../../core/GlobalEvent":"GlobalEvent","../../../../../core/ui/ViewBase":"ViewBase"}],BankSaveWin:[function(e,t,o){"use strict";cc._RF.push(t,"df1266kuWlJU76WBvjJP3L5","BankSaveWin");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.getBaseNum=function(){return Global.PlayerData.point/Global.Setting.glodRatio},t.prototype.confirmBtnFunc=function(){this.curInputNum>0?this.model.reqSaveBankPoint(this.curInputNum*Global.Setting.glodRatio):this.model.showBankTips("\u8bf7\u8f93\u5165\u5b58\u6b3e\u91d1\u989d")},t.prototype.sliderChangeFunc=function(){e.prototype.sliderChangeFunc.call(this);var t=Global.Toolkit.formatPointStr(Global.PlayerData.point,!0);0!=Global.PlayerData.point&&"0.00"!=t||this.model.showBankTips("\u94b1\u5305\u4f59\u989d\u4e3a0\uff0c\u65e0\u6cd5\u5b58\u6b3e")},t.prototype.textChangeFunc=function(){e.prototype.textChangeFunc.call(this),this.curInputNum<0&&(this.model.showBankTips("\u8bf7\u8f93\u5165\u5b58\u6b3e\u91d1\u989d"),this.inputEditBox.string)},t}(e("./BankSaveDrawBaseWin").default);o.default=r,cc._RF.pop()},{"./BankSaveDrawBaseWin":"BankSaveDrawBaseWin"}],BannerView:[function(e,t,o){"use strict";cc._RF.push(t,"10f23ZqOJRCNI7USSCpG/qp","BannerView");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../../core/ui/ViewBase"),a=e("./GongGaoViewItem"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.itemList=new Array,t.scrollDelayTime=15,t.scrollTime=1,t.gongGaoCount=0,t.hasRefreshMask=!1,t.configs={11001:{type:0,subtype:0},11002:{type:1,subtype:1},11003:{type:1,subtype:4},11004:{type:1,subtype:2},11005:{type:1,subtype:3},11006:{type:2}},t}return n(t,e),t.prototype.initView=function(){this.pageView=this.node.getComponent("LoopPageView"),this.mask=this.getComponent("maskNode",cc.Mask),this.itemList=[],this.hasRefreshMask=!1},t.prototype.initData=function(){var e=Global.GongGaoData.gongGaoList;if(e){this.gongGaoCount=e.length;for(var t=0;t<this.gongGaoCount;t++){var o=e[t];this.addPrefeb(o)}}},t.prototype.refreshMask=function(){if(!this.hasRefreshMask&&(this.hasRefreshMask=!0,this.mask&&this.itemList.length>0)){var e=cc.find("content/guangao_di",this.itemList[0].node);if(e){var t=e.getComponent(cc.Sprite);t&&(this.mask.spriteFrame=t.spriteFrame)}}},t.prototype.addPrefeb=function(e){var t=this,o=e,i=o.lunbo_id;this.configs[i]?Global.ResourceManager.loadRes("hall@effect/hall/lunbo/gonggaoItem_"+i,function(e,n){if(null==e){if(cc.sys.platform==cc.sys.IPHONE||11005!=i){var r=cc.instantiate(n);r.name="gonggaoItem_"+i;var s=new a.default;s.setNode(r),1==o.jump_type&&o.jump_url?s.setData({type:3,subtype:o.jump_url},t.pageView):s.setData(t.configs[i],t.pageView),11003==i&&s.InitVipCharge(),Global.customApp.loadBannerBg(s.icon,"guangao"+i+".png",function(){t.pageView.addPage(s.node),Global.Setting.SkinConfig.isPurple&&t.refreshMask()}),t.itemList.push(s)}}else Logger.error("\u52a0\u8f7d\u9884\u8bbe\u5931\u8d25",i)},null,null,Global.Toolkit.isIphone6()):Logger.error("ID\u65e0\u6548\uff01",i)},t.prototype.onSubViewShow=function(){this.initData(),this.pageView.autoScrollDelayTime=this.scrollDelayTime,this.pageView.autoScrollTime=this.scrollTime,this.pageView.scrollToPage(0,0),this.updateView(),this.updateQrCodeItem(),this.pageView.isAutoScroll=!0},t.prototype.onSubViewHide=function(){this.pageView.removeAllPages(),this.itemList=[]},t.prototype.close=function(){this.itemList=[]},t.prototype.onDispose=function(){this.mask=null},t.prototype.updateQrCodeItem=function(){if(this.itemList)for(var e=0;e<this.itemList.length;e++){var t=this.itemList[e],o=t.getData();if(o&&2==o.type){t.setData(o);break}}},t.prototype.updateView=function(){},t}(r.default);o.default=s,cc._RF.pop()},{"../../../../core/ui/ViewBase":"ViewBase","./GongGaoViewItem":"GongGaoViewItem"}],Base64Cls:[function(e,t,o){"use strict";cc._RF.push(t,"8e1cepVxPRL4ouW6sImlJ+s","Base64Cls"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function e(){}return e.encode=function(e){var t,o,i,n,r,a,s,l="",c=0;for(e=this._utf8_encode(e);c<e.length;)n=(t=e.charCodeAt(c++))>>2,r=(3&t)<<4|(o=e.charCodeAt(c++))>>4,a=(15&o)<<2|(i=e.charCodeAt(c++))>>6,s=63&i,isNaN(o)?a=s=64:isNaN(i)&&(s=64),l=l+this._keyStr.charAt(n)+this._keyStr.charAt(r)+this._keyStr.charAt(a)+this._keyStr.charAt(s);return l},e.decode=function(e){var t,o,i,n,r,a,s="",l=0;for(e=e.replace(/[^A-Za-z0-9+\/=]/g,"");l<e.length;)t=this._keyStr.indexOf(e.charAt(l++))<<2|(n=this._keyStr.indexOf(e.charAt(l++)))>>4,o=(15&n)<<4|(r=this._keyStr.indexOf(e.charAt(l++)))>>2,i=(3&r)<<6|(a=this._keyStr.indexOf(e.charAt(l++))),s+=String.fromCharCode(t),64!=r&&(s+=String.fromCharCode(o)),64!=a&&(s+=String.fromCharCode(i));return this._utf8_decode(s)},e._utf8_decode=function(e){for(var t="",o=0,i=c1=c2=0;o<e.length;)(i=e.charCodeAt(o))<128?(t+=String.fromCharCode(i),o++):i>191&&i<224?(c2=e.charCodeAt(o+1),t+=String.fromCharCode((31&i)<<6|63&c2),o+=2):(c2=e.charCodeAt(o+1),c3=e.charCodeAt(o+2),t+=String.fromCharCode((15&i)<<12|(63&c2)<<6|63&c3),o+=3);return t},e._utf8_encode=function(e){e=e.replace(/rn/g,"n");for(var t="",o=0;o<e.length;o++){var i=e.charCodeAt(o);i<128?t+=String.fromCharCode(i):i>127&&i<2048?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t},e._keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e}();o.default=i,cc._RF.pop()},{}],Base64:[function(e,t,o){"use strict";cc._RF.push(t,"4eba5ilQZ9IMpAnaEOCwRUI","Base64"),Object.defineProperty(o,"__esModule",{value:!0}),o.Base64=void 0;var i=e("../lib/WordArray"),n=function(){function e(){}return e.stringify=function(e){e.clamp();for(var t=[],o=0;o<e.sigBytes;o+=3)for(var i=(e.words[o>>>2]>>>24-o%4*8&255)<<16|(e.words[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e.words[o+2>>>2]>>>24-(o+2)%4*8&255,n=0;n<4&&o+.75*n<e.sigBytes;n++)t.push(this._map.charAt(i>>>6*(3-n)&63));var r=this._map.charAt(64);if(r)for(;t.length%4;)t.push(r);return t.join("")},e.parse=function(e){var t=e.length;if(void 0===this._reverseMap){this._reverseMap=[];for(var o=0;o<this._map.length;o++)this._reverseMap[this._map.charCodeAt(o)]=o}var i=this._map.charAt(64);if(i){var n=e.indexOf(i);-1!==n&&(t=n)}return this.parseLoop(e,t,this._reverseMap)},e.parseLoop=function(e,t,o){for(var n=[],r=0,a=0;a<t;a++)if(a%4){var s=o[e.charCodeAt(a-1)]<<a%4*2,l=o[e.charCodeAt(a)]>>>6-a%4*2;n[r>>>2]|=(s|l)<<24-r%4*8,r++}return new i.WordArray(n,r)},e._map="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e._reverseMap=void 0,e}();o.Base64=n,cc._RF.pop()},{"../lib/WordArray":"WordArray"}],BaseGameHandler:[function(e,t,o){"use strict";cc._RF.push(t,"9ea4cMufLdKTKca6p77odEA","BaseGameHandler"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function e(){}return e.prototype.checkInQueue=function(){return!0},e.prototype.Handle=function(){},e.prototype.prepare=function(){return null},e.prototype.decodePb=function(){return null},e}();o.default=i,cc._RF.pop()},{}],BaseServerHelper:[function(e,t,o){"use strict";cc._RF.push(t,"e8b81yzVa1C0p9o+pHO3b7L","BaseServerHelper"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function e(e){this.server=e,this.onInit()}return e.prototype.onInit=function(){},e.prototype.run=function(){},e.prototype.clear=function(){},e.prototype.onUpdate=function(){},e}();o.default=i,cc._RF.pop()},{}],BaseSettingData:[function(e,t,o){"use strict";cc._RF.push(t,"df37aqIvdpF4YcpMskJ2b7J","BaseSettingData"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function e(){this.musicEnable=!0,this.musicVolume=1,this.soundEnable=!0,this.soundVolume=1}return e.prototype.setup=function(e){this.storage=e,this.load()},e.prototype.load=function(){this.storage.hasKey(e.MusicEnableKey)&&(this.musicEnable=this.storage.getBool(e.MusicEnableKey)),this.storage.hasKey(e.SoundEnableKey)&&(this.soundEnable=this.storage.getBool(e.SoundEnableKey)),this.storage.hasKey(e.MusicVolumeKey)&&(this.musicVolume=this.storage.getNumber(e.MusicVolumeKey,1)),this.storage.hasKey(e.SoundVolumeKey)&&(this.soundVolume=this.storage.getNumber(e.SoundVolumeKey,1))},e.prototype.setMusicEnable=function(t){t!=this.musicEnable&&(this.musicEnable=t,this.storage.setBool(e.MusicEnableKey,t))},e.prototype.setSoundEnable=function(t){t!=this.soundEnable&&(this.soundEnable=t,this.storage.setBool(e.SoundEnableKey,t))},e.prototype.setMusicVolume=function(t){t!=this.musicVolume&&(this.musicVolume=t,this.storage.set(e.MusicVolumeKey,t.toString()))},e.prototype.setSoundVolume=function(t){t!=this.soundVolume&&(this.soundVolume=t,this.storage.set(e.SoundVolumeKey,t.toString()))},e.MusicEnableKey="MusicEnable",e.SoundEnableKey="SoundEnable",e.MusicVolumeKey="MusicVolume",e.SoundVolumeKey="SoundVolume",e}();o.default=i,cc._RF.pop()},{}],BaseSetting:[function(e,t,o){"use strict";cc._RF.push(t,"6588blu2QJJeptsilaITQNN","BaseSetting"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./Storage"),n=e("./BaseSettingData"),r=function(){function e(){this.storage=new i.default}return e.prototype.setup=function(){this.settingData=new n.default,this.settingData.setup(this.storage)},e}();o.default=r,cc._RF.pop()},{"./BaseSettingData":"BaseSettingData","./Storage":"Storage"}],Base:[function(e,t,o){"use strict";cc._RF.push(t,"0f669+nTXJKKaev5co7SKZR","Base"),Object.defineProperty(o,"__esModule",{value:!0}),o.Base=void 0;o.Base=function(){},cc._RF.pop()},{}],BindingButtonEffect:[function(e,t,o){"use strict";cc._RF.push(t,"5b78b3IgrlNvZlp2o5/7vKW","BindingButtonEffect");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,l=a.menu,c=a.disallowMultiple,p=(a.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._fromScale=cc.Vec2.ZERO,t._toScale=cc.Vec2.ZERO,t._transitionFinished=!0,t.transition=3,t._duration=.1,t.time=0,t}return n(t,e),t.prototype.update=function(e){if(3===this.transition&&!this._transitionFinished){this.time+=e;var t=1;this._duration>0&&(t=this.time/this._duration),t>=1&&(t=1),this.node.scale=this._fromScale.lerp(this._toScale,t).x,1===t&&(this._transitionFinished=!0)}},Object.defineProperty(t.prototype,"toScale",{set:function(e){this._toScale=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fromScale",{set:function(e){this._fromScale=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transitionFinished",{set:function(e){this._transitionFinished=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Time",{set:function(e){this.time=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Duration",{set:function(e){this._duration=e},enumerable:!1,configurable:!0}),r([s,c(),l("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/BindingButtonEffect")],t)}(cc.Component));o.default=p,cc._RF.pop()},{}],BindingGiftModel:[function(e,t,o){"use strict";cc._RF.push(t,"85ebf5y/WxCI483LlOludth","BindingGiftModel");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._BindAwardNum=0,t}return n(t,e),t.prototype.onInit=function(){},Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Status",{get:function(){return this._Status},enumerable:!1,configurable:!0}),t.prototype.SetStatus=function(e){this._Status=e},Object.defineProperty(t.prototype,"BindAwardNum",{get:function(){return this._BindAwardNum},set:function(e){this._BindAwardNum=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Name",{get:function(){return"BindingGiftModel"},enumerable:!1,configurable:!0}),t.prototype.clear=function(){this.SetStatus(!1)},t}(e("../../../framework/model/ModelBase").default);o.default=r,cc._RF.pop()},{"../../../framework/model/ModelBase":"ModelBase"}],BindingGiftModule:[function(e,t,o){"use strict";cc._RF.push(t,"8280ecWaVhJS4KbpmYtZC87","BindingGiftModule");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.viewClass="WndBindingGift",t.modelClass="BindingGiftModel",t.resPaths=[],t.prefabPaths=[""],t.children=[],t}return n(t,e),t}(e("../../../framework/module/ModuleBase").ModuleBase);o.default=r,cc._RF.pop()},{"../../../framework/module/ModuleBase":"ModuleBase"}],BlackBgComp:[function(e,t,o){"use strict";cc._RF.push(t,"d2f4e5Go9hHy7SU+Ep1x23d","BlackBgComp");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,l=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.onLoad=function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_END,function(){e.window&&e.window.active&&cc.isValid(e.window.node)&&e.window.close&&e.clickEnable&&(e.clickEnable=!1)},this)},t.prototype.onEnable=function(){this.clickEnable=!0},t.prototype.onDestroy=function(){this.node.targetOff(this)},r([s],t)}(cc.Component));o.default=l,cc._RF.pop()},{}],BlockCipherModeAlgorithm:[function(e,t,o){"use strict";cc._RF.push(t,"1308eqZDOpGbqjVT1hCqh94","BlockCipherModeAlgorithm"),Object.defineProperty(o,"__esModule",{value:!0}),o.BlockCipherModeAlgorithm=void 0;var i=function(){function e(e,t){this.init(e,t)}return e.prototype.init=function(e,t){this._cipher=e,this._iv=t},e}();o.BlockCipherModeAlgorithm=i,cc._RF.pop()},{}],BlockCipherMode:[function(e,t,o){"use strict";cc._RF.push(t,"188906PKQ5NVrEKxqKroW8l","BlockCipherMode"),Object.defineProperty(o,"__esModule",{value:!0}),o.BlockCipherMode=void 0;var i=e("./BlockCipherModeAlgorithm"),n=function(){function e(){}return e.createEncryptor=function(e,t){return new(0,this.Encryptor)(e,t)},e.createDecryptor=function(e,t){return new(0,this.Decryptor)(e,t)},e.Encryptor=i.BlockCipherModeAlgorithm,e.Decryptor=i.BlockCipherModeAlgorithm,e}();o.BlockCipherMode=n,cc._RF.pop()},{"./BlockCipherModeAlgorithm":"BlockCipherModeAlgorithm"}],BlockCipher:[function(e,t,o){"use strict";cc._RF.push(t,"b1dfevA/cBGtJtXU9B+zJY2","BlockCipher");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.BlockCipher=void 0;var r=e("./Cipher"),a=e("../mode/CBC"),s=e("../pad/PKCS7"),l=function(e){function t(t,o,i){return e.call(this,t,o,Object.assign({blockSize:4,mode:a.CBC,padding:s.PKCS7},i))||this}return n(t,e),t.prototype.reset=function(){if(e.prototype.reset.call(this),void 0===this.cfg.mode)throw new Error("missing mode in config");var t;this._xformMode===this.constructor._ENC_XFORM_MODE?t=this.cfg.mode.createEncryptor:(t=this.cfg.mode.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator===t?this._mode.init(this,this.cfg.iv&&this.cfg.iv.words):(this._mode=t.call(this.cfg.mode,this,this.cfg.iv&&this.cfg.iv.words),this._mode.__creator=t)},t.prototype._doProcessBlock=function(e,t){this._mode.processBlock(e,t)},t.prototype._doFinalize=function(){if(void 0===this.cfg.padding)throw new Error("missing padding in config");var e;if(this._xformMode===this.constructor._ENC_XFORM_MODE){if(void 0===this.cfg.blockSize)throw new Error("missing blockSize in config");this.cfg.padding.pad(this._data,this.cfg.blockSize),e=this._process(!0)}else e=this._process(!0),this.cfg.padding.unpad(e);return e},t}(r.Cipher);o.BlockCipher=l,cc._RF.pop()},{"../mode/CBC":"CBC","../pad/PKCS7":"PKCS7","./Cipher":"Cipher"}],BlueSkinModuleCfg:[function(e,t,o){"use strict";cc._RF.push(t,"ca53ajzmfVBTaf4282nPl/9","BlueSkinModuleCfg");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cfg=["LoginModule","HallModule","PersonalInfoModule","PlayerInfoModule","BankModule","ActivityCenterModule","BackUpGameModule","BindingGiftModule","CashBackModule","SafeModule","GameLobbyShellModule","CommonModule","FeedbackModule","MsgModule","RankModule","RechargeGiftModule","RechargeModule","ServicerModule","ShareModule","SpreadModule","SignActivityModule","VipQuickPayChatModule","ChooseHeadModule"],t}return n(t,e),t}(e("./ModuleCfgBase").default);o.default=r,cc._RF.pop()},{"./ModuleCfgBase":"ModuleCfgBase"}],BufferedBlockAlgorithmConfig:[function(e,t,o){"use strict";cc._RF.push(t,"890cf5HmypN64PHd/DIs0T2","BufferedBlockAlgorithmConfig"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],BufferedBlockAlgorithm:[function(e,t,o){"use strict";cc._RF.push(t,"61f4dRaZc5NxIixnFhYu9Cu","BufferedBlockAlgorithm"),Object.defineProperty(o,"__esModule",{value:!0}),o.BufferedBlockAlgorithm=void 0;var i=e("./WordArray"),n=e("../enc/Utf8"),r=function(){function e(e){this._minBufferSize=0,this.cfg=Object.assign({blockSize:1},e),this._data=new i.WordArray,this._nDataBytes=0}return e.prototype.reset=function(){this._data=new i.WordArray,this._nDataBytes=0},e.prototype._append=function(e){"string"==typeof e&&(e=n.Utf8.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},e.prototype._process=function(e){if(!this.cfg.blockSize)throw new Error("missing blockSize in config");var t,o=4*this.cfg.blockSize,n=this._data.sigBytes/o,r=(n=e?Math.ceil(n):Math.max((0|n)-this._minBufferSize,0))*this.cfg.blockSize,a=Math.min(4*r,this._data.sigBytes);if(r){for(var s=0;s<r;s+=this.cfg.blockSize)this._doProcessBlock(this._data.words,s);t=this._data.words.splice(0,r),this._data.sigBytes-=a}return new i.WordArray(t,a)},e.prototype.clone=function(){var e=this.constructor();for(var t in this)this.hasOwnProperty(t)&&(e[t]=this[t]);return e._data=this._data.clone(),e},e}();o.BufferedBlockAlgorithm=r,cc._RF.pop()},{"../enc/Utf8":"Utf8","./WordArray":"WordArray"}],ButtonPlus:[function(e,t,o){"use strict";cc._RF.push(t,"59ca9nBXkZKzJF4XCx0unX2","ButtonPlus");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,l=(a.property,a.disallowMultiple),c=a.menu,p=(a.executionOrder,a.requireComponent,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bindedObject=[],t.CLICK_INTERVAL=.2,t.enableClickInterval=!0,t._isClickValid=!0,t}return n(t,e),Object.defineProperty(t.prototype,"isClickValid",{get:function(){return this._isClickValid||!this.enableClickInterval},set:function(e){this._isClickValid=e},enumerable:!1,configurable:!0}),t.prototype.setBind=function(e){this.bindedObject=this.bindedObject.concat(e)},t.prototype._onTouchCancel=function(){e.prototype._onTouchCancel.call(this),this.setParam()},t.prototype._onTouchBegan=function(t){e.prototype._onTouchBegan.call(this,t),this.setParam()},t.prototype._onTouchEnded=function(t){e.prototype._onTouchEnded.call(this,t),this.setParam()},t.prototype.setParam=function(){for(var e=0;e<this.bindedObject.length;e++){var t=this.bindedObject[e];t.toScale=this._toScale,t.fromScale=this._fromScale,t.transitionFinished=this._transitionFinished,t.Time=this.time,t.Duration=this.duration}},r([s,l(),c("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/buttonPlus")],t)}(cc.Button));o.default=p,cc._RF.pop()},{}],CBCDecryptor:[function(e,t,o){"use strict";cc._RF.push(t,"6f5eacu8SJP36Ou6zLBcAEG","CBCDecryptor");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.CBCDecryptor=void 0;var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.processBlock=function(e,t){if(void 0===this._cipher.cfg.blockSize)throw new Error("missing blockSize in cipher config");var o=e.slice(t,t+this._cipher.cfg.blockSize);this._cipher.decryptBlock(e,t),this.xorBlock(e,t,this._cipher.cfg.blockSize),this._prevBlock=o},t.prototype.xorBlock=function(e,t,o){var i;if(this._iv?(i=this._iv,this._iv=void 0):i=this._prevBlock,void 0!==i)for(var n=0;n<o;n++)e[t+n]^=i[n]},t}(e("./BlockCipherModeAlgorithm").BlockCipherModeAlgorithm);o.CBCDecryptor=r,cc._RF.pop()},{"./BlockCipherModeAlgorithm":"BlockCipherModeAlgorithm"}],CBCEncryptor:[function(e,t,o){"use strict";cc._RF.push(t,"80b5dpprPpCKrmBUUXzpp4X","CBCEncryptor");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.CBCEncryptor=void 0;var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.processBlock=function(e,t){if(void 0===this._cipher.cfg.blockSize)throw new Error("missing blockSize in cipher config");this.xorBlock(e,t,this._cipher.cfg.blockSize),this._cipher.encryptBlock(e,t),this._prevBlock=e.slice(t,t+this._cipher.cfg.blockSize)},t.prototype.xorBlock=function(e,t,o){var i;if(this._iv?(i=this._iv,this._iv=void 0):i=this._prevBlock,void 0!==i)for(var n=0;n<o;n++)e[t+n]^=i[n]},t}(e("./BlockCipherModeAlgorithm").BlockCipherModeAlgorithm);o.CBCEncryptor=r,cc._RF.pop()},{"./BlockCipherModeAlgorithm":"BlockCipherModeAlgorithm"}],CBC:[function(e,t,o){"use strict";cc._RF.push(t,"a1690bfez9NT52Jg4MqoMSC","CBC");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.CBC=void 0;var r=e("./BlockCipherMode"),a=e("./CBCEncryptor"),s=e("./CBCDecryptor"),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.Encryptor=a.CBCEncryptor,t.Decryptor=s.CBCDecryptor,t}(r.BlockCipherMode);o.CBC=l,cc._RF.pop()},{"./BlockCipherMode":"BlockCipherMode","./CBCDecryptor":"CBCDecryptor","./CBCEncryptor":"CBCEncryptor"}],CCLoaderHelper:[function(e,t,o){"use strict";cc._RF.push(t,"6d82cq4eHxA/Is9DRmUnSvn","CCLoaderHelper"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function e(){}return e.prototype.getRes=function(e,t,o){null==cc.loader.getRes(e)&&(Logger.log("CCLoaderHelper  res = null  path = "+e),cc.loader.loadRes(e,t,o))},e}();o.default=i,cc._RF.pop()},{}],CallbackHandlerHelper:[function(e,t,o){"use strict";cc._RF.push(t,"03cd5UzJKROhKqDftTn06gQ","CallbackHandlerHelper");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.callbackMap=new Map,t.timeCount=0,t}return n(t,e),t.prototype.registCallback=function(e,t){this.callbackMap.set(e,t)},t.prototype.removeCallback=function(e){this.callbackMap.has(e)&&this.callbackMap.delete(e)},t.prototype.clearCallbacks=function(){this.callbackMap.clear()},t.prototype.getCallback=function(e){return this.callbackMap.get(e)},t.prototype.onUpdate=function(e){var t=this;this.timeCount+=e,this.timeCount>=.5&&(this.callbackMap.forEach(function(e,o){e&&e.live>0&&(e.live-=t.timeCount,e.live<=0&&t.removeCallback(o))}),this.timeCount=0)},t}(e("./BaseServerHelper").default);o.default=r,cc._RF.pop()},{"./BaseServerHelper":"BaseServerHelper"}],CaptureTool:[function(e,t,o){"use strict";cc._RF.push(t,"7d459iqB4dH9a69/wal+i1T","CaptureTool");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,l=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.camera=null,t.texture=null,t._width=null,t._height=null,t.callback=null,t}return n(t,e),t.prototype.BeginCapture=function(e,t,o){var i=this;void 0===o&&(o=!0),this.callback=t,this.checkImgExist(e)?this.callback&&(this.callback(),this.callback=null):(Global.Event.event(GlobalEvent.SHOW_NET_WAITING,"captureIng"),this.init(),this.scheduleOnce(function(){var t=i.initImage();i.saveFile(e,t,o)},.2))},t.prototype.init=function(){this.camera.node.active=!0;var e=new cc.RenderTexture,t=cc.game._renderContext;e.initWithSize(cc.visibleRect.width,cc.visibleRect.height,t.STENCIL_INDEX8),this.camera.targetTexture=e,this.texture=e},t.prototype.initImage=function(){var e=this.texture.readPixels();return this._width=this.texture.width,this._height=this.texture.height,this.filpYImage(e,this._width,this._height)},t.prototype.saveFile=function(){},t.prototype.checkImgExist=function(){},t.prototype.filpYImage=function(e,t,o){for(var i=new Uint8Array(t*o*4),n=4*t,r=0;r<o;r++)for(var a=(o-1-r)*t*4,s=r*t*4,l=0;l<n;l++)i[s+l]=e[a+l];return i},r([l(cc.Camera)],t.prototype,"camera",void 0),r([s],t)}(cc.Component);o.default=c,cc._RF.pop()},{}],CashBackDescription:[function(e,t,o){"use strict";cc._RF.push(t,"57ef2nadztJaLjQ/AAKPWjz","CashBackDescription");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,l=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Money=null,t.proportion=null,t}return n(t,e),t.prototype.Init=function(e){-1===e.bet_max?this.Money.string=e.bet_mix+"\u4ee5\u4e0a":this.Money.string=e.bet_mix+" ~ "+e.bet_max,this.proportion.string=e.bet_rate+"%"},r([l(cc.Label)],t.prototype,"Money",void 0),r([l(cc.Label)],t.prototype,"proportion",void 0),r([s],t)}(cc.Component);o.default=c,cc._RF.pop()},{}],CashBackEvent:[function(e,t,o){"use strict";cc._RF.push(t,"45d99JPFpRG6ri/+dHnbmz5","CashBackEvent"),Object.defineProperty(o,"__esModule",{value:!0}),o.CashBackEvent=void 0;var i=function(){function e(){}return e.GetDayFlowBackRecord="GetDayFlowBackRecord",e.GetDayFlowBack="GetDayFlowBack",e.GetActivityCfg="GetActivityCfg",e.GetDayFlowBackAll="GetDayFlowBackAll",e}();o.CashBackEvent=i,cc._RF.pop()},{}],CashBackModel:[function(e,t,o){"use strict";cc._RF.push(t,"9187futaZRJHJ3rORy+Az6j","CashBackModel");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../framework/model/ModelBase"),a=e("../../core/net/hall/NetEvent"),s=e("../../hall/ui/CashBack/CashBackEvent"),l=e("./HallModel"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.redFlag=!1,t}return n(t,e),t.prototype.CashBackErronFunc=function(e){return null==e._errstr||(Global.UI.fastTip(e._errstr),!1)},Object.defineProperty(t.prototype,"Name",{get:function(){return"CashBackModel"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"RedFLag",{get:function(){return this.redFlag},set:function(e){this.redFlag=e,this.redFlag&&Global.Event.event(GlobalEvent.ShowRedSpot,[!1,l.HallRedSpotType.CashBackDay])},enumerable:!1,configurable:!0}),t.prototype.CheckRedFlag=function(){this.redFlag&&Global.Event.event(GlobalEvent.ShowRedSpot,[!1,l.HallRedSpotType.CashBackDay])},t.prototype.GetActivityCfg=function(){var e=this;Global.HallServer.send(a.NetAppface.mod,a.NetAppface.GetActivityCfg,{},function(t){e.event(s.CashBackEvent.GetActivityCfg,t)},this.CashBackErronFunc.bind(this),!1,1)},t.prototype.GetDayFlowBackRecord=function(e,t){var o=this,i={page:e,limit:t};Global.HallServer.send(a.NetAppface.mod,a.NetAppface.GetDayFlowBackRecord,i,function(e){o.event(s.CashBackEvent.GetDayFlowBackRecord,e)},this.CashBackErronFunc.bind(this),!1,0)},t.prototype.GetDayFlowBack=function(e){var t=this,o={id:e};Global.HallServer.send(a.NetAppface.mod,a.NetAppface.GetDayFlowBackAll,o,function(e){t.event(s.CashBackEvent.GetDayFlowBackAll,e),Global.HallServer.send(a.NetAppface.mod,a.NetAppface.GetUserPoint,{})},this.CashBackErronFunc.bind(this),!0,0)},t}(r.default);o.default=c,cc._RF.pop()},{"../../../framework/model/ModelBase":"ModelBase","../../core/net/hall/NetEvent":"NetEvent","../../hall/ui/CashBack/CashBackEvent":"CashBackEvent","./HallModel":"HallModel"}],CashBackModule:[function(e,t,o){"use strict";cc._RF.push(t,"8f1e80iP/NKJoNBNnlQqSk1","CashBackModule");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.viewClass="WndDailyCashBackUI",t.modelClass="CashBackModel",t.resPaths=[],t.prefabPaths=[""],t.children=[],t}return n(t,e),t}(e("../../../framework/module/ModuleBase").ModuleBase);o.default=r,cc._RF.pop()},{"../../../framework/module/ModuleBase":"ModuleBase"}],CashListView:[function(e,t,o){"use strict";cc._RF.push(t,"176608tdthLN5nR96lz5V5d","CashListView");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/ui/ViewBase"),a=e("../money/ui/extractCash/ExtractEvent"),s=e("../../../core/tool/PoolBase"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nodeList=[],t.limit=6,t}return n(t,e),t.prototype.initView=function(){this.model=Global.ModelManager.getModel("ExtractModel"),this.model.on(a.ExtractEvent.OnUpdateApplyCashList,this,this.InitCashListView),Global.UIHelper.addCommonClick(this.node,"nexPage",this.OnNextPagePageBtnClick,this),Global.UIHelper.addCommonClick(this.node,"upPage",this.OnLastPageBtnClick,this),this.contentNode=this.getChild("scrollview/view/content"),this.copyItem=this.getChild("scrollview/view/content/Item"),this.pageLabel=this.getChild("pageLabel").getComponent(cc.Label),this.nothingNode=this.getChild("Nothing"),this.nothingNode.active=!1,this.nextBtn=this.getChild("nexPage"),this.lastBtn=this.getChild("upPage"),this.copyItem.active=!1,this.initItemPool()},t.prototype.onOpenRecharge=function(e){void 0===e&&(e=!1),this.isRecharge=e,this.model.reqApplyCashList()},t.prototype.onDispose=function(){this.itemPool.resetPool(),this.model.off(a.ExtractEvent.OnUpdateApplyCashList,this,this.InitCashListView)},t.prototype.OnNextPagePageBtnClick=function(){Global.Audio.playBtnSound(),this.arrList.length>this.model.cashListPage*this.limit?(this.model.cashListPage++,this.InitCashListView()):this.model.reqApplyCashList(!0)},t.prototype.OnLastPageBtnClick=function(){if(Global.Audio.playBtnSound(),this.model.cashListPage--,this.model.cashListPage<=0)return this.model.cashListPage=1,void Global.UI.fastTip("\u5df2\u7ecf\u662f\u7b2c\u4e00\u9875\u4e86");this.InitCashListView()},t.prototype.initItemPool=function(){this.itemPool=new c(this.copyItem)},t.prototype.recycle=function(){this.itemPool.recycleAll(this.nodeList),this.nodeList=[]},t.prototype.InitCashListView=function(){this.arrList=this.model.getCashListData()||[];var e=this.arrList.length;if(e<1?(this.nothingNode.active=!0,this.pageLabel.node.active=!1,this.nextBtn.active=!1,this.lastBtn.active=!1):(this.nothingNode.active=!1,this.pageLabel.node.active=!0,this.nextBtn.active=!0,this.lastBtn.active=!0),0!=e){var t=e-(this.model.cashListPage-1)*this.limit>this.limit?this.limit:e-(this.model.cashListPage-1)*this.limit;this.recycle();for(var o=0;o<t;o++){var i=this.itemPool.getItem();this.nodeList.push(i),i.active=!0,i.setParent(this.contentNode),i.getComponent("RecordingItem").Init(this.arrList[(this.model.cashListPage-1)*this.limit+o],o,this.isRecharge)}this.pageLabel.string=cc.js.formatStr("\u5171%s\u6761",this.model.cashTotal)+cc.js.formatStr("\u7b2c%s\u9875",this.model.cashListPage)}},t}(r.default);o.default=l;var c=function(e){function t(t){var o=e.call(this)||this;return o.copyNode=t,o}return n(t,e),t.prototype.createItem=function(){return cc.instantiate(this.copyNode)},t.prototype.resetItem=function(e){e.active=!1,e.setParent(null)},t.prototype.recycleAll=function(t){var o=this;e.prototype.recycleAll.call(this,t),t.forEach(function(e){o.resetItem(e)})},t}(s.default);cc._RF.pop()},{"../../../core/tool/PoolBase":"PoolBase","../../../core/ui/ViewBase":"ViewBase","../money/ui/extractCash/ExtractEvent":"ExtractEvent"}],CashView:[function(e,t,o){"use strict";cc._RF.push(t,"b5ec22Es/REVpTUJSUbn/Sb","CashView");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__awaiter||function(e,t,o,i){return new(o||(o=Promise))(function(n,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,s)}l((i=i.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var o,i,n,r,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(e){return function(t){return l([e,t])}}function l(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,i&&(n=2&r[0]?i.return:r[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,r[1])).done)return n;switch(i=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){a.label=r[1];break}if(6===r[0]&&a.label<n[1]){a.label=n[1],n=r;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(r);break}n[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(s){r=[6,s],i=0}finally{o=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=e("../../../core/ui/ViewBase"),l=e("../money/ui/extractCash/aliBandWin"),c=e("../money/ui/extractCash/aliExtractCashWin"),p=e("../money/ui/extractCash/unionBandWin"),h=e("../money/ui/extractCash/unionExtractCashWin"),u=e("../money/ui/extractCash/ExtractEvent"),d=e("../money/ui/extractCash/overseasBankWin"),f=e("../money/ui/extractCash/overseasExtractCashWin"),g=e("../waiting/WaitingView"),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.curWin=0,t.curMoneyNumLabel=null,t.subViewPath={aliBandWin:"hall/prefabs/ui/Recharge/subView/cash/aliBandWin",aliExtractCashWin:"hall/prefabs/ui/Recharge/subView/cash/aliExtractCashWin",unionBandWin:"hall/prefabs/ui/Recharge/subView/cash/unionBandWin",unionExtractCashWin:"hall/prefabs/ui/Recharge/subView/cash/unionExtractCashWin",overseasBankWin:"hall/prefabs/ui/Recharge/subView/cash/overseasBandWin",overseasExtractCashWin:"hall/prefabs/ui/Recharge/subView/cash/overseasExtractCashWin"},t.viewKeyTypeMap={aliBandWin:l.default,aliExtractCashWin:c.default,unionBandWin:p.default,unionExtractCashWin:h.default,overseasBankWin:d.default,overseasExtractCashWin:f.default},t}return n(t,e),t.prototype.onSubViewShow=function(){e.prototype.onSubViewShow.call(this),this.waitingNode&&(this.waitingNode.active=!0),this.model.reqGetBankInfo(),this.model.allPutList=null,this.curWin=-1,this.updateInfoNode(),this.model.reqGetAllPutList()},t.prototype.initView=function(){this.node.width=cc.Canvas.instance.node.width,this.node.height=cc.Canvas.instance.node.height,this.subViewParentNode=this.getChild("InfoNode"),this.model=Global.ModelManager.getModel("ExtractModel"),Global.Event.on(GlobalEvent.PERSONALINFOUPDATE,this,this.updateCurMoney),this.model.on(u.ExtractEvent.OnUpdateBankBindInfo,this,this.updateInfoNode),this.aliToggle=this.getChild("leftBtns/layout/aliBtn"),this.unionToggle=this.getChild("leftBtns/layout/unionBtn"),this.listToggle=this.getChild("leftBtns/layout/listBtn"),this.aliToggle.on("click",this.changeInfoNode,this),this.unionToggle.on("click",this.changeInfoNode,this),this.listToggle.on("click",this.changeInfoNode,this),this.curMoneyNumLabel=this.getComponent("InfoNode/tabBar/CurMoneyBox/curMoneyNumLabel",cc.Label),this.initSubViewClass(this.viewKeyTypeMap),this.InitScripts(),null!=this.waitingNode&&null!=this.waitingNode||(this.waitingNode=g.default.initWaitingView(this.node,cc.v2(138,0)))},t.prototype.InitScripts=function(){return r(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,this.initSubView(this.subViewPath,this.viewKeyTypeMap,this.subViewParentNode)];case 1:return e.sent(),[2]}})})},t.prototype.onDispose=function(){this.model.off(u.ExtractEvent.OnUpdateBankBindInfo,this,this.updateInfoNode),Global.Event.off(GlobalEvent.PERSONALINFOUPDATE,this,this.updateCurMoney)},t.prototype.onSubViewHide=function(){e.prototype.onSubViewHide.call(this)},t.prototype.updateCurMoney=function(){if(this.model.bankDatas){var e=Global.PlayerData.point-(this.model.bankDatas.forzen_point||0)*Global.Setting.glodRatio;e=Math.max(0,e),this.curMoneyNumLabel.string=Global.Toolkit.GetMoneyFormat(e)}},t.prototype.setToggleChecked=function(e,t){var o=e.getChildByName("checkmark"),i=e.getChildByName("Background");o&&(o.active=t),i&&(i.active=!t)},t.prototype.showAliWin=function(){var e=this.model.haveAli();this.aliBandWin.subViewState=!e,this.aliExtractCashWin.subViewState=e},t.prototype.showUnionWin=function(){var e=this.model.haveUnion();this.unionBandWin.subViewState=!e,this.unionExtractCashWin.subViewState=e},t.prototype.showOverseasWin=function(){var e=this.model.haveOverseas();this.overseasBankWin.subViewState=!e,this.overseasExtractCashWin.subViewState=e},t.prototype.closeAllWin=function(){this.aliBandWin.subViewState=!1,this.aliExtractCashWin.subViewState=!1,this.unionBandWin.subViewState=!1,this.unionExtractCashWin.subViewState=!1,this.aliToggle.active=!1,this.unionToggle.active=!1,this.overseasBankWin.subViewState=!1,this.overseasExtractCashWin.subViewState=!1},t.prototype.updateInfoNode=function(){this.waitingNode&&(this.waitingNode.active=!1),this.updateCurMoney(),this.closeAllWin(),this.model.bankDatas&&(this.aliToggle.active=this.model.bankDatas.ali_status>0,this.unionToggle.active=this.model.bankDatas.bank_status>0,-1==this.curWin&&(1==this.model.bankDatas.ali_status?this.curWin=1:1==this.model.bankDatas.bank_status?this.curWin=0:1==this.model.bankDatas.over_sea_bank_status?this.curWin=2:this.curWin=3),1==this.curWin&&this.model.bankDatas.ali_status?(this.showAliWin(),this.setToggleChecked(this.aliToggle,!0),this.setToggleChecked(this.unionToggle,!1),this.setToggleChecked(this.listToggle,!1)):0==this.curWin&&this.model.bankDatas.bank_status?(this.showUnionWin(),this.setToggleChecked(this.aliToggle,!1),this.setToggleChecked(this.unionToggle,!0),this.setToggleChecked(this.listToggle,!1)):2==this.curWin&&this.model.bankDatas.over_sea_bank_status?(this.showOverseasWin(),this.setToggleChecked(this.aliToggle,!1),this.setToggleChecked(this.unionToggle,!1),this.setToggleChecked(this.listToggle,!1)):(this.setToggleChecked(this.aliToggle,!1),this.setToggleChecked(this.unionToggle,!1),this.setToggleChecked(this.listToggle,!0)))},t.prototype.changeInfoNode=function(e){var t=1;e.node==this.aliToggle?t=1:e.node==this.unionToggle?t=0:e.node==this.listToggle&&(t=3),t!=this.curWin&&(Global.Audio.playBtnSound(),this.curWin=t,this.updateInfoNode())},t}(s.default);o.default=m,cc._RF.pop()},{"../../../core/ui/ViewBase":"ViewBase","../money/ui/extractCash/ExtractEvent":"ExtractEvent","../money/ui/extractCash/aliBandWin":"aliBandWin","../money/ui/extractCash/aliExtractCashWin":"aliExtractCashWin","../money/ui/extractCash/overseasBankWin":"overseasBankWin","../money/ui/extractCash/overseasExtractCashWin":"overseasExtractCashWin","../money/ui/extractCash/unionBandWin":"unionBandWin","../money/ui/extractCash/unionExtractCashWin":"unionExtractCashWin","../waiting/WaitingView":"WaitingView"}],ChannelInfo:[function(e,t,o){"use strict";cc._RF.push(t,"0982c7pMrRNCJb2MXn2BaTc","ChannelInfo"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function e(){this._inviteId=0}return Object.defineProperty(e.prototype,"openInstallChannel",{get:function(){return this._openInstallChannel},set:function(t){0!=t&&(this._openInstallChannel=t,Global.Setting.storage.set(e.OpenInstallChannelKey,t))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"inviteId",{get:function(){return this._inviteId},set:function(t){0!=t&&(this._inviteId=t,Global.Setting.storage.set(e.InviteIdKey,t))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clipboardChannel",{get:function(){return this._clipboardChannel},set:function(t){this._clipboardChannel=t,Global.Setting.storage.set(e.ClipboardChannelKey,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"infoChannel",{get:function(){return this._infoChannel},set:function(t){this._infoChannel=t,Global.Setting.storage.set(e.infoChannelKey,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playerChannel",{get:function(){return this._playerChannel},set:function(t){this._playerChannel=t,Global.Setting.storage.set(e.PlayerChannelKey,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playerInviteCode",{get:function(){return this._playerInviteCode},set:function(t){this._playerInviteCode=t,Global.Setting.storage.set(e.PlayerInviteCodelKey,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverAppInfoContent",{get:function(){return this._serverAppInfoContent},set:function(t){this._serverAppInfoContent=t,null!=t&&Global.Setting.storage.set(e.ServerAppInfoContentKey,JSON.stringify(t))},enumerable:!1,configurable:!0}),e.prototype.setup=function(){this._playerChannel=Global.Setting.storage.getNumber(e.PlayerChannelKey),this._playerInviteCode=Global.Setting.storage.getNumber(e.PlayerInviteCodelKey),this._inviteId=Global.Setting.storage.getNumber(e.InviteIdKey);var t=Global.Setting.storage.get(e.ServerAppInfoContentKey);this.parseServerInfo(t)},e.prototype.getRegistChannel=function(){return this.isChannelViald(this.openInstallChannel)?this.openInstallChannel:this.isChannelViald(this.infoChannel)?this.infoChannel:this.isChannelViald(this.clipboardChannel)?this.clipboardChannel:this.serverAppInfoContent&&this.isChannelViald(this.serverAppInfoContent.ch)?this.serverAppInfoContent.ch:this.isChannelViald(this.playerChannel)?this.playerChannel:this.isChannelViald(this.packageChannel)?this.packageChannel:this.isChannelViald(this.configChannel)?this.configChannel:0},e.prototype.getPlayerChannel=function(){return this.playerChannel},e.prototype.isChannelViald=function(e){return null!=e&&!isNaN(e)&&0!=e},e.prototype.getInviteId=function(){return this.isChannelViald(this.inviteId)?this.inviteId:this.serverAppInfoContent&&this.isChannelViald(this.serverAppInfoContent.ic)?this.serverAppInfoContent.ic:this.isChannelViald(this.playerInviteCode)?this.playerInviteCode:0},e.prototype.parseServerInfo=function(e){var t=null;try{t=JSON.parse(e)}catch(o){return}this.serverAppInfoContent=t},e.OpenInstallChannelKey="OpenInstallChannelKey",e.PlayerChannelKey="PlayerChannelKey",e.PlayerInviteCodelKey="PlayerInviteCodelKey",e.InviteIdKey="InviteIdKey",e.ClipboardChannelKey="ClipboardChannelKey",e.infoChannelKey="infoChannelKey",e.ServerAppInfoContentKey="ServerAppInfoContentKey",e}();o.default=i,cc._RF.pop()},{}],ChannelUtil:[function(e,t,o){"use strict";cc._RF.push(t,"4fc062Q5nhISZQEyg5IL3yQ","ChannelUtil"),Object.defineProperty(o,"__esModule",{value:!0}),o.ChannelUtil=void 0;var i=e("../../hallcommon/const/HallStorageKey"),n=function(){function e(){}return e.prototype.getUuid=function(){cc.sys.os==cc.sys.OS_IOS&&Global.NativeEvent.getInfoPlistParam("udid",function(e){Global.Setting.SystemInfo.udid=e.funcParam})},e.prototype.getEntryType=function(){cc.sys.os==cc.sys.OS_IOS&&Global.NativeEvent.getInfoPlistParam("entry",function(e){Global.Setting.SystemInfo.entry=e.funcParam})},e.prototype.getSignType=function(){cc.sys.os==cc.sys.OS_IOS&&Global.NativeEvent.getInfoPlistParam("sign_type",function(e){Global.Setting.SystemInfo.sign_type=e.funcParam})},e.prototype.initOpeninstall=function(){var e=this;this.isCliptextVaild()&&(Global.Setting.ChannelInfo.clipboardContent=Global.Setting.SystemInfo.clipboardText),Global.NativeEvent.getOpenInstallData(this.initOpenInstallData.bind(this)),cc.sys.os==cc.sys.OS_IOS&&Global.NativeEvent.getInfoPlistParam("ChannelInfo",function(t){Global.Setting.SystemInfo.ChannelInfo=t.funcParam,e.decodeChannelInfo()})},e.prototype.initOpenInstallData=function(e){console.log("\u8fd9\u662f\u5f53\u524dopeninstall\u7684\u4fe1\u606f",JSON.stringify(e));var t=Global.Setting.ChannelInfo.openInstallContent;if(null==t||""==t)if(Global.Setting.ChannelInfo.openInstallContent=e,null!=e&&""!=e){var o=null;if("string"==typeof e)try{o=JSON.parse(e),Logger.log("open install string : ",e)}catch(r){return Logger.error("load openInstall error",e),void this.checkCliptextAndAppInfo()}else{o=e;try{var i=JSON.stringify(o);Logger.log("open install tab : ",i)}catch(r){Logger.log("open install tab parse error")}}var n=!1;o.cid&&!isNaN(Number(o.cid))&&(n=!0,Global.Setting.ChannelInfo.openInstallChannel=Number(o.cid)),o.ch&&!isNaN(Number(o.ch))&&(n=!0,Global.Setting.ChannelInfo.openInstallChannel=Number(o.ch)),o.ic&&!isNaN(Number(o.ic))&&(n=!0,Global.Setting.ChannelInfo.inviteId=Number(o.ic)),Logger.log("initOpenInstallData  hasOpeninstallData::"+n),n?Global.Setting.ChannelInfo.sourceType=1:this.checkCliptextAndAppInfo()}else this.checkCliptextAndAppInfo()},e.prototype.PostInstallApp=function(){if(!Global.Setting.storage.getBool(i.default.PostOpenInstallFlag)){var e={};e.appid=Global.Setting.appId,e.edition=Global.HotUpdateManager.nativeVersions.hall,e.pack=Global.Setting.ChannelInfo.getRegistChannel(),e.uid=Number(Global.Setting.storage.get(i.default.Uid))||0,e.app_source=Global.Setting.SystemInfo.appConstUrl,e.device=Global.Toolkit.genDeviceInfo(),Global.HallServer.sendPostInstallApp(NetAppface.PostInstallApp,e,function(){Global.Setting.storage.setBool(i.default.PostOpenInstallFlag,!0)},null,!1)}},e.prototype.checkCliptextAndAppInfo=function(){this.decodeCliptext()},e.prototype.isCliptextVaild=function(){var e=Global.Setting.SystemInfo.clipboardText;if(!e)return!1;if(e.length>500)return!1;var t=e.split("|");if(t.length<4)return!1;if(t.length>10)return!1;if(t[2]!=Global.customApp.getAppID())return!1;var o=t[t.length-1],i=e.lastIndexOf("|"),n=e.substr(0,i);return Global.AESUtil.md5(n)==o},e.prototype.isChannelStrVaild=function(e){if(null==e||""==e||isNaN(Number(e)))return!1;var t=Number(e);return!!Global.Toolkit.isInteger(t)&&!(t<0||t>1e10)},e.prototype.decodeCliptext=function(){var e=Global.Setting.SystemInfo.clipboardText;if(null==e||""==e)return!1;if(!this.isCliptextVaild())return!1;var t=e.split("|");if(t.length<4)return Logger.error("\u526a\u8d34\u677f\u89e3\u6790\u5931\u8d25",e),!1;var o=t[0];this.isChannelStrVaild(o)&&(Global.Setting.ChannelInfo.clipboardChannel=Number(o));var i=t[1];return this.isChannelStrVaild(i)&&(Global.Setting.ChannelInfo.inviteId=Number(i)),Global.Setting.ChannelInfo.clipboardContent=e,Global.Setting.ChannelInfo.sourceType=2,!0},e.prototype.decodeChannelInfo=function(){var e=Global.Setting.SystemInfo.ChannelInfo;if(null==e||""==e)return!1;var t=e.split("|");if(t.length<4)return Logger.error("infoPlist",e),!1;var o=t[0];this.isChannelStrVaild(o)&&(Global.Setting.ChannelInfo.infoChannel=Number(o));var i=t[1];return this.isChannelStrVaild(i)&&(Global.Setting.ChannelInfo.inviteId=Number(i)),Global.Setting.ChannelInfo.clipboardContent=e,Global.Setting.ChannelInfo.sourceType=3,!0},e}();o.ChannelUtil=n,cc._RF.pop()},{"../../hallcommon/const/HallStorageKey":"HallStorageKey"}],ChatCenterNode:[function(e,t,o){"use strict";cc._RF.push(t,"b7417dBzEVNA7Yf1qtxc6o1","ChatCenterNode");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../../core/net/chat/List"),s=cc._decorator,l=s.ccclass,c=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.chatList=null,t.severHeadFrame=null,t.data=new Array,t.copyBtnActive=!1,t}return n(t,e),t.prototype.onLoad=function(){this.data=[];var e=cc.find("scrollView",this.node);e&&e.on("scrolling",this.onScrollViewScroll,this)},t.prototype.onScrollViewScroll=function(){this.copyBtnActive&&(this.copyBtnActive=!1,Global.ChatServer.chatCls.copyBtn.active=!1)},t.prototype.updateUI=function(e){e&&Global.ChatServer.sendClearMsg(),this.chatList.getComponent(cc.Widget).updateAlignment(),this.chatList.content.getComponent(cc.Widget).updateAlignment(),0!=Global.ChatServer.severCheckTime?(this.chatList.numItems=this.data.length,this.chatList.scrollTo(this.data.length-1)):Logger.error("\u8fd8\u672a\u83b7\u53d6\u5230\u6d88\u606f\u72b6\u6001\uff0c\u4e0d\u5237\u65b0")},t.prototype.onListRender=function(e,t){var o=this.data[t],i=o.content.text,n=e.getChildByName("myMessageItem"),r=e.getChildByName("serviceMessageItem"),a=null;if(o.userid!=Global.ChatServer.userid){n.active=!1,(a=r).active=!0;var s=cc.find("chat/headFrame",a).getComponent(cc.Sprite);if(Global.ChatServer.QuickData){var l=Global.ChatServer.QuickData.head_url||"1";Global.ResourceManager.loadAutoAtlas(s,"hall/texture/hall/rechargeCash/rechargeCash",l)}else this.severHeadFrame&&(s.spriteFrame=this.severHeadFrame);var c=cc.find("chat/rechargePanel",a).getComponent(cc.Sprite);if(c.node.active=!1,(d=cc.find("chat/msBg",a)).active=!1,1==o.msgint1&&"1000"==o.content.text)return Global.ResourceManager.loadAutoAtlas(c,"hall/texture/hall/chat/chat","03",null,!1),Global.UIHelper.addCommonClick(a,"chat/rechargePanel",this.showRechange,this,cc.Button.Transition.NONE).data={msg_id:o.msgid,pay_type:o.content.text},c.node.active=!0,d.active=!1,a.height=140,void(e.height=a.height);if(1==o.msgint1&&"1001"==o.content.text)return Global.ResourceManager.loadAutoAtlas(c,"hall/texture/hall/chat/chat","02",null,!1),Global.UIHelper.addCommonClick(a,"chat/rechargePanel",this.showRechange,this,cc.Button.Transition.NONE).data={msg_id:o.msgid,pay_type:o.content.text},c.node.active=!0,d.active=!1,a.height=140,void(e.height=a.height);if(1==o.msgint1&&"1002"==o.content.text)return Global.ResourceManager.loadAutoAtlas(c,"hall/texture/hall/chat/chat","01",null,!1),Global.UIHelper.addCommonClick(a,"chat/rechargePanel",this.showRechange,this,cc.Button.Transition.NONE).data={msg_id:o.msgid,pay_type:o.content.text},c.node.active=!0,d.active=!1,a.height=140,void(e.height=a.height)}else{r.active=!1,(a=n).active=!0,s=cc.find("chat/headFrame",a).getComponent(cc.Sprite);var p=Global.PlayerData;s.node&&null!=Global.Toolkit.getLocalHeadSf(p.headimg)&&(s.spriteFrame=Global.Toolkit.getLocalHeadSf(p.headimg))}if(a){a.active=!0;var h=cc.find("chat/msBg/RichText",a).getComponent(cc.RichText);if(h.maxWidth=0,cc.sys.os==cc.sys.OS_IOS){var u=Global.ChatServer.chatCls.replaceLocalImg(i);h.string=u.replace(/(\r\n)/g,"\n")}else h.string=Global.ChatServer.chatCls.replaceLocalImg(i);var d,f=cc.find("chat/msBg/photo",a).getComponent(cc.Sprite);(d=cc.find("chat/msBg",a)).active=!0;var g=o.content.url.split("."),m=g[g.length-1];if(cc.find("chat/msBg/copy",a).active=!1,o.content.url&&o.content.width&&o.content.height&&"mp4"!=m){h.string="",f.node.active=!0;var y=Global.ChatServer.getImageHttp(o.content.thumburl),b=Global.ChatServer.getImageHttp(o.content.url),v=2*o.content.width,_=2*o.content.height,S={url:b,imageWidth:v,imageHeight:_};_>400?(_=400,v=o.content.width/(o.content.height/400)):_<50&&(_=50,v=o.content.width/(o.content.height/50)),v>300?(v=300,_=o.content.height/(o.content.width/300)):v<50&&(v=300,_=o.content.height/(o.content.width/50)),Global.UIHelper.addCommonClick(a,"chat/msBg/photo",this.checkBigImage,this,cc.Button.Transition.NONE).data=S,this.loadSeverHeader(y,o.content.thumburl,function(e){f.spriteFrame=e}),f.node.height=_,f.node.width=v,d.width=v+30,d.height=_+20,a.height=d.height+30,e.height=a.height}else"mp4"==m&&(h.string="\u3010\u89c6\u9891\u53d1\u9001\u6210\u529f\u3011"),f.node.active=!1,h.node.getContentSize().width<430?d.width=h.node.getContentSize().width+30:(h.maxWidth=430,d.width=460),d.height=h.node.height+20,d.data=i,Global.UIHelper.addCommonClick(a,"chat/msBg",this.selectMsgg,this,cc.Button.Transition.NONE),a.height=d.height+30,e.height=a.height}},t.prototype.loadSeverHeader=function(e,t,o){cc.loader.load(Global.Toolkit.DealWithUrl(e),function(e,t){if(null==e){var i=new cc.SpriteFrame(t);o(i)}})},t.prototype.checkBigImage=function(e){e&&e.node&&e.node.data&&Global.UI.show("WndChatImage",e.node.data)},t.prototype.showRechange=function(e){e&&e.node&&e.node.data&&Global.HallServer.send(NetAppface.mod,"GetAitePayInfo",e.node.data,function(t){1==t.status?(t.pay_type=e.node.data.pay_type,Global.UI.show("WndBankRechange",t)):Global.UI.fastTip("\u5145\u503c\u5e10\u6237\u4fe1\u606f\u62c9\u53d6\u5931\u8d25")})},t.prototype.selectMsgg=function(e){if(e&&e.node&&e.node.data){this.copyBtnActive=!0;var t=cc.find("copy",e.node);t.setPosition(cc.v2(-e.node.width/2,t.y));var o=t.parent.convertToWorldSpaceAR(t.position);Global.Event.event(GlobalEvent.setCopypostion,o,e.node.data)}},r([c(a.default)],t.prototype,"chatList",void 0),r([l],t)}(cc.Component);o.default=p,cc._RF.pop()},{"../../../core/net/chat/List":"List"}],ChatServer:[function(e,t,o){"use strict";cc._RF.push(t,"70c021DUQxH9blO5UAeu0BO","ChatServer"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../../framework/net/socket/NetSocket"),n=e("../tcp/italkmsg_crc"),r=e("../tcp/italkmsg_pb"),a=e("../tcp/italk_msg_buffer"),s=e("../../../hallcommon/model/HallModel"),l=e("../../../hallcommon/model/ServicerModel"),c=e("./SystemTimeManager"),p=function(){function e(){this.isUserLogin=!1,this.severCheckTime=1,this.connectedCount=0,this.userid="",this.token="",this.serverType=l.CustomerEntranceType.HallService,this.aite_type=3,this.severUserid="",this.fid="",this.severName="\u827e\u7279\u5ba2\u670d",this.hurl="",this.turl="",this.dataArray=new Array,this.chatCls=null,this.systemTime=c.default.getInstance()}return e.prototype.connect=function(e){if(void 0===e&&(e=this.turl),null==this.chatCls&&(this.chatCls=Global.UI.getWindow("WndVipQuickPayChat")),0==this.connectedCount&&0==this.chatCls.isOpen&&Global.Event.event(GlobalEvent.SHOW_NET_WAITING,"connect_socket"),e="wss://"+e+"/mini/?userid="+this.userid+"&appid="+Global.Setting.appId+"&token="+this.token,this.socket){if(this.socket.status==i.NetStatus.connected)return Global.Event.event(GlobalEvent.HIDE_NET_WAITING,"connect_socket"),void this.sendLoginMsg();this.socket.connect()}else this.socket=new i.NetSocket(e),this.socket.init(this,this.onMessage,this.onOpen,this.onError,this.onClose,!0),this.socket.connect()},e.prototype.clear=function(){this.hearttime&&clearTimeout(this.hearttime),this.socket&&(this.severName="",this.chatCls.severHeadFrame=null,this.socket.cleanSocket(),this.socket.close(),this.socket=null)},e.prototype.userSetting=function(e,t){var o=this;void 0===t&&(t=""),this.connectedCount=0,this.QuickData=e;var i=3;if(e&&e.url&&4==e.open_type&&(t=e.url),t&&-1!=t.indexOf("pid=")){var n=t.split("=");i=4,this.serverType=Number(n[n.length-1])}this.clear(),this.aite_type=i;var r={aite_device:Global.Toolkit.genDeviceInfo(),aite_type:this.aite_type};Global.HallServer.send(NetAppface.mod,"LoginAite",r,function(e){e&&(o.setAiteData(e),o.showAiteChat(t))},function(){Global.UI.fastTip("\u83b7\u53d6\u5ba2\u670d\u4fe1\u606f\u5931\u8d25")})},e.prototype.otherSetting=function(e,t){var o=this;void 0===t&&(t=Global.Setting.aite_url),this.connectedCount=0;var i=Global.ModelManager.getModel("LoginModel").getLoginParam("",null,1),n=3;if(t&&-1!=t.indexOf("pid=")){var r=t.split("=");n=4,this.serverType=Number(r[r.length-1])}this.clear(),i.aite_device=Global.Toolkit.genDeviceInfo(),i.aite_type=n,Global.HallServer.sendAiteLogin("LoginAite",i,function(e){e&&(o.setAiteData(e),o.showAiteChat(t))},function(){Global.UI.fastTip("\u83b7\u53d6\u5ba2\u670d\u4fe1\u606f\u5931\u8d25")})},e.prototype.setAiteData=function(e){this.userid=e.userid,this.token=e.token,this.hurl=e.hurl,this.turl=e.turl},e.prototype.showAiteChat=function(e){void 0===e&&(e=null),this.connect(this.turl),this.isUserLogin=!0},e.prototype.onError=function(){Global.Event.event(GlobalEvent.HIDE_NET_WAITING,"connect_socket"),Logger.error("ChatServer socket onError")},e.prototype.onMessage=function(e){this._cacheData=new Uint8Array(e),this.datalength=this._cacheData.byteLength,this._cacheData=this._cacheData,this.recveMsg()},e.prototype.onClose=function(){Logger.error("ChatServer socket onClose"),Global.Event.event(GlobalEvent.HIDE_NET_WAITING,"connect_socket")},e.prototype.onOpen=function(){Global.Event.event(GlobalEvent.HIDE_NET_WAITING,"connect_socket"),this.sendLoginMsg()},e.prototype.sendLoginMsg=function(){var e=new r.italk.pb.ItalkLoginMsg;e.userid=this.userid,e.localid=this.serverType,e.msgType=r.italk.pb.ItalkTypeEnum.ITKServerCommon;var t=r.italk.pb.ItalkLoginMsg.encode(e).finish(),o=a.default.buildBufer(t,e.msgType);this.sendMsg(o)},e.prototype.sendHeartMsg=function(){console.log("\u5fc3\u8df3\u5305\u53d1\u9001\u4e2d"),this.systemTime.getLocalTime();var e=new r.italk.pb.ItalkHeartMsg;e.userid=this.userid,e.token=this.token,e.msgType=r.italk.pb.ItalkTypeEnum.ITKHEART;var t=r.italk.pb.ItalkHeartMsg.encode(e).finish(),o=a.default.buildBufer(t,e.msgType);this.sendMsg(o)},e.prototype.sendMsg=function(e){this.socketStatus()?this.socket.send(e):this.connect()},e.prototype.socketStatus=function(){return!(!this.socket||this.socket.status==i.NetStatus.close)},e.prototype.sendOfflineMsg=function(){var e=new r.italk.pb.ItalkChatMsg;e.userid=this.userid,e.fid=this.fid,e.timestamp=this.systemTime.getServerTime(),e.msgType=r.italk.pb.ItalkTypeEnum.ITKServerChat,e.chattype=r.italk.pb.ItalkChatTypeEnum.ITKGroupChat,e.bussinesstype=r.italk.pb.ItalkBusinessTypeEnum.ITKBussniesstype20,e.localid=0;var t=r.italk.pb.ItalkChatMsg.encode(e).finish(),o=a.default.buildBufer(t,e.msgType);this.sendMsg(o)},e.prototype.sendChatTextMsg=function(e,t){void 0===t&&(t="");var o=new r.italk.pb.ItalkChatMsg;o.userid=this.userid,o.fid=this.fid,o.uuid=this.uuid(),o.localid=this.systemTime.randomBit(),o.timestamp=this.systemTime.getServerTime(),o.bussinesstype=r.italk.pb.ItalkBusinessTypeEnum.ITKSMS,o.chattype=r.italk.pb.ItalkChatTypeEnum.ITKGroupChat;var i=new r.italk.pb.ItalkMsgContent;i.text=e,o.content=i,t.length>0&&(o.msgint1=1,o.msginfo1=t),o.msgType=r.italk.pb.ItalkTypeEnum.ITKServerChat;var n=r.italk.pb.ItalkChatMsg.encode(o).finish(),s=a.default.buildBufer(n,o.msgType);this.sendMsg(s)},e.prototype.sendChatImageMsg=function(e){var t=new r.italk.pb.ItalkChatMsg;t.userid=this.userid,t.fid=this.fid,t.uuid=this.uuid(),t.localid=this.systemTime.randomBit(),t.timestamp=this.systemTime.getServerTime(),t.bussinesstype=r.italk.pb.ItalkBusinessTypeEnum.ITKPic,t.chattype=r.italk.pb.ItalkChatTypeEnum.ITKGroupChat,t.content=e,t.msgType=r.italk.pb.ItalkTypeEnum.ITKServerChat;var o=r.italk.pb.ItalkChatMsg.encode(t).finish(),i=a.default.buildBufer(o,t.msgType);this.sendMsg(i)},e.prototype.sendChatMoveMsg=function(e){var t=new r.italk.pb.ItalkChatMsg;t.userid=this.userid,t.fid=this.fid,t.uuid=this.uuid(),t.localid=this.systemTime.randomBit(),t.timestamp=this.systemTime.getServerTime(),t.bussinesstype=r.italk.pb.ItalkBusinessTypeEnum.ITKShortVideo,t.chattype=r.italk.pb.ItalkChatTypeEnum.ITKGroupChat,t.content=e,t.msgType=r.italk.pb.ItalkTypeEnum.ITKServerChat;var o=r.italk.pb.ItalkChatMsg.encode(t).finish(),i=a.default.buildBufer(o,t.msgType);this.sendMsg(i)},e.prototype.sendClearMsg=function(){var e=new r.italk.pb.ItalkChatMsg;e.userid=this.userid,e.fid=this.fid,e.timestamp=this.systemTime.getServerTime(),e.localid=this.systemTime.randomBit(),e.bussinesstype=r.italk.pb.ItalkBusinessTypeEnum.ITKChatStatusChange,e.msgType=r.italk.pb.ItalkTypeEnum.ITKServerChat,e.chattype=r.italk.pb.ItalkChatTypeEnum.ITKGroupChat;var t=r.italk.pb.ItalkChatMsg.encode(e).finish(),o=a.default.buildBufer(t,e.msgType);this.sendMsg(o)},e.prototype.sendChangeMsg=function(){var e=new r.italk.pb.ItalkChatMsg;e.userid=this.userid,e.fid=this.fid,e.timestamp=this.systemTime.getServerTime(),e.localid=this.systemTime.randomBit(),e.bussinesstype=r.italk.pb.ItalkBusinessTypeEnum.ITKBussniesstype27,e.msgType=r.italk.pb.ItalkTypeEnum.ITKServerChat,e.chattype=r.italk.pb.ItalkChatTypeEnum.ITKGroupChat;var t=r.italk.pb.ItalkChatMsg.encode(e).finish(),o=a.default.buildBufer(t,e.msgType);this.sendMsg(o)},e.prototype.recveMsgChat=function(e){var t=r.italk.pb.ItalkChatMsg.decode(e);if(t.content)if(this.dataArray||(this.dataArray=new Array),t.bussinesstype==r.italk.pb.ItalkBusinessTypeEnum.ITKBussniesstype27)t.msglastindex>this.severCheckTime&&(this.severCheckTime=Number(t.msglastindex),this.chatCls.updateUI(this.severName,!1));else if(t.bussinesstype!=r.italk.pb.ItalkBusinessTypeEnum.ITKChatStatusChange){var o=Number(t.msgid.toString());t.msgid=o;var i=Number(t.timestamp.toString());t.timestamp=i;var n=Number(t.msgorder.toString());t.msgorder=n,this.dataArray.push(t)}else t.userid!=this.userid&&Number(t.content.text)/1e3/1e3>this.severCheckTime&&this.sendChangeMsg()},e.prototype.recveMsgChatecho=function(e){r.italk.pb.ItalkChatEchoMsg.decode(e)},e.prototype.recveMsgLoginEcho=function(e){var t=this;this.sendHeartTime(),this.severUserid="";var o=r.italk.pb.ItalkLoginEchoMsg.decode(e);this.severUserid=o.echoInfo.Info,this.fid=o.token,this.QuickData?this.severName=this.QuickData.name:this.severUserid.length>0&&this.getSeverInfo(),Global.Event.event(GlobalEvent.HIDE_NET_WAITING),0==this.connectedCount?Global.UI.showPortraitScreenNotice(function(){Global.NativeEvent.changeOrientationH(!1),Global.UI.adjuestCanvasScreenStretch(cc.Canvas.instance),Global.UI.show("WndVipQuickPayChat",t.severName)}):(1==this.chatCls.isOpen&&Global.UI.fastTip("\u804a\u5929\u7cfb\u7edf\u5df2\u91cd\u65b0\u8fde\u63a5"),Logger.error("ChatServer socket connectedCount= ",this.connectedCount)),this.connectedCount++},e.prototype.recveMsgHeartEcho=function(e){var t=r.italk.pb.ItalkHeartEchoMsg.decode(e);this.systemTime.setServerTime(t.heartCount)},e.prototype.sendHeartTime=function(){clearTimeout(this.hearttime);var e=this;this.hearttime=setTimeout(function(){e.sendHeartMsg(),e.sendHeartTime()},2e4)},e.prototype.recveMsg=function(){for(var e=this.datalength,t=this._cacheData,o=0,i=e;;){for(var a=new Uint8Array(8),s=0;s<8;s++)a[s]=t[s+o];var l=255&a[4]|(255&a[5])<<8,c=10240*a[2]+l+24,p=new Uint8Array(2),h=n.default.crc16(a);if(p[0]=255&h,p[1]=255&h>>8,!(2==a[0]&&p[0]==a[6]&&p[1]==a[7]&&i>=c)){for(e=0,s=0;s<i;s++)this._cacheData[e]=t[s+o],e++;this.datalength=e;break}var u=new Uint8Array(t.subarray(o+24,o+c));switch(i-=c,o+=c,a[1]){case r.italk.pb.ItalkTypeEnum.ITKLoginECHO:this.recveMsgLoginEcho(u);break;case r.italk.pb.ItalkTypeEnum.ITKChatECHO:this.recveMsgChatecho(u);break;case r.italk.pb.ItalkTypeEnum.ITKHeartECHO:this.recveMsgHeartEcho(u);break;case r.italk.pb.ItalkTypeEnum.ITKChat:case r.italk.pb.ItalkTypeEnum.ITKServerChat:this.recveMsgChat(u);break;default:Global.Event.event(GlobalEvent.FORCE_HIDE_WAITING)}}if(this.dataArray){for(this.dataArray.reverse(),s=0;s<this.dataArray.length;s++){var d=new r.italk.pb.ItalkChatMsg;(d=this.dataArray[s]).content&&this.sendKefuRedSpot(d)&&(d.bussinesstype!=r.italk.pb.ItalkBusinessTypeEnum.ITKRevokeMsg||d.content.desc?this.chatCls.data.push(d):this.removeChat(Number(d.content.text)))}this.dataArray.length>0&&(this.dataArray=null,this.chatCls.updateUI(this.severName))}},e.prototype.removeChat=function(e){this.chatCls.data=this.chatCls.data.filter(function(t){return t.msgid!=e})},e.prototype.sendKefuRedSpot=function(e){var t=e.fid.split("_")[0];return t=="g"+l.CustomerEntranceType.LoginService?Global.Event.event(GlobalEvent.ShowRedSpot,[!1,s.HallRedSpotType.LoginKefu]):t=="g"+l.CustomerEntranceType.HallService&&Global.Event.event(GlobalEvent.ShowRedSpot,[!1,s.HallRedSpotType.Kefu]),"g"+this.serverType==t},e.prototype.uuid=function(){for(var e=[],t=0;t<36;t++)e[t]="0123456789abcdef".substr(Math.floor(16*Math.random()),1);return e[14]="4",e[19]="0123456789abcdef".substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-",e.join("")},e.prototype.getSeverInfo=function(){var e=this,t={userid:this.severUserid},o="/mini/user?userid="+this.userid+"&token="+this.token;this.sendImageWithParam(o,"GetGameUserInfo",t,function(t){null!=t.head?(e.severName=t.name,t.head.length>0?e.chatCls.loadSeverHeader(e.getImageHttp(t.head),function(o){e.chatCls.severHeadFrame=o,e.chatCls.updateUI(t.name)}):e.chatCls.updateUI(t.name)):Global.UI.fastTip(t._errstr)},function(e){Global.UI.fastTip(e._errstr)})},e.prototype.sendImageWithParam=function(e,t,o,i,n){var r={_mod:"login",_func:t,_param:o},a=new XMLHttpRequest;a.open("POST","https://"+Global.ChatServer.hurl+e,!0),a.setRequestHeader("Content-type","application/json"),a.send(JSON.stringify(r)),a.onreadystatechange=function(){if(4===a.readyState&&200==a.status&&a.responseText){if(null!=(t=JSON.parse(a.responseText))._param)i(t._param);else if(n){var e=JSON.parse(a.responseText);n(e)}}else if(n&&a.responseText){var t=JSON.parse(a.responseText);n(t)}}},e.prototype.getImageHttp=function(e){var t=e.split("/"),o=t[t.length-1];return"https://"+this.hurl+"/login/ossfile?func=GetOssFile&name="+o+"&token="+this.token},e.prototype.ossAuthority=function(){var e={userid:this.severUserid};Global.ChatServer.sendImageWithParam("login/ossAuthority","GetSts",e,function(e){Logger.error("\u9274\u6743\u4fe1\u606f"),Logger.error(e)},function(e){Global.UI.fastTip(e._errstr)})},e}();o.default=p,cc._RF.pop()},{"../../../../framework/net/socket/NetSocket":"NetSocket","../../../hallcommon/model/HallModel":"HallModel","../../../hallcommon/model/ServicerModel":"ServicerModel","../tcp/italk_msg_buffer":"italk_msg_buffer","../tcp/italkmsg_crc":"italkmsg_crc","../tcp/italkmsg_pb":"italkmsg_pb","./SystemTimeManager":"SystemTimeManager"}],CheckHelper:[function(e,t,o){"use strict";cc._RF.push(t,"def91cNmc5E15ojlo4kL6KJ","CheckHelper"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function e(e){this.checkNum=0,this.MAXCHECKNUM=1e6,this.timeMap={},this.checkTimeList=[],this.lastNetCost=0,this.runTimer=!1,this.timeCount=0,this.type=e}return e.prototype.clear=function(){this.checkTimeList=[],this.checkNum=0,this.timeCount=0,this.runTimer=!1},e.prototype.getNetCost=function(){return this.lastNetCost},e.prototype.recordHeartbeat=function(e){void 0===e&&(e=null),this.timeMap[this.checkNum]={sendTime:Date.now(),liveTime:0},this.checkTimeList.push([this.checkNum,Date.now(),e]),this.runTimer=!0},e.prototype.refreshCostTime=function(e){if(null!=e&&""!=e){var t=e.split("_");if(!(t.length<=0||isNaN(Number(t[0])))){var o=Number(t[0]);this.runTimer=!1,this.timeCount=0;for(var i=0;i<this.checkTimeList.length;i++)if(this.checkTimeList[i][0]==o){var n=this.checkTimeList[i][1],r=this.checkTimeList[i][2],a=Date.now()-n;return this.checkTimeList.splice(0,i+1),void this.updateCostTime(a,!0,r)}}}},e.prototype.updateCostTime=function(e,t,o){void 0===t&&(t=!1),void 0===o&&(o=null),this.lastNetCost=e,1==this.type?Global.Event.event(GlobalEvent.RefreshHallNetCost,this.lastNetCost,t,o):Global.Event.event(GlobalEvent.RefreshGameNetCost,this.lastNetCost,t)},e.prototype.getCostTime=function(e){if(null==e||""==e)return 0;var t=e.split("_");if(t.length<=0||isNaN(Number(t[0])))return 0;for(var o=Number(t[0]),i=0;i<this.checkTimeList.length;i++)if(this.checkTimeList[i][0]==o){var n=this.checkTimeList[i][1],r=Date.now()-n;return this.checkTimeList.splice(0,i+1),r}return 0},e.prototype.updateChecker=function(){this.checkNum++,this.checkNum>this.MAXCHECKNUM&&(this.checkNum=0)},e.prototype.getChecker=function(){return this.checkNum},e.prototype.getNomalChecker=function(){return this.checkNum+"_"+this.getNowTimeStr()},e.prototype.getHeartBeatChecker=function(e){return e=e||0,this.getNomalChecker()+"_"+this.lastNetCost+"_"+e},e.prototype.getNowTimeStr=function(){var e=new Date;return(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-"+e.getDate()+" "+e.getHours()+":"+(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+":"+(e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds())},e.prototype.onUpdate=function(e){this.runTimer&&(this.timeCount+=e,this.timeCount<1||0==this.checkTimeList.length||(this.timeCount=0,this.updateCostTime(Date.now()-this.checkTimeList[0][1])))},e}();o.default=i,cc._RF.pop()},{}],ChooseHeadModule:[function(e,t,o){"use strict";cc._RF.push(t,"5e698e62z1F0YjVDHoqY9q7","ChooseHeadModule");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.viewClass="WndChooseHead",t.modelClass="",t.resPaths=[],t.prefabPaths=[""],t.children=[],t}return n(t,e),t}(e("../../../framework/module/ModuleBase").ModuleBase);o.default=r,cc._RF.pop()},{"../../../framework/module/ModuleBase":"ModuleBase"}],ChooseHeadView:[function(e,t,o){"use strict";cc._RF.push(t,"8aed6xAjUNNJLx1YPrqR12+","ChooseHeadView");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/ui/ViewBase"),a=e("./HeadLayerView"),s=e("./HeadFrameLayerView"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.curViewIndex=-1,t.yeqianRootNodeArr=[],t.yeqianArr=[],t}return n(t,e),t.prototype.initView=function(){for(var e=0;e<2;e++){var t=this.addCommonClick("yeqian/yeqian_"+e,this.subViewBtnFunc,this);this.yeqianRootNodeArr[e]=t,this.yeqianArr[2*e]=cc.find("noSelected",t),this.yeqianArr[2*e+1]=cc.find("selected",t)}this.headLayerView=this.addView("HeadLayerView",this.getChild("content/content_0"),a.default),this.headFrameLayerView=this.addView("HeadFrameLayerView",this.getChild("content/content_1"),s.default),this.yeqianRootNodeArr[1].active=!Global.Setting.vipDisable},t.prototype.subViewBtnFunc=function(e){var t=e.node.name.split("_"),o=t[t.length-1],i=parseInt(o);this.changeView(i)},t.prototype.UpdateUI=function(){for(var e=0;e<2;e++){var t=e==this.curViewIndex;this.yeqianArr[2*e+1].active=t}},t.prototype.changeView=function(e){this.curViewIndex!=e&&(this.curViewIndex=e,this.headLayerView.subViewState=0==this.curViewIndex,this.headFrameLayerView.subViewState=1==this.curViewIndex,this.UpdateUI())},t.prototype.onSubViewShow=function(){this.changeView(0)},t.prototype.onSubViewHide=function(){this.curViewIndex=-1},t}(r.default);o.default=l,cc._RF.pop()},{"../../../core/ui/ViewBase":"ViewBase","./HeadFrameLayerView":"HeadFrameLayerView","./HeadLayerView":"HeadLayerView"}],CipherParamsInterface:[function(e,t,o){"use strict";cc._RF.push(t,"dfba0jIyUtI0Iknh6RouGQ2","CipherParamsInterface"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],CipherParams:[function(e,t,o){"use strict";cc._RF.push(t,"56f5ceaaPlDP4tts+9p/473","CipherParams");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.CipherParams=void 0;var r=function(e){function t(t){var o=e.call(this)||this;return o.ciphertext=t.ciphertext,o.key=t.key,o.iv=t.iv,o.salt=t.salt,o.algorithm=t.algorithm,o.mode=t.mode,o.padding=t.padding,o.blockSize=t.blockSize,o.formatter=t.formatter,o}return n(t,e),t.prototype.extend=function(e){return void 0!==e.ciphertext&&(this.ciphertext=e.ciphertext),void 0!==e.key&&(this.key=e.key),void 0!==e.iv&&(this.iv=e.iv),void 0!==e.salt&&(this.salt=e.salt),void 0!==e.algorithm&&(this.algorithm=e.algorithm),void 0!==e.mode&&(this.mode=e.mode),void 0!==e.padding&&(this.padding=e.padding),void 0!==e.blockSize&&(this.blockSize=e.blockSize),void 0!==e.formatter&&(this.formatter=e.formatter),this},t.prototype.toString=function(e){if(e)return e.stringify(this);if(this.formatter)return this.formatter.stringify(this);throw new Error("cipher needs a formatter to be able to convert the result into a string")},t}(e("./Base").Base);o.CipherParams=r,cc._RF.pop()},{"./Base":"Base"}],Cipher:[function(e,t,o){"use strict";cc._RF.push(t,"d46d8QUK4hKcJN1iqRsEkkc","Cipher");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Cipher=void 0;var r=e("./BufferedBlockAlgorithm"),a=e("./SerializableCipher"),s=e("./PasswordBasedCipher"),l=function(e){function t(t,o,i){var n=e.call(this,Object.assign({blockSize:1},i))||this;return n._xformMode=t,n._key=o,n.reset(),n}return n(t,e),t.createEncryptor=function(e,t){return new this(this._ENC_XFORM_MODE,e,t)},t.createDecryptor=function(e,t){return new this(this._DEC_XFORM_MODE,e,t)},t._createHelper=function(e){return{encrypt:function(t,o,i){return"string"==typeof o?s.PasswordBasedCipher.encrypt(e,t,o,i):a.SerializableCipher.encrypt(e,t,o,i)},decrypt:function(t,o,i){return"string"==typeof o?s.PasswordBasedCipher.decrypt(e,t,o,i):a.SerializableCipher.decrypt(e,t,o,i)}}},t.prototype.process=function(e){return this._append(e),this._process()},t.prototype.finalize=function(e){return e&&this._append(e),this._doFinalize()},t._ENC_XFORM_MODE=1,t._DEC_XFORM_MODE=2,t.keySize=4,t.ivSize=4,t}(r.BufferedBlockAlgorithm);o.Cipher=l,cc._RF.pop()},{"./BufferedBlockAlgorithm":"BufferedBlockAlgorithm","./PasswordBasedCipher":"PasswordBasedCipher","./SerializableCipher":"SerializableCipher"}],CircleScrollMenuComp:[function(e,t,o){"use strict";cc._RF.push(t,"41c34jEgVNHp4S3SJj/mGCz","CircleScrollMenuComp");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,l=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.showCount=0,t.moveTime=.2,t.slideDev=5,t.itemList=[],t.itemRawPosArr=[],t.isRolling=!1,t.dataList=[],t.showIndex=0,t.realIndex=0,t.curSelectIndex=0,t.isRollEnable=!1,t}return n(t,e),Object.defineProperty(t.prototype,"totalCount",{get:function(){return this.showCount+2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"centerCount",{get:function(){return Math.floor(this.showCount/2)},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){var e=cc.find("mask/touch",this.node);e.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),e.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),e._touchListener.setSwallowTouches(!1),this.dotNode=cc.find("mask/circleDot",this.node);for(var t=0;t<this.totalCount;t++){var o=cc.find("item"+t,this.dotNode);if(o){var i=Global.UIHelper.safeGetComponent(o,"",p);i.index=t,i.setCallback(this.onMenuItemClick,this),i.node.active=!1,i.setCheck(!1),this.itemList.push(i),this.itemRawPosArr.push(o.position)}}this.itemList.length,this.totalCount},t.prototype.onTouchStart=function(e){this.touchStartPos=e.getLocation()},t.prototype.onTouchEnd=function(e){var t=this;if(this.isRollEnable&&!this.isRolling){var o=e.getLocation().sub(this.touchStartPos),i=o.mag(),n=Math.pow(this.slideDev,2);o.y>0?i>=n&&this.rollForward(this.moveTime,1,!0,function(){t.itemList[t.curSelectIndex].setCheck(!1),t.curSelectIndex=t.getNextIndex(t.showIndex,t.centerCount),t.onMenuSelect(t.curSelectIndex)}):i>=n&&this.rollBack(this.moveTime,1,!0,function(){t.itemList[t.curSelectIndex].setCheck(!1),t.curSelectIndex=t.getNextIndex(t.showIndex,t.centerCount),t.onMenuSelect(t.curSelectIndex)})}},t.prototype.onMenuItemClick=function(e){var t=this;this.isRolling||(this.isRollEnable?this.autoRollToItem(e,function(){t.itemList[t.curSelectIndex].setCheck(!1),t.curSelectIndex=t.getNextIndex(t.showIndex,t.centerCount),t.onMenuSelect(t.curSelectIndex)}):this.switchItemWithoutRoll(e))},t.prototype.onMenuSelect=function(e){var t=this.itemList[e];t&&(t.setCheck(!0),this.menuSelectTarget&&this.menuSelectCallback&&this.menuSelectCallback.call(this.menuSelectTarget,t.key))},t.prototype.setMenuItemCallback=function(e,t){this.menuSelectCallback=e,this.menuSelectTarget=t},t.prototype.initData=function(e){if(void 0===e&&(e=[]),e.length<=0)return this.node.active=!1,Global.UI.fastTip("\u83dc\u5355\u9879\u5217\u8868\u4e3a\u7a7a: "+e.length);this.dataList=e||[],this.isRollEnable=e.length>=this.showCount;for(var t=0;t<this.itemList.length;t++){var o=this.itemList[t];e[t]?(o.node.active=!0,o.setData(e[t])):o.node.active=this.isRollEnable}},t.prototype.setDefaultSelect=function(e){this.realIndex=e>=0?this.getPrevRealIndex(e,this.centerCount):0;for(var t=0;t<this.showCount;t++){var o=this.getNextIndex(this.showIndex,t),i=this.itemList[o],n=this.getNextRealIndex(this.realIndex,t);i.setData(this.dataList[n])}var r=this.getNextIndex(this.showIndex,this.centerCount);this.onMenuSelect(r),this.curSelectIndex=r},t.prototype.autoRollToItem=function(e,t){var o=e-this.curSelectIndex,i=Math.abs(o);i>this.centerCount&&(o>0?o-=this.totalCount:o+=this.totalCount,i=Math.abs(o)),0!=i&&(this.isRolling=!0,o>0?this.rollForward(this.moveTime,i,!0,t):this.rollBack(this.moveTime,i,!0,t))},t.prototype.switchItemWithoutRoll=function(e){var t=e-this.curSelectIndex,o=Math.abs(t);if(0!=o){for(var i=this.dataList.length,n=this.realIndex,r=0;r<this.itemList.length;r++){var a,s=this.itemList[r],l=this.getNextRealIndex(this.realIndex,r);if(a=t>0?this.getNextRealIndex(l,o):this.getPrevRealIndex(l,o),this.dataList[a]&&(s.setData(this.dataList[a]),0==r&&(n=a)),r>=i-1)break}this.realIndex=n,this.onMenuSelect(this.curSelectIndex)}},t.prototype.rollBack=function(e,t,o,i){var n=this;void 0===t&&(t=1),void 0===o&&(o=!0),Logger.error("rollBack \u5411\u4e0b\u8f6c"),this.setHideItemDataBack();for(var r=cc.game.getFrameRate(),a=Math.floor(r*e/t),s=0;s<this.itemList.length;s++){var l=this.itemList[s],c=this.getNextIndex(s+this.totalCount-this.showIndex,t);if(o){for(var p=[],h=cc.v2(l.node.position),u=1;u<=t;u++){var d=this.getNextIndex(s+this.totalCount-this.showIndex,u),f=cc.v2(this.itemRawPosArr[d]),g=this.getLerpPosArr(h,f,a);h=f,p=p.concat(g)}l.startRun(p)}else l.node.setPosition(this.itemRawPosArr[c])}o?(this.isRolling=!0,this.scheduleOnce(function(){cc.isValid(n.node)&&(n.isRolling=!1,n.realIndex=n.getPrevRealIndex(n.realIndex,t),n.showIndex=n.getPrevIndex(n.showIndex,t),i&&i())},e+.05)):(this.realIndex=this.getPrevRealIndex(this.realIndex,t),this.showIndex=this.getPrevIndex(this.showIndex,t),i&&i())},t.prototype.rollForward=function(e,t,o,i){var n=this;void 0===t&&(t=1),void 0===o&&(o=!0),Logger.error("rollForward \u5411\u4e0a\u8f6c"),this.setHideItemDataForward();for(var r=cc.game.getFrameRate(),a=Math.floor(r*e/t),s=0;s<this.itemList.length;s++){var l=this.itemList[s],c=this.getPrevIndex(s+this.totalCount-this.showIndex,t);if(o){for(var p=[],h=cc.v2(l.node.position),u=1;u<=t;u++){var d=this.getPrevIndex(s+this.totalCount-this.showIndex,u),f=cc.v2(this.itemRawPosArr[d]),g=this.getLerpPosArr(h,f,a);h=f,p=p.concat(g)}l.startRun(p)}else l.node.setPosition(this.itemRawPosArr[c])}o?(this.isRolling=!0,this.scheduleOnce(function(){cc.isValid(n.node)&&(n.isRolling=!1,n.realIndex=n.getNextRealIndex(n.realIndex,t),n.showIndex=n.getNextIndex(n.showIndex,t),i&&i())},e+.05)):(this.realIndex=this.getNextRealIndex(this.realIndex,t),this.showIndex=this.getNextIndex(this.showIndex,t),i&&i())},t.prototype.setHideItemDataForward=function(){var e=this.showCount,t=this.getNextIndex(this.showIndex,e),o=this.getNextIndex(this.showIndex,e+1),i=this.getNextRealIndex(this.realIndex,e),n=this.getNextRealIndex(this.realIndex,e+1);this.itemList[t].setData(this.dataList[i]),this.itemList[o].setData(this.dataList[n])},t.prototype.setHideItemDataBack=function(){var e=this.showCount,t=this.getNextIndex(this.showIndex,e),o=this.getNextIndex(this.showIndex,e+1),i=this.getPrevRealIndex(this.realIndex,2),n=this.getPrevRealIndex(this.realIndex,1);this.itemList[t].setData(this.dataList[i]),this.itemList[o].setData(this.dataList[n])},t.prototype.getLerpPosArr=function(e,t,o){for(var i=[],n=1;n<=o;n++)i.push(e.lerp(t,n/o));return i},t.prototype.getNextIndex=function(e,t){return void 0===t&&(t=1),(e+t)%this.totalCount},t.prototype.getPrevIndex=function(e,t){return void 0===t&&(t=1),(e-t+this.totalCount)%this.totalCount},t.prototype.getNextRealIndex=function(e,t){return void 0===t&&(t=1),(e+t)%this.dataList.length},t.prototype.getPrevRealIndex=function(e,t){return void 0===t&&(t=1),(e-t+this.dataList.length)%this.dataList.length},t.prototype.onDisable=function(){this.unscheduleAllCallbacks()},r([l({tooltip:"\u663e\u793a\u53ef\u89c1\u7684\u6700\u5927item\u6570\u91cf, \u5e76\u4e14\u9884\u8bbe\u4e0a\u8981\u591a\u4e24\u4e2a\u8282\u70b9\u7528\u4e8e\u52a8\u753b"})],t.prototype,"showCount",void 0),r([s],t)}(cc.Component);o.default=c;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._key=0,t._index=0,t.runEnable=!1,t.runPosArr=[],t.frameCount=0,t}return n(t,e),Object.defineProperty(t.prototype,"key",{get:function(){return this._key},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){this.uncheckNode=cc.find("uncheckNode",this.node),this.uncheckIconSp=cc.find("iconSp",this.uncheckNode).getComponent(cc.Sprite),this.uncheckTextSp=cc.find("textSp",this.uncheckNode).getComponent(cc.Sprite),this.checkNode=cc.find("checkNode",this.node),this.checkIconSp=cc.find("iconSp",this.checkNode).getComponent(cc.Sprite),this.checkTextSp=cc.find("textSp",this.checkNode).getComponent(cc.Sprite),Global.UIHelper.addCommonClick(this.node,"",this.onItemClick,this)},t.prototype.setData=function(e){this._key=e.key,Global.ResourceManager.loadBundleAutoAtlas("resources",this.uncheckIconSp,"hall/images/circle/atlas_circle",e.icon),Global.ResourceManager.loadBundleAutoAtlas("resources",this.uncheckTextSp,"hall/images/circle/atlas_circle",e.ucText),Global.ResourceManager.loadBundleAutoAtlas("resources",this.checkIconSp,"hall/images/circle/atlas_circle",e.icon),Global.ResourceManager.loadBundleAutoAtlas("resources",this.checkTextSp,"hall/images/circle/atlas_circle",e.cText),e.cText||(this.checkTextSp.node.active=!1),e.ucText||(this.uncheckTextSp.node.active=!1)},Object.defineProperty(t.prototype,"index",{get:function(){return this._index},set:function(e){this._index=e},enumerable:!1,configurable:!0}),t.prototype.setCallback=function(e,t){this.callback=e,this.target=t},t.prototype.onItemClick=function(){this.callback&&this.target&&this.callback.call(this.target,this.index,this.key)},t.prototype.setCheck=function(e){this.uncheckNode.active=!e,this.checkNode.active=e},t.prototype.startRun=function(e){e&&e.length>0&&(this.frameCount=0,this.runPosArr=e,this.runEnable=!0)},t.prototype.update=function(){if(this.runEnable&&!(this.runPosArr.length<=0)){var e=this.runPosArr[this.frameCount];e&&(this.node.setPosition(e),this.frameCount+=1,this.frameCount==this.runPosArr.length&&(this.runEnable=!1,this.runPosArr=[]))}},t}(cc.Component);cc._RF.pop()},{}],CodeTipView:[function(e,t,o){"use strict";cc._RF.push(t,"028a3xlLWJN7ZlE5R7qsI+P","CodeTipView");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,l=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.circle=null,t.tips=null,t.isTounch=!0,t}var o;return n(t,e),o=t,t.prototype.onLoad=function(){o.instance=this,Global.UIHelper.addCommonClick(this.node,"bgNode",this.callback,this),this.action=cc.rotateTo(5,1800),this.circle.runAction(this.action)},t.prototype.onDestroy=function(){o.instance=null},t.prototype.callback=function(){this.isTounch&&(this.isTounch=!1,this.start(),this.tips.string="\u6b63\u5728\u83b7\u53d6",this.SpreadModel=Global.ModelManager.getModel("SpreadModel"),this.SpreadModel.loadShortUrl(Global.Setting.Urls.inviteUrl))},t.prototype.start=function(){this.circle.runAction(this.action),this.node.active=!0},t.prototype.success=function(){this.isTounch=!0,this.circle.stopAction(this.action),this.node.active=!1},t.prototype.error=function(){this.isTounch=!0,this.node.active=!0,this.tips.string="\u83b7\u53d6\u5931\u8d25,\u8bf7\u91cd\u8bd5",this.circle.stopAction(this.action)},t.instance=null,r([l(cc.Node)],t.prototype,"circle",void 0),r([l(cc.Label)],t.prototype,"tips",void 0),o=r([s],t)}(cc.Component);o.default=c,cc._RF.pop()},{}],CommandDefine:[function(e,t,o){"use strict";cc._RF.push(t,"48058r/wTREcIsqwbTq8Lm5","CommandDefine"),Object.defineProperty(o,"__esModule",{value:!0});o.default=function(){this.HeartBeat="*he1*",this.GameCfg="*a*",this.Session="*sss*",this.Enter="*en1*",this.Leave="*lee*",this.WaitMatch="wait_match"},cc._RF.pop()},{}],CommisionItem:[function(e,t,o){"use strict";cc._RF.push(t,"2f05c+Js99OkJIpCFBg667/","CommisionItem");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../../hallcommon/model/CommisionModel"),s=cc._decorator,l=s.ccclass,c=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.btnArrary=[],t.awardLable=null,t.progress=null,t.commisionName=null,t.commisionDescribe=null,t.progressLabel=null,t.getAwardBtn=null,t.data=null,t.model=null,t.global_task_type=-1,t}return n(t,e),t.prototype.onLoad=function(){Global.UIHelper.addCommonClick(this.node,"getAward",this.onGetAwardBtnClicked,this),this.model=Global.ModelManager.getModel("CommisionModel"),this.model.on(a.default.GetCommisionAward,this,this.onGetAward)},t.prototype.onGetAward=function(e){e&&e.task_reward&&e.global_task_type==this.global_task_type&&this.data.task_id==e.task_id&&(Global.UI.show("WndRebateGet",e.task_reward),this.data.task_status=2,this.UpdateUI(this.data,this.global_task_type))},t.prototype.onDestroy=function(){this.model.off(a.default.GetCommisionAward,this,this.onGetAward)},t.prototype.onGetAwardBtnClicked=function(){this.data&&this.model.reqGetCommisionAward(this.global_task_type,this.data.task_id)},t.prototype.UpdateUI=function(e,t){if(e&&cc.isValid(this.node)){if(this.data=e,this.global_task_type=t,this.btnArrary&&(this.btnArrary[0].active=0==e.task_status,this.btnArrary[1].active=1==e.task_status,this.btnArrary[2].active=2==e.task_status),this.getAwardBtn){var o=this.getAwardBtn.getComponent(cc.Button);o&&(o.interactable=1==e.task_status)}this.awardLable&&(this.awardLable.string=Global.Toolkit.formatPointStr(e.task_reward)),this.progress&&(this.progress.progress=0!=e.task_num?e.task_self_num/e.task_num:0),this.progressLabel&&(this.progressLabel.string=cc.js.formatStr("%s/%s",e.task_self_num,e.task_num)),this.commisionName&&(this.commisionName.string=e.name),this.commisionDescribe&&(this.commisionDescribe.string=e.task_desc)}},r([c([cc.Node])],t.prototype,"btnArrary",void 0),r([c(cc.Label)],t.prototype,"awardLable",void 0),r([c(cc.ProgressBar)],t.prototype,"progress",void 0),r([c(cc.Label)],t.prototype,"commisionName",void 0),r([c(cc.Label)],t.prototype,"commisionDescribe",void 0),r([c(cc.Label)],t.prototype,"progressLabel",void 0),r([c(cc.Node)],t.prototype,"getAwardBtn",void 0),r([l],t)}(cc.Component);o.default=p,cc._RF.pop()},{"../../../hallcommon/model/CommisionModel":"CommisionModel"}],CommisionLeftItem:[function(e,t,o){"use strict";cc._RF.push(t,"ebeabdRIjpOWbl+F0P5eV8T","CommisionLeftItem");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,l=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.BackgroundTxt=null,t.CheckTxt=null,t.CheckSprite=null,t.UnCheckSprite=null,t.toggle=null,t.Unread=null,t.maxCharCount=6,t.atlasPath="hall/texture/CommisionIcon/CommisionIcon",t}return n(t,e),t.prototype.onLoad=function(){this.bgFontSize=this.BackgroundTxt.fontSize,this.checkFontSize=this.CheckTxt.fontSize},t.prototype.close=function(){this.node.active=!1},t.prototype.getData=function(){return this.data},t.prototype.onInit=function(e){this.data=e,this.initView()},t.prototype.initView=function(){this.BackgroundTxt.string=Global.Toolkit.removeEmoji(this.data.name),this.CheckTxt.string=Global.Toolkit.removeEmoji(this.data.name),this.SetUnReadActiveState(this.data.task_num>0),this.toggle.isChecked=!1,this.toggle.uncheck()},t.prototype.SetUnReadActiveState=function(e){this.Unread.active=e},t.prototype.adjustLabelLength=function(e,t){if(null!=e){var o=t*this.maxCharCount;e.node.width<=o||(e.fontSize=Math.floor(o/e.node.width*t))}},t.prototype.SetBackgroundChecked=function(e){this.CheckSprite.node.active=e,this.UnCheckSprite.node.active=!e},t.prototype.SetToggleChecked=function(){this.toggle.isChecked=!0,this.toggle.check()},t.prototype.changeBtnSprite=function(e,t,o){Global.ResourceManager.loadAutoAtlas(e,this.atlasPath,"btn_"+o+"_b",null,!1),Global.ResourceManager.loadAutoAtlas(t,this.atlasPath,"btn_"+o+"_t",null,!1)},r([l(cc.Label)],t.prototype,"BackgroundTxt",void 0),r([l(cc.Label)],t.prototype,"CheckTxt",void 0),r([l(cc.Sprite)],t.prototype,"CheckSprite",void 0),r([l(cc.Sprite)],t.prototype,"UnCheckSprite",void 0),r([l(cc.Toggle)],t.prototype,"toggle",void 0),r([l(cc.Node)],t.prototype,"Unread",void 0),r([s],t)}(cc.Component);o.default=c,cc._RF.pop()},{}],CommisionModel:[function(e,t,o){"use strict";cc._RF.push(t,"a6464kE6dJAgqAuTLPN6af8","CommisionModel");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../framework/model/ModelBase"),a=e("../../core/net/hall/NetEvent"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._redFlag=!1,t.commisionList=null,t.commisionInfoTable={},t}return n(t,e),Object.defineProperty(t.prototype,"Name",{get:function(){return"CommisionModel"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"redSwitch",{get:function(){return this._redFlag},set:function(e){this._redFlag=e},enumerable:!1,configurable:!0}),t.prototype.onInit=function(){},t.prototype.reqGetCommisionAllList=function(){var e=this;Global.HallServer.send(a.NetAppface.mod,a.NetAppface.GetTaskActivityAllList,{},function(o){e.commisionList=o.data,e.event(t.UpdateleftView,o.data)},this.CommisionModelErrorFunc.bind(this),!1)},t.prototype.reqGetCommisionInfo=function(e){var o=this,i={};i.global_task_type=e,Global.HallServer.send(a.NetAppface.mod,a.NetAppface.GetMyTaskActivityInfo,i,function(i){o.commisionInfoTable[e]=i,o.event(t.UpdateScrollview,i)},this.CommisionModelErrorFunc.bind(this),!1)},t.prototype.reqGetCommisionAward=function(e,o){var i=this,n={};n.task_id=o,Global.HallServer.send(a.NetAppface.mod,a.NetAppface.GetMyTaskActivityReward,n,function(n){i.updataCommisionData(e,o),i.event(t.GetCommisionAward,{task_reward:n.task_reward,task_id:o,global_task_type:e})},this.CommisionModelErrorFunc.bind(this),!1)},t.prototype.CommisionModelErrorFunc=function(e){null!=e._errstr&&Global.UI.fastTip(e._errstr+"")},t.prototype.GetCommisionInfoByType=function(e){return this.commisionInfoTable.hasOwnProperty(e)?this.commisionInfoTable[e]:null},t.prototype.checkIsAnyCommisionCanGet=function(e){if(!this.commisionInfoTable.hasOwnProperty(e))return!1;for(var t=this.commisionInfoTable[e].data,o=0;o<t.length;o++)if(1==t[o].task_status)return!0;return!1},t.prototype.updataCommisionData=function(e,t){if(this.commisionInfoTable.hasOwnProperty(e)){for(var o=!1,i=this.commisionInfoTable[e].data,n=0;n<i.length;n++){var r=i[n];if(r.task_id==t){o=!0,r.task_status=2;break}}if(o){var a=this.commisionList.find(function(t){return t.global_task_type==e});null!=a&&(a.task_num-=1)}}},t.prototype.checkShowHallRedSpot=function(){if(!this.commisionList)return this.redSwitch=!1,!1;for(var e=0;e<this.commisionList.length;e++)if(this.commisionList[e].task_num>0)return this.redSwitch=!0,!0;return this.redSwitch=!1,!1},t.prototype.resetData=function(){this.commisionList=null,this.commisionInfoTable={}},t.UpdateScrollview="UpdateScrollview",t.UpdateleftView="UpdateleftView",t.GetCommisionAward="GetCommisionAward",t}(r.default);o.default=s,cc._RF.pop()},{"../../../framework/model/ModelBase":"ModelBase","../../core/net/hall/NetEvent":"NetEvent"}],CommisionModule:[function(e,t,o){"use strict";cc._RF.push(t,"ec9bdDKD+ZJ4KMDyX8gJNdD","CommisionModule");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.viewClass="WndCommision",t.modelClass="CommisionModel",t.resPaths=[],t.prefabPaths=["hall/prefabs/ui/Commision/CommisionUI"],t}return n(t,e),t}(e("../../../framework/module/ModuleBase").ModuleBase);o.default=r,cc._RF.pop()},{"../../../framework/module/ModuleBase":"ModuleBase"}],CommonModule:[function(e,t,o){"use strict";cc._RF.push(t,"67bc17Nm/5M+IQW8OblNHKA","CommonModule");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.viewClass="WndNetReconnect",t.modelClass="WaitingModel",t.resPaths=[],t.prefabPaths=["hall/prefabs/ui/NetReconnect"],t.children=[{viewClass:"WndNetWaiting",modelClass:"",resPaths:[],prefabPaths:["hall/prefabs/ui/NetWaitUI"],children:[]},{viewClass:"WndScreenPortraitNotice",modelClass:"",resPaths:[],prefabPaths:[""],children:[]},{viewClass:"WndMessageBox",modelClass:"",resPaths:[],prefabPaths:[""],children:[]},{viewClass:"WndRebateGet",modelClass:"",resPaths:[],prefabPaths:[""],children:[]},{viewClass:"WndRedEnvelope",modelClass:"",resPaths:[],prefabPaths:[""],children:[]},{viewClass:"WndHallRedEnvelope",modelClass:"",resPaths:[],prefabPaths:[""],children:[]},{viewClass:"WndDailyRedEnvelope",modelClass:"",resPaths:[],prefabPaths:[""],children:[]},{viewClass:"WndGetRedEnvelope",modelClass:"",resPaths:[],prefabPaths:[""],children:[]},{viewClass:"WndDownLoadApkUI",modelClass:"",resPaths:[],prefabPaths:[""],children:[]},{viewClass:"WndGameMaintainUI",modelClass:"",resPaths:[],prefabPaths:[""],children:[]},{viewClass:"WndGameRestoreUI",modelClass:"",resPaths:[],prefabPaths:[""],children:[]},{viewClass:"WndGameUpdateUI",modelClass:"",resPaths:[],prefabPaths:[""],children:[]},{viewClass:"WndGameUpgrade",modelClass:"",resPaths:[],prefabPaths:[""],children:[]},{viewClass:"WndDailyGiftMoneyUI",modelClass:"",resPaths:[],prefabPaths:[""],children:[]},{viewClass:"WndGiftMoneyListUI",modelClass:"",resPaths:[],prefabPaths:[""],children:[]}],t}return n(t,e),t}(e("../../../framework/module/ModuleBase").ModuleBase);o.default=r,cc._RF.pop()},{"../../../framework/module/ModuleBase":"ModuleBase"}],ComponentProvider:[function(e,t,o){"use strict";cc._RF.push(t,"4daa9buNeVF+7qA/3ObyDD2","ComponentProvider"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../game/GameTimeChecker"),n=function(){function e(e){this.hasInit=!1,this.callLaterList=[],this.frameEndList=[],this.name=e,cc.director.on(cc.Director.EVENT_AFTER_UPDATE,this.onFrameEnd,this)}return e.prototype.setup=function(e,t){this.updateFunc=e,this.lateUpdateFunc=t},e.prototype.initDriver=function(){this.clear();var e=cc.find("Canvas");null!=e?(this.driverNode=e.getChildByName(this.name),null==this.driverNode&&(this.driverNode=new cc.Node(this.name),e.addChild(this.driverNode)),this.driverComponent=this.driverNode.getComponent("DriverComponent"),null==this.driverComponent&&(this.driverComponent=this.driverNode.addComponent("DriverComponent")),this.driverComponent.onLoadFunc=this.onLoad.bind(this),this.driverComponent.updateFunc=this.onUpdate.bind(this),this.driverComponent.lateUpdateFunc=this.onLateUpdate.bind(this),this.hasInit=!0,this.timeChecker=Global.UIHelper.safeGetComponent(this.driverNode,"",i.default)):Logger.error("\u627e\u4e0d\u5230Canvas")},e.prototype.clear=function(){this.driverComponent=null,this.driverNode=null,this.hasInit=null,this.stopChecker(),this.timeChecker=null},e.prototype.onLoad=function(){},e.prototype.onFrameEnd=function(){for(var e=0;e<this.frameEndList.length;e++)this.frameEndList[e]();this.frameEndList=[]},e.prototype.onUpdate=function(e){this.updateFunc&&this.updateFunc(e)},e.prototype.onLateUpdate=function(){this.lateUpdateFunc&&this.lateUpdateFunc();for(var e=0;e<this.callLaterList.length;e++)this.callLaterList[e]();this.callLaterList.length=0},e.prototype.schedule=function(e,t,o,i){this.hasInit&&null!=this.driverComponent?this.driverComponent.schedule(e,t,o,i):Logger.error("Driver \u8fd8\u672a\u521d\u59cb\u5316")},e.prototype.scheduleOnce=function(e,t){this.hasInit&&null!=this.driverComponent?this.driverComponent.scheduleOnce(e,t):Logger.error("Driver \u8fd8\u672a\u521d\u59cb\u5316")},e.prototype.unschedule=function(e){this.hasInit&&null!=this.driverComponent&&this.driverComponent.unschedule(e)},e.prototype.unscheduleAllCallbacks=function(){this.hasInit&&null!=this.driverComponent&&(this.driverComponent.unscheduleAllCallbacks(),this.callLaterList.length=0,this.frameEndList.length=0)},e.prototype.callLater=function(e){this.callLaterList.push(e)},e.prototype.frameEnd=function(e){this.frameEndList.push(e)},e.prototype.doChecker=function(e){this.timeChecker&&this.timeChecker.checkTimestamp(e)},e.prototype.stopChecker=function(){this.timeChecker&&this.timeChecker.stopTimer()},e.prototype.correctTime=function(e){return this.timeChecker?this.timeChecker.correctTime(e):0},e}();o.default=n,cc._RF.pop()},{"../game/GameTimeChecker":"GameTimeChecker"}],ConfigBase:[function(e,t,o){"use strict";cc._RF.push(t,"d0881kY7RVPyrXAQ5DpnIff","ConfigBase"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function e(){this.content={}}return e.prototype.getValue=function(e,t,o){var i=this.content[e.toString()];return null==i?null!=t?t:null:null==o||typeof i===o?i:"string"==o?i.toString():"number"==o?new Number(i).valueOf():i},e.prototype.getContent=function(){return this.content},e}();o.default=i,cc._RF.pop()},{}],ConfigManager:[function(e,t,o){"use strict";cc._RF.push(t,"64df1yrM/pL1rp+d0vwKnmC","ConfigManager"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./ConfigBase"),n=function(){function e(){}return e.appCfg="appconfig",e.jcGameCfg="jcgame",e.jcAppCfg="jcapp",e}(),r=function(){function e(){this.requiredConfigList=[n.appCfg,n.jcGameCfg,n.jcAppCfg],this.cfgMap={}}return Object.defineProperty(e,"Instance",{get:function(){return null==e._instance&&(e._instance=new e),e._instance},enumerable:!1,configurable:!0}),e.prototype.init=function(e){for(var t=[],o=0;o<this.requiredConfigList.length;o++){var i=this.getJsonFullName(this.requiredConfigList[o]);t.push(i)}this.loadCfg(t,e,this.requiredConfigList)},e.prototype.loadCfg=function(e,t,o){Global.ResourceManager.loadResArr(e,function(n,r){if(null==n){for(var a=0;a<e.length;a++){var s=e[a],l=r[a];if(null!=l){var c=JSON.parse(l);if(null==c)Logger.error("ConfigManager::loadCfg() json == null, cfgPath = "+s);else{var p=new i.default;p.alias=null!=o&&o.length>a&&o[a].length>0?o[a]:s,p.fullName=s,p.content=c,this.cfgMap[p.alias]=p}}}for(null!=t&&t(n,r),a=0;a<e.length;a++)Global.ResourceManager.releaseRes(e[a])}else Logger.error("ConfigManager::loadCfg() loadResArr error = "+n+", return!!!")})},e.prototype.unloadCfg=function(e){var t=this.getCfg(e);return null!=t&&(this.cfgMap[t.alias]=null,!0)},e.prototype.getCfg=function(e){if(null!=this.cfgMap[e])return this.cfgMap[e];for(var t in this.cfgMap)if(this.cfgMap[t].fullName==e)return this.cfgMap[t];return null},e.prototype.getValue=function(e,t,o,i){var n=this.getCfg(e);return null==n?null:n.getValue(t,o,i)},e.prototype.getCotent=function(e){var t=this.getCfg(e);return null==t?null:t.getContent()},e.prototype.getJsonFullName=function(e){return"config/"+e+".json"},e}();o.default=r,cc._RF.pop()},{"./ConfigBase":"ConfigBase"}],CountDownBtn:[function(e,t){"use strict";cc._RF.push(t,"12c587+hDZCdL0ibIcDENSe","CountDownBtn"),cc.Class({extends:cc.Component,editor:!1,properties:{btnLabel:cc.Label,btnRichLabel:cc.RichText,richInfo:"",countDownTime:60},onLoad:function(){this.btnCom=this.getComponent(cc.Button),null!=this.btnLabel?this.oldString=this.btnLabel.string:null!=this.btnRichLabel&&(this.oldString=this.btnRichLabel.string),this.btnCom?this.btnCom.enableAutoGrayEffect=!0:this._oldHitTest=this.node._hitTest,this.node.on("click",this.onClickFunc,this)},startCountDown:function(){this.btnCom?this.btnCom.interactable=!1:this.node._hitTest=this.emptyFunc,this.startTime=Date.now(),this.TimerID=setInterval(this.updateTimeLabel.bind(this),100)},updateTimeLabel:function(){var e=(Date.now()-this.startTime)/1e3,t=Math.ceil(this.countDownTime-e);null!=this.btnLabel?this.btnLabel.string=t+"s":null!=this.btnRichLabel&&(this.btnRichLabel.string=cc.js.formatStr(this.richInfo,t+"s")),t<=0&&this.overCountDown()},overCountDown:function(){clearInterval(this.TimerID),this.TimerID=null,this.btnCom?this.btnCom.interactable=!0:this.node._hitTest=this._oldHitTest.bind(this.node),null!=this.btnLabel?this.btnLabel.string=this.oldString:null!=this.btnRichLabel&&(this.btnRichLabel.string=this.oldString)},emptyFunc:function(){return!1},onClickFunc:function(){this.startCountDown()}}),cc._RF.pop()},{}],CustomApp:[function(e,t,o){"use strict";cc._RF.push(t,"34ae0Cl00RKdItTdVATCbL4","CustomApp");var i=this&&this.__awaiter||function(e,t,o,i){return new(o||(o=Promise))(function(n,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,s)}l((i=i.apply(e,t||[])).next())})},n=this&&this.__generator||function(e,t){var o,i,n,r,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(e){return function(t){return l([e,t])}}function l(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,i&&(n=2&r[0]?i.return:r[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,r[1])).done)return n;switch(i=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){a.label=r[1];break}if(6===r[0]&&a.label<n[1]){a.label=n[1],n=r;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(r);break}n[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(s){r=[6,s],i=0}finally{o=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0}),o.BTNINDEX=void 0;var r=e("../const/HallStorageKey"),a=function(){function e(){this.appConfig={588:{loginBg:"lgBg.jpg",showLoadingEff:!0,logo:"logo.png"},1003:{loadingBg:"loadingBg.png",spreedBg:"spreedBg.png",loginBg:"lgBg.jpg",showLoadingEff:!0,logo:"logo.png"}},this.bgmName="bgm.mp3",this.loadingBg="loadingBg.jpg",this.loginBg="loadingBg.jpg",this.hallBg="hallBg.jpg",this.majiabao_loadingBg="loadingBgBack.jpg",this.defaultLgBg="lgBg.jpg",this.defaultLogo="logo.png",this.appCfg="",this.spreedBg="spreedBg.jpg",this.showLoadingEff=!1,this.showLoginEff=!1,this.lgEffectName="lgEffect",this.lgEffectAnimName="idle",this.filePathMap={},this.appId=null,this.isHallChanged=!1,this.loading={tipsBg:"tsy_di.png",progressBar:"jdt_jdu.png",progressBarBg:"jdt_di.png",checkNode:"tsy_zibj.png",restore:"xin_xiufu.png",loading_04:"jz_05.png"},this.login={registBtn:"button_sjzc.png",officalBtn:"button_guanwang.png",serviceBtn:"button_kefu.png",vistorLoginBtn:"button_youke.png",wxLoginBtn:"button_weixin.png",phoneLoginBtn:"button_shouji.png"}}return e.prototype.getIsHallChanged=function(){return this.isHallChanged},e.prototype.initConfig=function(){this.showLoginEff=""!=this.getFilePath(this.lgEffectName+".atlas",this.getAppID())&&""!=this.getFilePath(this.lgEffectName+".json",this.getAppID())&&""!=this.getFilePath(this.lgEffectName+".png",this.getAppID()),this.showLoginEff&&(this.loginBg=this.defaultLgBg)},e.prototype.preload=function(e){if(cc.sys.isNative){this.InitOrignalAppconfig();var t=this.getAppID(),o=this.getAppConfigFileName(t),i=[];for(var n in this.loadingBg&&""!=this.loadingBg&&i.push(this.loadingBg),o&&""!=o&&i.push(o),this.defaultLgBg&&""!=this.defaultLgBg&&i.push(this.defaultLgBg),this.hallBg&&""!=this.hallBg&&i.push(this.hallBg),this.bgmName&&""!=this.bgmName&&i.push(this.bgmName),this.showLoginEff&&this.lgEffectName&&""!=this.lgEffectName&&(i.push([this.lgEffectName+".json","txt"]),i.push(this.lgEffectName+".png"),i.push([this.lgEffectName+".atlas","txt"])),this.login)this.login.hasOwnProperty(n)&&i.push(this.login[n]);for(var n in this.loading)this.loading.hasOwnProperty(n)&&i.push(this.loading[n]);for(var r=0,a=function(n){var a="",l=null;if(Array.isArray(i[n])?(a=s.getFilePath(i[n][0],t),l=i[n][1]):a=s.getFilePath(i[n],t),""!=a){if(r++,i[n]==o)return cc.loader.load(a,function(t,o){r--,null!=t&&(Logger.error("\u52a0\u8f7dskinConfig\u5931\u8d25\uff01\uff01\uff01\uff01\uff01"+t.message),Logger.error("path\uff01\uff01\uff01\uff01\uff01"+a)),o&&(Global.Setting.SkinConfig.appPicConfig=o),r<=0&&e&&e()}),"continue";cc.loader.load({url:a,type:l},function(t){null!=t&&Logger.error("\u52a0\u8f7d\u8d44\u6e90\u5931\u8d25",a),--r<=0&&e&&e()})}},s=this,l=0;l<i.length;l++)a(l);0==r&&e&&e()}else e()},e.prototype.getAppConfigFileName=function(e){var t=cc.js.formatStr("%s.json",e),o=this.getFilePath(t,e),i=this.getFilePath("config.json",e);return jsb.fileUtils.isFileExist(o)?t:(jsb.fileUtils.isFileExist(i),"config.json")},e.prototype.checkIsHotUpdateFileExist=function(e){var t=Global.HotUpdateManager.updateHelper.genStoragePath("hall")+"/app/"+e;return jsb.fileUtils.isDirectoryExist(t)},e.prototype.getCustomAppID=function(){var e=Global.Setting.storage.getNumber(r.default.AppID,-1);return-1!=e?(this.appId=e,this.appId):Global.Setting.AppConfig&&Global.Setting.AppConfig.appid?(this.appId=Global.Setting.appId,this.appId):Global.Setting.SystemInfo.appID?(this.appId=Global.Setting.SystemInfo.appID,this.appId):void 0},e.prototype.InitOrignalAppconfig=function(){var e=Global.Setting.SystemInfo.appID,t=this.getAppConfigFileName(e),o=this.getFilePath(t,e);""!=o&&cc.loader.load(o,function(e,t){null!=e&&(Logger.error("\u52a0\u8f7dskinConfig\u5931\u8d25\uff01\uff01\uff01\uff01\uff01"+e.message),Logger.error("path\uff01\uff01\uff01\uff01\uff01"+o)),t&&(Global.Setting.SkinConfig.orignalAppcfg=t,Global.Setting.storage.get("HALLSTYLE")||Global.Setting.storage.set("HALLSTYLE",t.hallStyle))})},e.prototype.AsyncInitOrignalAppconfig=function(){return i(this,void 0,void 0,function(){var e=this;return n(this,function(){return[2,new Promise(function(t,o){var i=Global.Setting.SystemInfo.appID,n=e.getAppConfigFileName(i),r=e.getFilePath(n,i);""!=r?cc.loader.load(r,function(i,n){if(i)Logger.error("\u52a0\u8f7dskinConfig\u5931\u8d25\uff01\uff01\uff01\uff01\uff01"+i.message),Logger.error("path\uff01\uff01\uff01\uff01\uff01"+r),o(i);else{Global.Setting.SkinConfig.orignalAppcfg=n;var a=Global.Setting.storage.get("HALLSTYLE");a&&a!=n.hallStyle&&(Global.Setting.storage.set("HALLSTYLE",n.hallStyle),e.isHallChanged=!0),t(n)}}):o(null)})]})})},e.prototype.getAppID=function(){var e=Global.customApp.getCustomAppID();return Global.Toolkit.checkMegeServer()&&!Global.customApp.checkIsHotUpdateFileExist(e)&&(e=Global.Setting.SystemInfo.appID),e},e.prototype.getAppConfig=function(){return Global.Setting.SkinConfig.appPicConfig},e.prototype.getAppBaseFolder=function(){return Global.HotUpdateManager.updateHelper.genStoragePath("hall")+"/app/"},e.prototype.getFilePath=function(e,t,o){if(void 0===o&&(o=null),!cc.sys.isNative)return"";if(null==o&&(o=t),this.filePathMap[e])return this.filePathMap[e];var i=Global.HotUpdateManager.updateHelper.genStoragePath("hall")+"/app/"+t+"/"+e;if(jsb.fileUtils.isFileExist(i))return this.filePathMap[e]=i,i;if(Global.Setting.isCloseMegeServer)return"";var n="app/"+Global.Setting.SystemInfo.appID+"/"+e;return jsb.fileUtils.isFileExist(n)?(n=jsb.fileUtils.fullPathForFilename(n),this.filePathMap[e]=n,Logger.error("use native path",n),n):""},e.prototype.loadLoadingBg=function(e){if(cc.sys.isNative){var t=this.majiabao_loadingBg;jsb.fileUtils.isFileExist(t)?this.loadMaJiaBaoLoaingBg(e,t):this.loadSprite(e,this.loadingBg)}},e.prototype.loadingLoginPics=function(e){if(cc.sys.isNative&&e){var t=this.getAppConfig(),o=t&&!t.showDefaut,i=cc.find("RegistBtn",e).getComponent(cc.Sprite),n=cc.find("gnx_guanwang",e).getComponent(cc.Sprite),r=cc.find("gnx_kefu",e).getComponent(cc.Sprite),a=cc.find("guestBtn",e).getComponent(cc.Sprite);a&&a.node&&((l=cc.find("defaut",a.node))&&o&&(l.active=!1),this.loadSprite(a,this.login.vistorLoginBtn));var s=cc.find("wxBtn",e).getComponent(cc.Sprite);s&&s.node&&((l=cc.find("defaut",s.node))&&o&&(l.active=!1),this.loadSprite(s,this.login.wxLoginBtn));var l,c=cc.find("phoneBtn",e).getComponent(cc.Sprite);c&&c.node&&((l=cc.find("defaut",c.node))&&o&&(l.active=!1),this.loadSprite(c,this.login.phoneLoginBtn)),this.loadSprite(i,this.login.registBtn),this.loadSprite(n,this.login.officalBtn),this.loadSprite(r,this.login.serviceBtn)}},e.prototype.ChangeLoadingTxtColorAndFontSize=function(e,t,o){var i=this.getAppConfig();i&&(e&&(i.txtColor&&(e.node.color=(new cc.Color).fromHEX(i.txtColor)),i.txtFontSize&&(e.fontSize=i.txtFontSize)),t&&(i.infoLabelColor&&(t.node.color=(new cc.Color).fromHEX(i.infoLabelColor)),i.infoLabelFontSize&&(t.fontSize=i.infoLabelFontSize)),o&&(i.versionLabelColor&&(o.node.color=(new cc.Color).fromHEX(i.versionLabelColor)),i.versionLabelFontSize&&(o.fontSize=i.versionLabelFontSize)))},e.prototype.setOfficalBtnPos=function(e,t){var o=this.getAppConfig();o&&e&&o.loadingOfficalBtnPos&&e.setPosition(cc.v2(o.loadingOfficalBtnPos[0],o.loadingOfficalBtnPos[1])),o&&t&&o.loadingkefuBtnPos&&t.setPosition(cc.v2(o.loadingkefuBtnPos[0],o.loadingkefuBtnPos[1]))},e.prototype.ChangeLoadingPosCfg=function(e,t,o,i){void 0===i&&(i=null);var n=this.getAppConfig();if(n&&(e&&n.tipsBgPos&&e.setPosition(cc.v2(n.tipsBgPos[0],n.tipsBgPos[1])),t&&n.loadingBarPos&&t.setPosition(cc.v2(n.loadingBarPos[0],n.loadingBarPos[1])),i&&n.restorePos&&i.setPosition(cc.v2(n.restorePos[0],n.restorePos[1])),o&&n.checkNodePos)){var r=o.getComponent(cc.Sprite);r&&this.loadSprite(r,this.loading.checkNode,function(e){r.spriteFrame.insetLeft=150,r.spriteFrame.insetRight=150,r.node.height=e,r.sizeMode=cc.Sprite.SizeMode.CUSTOM,r.type=cc.Sprite.Type.SLICED}),o.setPosition(cc.v2(n.checkNodePos[0],n.checkNodePos[1]))}},e.prototype.loadLoadingPics=function(e,t,o,i,n,r,a,s,l){if(void 0===a&&(a=null),void 0===s&&(s=null),void 0===l&&(l=null),cc.sys.isNative){var c=this.getAppConfig();if(this.loading){if(this.loadSprite(e,this.loading.tipsBg,function(t){e.spriteFrame.insetLeft=200,e.spriteFrame.insetRight=200,e.node.height=t,e.sizeMode=cc.Sprite.SizeMode.CUSTOM,e.type=cc.Sprite.Type.SLICED}),this.loadSprite(t,this.loading.progressBarBg,function(e){t.spriteFrame.insetLeft=30,t.spriteFrame.insetRight=30,t.node.height=e,t.sizeMode=cc.Sprite.SizeMode.CUSTOM,t.type=cc.Sprite.Type.SLICED}),c&&c.fullScreen&&o&&t&&cc.isValid(o.node)&&cc.isValid(t.node)){o.node.width=cc.Canvas.instance.node.width,t.node.width=cc.Canvas.instance.node.width,t.node.setPosition(cc.v2(-.5*t.node.width,t.node.position.y)),o.node.setPosition(cc.v2(-.5*o.node.width,o.node.position.y));var p=o.node.getComponent(cc.ProgressBar);p&&(p.totalLength=cc.Canvas.instance.node.width)}this.loadSprite(o,this.loading.progressBar,function(e){o.spriteFrame.insetLeft=30,o.spriteFrame.insetRight=30,o.node.height=e,o.sizeMode=cc.Sprite.SizeMode.CUSTOM,o.type=cc.Sprite.Type.SLICED}),a&&this.loadSprite(a,this.loading.restore),this.loadSprite(i,this.loading.checkNode,function(e){i.node.height=e}),this.loadSprite(n,this.loading.loading_04,function(e){n.spriteFrame.insetLeft=3,n.spriteFrame.insetRight=3,n.node.height=e,n.node.width=cc.Canvas.instance.node.width,n.sizeMode=cc.Sprite.SizeMode.CUSTOM,n.type=cc.Sprite.Type.SLICED}),this.loadSprite(r,this.login.officalBtn),s&&this.loadSprite(s,this.login.serviceBtn)}}},e.prototype.loadBannerBg=function(e,t,o){this.getFilePath(t,this.getAppID())?this.loadSprite(e,t,o):o&&o()},e.prototype.loadLoginBg=function(e){var t=this.getAppConfig();null!=t&&t.loginBg?this.loadSprite(e,t.loginBg):this.loadSprite(e,this.loginBg)},e.prototype.loadHallBg=function(e){this.loadSprite(e,this.hallBg)},e.prototype.loadSpreedBg=function(e){this.loadSprite(e,this.spreedBg)},e.prototype.loadMaJiaBaoLoaingBg=function(e,t){t=jsb.fileUtils.fullPathForFilename(t),this.filePathMap[this.majiabao_loadingBg]=t;var o=cc.loader.getRes(t);null!=o?e&&e.node.isValid&&(e.spriteFrame=new cc.SpriteFrame(o)):cc.loader.load(t,function(t,o){null==t&&e&&e.node.isValid&&(e.spriteFrame=new cc.SpriteFrame(o))})},e.prototype.loadLoginEffect=function(e){if(cc.sys.isNative&&null!=e&&this.showLoginEff){var t=e.getComponent(sp.Skeleton);if(null!=t){var o=this.getFilePath(this.lgEffectName+".atlas",this.getAppID()),i=this.getFilePath(this.lgEffectName+".png",this.getAppID()),n=this.getFilePath(this.lgEffectName+".json",this.getAppID()),r=Global.ResourceManager.getRes(o,"txt"),a=cc.loader.getRes(i),s=Global.ResourceManager.getRes(n,"txt");if(null!=r&&null!=a&&null!=s){var l=new sp.SkeletonData;l._uuid=n,l.skeletonJson=JSON.parse(s),l.atlasText=r,l.textures=[a],l.textureNames=["lgEffect.png"],t.skeletonData=l,t.animation="idle",t._updateSkeletonData()}}}},e.prototype.getDefaultBgmUrl=function(){return cc.sys.isNative?this.getFilePath(this.bgmName,this.getAppID()):""},e.prototype.loadSprite=function(e,t,o){if(cc.sys.isNative&&e){var i=this.getFilePath(t,this.getAppID());if(i){var n=cc.loader.getRes(i);null!=n?e&&e.node.isValid&&(e.spriteFrame=new cc.SpriteFrame(n),o&&o(n.height)):cc.loader.load(i,function(t,i){null==t&&e&&e.node.isValid&&(e.spriteFrame=new cc.SpriteFrame(i),o&&o(i.height))})}}},e.prototype.loadHallBundle=function(e){var t=this.getHallBundleName();Global.ResourceManager.loadBundle(t,function(o,i){o?Logger.error("load failed hallstyle "+t):e&&e(o,i)})},e.prototype.getHallBundleName=function(){var e=Global.Setting.SkinConfig.orignalAppcfg,t="hall_style_0";return e&&e.hallStyle&&(t=e.hallStyle),t},e.prototype.getHallBundlePath=function(){var e=this.getHallBundleName(),t=e;if(cc.sys.isNative){var o=Global.HotUpdateManager.updateHelper.genStoragePath("hall")+"/"+e;jsb&&jsb.fileUtils.isDirectoryExist(o)?t=jsb.fileUtils.fullPathForFilename(o):jsb&&jsb.fileUtils.isDirectoryExist(e)&&(t=jsb.fileUtils.fullPathForFilename(e))}return Logger.error("getHallBundlePath bundlePath = "+t),t},e.prototype.getHallBundleRes=function(e,t){var o=this.getHallBundleName();if(o){var i=Global.ResourceManager.getBundleRes(o,e,t);if(i)return i;Logger.error("getHallBundleRes getBundleRes null")}else Logger.error("getHallBundleRes bundleName null")},e}();o.default=a,function(e){e[e.RegistBtn=0]="RegistBtn",e[e.OfficalBtn=1]="OfficalBtn",e[e.ServiceBtn=2]="ServiceBtn",e[e.VistorLoginBtn=3]="VistorLoginBtn",e[e.WeChatLoginBtn=4]="WeChatLoginBtn",e[e.PhoneLoginBtn=5]="PhoneLoginBtn"}(o.BTNINDEX||(o.BTNINDEX={})),cc._RF.pop()},{"../const/HallStorageKey":"HallStorageKey"}],DNSControl:[function(e,t,o){"use strict";cc._RF.push(t,"a2aebLojnRLP75n3Z/rjBMT","DNSControl"),Object.defineProperty(o,"__esModule",{value:!0}),o.DNSTYPE=void 0;var i,n=e("./IDNS"),r=e("./WangsuDns"),a=e("./OldVersionDNS"),s=e("./AliDNS");(function(e){e[e.None=0]="None",e[e.OldVersion=1]="OldVersion",e[e.Wangsu=2]="Wangsu",e[e.Ali=3]="Ali"})(i=o.DNSTYPE||(o.DNSTYPE={}));var l=function(){function e(){this.DNSType=i.None,this.checkInerval=5e3,this.timeID=null,this.syncMode=!1,this.DNSConfig={type:3,accountId:"151925",syncMode:1},this.selfDNSMap={}}return e.prototype.setDNSConfg=function(e){null==e&&null==e.type||Global.Setting.storage.setObject("DNSConfig",e)},e.prototype.loadDNSConfig=function(){var e=Global.Setting.storage.getObject("DNSConfig");null!=e?this.DNSConfig=e:Logger.error("loadDNSConfig config = null")},e.prototype.init=function(){this.loadDNSConfig(),this.DNSConfig&&this.DNSConfig.syncMode&&(this.syncMode=1==this.DNSConfig.syncMode);var e=this.DNSConfig.type;this.DNSType=e?Number(e):0,cc.sys.isNative||(this.DNSType=i.None),this.DNS=this.createDns(),Logger.error("DNS config",JSON.stringify(this.DNSConfig)),Logger.error("DNS Type is ",this.DNSType),Logger.error("DNS syncMode is ",this.syncMode),this.DNS&&(this.DNS.init(this.DNSConfig),this.startTimer())},e.prototype.startTimer=function(){var e=this;clearInterval(this.timeID),this.timeID=setInterval(function(){e.DNS&&e.DNS.update(e.checkInerval/1e3)},this.checkInerval)},e.prototype.createDns=function(){switch(this.DNSType){case i.Wangsu:return new r.default;case i.OldVersion:return new a.default;case i.None:return null;case i.Ali:return new s.default;default:Logger.error("\u627e\u4e0d\u5230DNS\u7c7b\u578b\uff01\uff01\uff01\uff01",this.DNSType),this.DNSType=i.None}},e.prototype.requestHosts=function(e,t){Logger.error("requestHosts",e,this.DNSType,this.syncMode),e=this.filterSelfDNS(e),this.DNSType!=i.None&&null!=this.DNS?this.DNS.requestHosts(e,t,this.syncMode):t&&t()},e.prototype.getIp=function(e,t){return void 0===t&&(t=0),this.selfDNSMap[e]?this.selfDNSMap[e]:this.DNSType==i.None?null:this.DNS.getIp(e,t)},e.prototype.getHttpRequestDNSInfo=function(e,t){void 0===t&&(t=0),Logger.log("getHttpRequestDNSInfo before "+e.printSelf());var o=this.getSelfDNSInfo(e);return null!=o?(Logger.log("getHttpRequestDNSInfo dnsInfo != null"),o):this.DNSType==i.None||null==this.DNS?(Logger.log("getHttpRequestDNSInfo DNSType == null"),null):(o=this.DNS.getHttpDNSInfo(e),Logger.log("getHttpRequestDNSInfo after "+e.printSelf()),o)},e.prototype.getSelfDNSInfo=function(e){if(e.address!=e.addressHost||e.addressHost!=e.realHost){var t=Global.UrlUtil.checkIsIp(e.address),o=Global.UrlUtil.checkIsIp(e.realHost);if(t||o){var i=new n.DNSInfo;o&&(e.address=e.realHost),i.ip=e.address,i.host=e.addressHost,i.port=e.port;var r={Host:e.addressHost};return e.cerPath&&(r.CertPath=e.cerPath),i.headerMap=r,i}Logger.log("getSelfDNSInfo address && realHost is not ip")}else Logger.log("getSelfDNSInfo address == addressHost")},e.prototype.filterSelfDNS=function(e){for(var t=[],o=0;o<e.length;o++)this.selfDNSMap[e[o]]||t.push(e[o]);return t},e.prototype.dealDunRoute=function(e,t,o){if(Logger.error("dealDunRoute serverurl ,lo_port,lo_type ",e.printSelf(),t,o),!o||!t)return e;if(!Global.AppDun.checkAppIsSupportDunByType(o))return Logger.error("App not support dun = "+o),e;var i=Global.AppDun.getDunIsInitByType(o),n=Global.AppDun.getServerIPAndPort(e.realHost,t,o,e.attr);if(t&&t>0&&i&&n){var r=n.ip,a=n.port;if(!r||!a)return Logger.error("dealDunRoute serverIp == null || serverPort == null "),e;e.lo_type=o;var s=e.address;if(this.checkIsSelfDnsUrl(s)){var l=s.split("...");if(l.length<2)return Logger.error("dealDunRoute array < 2"),e;var c=l[1];c?(e.address=r,e.port=a,e.addressHost=c,Logger.error("dealDunRoute isSelfDnsUrl = true  host != null "+e.printSelf())):(Logger.error("... host = null"),e.address=r,e.port=a,Logger.error("dealDunRoute isSelfDnsUrl = true  host == null"+e.printSelf()))}else e.address=r,e.port=a,Logger.error("dealDunRoute isSelfDnsUrl = false  "+e.printSelf())}return e},e.prototype.dealSelfRoute=function(e){var t=e.address;if(this.checkIsSelfDnsUrl(t)){var o=t.split("...");if(o.length<2)return Logger.error("dealSelfRoute array < 2"),e;var i=o[0],n=o[1],r=Global.UrlUtil.getPortFromUrl(i);if(e.address=i,r){e.port=r;var a=Global.UrlUtil.getHostFromUrl(i);e.address=a,e.realHost=n}else{var s=Global.UrlUtil.checkIsIp(i);e.realHost=s?n:i}e.addressHost=n}},e.prototype.checkIsSelfDnsUrl=function(e){return e.indexOf("...")>0},e}();o.default=l,cc._RF.pop()},{"./AliDNS":"AliDNS","./IDNS":"IDNS","./OldVersionDNS":"OldVersionDNS","./WangsuDns":"WangsuDns"}],DarkSkinModuleCfg:[function(e,t,o){"use strict";cc._RF.push(t,"74402UW7eVKKKcTMK3ek3jk","DarkSkinModuleCfg");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cfg=["LoginModule","HallModule","PersonalInfoModule","PlayerInfoModule","BankModule","ActivityCenterModule","BackUpGameModule","BindingGiftModule","CashBackModule","GameLobbyShellModule","CommisionModule","CommonModule","FeedbackModule","MsgModule","RankModule","RechargeGiftModule","RechargeModule","ServicerModule","ShareModule","SpreadModule","VipQuickPayChatModule"],t}return n(t,e),t}(e("./ModuleCfgBase").default);o.default=r,cc._RF.pop()},{"./ModuleCfgBase":"ModuleCfgBase"}],DataBridge:[function(e,t,o){"use strict";cc._RF.push(t,"1bc4aSK5vlAnb7ZmKgU5PFX","DataBridge"),Object.defineProperty(o,"__esModule",{value:!0});o.default=function(){},cc._RF.pop()},{}],DiantaiItem:[function(e,t,o){"use strict";cc._RF.push(t,"80981e7OipKYaZQcf4763/F","DiantaiItem");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../../hallcommon/model/PlayerInfoModel"),s=cc._decorator,l=s.ccclass,c=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dataObj=null,t.labelName=null,t.labelSinger=null,t.processBar=null,t.stateNodeArr=[],t.progressPercent=0,t}return n(t,e),t.prototype.onLoad=function(){this.labelName=cc.find("label_name",this.node).getComponent(cc.Label),this.labelSinger=cc.find("label_singer",this.node).getComponent(cc.Label),this.processBar=cc.find("xiazaizhong/progressBar",this.node).getComponent(cc.ProgressBar),this.stateNodeArr[0]=Global.UIHelper.addCommonClick(this.node,"xiazaiBtn",this.xiazaiBtnFunc,this),this.stateNodeArr[1]=cc.find("xiazaizhong",this.node),this.stateNodeArr[2]=Global.UIHelper.addCommonClick(this.node,"bofangBtn",this.bofangBtnFunc,this),this.stateNodeArr[3]=cc.find("bofangzhong",this.node)},t.prototype.update=function(e){this.dataObj&&this.dataObj.downloadpercent&&(this.progressPercent<this.dataObj.downloadpercent&&(this.progressPercent+=.1*e),this.progressPercent>this.dataObj.downloadpercent&&(this.progressPercent=this.dataObj.downloadpercent,this.progressPercent>=1&&(this.dataObj.download=!0,this.UpdateUI())),this.processBar.progress=this.progressPercent)},t.prototype.init=function(e){this.dataObj=e,this.UpdateUI()},t.prototype.UpdateUI=function(){if(this.labelName&&this.dataObj){this.labelName.string=""+this.dataObj.name,this.labelSinger.string=""+this.dataObj.singer;for(var e=0;e<this.stateNodeArr.length;e++)this.stateNodeArr[e].active=!1;var t=Global.Setting.storage.get("bgm"),o=this.dataObj.surl==t,i=Global.Setting.SkinConfig.infoSinerColors[0],n=Global.Setting.SkinConfig.infoSinerColors[1];o?(this.stateNodeArr[3].active=!0,this.labelName.node.color=(new cc.Color).fromHEX(n),this.labelSinger.node.color=(new cc.Color).fromHEX(n)):(this.labelName.node.color=(new cc.Color).fromHEX(i),this.labelSinger.node.color=(new cc.Color).fromHEX(i),this.dataObj.download?this.stateNodeArr[2].active=!0:this.dataObj.downloadpercent>0?this.stateNodeArr[1].active=!0:this.stateNodeArr[0].active=!0)}},t.prototype.xiazaiBtnFunc=function(){this.dataObj.file,this.dataObj.url,Global.UI.fastTip("web\u7248\u4e0d\u652f\u6301\u4e0b\u8f7d")},t.prototype.getLocalFileName=function(e){var t=e,o=t.lastIndexOf("."),i=t.slice(0,o),n=t.substring(o);return jsb.fileUtils.getWritablePath()+Global.Toolkit.md5(i)+n},t.prototype.saveFileToNative=function(e,t,o){if(void 0!==t&&jsb.fileUtils.writeDataToFile(new Uint8Array(t),e))return cc.log("DiantaiItem Remote write file succeed."),void(o&&o());this.downloadFaild()},t.prototype.downloadSuccess=function(){this.dataObj.downloadpercent=1,this.UpdateUI(),this.loadSoundRes()},t.prototype.downloadFaild=function(){this.dataObj.downloadpercent=0,this.UpdateUI(),Global.UI.fastTip("\u4e0b\u8f7d\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5")},t.prototype.loadSoundRes=function(){Global.ResourceManager.load(this.dataObj.surl,function(e){e&&Logger.error(e.message||e)})},t.prototype.bofangBtnFunc=function(){this.dataObj.file==Global.Setting.hallBGM?Global.Audio.playHallBGM():Global.Audio.playMusic(this.dataObj.surl),Global.Setting.storage.set("bgm",this.dataObj.surl),this.UpdateUI();var e=Global.ModelManager.getModel("PlayerInfoModel");e&&e.event(a.default.UpdateScrollView)},r([l],t)}(cc.Component));o.default=c,cc._RF.pop()},{"../../../hallcommon/model/PlayerInfoModel":"PlayerInfoModel"}],DriverComponent:[function(e,t,o){"use strict";cc._RF.push(t,"b365bxmPcRHw5elMPKqLSGK","DriverComponent");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,l=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.onLoad=function(){this.onLoadFunc&&this.onLoadFunc()},t.prototype.update=function(e){this.updateFunc&&this.updateFunc(e)},t.prototype.lateUpdate=function(){this.lateUpdateFunc&&this.lateUpdateFunc()},r([s],t)}(cc.Component));o.default=l,cc._RF.pop()},{}],DunHotUpdateUrlSetting:[function(e,t,o){"use strict";cc._RF.push(t,"032f11txuxNhrpyzHnE1lAr","DunHotUpdateUrlSetting"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./ServerRoutes"),n=function(){function e(){this._dunType=0,this._hotUpdateServerRoutes=new i.default,this._payServerRoutes=new i.default}return Object.defineProperty(e.prototype,"hotUpdateUrl",{get:function(){var e=this._hotUpdateServerRoutes.getCurRoute(),t=this.hotUpdateServerRoutes,o=null;if(e)if(e.checkSelfIsOK())o=a=e.getUrl(),this.curDunType=e.lo_type;else{var i=t.getRouteLen();if(i>1){var n=t.getAnotherRoute();if(n&&n.checkSelfIsOK())Logger.error("extraData.url changeToAnotherRoute"),o=a=n.getUrl(),this.curDunType=n.lo_type;else{Logger.error("extraData.url nextRoute is null or not ok !!!");var r=t.getCanUseRoute();r?(o=a=r.getUrl(),this.curDunType=r.lo_type):Logger.error("extraData.url canUseRoute = null")}}else if(1==i){var a=e.getUrl();this.curDunType=e.lo_type,o=a}else Logger.error("extraData.url routesLen = 0 ")}else Logger.error("extraData.url curRoute is null !!!");return o&&o.getUrl()?o.getUrl():null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"payeUrl",{get:function(){var e=this._payServerRoutes.getCurRoute(),t=this._payServerRoutes,o=null;if(e)if(e.checkSelfIsOK())o=e.getUrl();else{var i=t.getRouteLen();if(i>1){var n=t.getAnotherRoute();if(n&&n.checkSelfIsOK())Logger.error("extraData.url changeToAnotherRoute"),o=n.getUrl();else{Logger.error("extraData.url nextRoute is null or not ok !!!");var r=t.getCanUseRoute();r?o=r.getUrl():Logger.error("extraData.url canUseRoute = null")}}else 1==i?o=e.getUrl():Logger.error("extraData.url routesLen = 0 ")}else Logger.error("extraData.url curRoute is null !!!");return o&&o.getUrl()?o.getUrl():null},enumerable:!1,configurable:!0}),e.prototype.switchRoute=function(){this._hotUpdateServerRoutes&&this._hotUpdateServerRoutes.changeToAnotherRoute()},Object.defineProperty(e.prototype,"hotUpdateRouteCfg",{get:function(){return this._hotUpdateRouteCfg},set:function(e){this._hotUpdateRouteCfg=e,this._hotUpdateServerRoutes||(this._hotUpdateServerRoutes=new i.default),this._hotUpdateServerRoutes.cleanRoutes(),this._hotUpdateServerRoutes.parse(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"payRouteCfg",{get:function(){return this._payRouteCfg},set:function(e){this._payRouteCfg=e,this._payServerRoutes||(this._payServerRoutes=new i.default),this._payServerRoutes.cleanRoutes(),this._payServerRoutes.parse(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"curDunType",{get:function(){return this._dunType},set:function(e){e||(e=0),this._dunType=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hotUpdateServerRoutes",{get:function(){return this._hotUpdateServerRoutes},set:function(e){this._hotUpdateServerRoutes=e},enumerable:!1,configurable:!0}),e}();o.default=n,cc._RF.pop()},{"./ServerRoutes":"ServerRoutes"}],ECBDecryptor:[function(e,t,o){"use strict";cc._RF.push(t,"dc332WZC/tEur9kktvxrlhB","ECBDecryptor");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.ECBDecryptor=void 0;var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.processBlock=function(e,t){this._cipher.decryptBlock(e,t)},t}(e("./BlockCipherModeAlgorithm").BlockCipherModeAlgorithm);o.ECBDecryptor=r,cc._RF.pop()},{"./BlockCipherModeAlgorithm":"BlockCipherModeAlgorithm"}],ECBEncryptor:[function(e,t,o){"use strict";cc._RF.push(t,"4aedf1qsXVBtbKXplI5JcIl","ECBEncryptor");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.ECBEncryptor=void 0;var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.processBlock=function(e,t){this._cipher.encryptBlock(e,t)},t}(e("./BlockCipherModeAlgorithm").BlockCipherModeAlgorithm);o.ECBEncryptor=r,cc._RF.pop()},{"./BlockCipherModeAlgorithm":"BlockCipherModeAlgorithm"}],ECB:[function(e,t,o){"use strict";cc._RF.push(t,"2881cZgK8tCP5nrlU+ioMJX","ECB");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.ECB=void 0;var r=e("./BlockCipherMode"),a=e("./ECBEncryptor"),s=e("./ECBDecryptor"),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.Encryptor=a.ECBEncryptor,t.Decryptor=s.ECBDecryptor,t}(r.BlockCipherMode);o.ECB=l,cc._RF.pop()},{"./BlockCipherMode":"BlockCipherMode","./ECBDecryptor":"ECBDecryptor","./ECBEncryptor":"ECBEncryptor"}],Encoding:[function(e,t,o){"use strict";cc._RF.push(t,"02112N+Q/1FuJDuD2r5mrkv","Encoding"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],EventComp:[function(e,t,o){"use strict";cc._RF.push(t,"d1d69oDlUVKNbXtlekivE3V","EventComp");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,l=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.start=function(){},t.prototype.clickLink=function(e,t){null!=t&&""!=t&&cc.sys.openURL(Global.Toolkit.DealWithUrl(t))},t.prototype.onDisable=function(){this.disableCallback&&this.disableCallback.call(this.target)},t.prototype.onDestroy=function(){this.destroyCallback&&this.destroyCallback.call(this.target)},r([s],t)}(cc.Component));o.default=l,cc._RF.pop()},{}],EventDispatcher:[function(e,t,o){"use strict";cc._RF.push(t,"da287KZPadEF758nz9rO/og","EventDispatcher"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./EventHandler"),n=function(){function e(){this.eventMap={}}return e.prototype.hasListener=function(e){return null!=(this.eventMap&&this.eventMap[e])},e.prototype.on=function(e,t,o,i){return this._createListener(e,t,o,i,!1)},e.prototype.once=function(e,t,o,i){return this._createListener(e,t,o,i,!0)},e.prototype.off=function(e,t,o,i){if(void 0===i&&(i=!1),null==this.eventMap||null==this.eventMap[e])return this;var n=this.eventMap[e];if(n.run)null!=t&&n.caller!=t||null!=o&&n.method!=o||i&&!n.once||(delete this.eventMap[e],n.recover());else{for(var r=0,a=n.length,s=0;s<a;s++){var l=n[s];l?!l||t&&l.caller!==t||null!=o&&l.method!==o||i&&!l.once||(r++,n[s]=null,l.recover()):r++}r===a&&delete this.eventMap[e]}return this},e.prototype.offAll=function(e){var t=this.eventMap;if(!t)return this;if(e)this.recoverHandlers(t[e]),delete t[e];else for(var o in t)this.recoverHandlers(t[o])},e.prototype.offAllByCaller=function(e){if(e&&this.eventMap)for(var t in this.eventMap)this.off(t,e,null);return this},e.prototype.event=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];if(!this.eventMap||!this.eventMap[e])return!1;var i=this.eventMap[e];if(i.run)i.once&&delete this.eventMap[e],null!=t?i.runWith(t):i.run();else{for(var n=0,r=i.length;n<r;n++){var a=i[n];a&&(null!=t?a.runWith(t):a.run()),a&&!a.once||(i.splice(n,1),n--,r--)}0===i.length&&this.eventMap&&delete this.eventMap[e]}return!0},e.prototype.recoverHandlers=function(e){if(e)if(e.run)e.recover();else for(var t=e.length-1;t>-1;t--)e[t]&&(e[t].recover(),e[t]=null)},e.prototype._createListener=function(e,t,o,n,r,a){void 0===a&&(a=!1),a&&this.off(e,t,o,r);var s=i.default.create(t||this,o,n,r);return this.eventMap[e]?this.eventMap[e].run?this.eventMap[e]=[this.eventMap[e],s]:this.eventMap[e].push(s):this.eventMap[e]=s,this},e}();o.default=n,cc._RF.pop()},{"./EventHandler":"EventHandler"}],EventHandler:[function(e,t,o){"use strict";cc._RF.push(t,"29488QUk+5Hnq5bk+c9DgPt","EventHandler"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function e(e,t,o,i){this.setTo(e,t,o,i)}return e.prototype.setTo=function(t,o,i,n){return e._gid++,this.id=e._gid,this.caller=t,this.method=o,this.args=i,this.once=n,this},e.prototype.clear=function(){this.caller=null,this.args=null,this.method=null},e.prototype.recover=function(){this.id>0&&(this.id=0,this.clear(),e._pool.push(this))},e.prototype.run=function(){if(null==this.method)return null;var e=this.id,t=this.method.apply(this.caller,this.args);return e===this.id&&this.once&&this.recover(),t},e.prototype.runWith=function(e){if(null==this.method)return null;var t=this.id;if(null==e)var o=this.method.apply(this.caller,this.args);else o=this.args||e.unshift?this.args?this.method.apply(this.caller,this.args.concat(e)):this.method.apply(this.caller,e):this.method.call(this.caller,e);return t===this.id&&this.once&&this.recover(),o},e.create=function(t,o,i,n){return void 0===i&&(i=null),void 0===n&&(n=!0),this._pool.length?this._pool.pop().setTo(t,o,i,n):new e(t,o,i,n)},e._pool=[],e._gid=0,e}();o.default=i,cc._RF.pop()},{}],EvpKDF:[function(e,t,o){"use strict";cc._RF.push(t,"1c8c4DjMeJLy5jnF80egbkZ","EvpKDF"),Object.defineProperty(o,"__esModule",{value:!0}),o.EvpKDF=void 0;var i=e("../lib/WordArray"),n=e("./MD5"),r=function(){function e(e){this.cfg=Object.assign({keySize:4,hasher:n.MD5,iterations:1},e)}return e.prototype.compute=function(e,t){for(var o,n=new this.cfg.hasher,r=new i.WordArray;r.words.length<this.cfg.keySize;){o&&n.update(o),o=n.update(e).finalize(t),n.reset();for(var a=1;a<this.cfg.iterations;a++)o=n.finalize(o),n.reset();r.concat(o)}return r.sigBytes=4*this.cfg.keySize,r},e}();o.EvpKDF=r,cc._RF.pop()},{"../lib/WordArray":"WordArray","./MD5":"MD5"}],ExtractCashWin:[function(e,t,o){"use strict";cc._RF.push(t,"707a8b0qEtCYZzJxTsWPhZk","ExtractCashWin");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../../../core/ui/ViewBase"),a=e("../../../../../core/GlobalEvent"),s=e("../extractCash/ExtractEvent"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.msgLabel=null,t.curMoneyNumLabel=null,t.ecNumEditBox=null,t.rateLabel=null,t}return n(t,e),t.prototype.initView=function(){this.model=Global.ModelManager.getModel("ExtractModel"),this.msgLabel=this.getComponent("aliMsg/msgLabel",cc.Label),this.curMoneyNumLabel=this.getComponent("CurMoneyBox/curMoneyNumLabel",cc.Label),this.ecNumEditBox=this.getComponent("ecEditBox",cc.EditBox),this.rateLabel=this.getComponent("rateLabel",cc.Label),this.addCommonClick("confirmBtn",this.confirmBtn,this),this.addCommonClick("resetBtn",this.resetBtnFunc,this)},t.prototype.chipItemToggleFunc=function(e){var t=""!=this.ecNumEditBox.string?parseFloat(this.ecNumEditBox.string):0;t=Math.max(t,0),t=Math.round(100*t)/100,t+=e,this.ecNumEditBox.string=t+""},t.prototype.onSubViewShow=function(){this.model.on(s.ExtractEvent.ChipItemToggle,this,this.chipItemToggleFunc),Global.Event.on(a.default.PERSONALINFOUPDATE,this,this.updateCurMoney),this.updateCurMoney(),this.updateChipList(),this.resetBtnFunc()},t.prototype.onSubViewHide=function(){this.model.off(s.ExtractEvent.ChipItemToggle,this,this.chipItemToggleFunc),Global.Event.off(a.default.PERSONALINFOUPDATE,this,this.updateCurMoney)},t.prototype.updateCurMoney=function(){this.model.bankDatas},t.prototype.resetBtnFunc=function(){this.ecNumEditBox.string=""},t.prototype.confirmBtn=function(){},t.prototype.updateChipList=function(){},t}(r.default);o.default=l,cc._RF.pop()},{"../../../../../core/GlobalEvent":"GlobalEvent","../../../../../core/ui/ViewBase":"ViewBase","../extractCash/ExtractEvent":"ExtractEvent"}],ExtractEvent:[function(e,t,o){"use strict";cc._RF.push(t,"6833fRDaXFBzK0m5lMm6K3q","ExtractEvent"),Object.defineProperty(o,"__esModule",{value:!0}),o.ExtractEvent=void 0;var i=function(){function e(){}return e.OnUpdateBankBindInfo="OnUpdateBankBindInfo",e.BankBindInfoOver="BankBindInfoOver",e.OnUpdateApplyCashList="OnUpdateapplyCashList",e.OnUpdateAllPutList="OnUpdateAllPutList",e.ChipItemToggle="ChipItemToggle",e}();o.ExtractEvent=i,cc._RF.pop()},{}],ExtractModel:[function(e,t,o){"use strict";cc._RF.push(t,"4cfefUvJuFGsIdxRio71law","ExtractModel");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../hall/ui/money/ui/extractCash/ExtractEvent"),a=e("../../../framework/model/ModelBase"),s=e("../../core/net/hall/NetEvent"),l=e("../../core/tool/AppHelper"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bankArray=["\u4e2d\u56fd\u90ae\u653f\u50a8\u84c4\u94f6\u884c","\u4e2d\u56fd\u5de5\u5546\u94f6\u884c","\u5174\u4e1a\u94f6\u884c","\u4e2d\u56fd\u5efa\u8bbe\u94f6\u884c","\u4e2d\u56fd\u94f6\u884c","\u4e2d\u56fd\u519c\u4e1a\u94f6\u884c","\u4e2d\u56fd\u5149\u5927\u94f6\u884c","\u5e7f\u53d1\u94f6\u884c","\u534e\u590f\u94f6\u884c","\u4ea4\u901a\u94f6\u884c","\u62db\u5546\u94f6\u884c","\u4e2d\u56fd\u6c11\u751f\u94f6\u884c","\u5e73\u5b89\u94f6\u884c","\u5317\u4eac\u94f6\u884c","\u6d66\u53d1\u94f6\u884c","\u4e0a\u6d77\u94f6\u884c","\u4e2d\u4fe1\u94f6\u884c","\u6e24\u6d77\u94f6\u884c","\u4e1c\u4e9a\u94f6\u884c","\u5b81\u6ce2\u94f6\u884c"],t.overseasBankArray=["\u827e\u82ac\u9280\u884c\uff08Affin Bank\uff09","\u5b89\u8054\u9280\u884c\uff08Alliance Bank\uff09","\u5927\u9a6c\u9280\u884c\uff08Am Bank\uff09","\u8054\u660c\u9280\u884c\uff08CIMB Bank\uff09","\u8c50\u9686\u9280\u884c\uff08Hong Leong Bank\uff09","\u9a6c\u6765\u897f\u4e9a\u9280\u884c\uff08May Bank\uff09","\u5927\u4f17\u9280\u884c\uff08Public Bank\uff09","\u8208\u696d\u9280\u884c\uff08RHB Bank\uff09","\u56fd\u6c11\u50a8\u84c4\u9280\u884c\uff08Bank Simpanan National\uff09","\u532f\u8c50\u9280\u884c \uff08HSBC Bank\uff09","\u83ef\u50d1\u9280\u884c \uff08OCBC bank\uff09","\u82b1\u65d7\u9280\u884c \uff08Citi bank\uff09","\u4eba\u6c11\u9280\u884c\uff08bank rakyat\uff09","\u5927\u83ef\u94f6\u884c \uff08United Overseas Bank\uff09"],t.bankCoke={"\u4e2d\u56fd\u90ae\u653f\u50a8\u84c4\u94f6\u884c":"POST","\u4e2d\u56fd\u5de5\u5546\u94f6\u884c":"ICBC","\u5174\u4e1a\u94f6\u884c":"CIB","\u4e2d\u56fd\u5efa\u8bbe\u94f6\u884c":"CCB","\u4e2d\u56fd\u94f6\u884c":"BOC","\u4e2d\u56fd\u519c\u4e1a\u94f6\u884c":"ABC","\u4e2d\u56fd\u5149\u5927\u94f6\u884c":"CEB","\u5e7f\u53d1\u94f6\u884c":"CGB","\u534e\u590f\u94f6\u884c":"HXB","\u4ea4\u901a\u94f6\u884c":"BOCO","\u62db\u5546\u94f6\u884c":"CMBCHINA","\u4e2d\u56fd\u6c11\u751f\u94f6\u884c":"CMBC","\u5e73\u5b89\u94f6\u884c":"PAB","\u5317\u4eac\u94f6\u884c":"BCCB","\u6d66\u53d1\u94f6\u884c":"SPDB","\u4e0a\u6d77\u94f6\u884c":"SHB","\u4e2d\u4fe1\u94f6\u884c":"ECITIC","\u6e24\u6d77\u94f6\u884c":"CBHB","\u4e1c\u4e9a\u94f6\u884c":"BEA","\u5b81\u6ce2\u94f6\u884c":"NB","":""},t.aliChipsArray=[100,200,300,400,500],t.unionChipsArray=[500,1e3,2e3,3e3,5e3],t.bankDatas=null,t.applyCashList=null,t.cashListPage=1,t.cashListData=[],t.cashTotal=0,t.allPutList=null,t.defautProvinceCode=1e5,t}return n(t,e),t.prototype.getBankArray=function(){return this.bankArray},t.prototype.getOverseasBankArray=function(){return this.overseasBankArray},t.prototype.getBankCoke=function(e){return this.bankCoke[e]},Object.defineProperty(t.prototype,"Name",{get:function(){return"ExtractModel"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"BankLocationInfo",{get:function(){return this.banklocationInfo},set:function(e){this.banklocationInfo=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"DefautProvinceCode",{get:function(){return this.defautProvinceCode},set:function(e){this.defautProvinceCode=e},enumerable:!1,configurable:!0}),t.prototype.GetDefautCityCode=function(e){if(this.banklocationInfo.hasOwnProperty(e))for(var t in this.banklocationInfo[e].city)if(this.banklocationInfo[e].city.hasOwnProperty(t))return t},t.prototype.onInit=function(){},t.prototype.IntoWnd=function(){this.reqGetBankInfo(),l.default.isCash=!0,Global.UI.show("WndRecharge")},t.prototype.reqGetBankInfo=function(e){void 0===e&&(e=!1),this.bankDatas=null;var t={bind_type:0};e&&(t.random=Math.floor(1e4*Math.random())),Global.HallServer.send(s.NetAppface.mod,s.NetAppface.GetBankInfo,t,this.onResGetBankInfo.bind(this),null,!1)},t.prototype.onResGetBankInfo=function(e){this.bankDatas=e,this.event(r.ExtractEvent.OnUpdateBankBindInfo)},t.prototype.getAliChipsArray=function(){return this.aliChipsArray},t.prototype.getUnionChipsArray=function(){return this.unionChipsArray},t.prototype.getAliOneDayMax=function(){return this.bankDatas.ali_day_max_put_point},t.prototype.getUnionOneDayMax=function(){return this.bankDatas.bank_day_max_put_point},t.prototype.getAliMinLimit=function(){return this.bankDatas.ali_min_put_point},t.prototype.getAliMaxLimit=function(){return this.bankDatas.ali_max_put_point},t.prototype.getUnionMinLimit=function(){return this.bankDatas.bank_min_put_point},t.prototype.getUnionMaxLimit=function(){return this.bankDatas.bank_max_put_point},t.prototype.getAliPutServerRecharge=function(){return[this.bankDatas.ali_put_server_charge,this.bankDatas.min_put_server_charge]},t.prototype.getRateInfo=function(){var e=this.bankDatas.put_code_per_cen;return"\u5f53\u524d\u6253\u7801\u6d41\u6c34:"+(e/=100)+"\u500d"||""},t.prototype.getPutInfo=function(e){var t=1==e?this.bankDatas.bank_put_server_charge_set:this.bankDatas.ali_put_server_charge_set,o="";if(t&&1==t.length)t[0]&&(r=t[0].fee)>0&&(o="\n4.\u5355\u6b21\u63d0\u73b0\u6536\u53d6\u63d0\u73b0\u989d\u5ea6"+r+"%\u7684\u624b\u7eed\u8d39");else if(t&&t.length>1){o+="\n4.";for(var i=0;i<t.length;i++){var n=t[i],r=n.fee,a=n.min_point/100,s=n.max_point/100;o+=r>0?"\u5145\u503c\u6d41\u6c34"+a+"\u500d~"+s+"\u500d\u6536\u53d6"+r+"%\u7684\u624b\u7eed\u8d39\uff0c":"\u5145\u503c\u6d41\u6c34"+a+"\u500d\u4ee5\u4e0a\u65e0\u9700\u624b\u7eed\u8d39"}}if(!o){var l=1==e?this.bankDatas.min_put_server_charge:this.bankDatas.ali_put_server_charge;l>0&&(o="\n4.\u5355\u6b21\u63d0\u73b0\u6536\u53d6\u63d0\u73b0\u989d\u5ea6"+l+"%\u7684\u624b\u7eed\u8d39")}return o},t.prototype.getBankPutServerRecharge=function(){return[this.bankDatas.bank_put_server_charge,this.bankDatas.min_put_server_charge]},t.prototype.haveAli=function(){return null!=this.bankDatas.ali_account&&""!=this.bankDatas.ali_account},t.prototype.haveUnion=function(){return null!=this.bankDatas.entrus_bank_account&&""!=this.bankDatas.entrus_bank_account},t.prototype.haveOverseas=function(){return null!=this.bankDatas.over_sea_entrus_bank_account&&""!=this.bankDatas.over_sea_entrus_bank_account},t.prototype.reqBindAliInfo=function(e,t){var o={bind_type:2,aliAccount:t,aliName:e};Global.HallServer.send(s.NetAppface.mod,s.NetAppface.BindBankInfo,o,this.onResBindAliInfo.bind(this))},t.prototype.onResBindAliInfo=function(){Global.UI.fastTip("\u7ed1\u5b9a\u6210\u529f"),this.reqGetBankInfo(!0),this.event(r.ExtractEvent.BankBindInfoOver)},t.prototype.reqBindUnionInfo=function(e,t,o,i,n,r,a){var l={bind_type:1,entrusBankUser:e,entrusBankAccount:t,entrusBankName:o,bankName:i,bankProvcince:n,bankCity:r,bankCode:a};Global.HallServer.send(s.NetAppface.mod,s.NetAppface.BindBankInfo,l,this.onResBindUnionInfo.bind(this))},t.prototype.onResBindUnionInfo=function(){Global.UI.fastTip("\u7ed1\u5b9a\u6210\u529f"),this.reqGetBankInfo(!0),this.event(r.ExtractEvent.BankBindInfoOver)},t.prototype.reqAliApplyCash=function(e){var t=this;if(""!=Global.PlayerData.phone){if(this.checkEnough(2)){var o=this.checkStr(2);o?Global.UI.showYesNoBox(o,function(){t.reqApplyCash(2,e)}):this.reqApplyCash(2,e)}}else Global.UI.showYesNoBox("\u8be5\u529f\u80fd\u9700\u8981\u8d26\u53f7\u7ed1\u5b9a\u624b\u673a\u540e\u624d\u80fd\u4f7f\u7528\uff0c\u662f\u5426\u7acb\u523b\u7ed1\u5b9a\u624b\u673a\uff1f",function(){Global.UI.show("WndBindPhone")})},t.prototype.reqApplyCash=function(e,t){var o=this,i={type:e,point:t};Global.HallServer.send(s.NetAppface.mod,s.NetAppface.ApplyCash,i,function(t){o.onResApplyCash(t,e)})},t.prototype.reqUnionApplyCash=function(e){var t=this;if(""!=Global.PlayerData.phone){if(this.checkEnough(1)){var o=this.checkStr(1);o?Global.UI.showYesNoBox(o,function(){t.reqApplyCash(1,e)}):this.reqApplyCash(1,e)}}else Global.UI.showYesNoBox("\u8be5\u529f\u80fd\u9700\u8981\u8d26\u53f7\u7ed1\u5b9a\u624b\u673a\u540e\u624d\u80fd\u4f7f\u7528\uff0c\u662f\u5426\u7acb\u523b\u7ed1\u5b9a\u624b\u673a\uff1f",function(){Global.UI.show("WndBindPhone")})},t.prototype.checkStr=function(e){var t=this.bankDatas.put_code_per_cen,o=1==e?this.bankDatas.bank_put_server_charge_set:this.bankDatas.ali_put_server_charge_set;t=(t/100).toFixed(2);var i="";if(o&&o.length>1){for(var n=0;n<o.length;n++){var r=o[n],a=r.fee,s=(r.min_point/100).toFixed(2);(r.max_point/100).toFixed(2),i+=a>0?s+"\u500d\u6253\u7801\u91cf\uff1a"+a+"%\u624b\u7eed\u8d39\n":s+"\u500d\u6253\u7801\u91cf\uff1a\u514d\u624b\u7eed\u8d39\n"}i+="\u5f53\u524d\u6253\u7801\u500d\u6570<color = red>"+t+"</c>\u500d\uff0c\u662f\u5426\u73b0\u5728\u63d0\u73b0\uff1f"}return i},t.prototype.checkEnough=function(){var e=this.bankDatas.put_code_per_cen;return!((e/=100)<1&&(Global.UI.fastTip("\u5f53\u524d\u6253\u7801\u6d41\u6c34\u4e0d\u8db31\u500d\uff0c\u65e0\u6cd5\u53d1\u8d77\u63d0\u73b0"),1))},t.prototype.getExtralLevel=function(e,t){for(var o=t.length-1;o>=0;o--){var i=t[o];if(e>=i.min_point/100)return i}},t.prototype.getFreeExtralLevel=function(e){for(var t=e.length-1;t>=0;t--){var o=e[t];if(o.fee<=0)return o}return null},t.prototype.onResApplyCash=function(){Global.UI.showSingleBox("\u7533\u8bf7\u51fa\u6b3e\u540e3\u5206\u949f\u5185\u5230\u8d26\uff0c\u63d0\u73b0\u524d\u8bf7\u786e\u8ba4\u7ed1\u5b9a\u8d26\u6237\u4fe1\u606f\u51c6\u786e\u65e0\u8bef\uff0c\u611f\u8c22\u60a8\u5bf9\u5e73\u53f0\u7684\u652f\u6301\u4e0e\u7406\u89e3!"),Global.HallServer.send(s.NetAppface.mod,s.NetAppface.GetUserPoint,{})},t.prototype.reqApplyCashList=function(e){var t=this;if(void 0===e&&(e=!1),e){if(this.cashListData.length>=this.cashTotal)return void Global.UI.fastTip("\u65e0\u66f4\u591a\u4fe1\u606f");this.cashListPage++}else this.cashListPage=1;var o=this.cashTotal-6*(this.cashListPage-1)>6?6:this.cashTotal-6*(this.cashListPage-1),i={page:this.cashListPage,pagesize:0==o?6:o,type:0};Global.Event.event(GlobalEvent.SHOW_NET_WAITING,"ApplyCashList",3),Global.HallServer.send(s.NetAppface.mod,s.NetAppface.ApplyCashList,i,function(e){Global.Event.event(GlobalEvent.HIDE_NET_WAITING,"ApplyCashList"),e.list.length<6?(t.cashTotal=6*(t.cashListPage-1)+e.list.length,0==e.list.length&&(t.cashListPage--,t.cashTotal=t.cashListData.length)):t.cashTotal=e.total;var o=e.list||[];if(o){if(1==t.cashListPage)t.cashListData=o;else{if(t.cashListData.length>t.cashTotal)return;t.cashListData=t.cashListData.concat(o)}t.event(r.ExtractEvent.OnUpdateApplyCashList)}})},t.prototype.getCashListData=function(){return this.cashListData},t.prototype.reqGetAllPutList=function(){Global.HallServer.send(s.NetAppface.mod,s.NetAppface.GetAllPayPutList,null,this.onResGetAllPutList.bind(this),null,!1)},t.prototype.onResGetAllPutList=function(e){this.allPutList=e,this.event(r.ExtractEvent.OnUpdateAllPutList,this.allPutList)},t.prototype.reqBindOverseasInfo=function(e,t,o){var i={bind_type:3,entrusBankUser:e,entrusBankAccount:t,entrusBankName:o};Global.HallServer.send(s.NetAppface.mod,s.NetAppface.BindBankInfo,i,this.onResBindOverseasInfo.bind(this))},t.prototype.onResBindOverseasInfo=function(){Global.UI.fastTip("\u7ed1\u5b9a\u6210\u529f"),this.reqGetBankInfo(!0),this.event(r.ExtractEvent.BankBindInfoOver)},t.prototype.getOverseasMinLimit=function(){return this.bankDatas.over_sea_bank_max_put_point},t.prototype.getOverseasMaxLimit=function(){return this.bankDatas.over_sea_bank_min_put_point},t.prototype.getOverseasOneDayMax=function(){return this.bankDatas.over_sea_bank_day_max_put_point},t.prototype.getOverseasPutServerRecharge=function(){return[this.bankDatas.over_sea_bank_put_server_charge,this.bankDatas.min_put_server_charge]},t.prototype.reqOverseasApplyCash=function(e){var t=this;if(""!=Global.PlayerData.phone){var o={type:3,point:e};Global.HallServer.send(s.NetAppface.mod,s.NetAppface.ApplyCash,o,function(e){t.onResApplyCash(e,3)})}else Global.UI.showYesNoBox("\u8be5\u529f\u80fd\u9700\u8981\u8d26\u53f7\u7ed1\u5b9a\u624b\u673a\u540e\u624d\u80fd\u4f7f\u7528\uff0c\u662f\u5426\u7acb\u523b\u7ed1\u5b9a\u624b\u673a\uff1f",function(){Global.UI.show("WndBindPhone")})},t}(a.default);o.default=c,cc._RF.pop()},{"../../../framework/model/ModelBase":"ModelBase","../../core/net/hall/NetEvent":"NetEvent","../../core/tool/AppHelper":"AppHelper","../../hall/ui/money/ui/extractCash/ExtractEvent":"ExtractEvent"}],ExtractRecordItem:[function(e,t,o){"use strict";cc._RF.push(t,"cff6e2gwkJM+b91KP0iYzPG","ExtractRecordItem");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,l=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.timeLabel=null,t.modeLabel=null,t.numLabel=null,t.stateNodes=[],t.data=null,t}return n(t,e),t.prototype.reset=function(){},t.prototype.setData=function(e){this.data=e,this.timeLabel.string=e.create_date,this.modeLabel.string=1==e.type?"\u94f6\u884c\u5361\u63d0\u73b0":"\u652f\u4ed8\u5b9d\u63d0\u73b0",this.numLabel.string=(e.point/Global.Setting.glodRatio).toFixed(0);for(var t=0;t<this.stateNodes.length;t++)this.stateNodes[t].active=e.status+1==t},t.prototype.errorBtnFunc=function(){this.data&&(Global.Audio.playBtnSound(),Global.UI.showAlertBox(this.data.reason))},r([l(cc.Label)],t.prototype,"timeLabel",void 0),r([l(cc.Label)],t.prototype,"modeLabel",void 0),r([l(cc.Label)],t.prototype,"numLabel",void 0),r([l([cc.Node])],t.prototype,"stateNodes",void 0),r([s],t)}(cc.Component);o.default=c,cc._RF.pop()},{}],FantasySkinModuleCfg:[function(e,t,o){"use strict";cc._RF.push(t,"e8c58VafqlEWaCDof44Zy2R","FantasySkinModuleCfg");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cfg=["LoginModule","HallModule","PersonalInfoModule","PlayerInfoModule","BankModule","ActivityCenterModule","BackUpGameModule","BindingGiftModule","CashBackModule","GameLobbyShellModule","CommisionModule","CommonModule","FeedbackModule","MsgModule","RankModule","RechargeGiftModule","RechargeModule","ServicerModule","ShareModule","SpreadModule","SignActivityModule","VipQuickPayChatModule"],t}return n(t,e),t}(e("./ModuleCfgBase").default);o.default=r,cc._RF.pop()},{"./ModuleCfgBase":"ModuleCfgBase"}],FastTip:[function(e,t,o){"use strict";cc._RF.push(t,"0b8c4bIl7NM6LFIXQYZk8ox","FastTip");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(){function e(){this.tipList=[],this.msgList=[],this.CHECK_INTERVAL=.3,this.TIP_DISTANCE_H=50,this.MAX_TIP_COUNT=5,this.FADE_OUT_TIME=.1,this.MOVE_UP_TIME=.2,this.START_POS_Y=20,this.TIP_LIVE_TIME=2,this.timeInterval=0,this.curTipIndex=0,this.hasInit=!1}return e.prototype.initTip=function(e){var t=this;this.timeInterval=0,this.hasInit&&Logger.error("\u91cd\u590d\u521d\u59cb\u5316"),Global.ResourceManager.loadRes("hall/prefabs/ui/FastTipItem",function(o,i){if(cc.isValid(e)){if(null!=o&&Logger.error(o.message),i){for(var n=0;n<t.MAX_TIP_COUNT;n++){var r=new a;r.setNode(cc.instantiate(i)),e.addChild(r.node),r.node.name="tip"+n,r.active=!1,t.tipList.push(r)}t.hasInit=!0}}else Logger.log("root\u5df2\u7ecf\u9500\u6bc1")})},e.prototype.show=function(e){if(null!=e&&""!=e)if(this.isFisrt()){var t=this.getTip();if(null==t)return;t.reset(),t.show(e,this.START_POS_Y,0,this.FADE_OUT_TIME,this.TIP_LIVE_TIME)}else{if(!this.filter(e))return;this.msgList.push(e)}},e.prototype.filter=function(e){if(this.msgList.indexOf(e)>-1)return!1;for(var t=0;t<this.tipList.length;t++)if(this.tipList[t].getContent()==e)return!1;return!0},e.prototype.clearAll=function(){for(var e=0;e<this.tipList.length;e++)this.tipList[e].dispose();this.tipList=[],this.hasInit=!1},e.prototype.onUpdate=function(e){if(this.hasInit&&(this.timeInterval+=e,this.timeInterval>this.CHECK_INTERVAL)){if(this.timeInterval=0,0==this.msgList.length)return;var t=this.msgList.shift(),o=this.getTip();o.reset(),o.show(t,this.START_POS_Y,this.MOVE_UP_TIME,this.FADE_OUT_TIME,this.TIP_LIVE_TIME);for(var i=0;i<this.tipList.length;i++)this.tipList[i]!=o&&this.tipList[i].isRunning&&this.tipList[i].moveUp(this.MOVE_UP_TIME,this.TIP_DISTANCE_H)}},e.prototype.getTip=function(){var e=this.tipList[this.curTipIndex];return this.curTipIndex=(this.curTipIndex+1)%this.MAX_TIP_COUNT,e},e.prototype.isFisrt=function(){for(var e=0;e<this.tipList.length;e++)if(this.tipList[e].isRunning)return!1;return!0},e}();o.default=r;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.targetPosY=0,t}return n(t,e),t.prototype.initView=function(){this.content=this.getComponent("content",cc.Label),this.bgNode=this.getChild("black_bg")},t.prototype.setContent=function(e){var t=this;this.content.string=e;var o=this.content.node.width;setTimeout(function(){if(cc.isValid(t.content.node)){(o=t.content.node.width)<40&&(o=40);var e=o+150;e<602&&(e=602),t.bgNode.width=e}},20)},t.prototype.getContent=function(){if(this.node&&this.node.isValid)return this.content.string},t.prototype.reset=function(){this.targetPosY=0,this.node.active=!1,this.content.string="",this.content.unscheduleAllCallbacks(),this.node.stopAllActions()},t.prototype.show=function(e,t,o,i,n){var r=this;this.setContent(e),this.targetPosY=t,this.isRunning=!0,this.node.active=!0,this.node.y=t,this.node.opacity=0;var a=cc.sequence(cc.delayTime(o),cc.fadeIn(i));this.node.runAction(a),this.content.scheduleOnce(function(){r.node.runAction(cc.fadeOut(i)),r.isRunning=!1},n)},t.prototype.moveUp=function(e,t){this.targetPosY+=t,this.node.runAction(cc.moveTo(e,this.node.x,this.targetPosY).easing(cc.easeIn(1)))},t.prototype.dispose=function(){this.node&&this.node.isValid&&(this.node.removeFromParent(),this.node.destroy())},t}(e("../../../core/ui/ViewBase").default);cc._RF.pop()},{"../../../core/ui/ViewBase":"ViewBase"}],Feedback2:[function(e,t,o){"use strict";cc._RF.push(t,"e07f3NJ3ORHoYQ+Ys66EphJ","Feedback2");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isOpen=!1,t.tips=["1. \u5145\u503c\u95ee\u9898","2. \u63d0\u73b0\u95ee\u9898","3. \u6d3b\u52a8\u4f18\u60e0","4. \u4ee3\u7406\u95ee\u9898","5. \u6e38\u620f\u76f8\u5173","6. \u5176\u4ed6\u95ee\u9898"],t.server=null,t.order=-1,t}return n(t,e),t.prototype.initView=function(){var e=this;this.quickQuestionArea=this.getChild("quickQuestion"),this.quickQuestionItem=this.getChild("quickQuestion/item"),this.tips.forEach(function(t){var o=cc.instantiate(e.quickQuestionItem);o.active=!0,o.getChildByName("label").getComponent(cc.Label).string=t,e.quickQuestionArea.addChild(o),o.on(cc.Node.EventType.TOUCH_END,e.itemClick,e)})},t.prototype.onOpen=function(){},t.prototype.itemClick=function(){this.quickQuestion()},t.prototype.quickQuestion=function(){this.server.acceptService(this.order)},t.prototype.onClose=function(){},t}(e("../../../core/ui/ViewBase").default);o.default=r,cc._RF.pop()},{"../../../core/ui/ViewBase":"ViewBase"}],FeedbackConstants:[function(e,t,o){"use strict";cc._RF.push(t,"9b6f2p2CsdCYpfQpTykCguw","FeedbackConstants"),Object.defineProperty(o,"__esModule",{value:!0}),o.ServEntityType=o.RightViewType=o.TagType=o.FeedbackConstants=void 0;var i=function(){function e(){}return e.FeedbackListCallback="FeedbackListCallback",e.DealFeedbackCommit="DealFeedbackCommit",e.DealFeedbackDelete="DealFeedbackDelete",e}();o.FeedbackConstants=i,function(e){e[e.FEEDBACK=1]="FEEDBACK",e[e.ONLINE=2]="ONLINE",e[e.WX=3]="WX",e[e.QQ=4]="QQ",e[e.GZH=5]="GZH",e[e.ALI=6]="ALI",e[e.AT=7]="AT"}(o.TagType||(o.TagType={})),function(e){e[e.feedback=0]="feedback",e[e.onlineService=1]="onlineService",e[e.wxService=2]="wxService",e[e.qqService=3]="qqService",e[e.gzhService=4]="gzhService",e[e.aliService=5]="aliService",e[e.atService=6]="atService",e[e.FQA=7]="FQA",e[e.feedbackShowAndWrite=8]="feedbackShowAndWrite",e[e.noMsgTips=9]="noMsgTips",e[e.feedback2=10]="feedback2"}(o.RightViewType||(o.RightViewType={})),function(e){e.onlineService="onlineService",e.wxService="wxService",e.qqService="qqService",e.atService="atService"}(o.ServEntityType||(o.ServEntityType={})),cc._RF.pop()},{}],FeedbackLeftItem:[function(e,t,o){"use strict";cc._RF.push(t,"c09d0emPK1EuoZMqPeuAaCH","FeedbackLeftItem");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,l=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.BackgroundTxt=null,t.CheckTxt=null,t.Unread=null,t.CheckSprite=null,t.UnCheckSprite=null,t.toggle=null,t.typeSprite=null,t}return n(t,e),t.prototype.close=function(){this.node.active=!1},t.prototype.getGameData=function(){return this.nameData},t.prototype.onInit=function(e){this.nameData=e,this.initView()},t.prototype.initView=function(){this.BackgroundTxt.string=Global.Toolkit.removeEmoji(this.nameData),this.CheckTxt.string=Global.Toolkit.removeEmoji(this.nameData),this.toggle.isChecked=!1,this.toggle.uncheck()},t.prototype.SetBackgroundChecked=function(e){this.CheckSprite.node.active=e,this.UnCheckSprite.node.active=!e},t.prototype.SetTypeSprite=function(e,t){void 0===t&&(t=""),this.typeSprite&&cc.isValid(this.typeSprite)&&null!=this.typeSprite.node&&(""!=t?(this.typeSprite.node.active=!0,Global.ResourceManager.loadAutoAtlas(this.typeSprite,e,t,null,!1)):this.typeSprite.node.active=!1)},t.prototype.SetToggleChecked=function(){this.toggle.isChecked=!0,this.toggle.check()},t.prototype.SetUnReadActiveState=function(e){this.Unread.node.active=e},Object.defineProperty(t.prototype,"entityData",{get:function(){return this._entityData},set:function(e){this._entityData=e,null!=this._entityData.red_status&&this.SetUnReadActiveState(0===this._entityData.red_status)},enumerable:!1,configurable:!0}),r([l(cc.Label)],t.prototype,"BackgroundTxt",void 0),r([l(cc.Label)],t.prototype,"CheckTxt",void 0),r([l(cc.Sprite)],t.prototype,"Unread",void 0),r([l(cc.Sprite)],t.prototype,"CheckSprite",void 0),r([l(cc.Sprite)],t.prototype,"UnCheckSprite",void 0),r([l(cc.Toggle)],t.prototype,"toggle",void 0),r([l(cc.Sprite)],t.prototype,"typeSprite",void 0),r([s],t)}(cc.Component);o.default=c,cc._RF.pop()},{}],FeedbackListItem:[function(e,t,o){"use strict";cc._RF.push(t,"ab3ac+iPPBN0K2Yh7S9GM4d","FeedbackListItem");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./FeedbackConstants"),s=cc._decorator,l=s.ccclass,c=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label1=null,t.label2=null,t}return n(t,e),t.prototype.close=function(){this.node.active=!1},t.prototype.getGameData=function(){return this.gameData},t.prototype.onInit=function(e,t){this.gameData=e,this.dealpage=t,this.initView()},t.prototype.initView=function(){this.id=this.gameData.id,this.status=this.gameData.status,this.label1.string="\u95ee\u9898"+this.gameData.problem_id;var e=this.gameData.problem,t=e.split("\n");t.length>0?this.label2.string=Global.Toolkit.substrEndWithElli(t[0],24):this.label2.string=Global.Toolkit.substrEndWithElli(e,24),this.answer=this.gameData.answer},t.prototype.deleteItemByID=function(){Global.Audio.playBtnSound();var e={type:1,problem:"",id:this.id};Global.ModelManager.getModel("FeedbackModel").dealFeedback(e,this.dealpage)},t.prototype.openReplayDetail=function(){Global.Audio.playBtnSound();var e=Global.UI.getWindow("WndFeedback").getView("RightPanelView"),t=e.getView("feedbackShowAndWrite");t.setShowOrEdit(1),t.setData(this.gameData.problem,this.answer),e.changeView(a.RightViewType.feedbackShowAndWrite)},r([c(cc.Label)],t.prototype,"label1",void 0),r([c(cc.Label)],t.prototype,"label2",void 0),r([l],t)}(cc.Component);o.default=p,cc._RF.pop()},{"./FeedbackConstants":"FeedbackConstants"}],FeedbackModel:[function(e,t,o){"use strict";cc._RF.push(t,"55c70vBYK1J/LAkv8fZALUf","FeedbackModel");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../framework/model/ModelBase"),a=e("../../core/net/hall/NetEvent"),s=e("../../hall/ui/Feedback/FeedbackConstants"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.limit=5,t}return n(t,e),Object.defineProperty(t.prototype,"Name",{get:function(){return"FeedbackModel"},enumerable:!1,configurable:!0}),t.prototype.GetProblemList=function(e,t,o,i){var n=this;void 0===t&&(t=!1),void 0===o&&(o=!1),void 0===i&&(i=!1),Global.HallServer.send(a.NetAppface.mod,a.NetAppface.GetProblem,{limit:this.limit,page:e},function(e){var t=e.data;n.responePage=e.page,n.total=e.total,n.totalPage=Math.ceil(n.total/n.limit),n.event(s.FeedbackConstants.FeedbackListCallback,t)},this.SpreadErronFunc.bind(this),i)},t.prototype.dealFeedback=function(e,t){var o=this;Global.HallServer.send(a.NetAppface.mod,a.NetAppface.SetProblem,e,function(){0==e.type?o.event(s.FeedbackConstants.DealFeedbackCommit):1==e.type&&(Global.UI.getWindow("WndFeedback").getView("RightPanelView").getView("feedback").clearItem(!0),o.GetProblemList(t))},this.SpreadErronFunc.bind(this))},t.prototype.SpreadErronFunc=function(e){return null==e._errstr||(Global.UI.fastTip(e._errstr),!1)},t}(r.default);o.default=l,cc._RF.pop()},{"../../../framework/model/ModelBase":"ModelBase","../../core/net/hall/NetEvent":"NetEvent","../../hall/ui/Feedback/FeedbackConstants":"FeedbackConstants"}],FeedbackModule:[function(e,t,o){"use strict";cc._RF.push(t,"0c8a8CmoVxAqYIHxKgB95rj","FeedbackModule");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.viewClass="WndFeedback",t.modelClass="FeedbackModel",t.resPaths=[],t.prefabPaths=["hall/prefabs/ui/FeedbackUI"],t.children=[],t}return n(t,e),t}(e("../../../framework/module/ModuleBase").ModuleBase);o.default=r,cc._RF.pop()},{"../../../framework/module/ModuleBase":"ModuleBase"}],FeedbackServiceItem:[function(e,t,o){"use strict";cc._RF.push(t,"5620aE6k3RLoq8RGkzoRUpd","FeedbackServiceItem");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../../hallcommon/model/ServicerModel"),s=cc._decorator,l=s.ccclass,c=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spriteList=[],t.stringList=[],t.iconSprite=null,t.iconName=null,t.servicerName=null,t.data=null,t}return n(t,e),t.prototype.refreshUI=function(e){if(e){this.data=e,this.iconSprite.spriteFrame=this.spriteList[e.type];var t=e.msg||this.stringList[e.type];this.iconName.string=Global.Toolkit.substrEndWithElli(t,8),this.servicerName.string=Global.Toolkit.substrEndWithElli(e.data,10)}else Logger.error("\u5ba2\u670d\u4fe1\u606f\u4e0d\u5b58\u5728")},t.prototype.awakeQQCallBack=function(e){0==e.result||(-1==e.result?(Logger.log("\u8bf7\u5148\u5b89\u88c5QQ"),Global.UI.showSingleBox("\u8bf7\u5148\u5b89\u88c5QQ",null)):(Logger.log("\u6253\u5f00QQ\u5931\u8d25"),Global.UI.showSingleBox("\u6253\u5f00QQ\u5931\u8d25",null)))},t.prototype.awakeWeChatCallBack=function(e){0==e.result||(-1==e.result?(Logger.log("\u8bf7\u5148\u5b89\u88c5\u5fae\u4fe1"),Global.UI.showSingleBox("\u8bf7\u5148\u5b89\u88c5\u5fae\u4fe1",null)):(Logger.log("\u6253\u5f00\u5fae\u4fe1\u5931\u8d25"),Global.UI.showSingleBox("\u6253\u5f00\u5fae\u4fe1\u5931\u8d25",null)))},t.prototype.copyTextToClipboardCallBack=function(e){0==e.result?(Global.UI.fastTip("\u590d\u5236\u6210\u529f"),this.data.type==a.PopItemType.QQ?Global.NativeEvent.awakeQQApp(this.awakeQQCallBack.bind(this)):this.data.type!=a.PopItemType.WX&&this.data.type!=a.PopItemType.WXPUBLIC||Global.NativeEvent.awakeWechatApp(this.awakeWeChatCallBack.bind(this))):Global.UI.fastTip("\u590d\u5236\u5931\u8d25")},t.prototype.ServicerBtnFunc=function(){switch(this.data.type){case a.PopItemType.QQ:case a.PopItemType.WX:case a.PopItemType.WXPUBLIC:Global.NativeEvent.copyTextToClipboard(this.data.data,this.copyTextToClipboardCallBack.bind(this));break;case a.PopItemType.Link:case a.PopItemType.AtLink:cc.sys.openURL(Global.Toolkit.DealWithUrl(this.data.data));break;case a.PopItemType.AtWnd:Global.ChatServer.serverType=a.CustomerEntranceType.HallService,Global.ChatServer.userSetting(null,this.data.data)}},r([c([cc.SpriteFrame])],t.prototype,"spriteList",void 0),r([c([cc.String])],t.prototype,"stringList",void 0),r([c(cc.Sprite)],t.prototype,"iconSprite",void 0),r([c(cc.Label)],t.prototype,"iconName",void 0),r([c(cc.Label)],t.prototype,"servicerName",void 0),r([l],t)}(cc.Component);o.default=p,cc._RF.pop()},{"../../../hallcommon/model/ServicerModel":"ServicerModel"}],FeedbackShowAndWriteView:[function(e,t,o){"use strict";cc._RF.push(t,"9a5a1WC/5dOCYU1Py7NwfCx","FeedbackShowAndWriteView");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/ui/ViewBase"),a=e("./FeedbackConstants"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isShowOrEdit=0,t.isOpen=!1,t.tips=["\u4ee3\u7406\u51fa\u9519\u4e86","\u5145\u503c\u4e0d\u5230\u8d26","\u8fdb\u4e0d\u53bb\u6e38\u620f","\u63d0\u73b0\u4e0d\u6210\u529f","\u7ed1\u4e0d\u4e86\u624b\u673a","\u73a9\u6e38\u620f\u5f88\u5361","\u770b\u4e0d\u89c1\u6e38\u620f"],t}return n(t,e),t.prototype.initView=function(){var e=this;this.questionEdit=this.getChild("box/questionEditBox").getComponent(cc.EditBox),this.questionShow=this.getChild("box/questionShowBox").getComponent(cc.Label),this.quickQuestionArea=this.getChild("bottom/quickQuestion"),this.quickQuestionItem=this.getChild("bottom/quickQuestion/item"),this.answerText=this.getChild("box/answerText").getComponent(cc.Label),this.quickQuestionBtn=this.getChild("bottom/btnNode"),this.commitBtn=this.getChild("bottom/commitBtn"),this.cancelBtn=this.getChild("bottom/cancelNode"),this.addCommonClick("bottom/btnNode",this.quickQuestion,this),this.addCommonClick("bottom/commitBtn",this.commitOrBack,this),this.addCommonClick("bottom/cancelNode",this.backAction,this),this.tips.forEach(function(t){var o=cc.instantiate(e.quickQuestionItem);o.active=!0,o.getChildByName("label").getComponent(cc.Label).string=t,e.quickQuestionArea.addChild(o),o.on(cc.Node.EventType.TOUCH_END,e.itemClick,e)}),this.model=Global.ModelManager.getModel("FeedbackModel")},t.prototype.setShowOrEdit=function(e){this.isShowOrEdit=e},t.prototype.setData=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.questionShow.string=e[0],this.answerText.string=e[1]},t.prototype.onSubViewShow=function(){1==this.isShowOrEdit?(this.questionEdit.node.active=!1,this.questionShow.node.active=!0,this.quickQuestionArea.active=!1,this.answerText.node.active=!0,this.quickQuestionBtn.active=!1,this.cancelBtn.active=!0,this.commitBtn.active=!1):0==this.isShowOrEdit&&(this.questionEdit.node.active=!0,this.questionShow.node.active=!1,this.quickQuestionArea.active=!1,this.answerText.node.active=!1,this.quickQuestionBtn.active=!0,this.cancelBtn.active=!1,this.commitBtn.active=!0,this.model.on(a.FeedbackConstants.DealFeedbackCommit,this,this.dealCommitCallback))},t.prototype.itemClick=function(e){this.questionEdit.string=e.target.getChildByName("label").getComponent(cc.Label).string,this.quickQuestion()},t.prototype.quickQuestion=function(){this.isOpen?this.quickQuestionArea.active=!1:this.quickQuestionArea.active=!0,this.isOpen=!this.isOpen},t.prototype.backAction=function(){1==this.isShowOrEdit&&(this.questionShow.string="",this.answerText.string="",Global.UI.getWindow("WndFeedback").getView("RightPanelView").changeView(a.RightViewType.feedback))},t.prototype.commitOrBack=function(){if(0==this.isShowOrEdit){var e=this.questionEdit.string;if(""==e.trim()||!e)return void Global.UI.fastTip("\u63d0\u4ea4\u5185\u5bb9\u4e3a\u7a7a\uff01");var t={type:0,problem:e,id:0};this.model.dealFeedback(t,this.model.responePage)}},t.prototype.dealCommitCallback=function(){this.questionEdit.string="",Global.UI.getWindow("WndFeedback").getView("RightPanelView").changeView(a.RightViewType.feedback)},t.prototype.onSubViewHide=function(){0==this.isShowOrEdit&&this.model.off(a.FeedbackConstants.DealFeedbackCommit,this,this.dealCommitCallback)},t}(r.default);o.default=s,cc._RF.pop()},{"../../../core/ui/ViewBase":"ViewBase","./FeedbackConstants":"FeedbackConstants"}],FeedbackView:[function(e,t,o){"use strict";cc._RF.push(t,"440f7CndKdNEL9QON/sgMDS","FeedbackView");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/ui/ViewBase"),a=e("./FeedbackConstants"),s=e("./FeedbackListItem"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.currentPage=1,t}return n(t,e),t.prototype.initView=function(){this.feedbackItem=this.getChild("feedbackItem"),this.label1=cc.find("label1",this.feedbackItem).getComponent(cc.Label),this.label2=cc.find("label2",this.feedbackItem).getComponent(cc.Label),this.content=this.getChild("content"),this.pageLabel=this.getChild("bottom/currentPage/pageLabel").getComponent(cc.Label),this.addCommonClick("bottom/btnNode",this.writeFeedback,this),this.addCommonClick("bottom/previous",this.previousPage,this),this.addCommonClick("bottom/next",this.nextPage,this),this.model=Global.ModelManager.getModel("FeedbackModel")},t.prototype.onSubViewShow=function(){this.model.on(a.FeedbackConstants.FeedbackListCallback,this,this.refreshFeedbackList),this.model.GetProblemList(this.currentPage)},t.prototype.refreshFeedbackList=function(e){var t=Global.UI.getWindow("WndFeedback").getView("RightPanelView");if(this.currentPage=this.model.responePage,!e||0==e.length){if(1==this.currentPage)return this.pageLabel.string="1/1",void t.showNotips(!0);this.model.GetProblemList(--this.currentPage)}t.showNotips(!1),this.pageLabel.string=this.currentPage+"/"+this.model.totalPage;for(var o=0;o<e.length;o++){var i=cc.instantiate(this.feedbackItem);i.active=!0,i.getComponent(s.default).onInit(e[o],this.model.responePage),this.content.addChild(i)}},t.prototype.writeFeedback=function(){var e=Global.UI.getWindow("WndFeedback").getView("RightPanelView");e.getView("feedbackShowAndWrite").setShowOrEdit(0),e.changeView(a.RightViewType.feedbackShowAndWrite)},t.prototype.previousPage=function(){this.currentPage>1?(this.currentPage--,this.pageLabel.string=this.currentPage+"/"+this.model.totalPage,this.clearItem(),this.model.GetProblemList(this.currentPage)):Global.UI.fastTip("\u5df2\u7ecf\u662f\u7b2c\u4e00\u9875\u4e86")},t.prototype.nextPage=function(){this.currentPage<this.model.totalPage?(this.currentPage++,this.pageLabel.string=this.currentPage+"/"+this.model.totalPage,this.clearItem(),this.model.GetProblemList(this.currentPage)):Global.UI.fastTip("\u5f53\u524d\u5df2\u7ecf\u662f\u6700\u5927\u9875\uff01")},t.prototype.clearItem=function(e){void 0===e&&(e=!1),this.content.removeAllChildren(),e&&(this.currentPage=1,this.pageLabel.string=this.currentPage+"/"+this.model.totalPage)},t.prototype.onSubViewHide=function(){this.model.off(a.FeedbackConstants.FeedbackListCallback,this,this.refreshFeedbackList),this.clearItem()},t}(r.default);o.default=l,cc._RF.pop()},{"../../../core/ui/ViewBase":"ViewBase","./FeedbackConstants":"FeedbackConstants","./FeedbackListItem":"FeedbackListItem"}],Formatter:[function(e,t,o){"use strict";cc._RF.push(t,"6b7afrHmptBS4xxd7hw9Pwq","Formatter"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],FsmManager:[function(e,t,o){"use strict";cc._RF.push(t,"a3191yI7ddDS4cQjMFSSXOi","FsmManager"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./Fsm"),n=function(){function e(){this.fsmList=[],this.removeIndexArr=[]}return e.prototype.createFsm=function(e){void 0===e&&(e="");var t=new i.default;return this.fsmList.push(t),t},e.prototype.onUpdate=function(){if(0!=this.fsmList.length){for(var e=0;e<this.fsmList.length;e++)this.fsmList[e].isDestroyed?this.removeIndexArr.push(e):this.fsmList[e].onUpdate();if(this.removeIndexArr.length>0){for(e=this.removeIndexArr.length-1;e>=0;e--)this.fsmList.splice(this.removeIndexArr[e],1);this.removeIndexArr.length=0}}},e}();o.default=n,cc._RF.pop()},{"./Fsm":"Fsm"}],FsmState:[function(e,t,o){"use strict";cc._RF.push(t,"7d83ekHvPxJy6Guxip0Q1aU","FsmState"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function e(){}return e.prototype.onInit=function(e){this.fsm=e},e.prototype.onEnter=function(){},e.prototype.onLeave=function(){},e.prototype.onDestory=function(){},e.prototype.onUpdate=function(){},e.prototype.changeStage=function(e){this.fsm.changeState(e)},e.prototype.onEvent=function(){},e}();o.default=i,cc._RF.pop()},{}],Fsm:[function(e,t,o){"use strict";cc._RF.push(t,"a9308h1RpxPVYm4HojzBTeQ","Fsm"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function e(){this.stateMap={},this.isDestroyed=!1}return Object.defineProperty(e.prototype,"isRunning",{get:function(){return null!=this.currentState},enumerable:!1,configurable:!0}),e.prototype.registState=function(e){if(null!=e){var t=e.type;null==this.stateMap[t]?(this.stateMap[t]=e,e.onInit(this),this.isDestroyed=!1):Logger.log("\u91cd\u590d\u6ce8\u518c\u72b6\u6001\u673a:"+t)}},e.prototype.removeState=function(e){if(this.hasState(e)){var t=this.getState(e);t!=this.currentState?(t.onDestory(),this.stateMap[e]=null):Logger.log("\u6b63\u5728\u8fd0\u884c\u7684state\u4e0d\u80fd\u79fb\u9664")}},e.prototype.changeState=function(e){var t=this.getState(e);null!=t?(null!=this.currentState&&this.currentState.onLeave(),this.currentState=t,t.onEnter()):Logger.log("\u627e\u4e0d\u5230\u72b6\u6001")},e.prototype.start=function(e){if(!this.isRunning){var t=this.getState(e);null!=t&&(this.currentState=t,this.currentState.onEnter())}},e.prototype.getState=function(e){return this.stateMap[e]},e.prototype.hasState=function(e){return null!=this.stateMap[e]},e.prototype.onUpdate=function(){null!=this.currentState&&this.currentState.onUpdate()},e.prototype.fireEvent=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];null!=this.currentState&&this.currentState.onEvent(e,t)},e.prototype.shutDown=function(){for(var e in null!=this.currentState&&(this.currentState.onLeave(),this.currentState=null),this.stateMap)this.stateMap[e].onDestory();this.stateMap={},this.isDestroyed=!0},e}();o.default=i,cc._RF.pop()},{}],GameBasePool:[function(e,t,o){"use strict";cc._RF.push(t,"3b07epQl6ZAlZ2u7gVzDq9t","GameBasePool"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function e(e){this.root=e,this.pool=[],this.preCreate()}return e.prototype.preCreate=function(){var e=this,t=0,o=function(){for(var i=0;i<e.everyCount;i++){var n=e.createItem();if(e.recycleItem(n),++t>=e.preCount){Game.Component.unschedule(o);break}}};Game.Component.schedule(o,.2)},Object.defineProperty(e.prototype,"preCount",{get:function(){return 30},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"everyCount",{get:function(){return 30},enumerable:!1,configurable:!0}),e.prototype.getItem=function(){return this.size>0?this.pool.pop():this.createItem()},e.prototype.getItemArr=function(e){for(var t=[],o=0;o<e;o++){var i=this.getItem();t.push(i)}return t},e.prototype.recycleItem=function(e){this.resetItem(e),this.pool.push(e)},e.prototype.recycleAll=function(e){var t=this;e.forEach(function(e){t.recycleItem(e)})},e.prototype.resetPool=function(){this.pool=[]},Object.defineProperty(e.prototype,"size",{get:function(){return this.pool.length},enumerable:!1,configurable:!0}),e}();o.default=i,cc._RF.pop()},{}],GameContext:[function(e,t,o){"use strict";cc._RF.push(t,"b3b70i8wZZJ1ZDFG4hGQqwr","GameContext"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function e(){this.dataMap={}}return e.prototype.set=function(e,t){this.dataMap[e]=t},e.prototype.get=function(e){return this.dataMap[e]},e.prototype.remove=function(e){this.dataMap[e]=null},e.prototype.getValue=function(e){var t=this.dataMap[e];return null==t?null:t},e.prototype.parseServerCfg=function(){},e.prototype.clearByRound=function(){},e}();o.default=i,cc._RF.pop()},{}],GameControl:[function(e,t,o){"use strict";cc._RF.push(t,"c37d6xlRLNKRrrvczd5dTdH","GameControl"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../net/hall/NetEvent"),n=e("./handlers/SessionHandler"),r=e("../setting/ServerRoutes"),a=e("./handlers/PvpWaitMatchHandler"),s=function(){function e(){this.SERVER_ROUTE_ERROR=-1,this.SERVER_LOCK=-2,this.NO_MOD=-3,this.IN_OTHER_LEVEL=-4,this.seq=0,this.GAME_DDZ_HJ_ARR=[20001],this.gsc="default",this.glv="l0",this.timeId=-1,this.curGid=0,this.curLv="l0",this.connectLock=!1,this.connectLockTimer=-1,this.enterSceneLock=!1,this.enterSceneLockTimer=-1,this.callEnterFunc=this.sendEnter.bind(this),this.isLabaGame=!1}return e.prototype.setup=function(){Game.Event.on(Game.EVENT_SOCKET_OPEN,this,this.onGameSocketOpen),Game.Event.on(Game.EVENT_SOCKET_ERROR,this,this.onGameSocketError)},e.prototype.setGlvAndGsc=function(e,t){void 0===e&&(e="l0"),void 0===t&&(t="default"),this.glv=e,this.gsc=t},e.prototype.setSession=function(e){Game.Server.setDst(e._para._gt,e._para._chair),Game.Server.sendHeartBeat()},e.prototype.sendEnter=function(e,t,o,i){void 0===i&&(i=null),Game.Server.passSSSAndEnter();var n=Game.Server.getSendParam(Game.Command.Enter);if(n._param._para={_gid:e},n._param._para._gsc=o,n._param._para._glv=t,i)for(var r in i)n._param._para[r]=i[r];this.enterData=n,Game.Server.sendDirect(n)},e.prototype.setContext=function(e){Game.Context=e,this.registDefaultHandler()},e.prototype.registDefaultHandler=function(){Game.Server.registDefaultHandler(Game.Command.Session,new n.default),Game.Server.registDefaultHandler(Game.Command.WaitMatch,new a.default)},e.prototype.registHandler=function(e,t){Game.Server.registHandler(e,t)},e.prototype.unregistHandler=function(e){Game.Server.unregistHandler(e)},e.prototype.connectGame=function(e,t,o,i,n){void 0===i&&(i=!1),void 0===n&&(n=!0),Game.Server.isRunning?Global.Event.event(GlobalEvent.HIDE_NET_WAITING,"enterGame"):(Game.Server.run(),Game.Server.connect(e,t,i,n),this.connectComplete=o)},e.prototype.trySendEnter=function(e){void 0===e&&(e=null),this.isLabaGame||(null==this.callEnterFunc&&(this.callEnterFunc=this.sendEnter.bind(this)),this.callEnterFunc(this.curGid,this.glv,this.gsc,e),this.startCheckMsgTimer())},e.prototype.startCheckMsgTimer=function(){this.stopCheckMsgTimer(),this.timeId=setTimeout(this.onMsgTimeOut.bind(this),1e3*Global.Setting.enterTimeout)},e.prototype.stopCheckMsgTimer=function(){-1!=this.timeId&&(clearTimeout(this.timeId),this.timeId=-1)},e.prototype.onMsgTimeOut=function(){Game.Server.stopGame();var e=function(){Game.Event.event(Game.EVENT_FORCE_LEAVE_GAME)};Global.UI.showSingleBox("\u7f51\u7edc\u8fde\u63a5\u5f02\u5e38\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5",e,e)},e.prototype.connnectAndEnterGame=function(e,t,o,i,n,r){var a=this;void 0===t&&(t="l0"),void 0===o&&(o="default"),void 0===n&&(n=!1),void 0===r&&(r=!1),this.getGameServerInfo(e,function(t,o){a.connectGame(t,o,function(){Global.HotUpdateManager.CurrentGame=e,a.enterSceneLock=!0,a.startEnterSceneLockTimer(),Global.SceneManager.loadGameScene()},n)},null,t,o,i,!1)},e.prototype.connnectAndEnterGameInLevelScene=function(e,t,o,i,n,r,a){var s=this;void 0===t&&(t="l0"),void 0===o&&(o="default"),void 0===r&&(r=!1),void 0===a&&(a=!1),a=this.needChooseLevel(e),this.getGameServerInfo(e,function(e,t){s.connectGame(e,t,function(){n&&n()},r)},null,t,o,i,!1)},e.prototype.connnectLabaGameServer=function(e,t,o,i,n,r){var a=this;void 0===t&&(t="l0"),void 0===o&&(o="default"),void 0===n&&(n=!1),void 0===r&&(r=!1),this.getGameServerInfo(e,function(t,o){a.isLabaGame=!0,a.connectGame(t,o,function(){Global.HotUpdateManager.CurrentGame=e,a.enterSceneLock=!0,a.startEnterSceneLockTimer(),Global.SceneManager.loadGameScene(),Game.Event.event(Game.EVENT_LABA_CONNECT)},n,!1)},null,t,o,i,!1)},e.prototype.getFishServerInfo=function(e,t,o,n,a){var s=this;if(void 0===o&&(o="l0"),void 0===n&&(n="default"),!this.connectLock&&!this.enterSceneLock){this.seq++,this.connectLock=!0,this.startConnectLockTimer(),this.glv=o,this.gsc=this.getRule(e,o),this.curGid=e;var l={};l.glv=o,l.gsc=n,l.gid=e,l.locker=a,l.seq=this.seq,l.game_skin=Global.Setting.SystemInfo.gameSkin,l.app_version=Global.Setting.SystemInfo.appVersion,l.device=Global.Toolkit.genDeviceInfo(),Global.Toolkit.checkMegeServer()&&(l.old_app_id=parseInt(Global.Setting.SystemInfo.appID)),a&&a._gid&&Game.Server.setDst(a._gt,a._chair),Global.HallServer.send(i.NetAppface.mod,i.NetAppface.GetGameRoute,l,function(i){s.connectLock=!1,s.stopConnectLockTimer();var a=Global.GameData.getGameInfo(Global.HotUpdateManager.CurrentGame);if(a&&a.native_version&&i&&i.version&&Global.Toolkit.versionCompare(a.native_version,i.version)<0)return Global.Setting.needHallChooseRoom?Global.Toolkit.transmitHallTip("\u60a8\u7684\u6e38\u620f\u4e0d\u662f\u6700\u65b0\u7248\u672c\uff0c\u8bf7\u91cd\u65b0\u542f\u52a8\u6e38\u620f\u66f4\u65b0\u81f3\u6700\u65b0\u7248\u672c\uff01[-1]"):s.showFastTipsError(Global.HotUpdateManager.CurrentGame,"\u60a8\u7684\u6e38\u620f\u4e0d\u662f\u6700\u65b0\u7248\u672c\uff0c\u8bf7\u91cd\u65b0\u542f\u52a8\u6e38\u620f\u66f4\u65b0\u81f3\u6700\u65b0\u7248\u672c\uff01",-1),Game.Event.event(Game.EVENT_FORCE_LEAVE_GAME),void Global.Event.event(GlobalEvent.FORCE_HIDE_WAITING);if(l.seq==s.seq){s.seq=0;var c=new r.default,p=i.routes;c.parse(p),Global.Setting.Urls.gameRoutes=c;var h=i.mods;if(Global.Setting.Urls.gameMods=h,null==h||0==h.length)return s.showFastTipsError(e,"\u670d\u52a1\u5668\u6b63\u5728\u7ef4\u62a4\u4e2d\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5",-1),void Global.Event.event(GlobalEvent.FORCE_HIDE_WAITING);var u=s.parseLocker(i,o,n),d=null;if(u.result<0)Global.Event.event(GlobalEvent.FORCE_HIDE_WAITING);else{1==u.result&&(d=u.mod);var f=s.getRandomFishServerInfo(d)[0];null!=t&&t(f)}}},function(e){return s.connectLock=!1,s.stopConnectLockTimer(),Global.HallServer.tryHandleError(e)},!0)}},e.prototype.getRandomFishServerInfo=function(e){var t=this.getServerRoute(Global.Setting.Urls.gameRoutes),o=this.getRandMod(Global.Setting.Urls.gameMods);e&&(o=e);var i=t.getPbSocketUrl(o);return i=Game.Server.getSocketUrl(i,!0),[Global.UrlUtil.dealWebSocketUrl(i),o]},e.prototype.startConnectLockTimer=function(){var e=this;this.stopConnectLockTimer(),this.connectLockTimer=setTimeout(function(){e.connectLock=!1},3e3)},e.prototype.stopConnectLockTimer=function(){-1!=this.connectLockTimer&&(clearTimeout(this.connectLockTimer),this.connectLockTimer=-1)},e.prototype.startEnterSceneLockTimer=function(){var e=this;this.stopEnterSceneLockTimer(),this.enterSceneLockTimer=setTimeout(function(){e.enterSceneLock=!1},2e3)},e.prototype.stopEnterSceneLockTimer=function(){-1!=this.enterSceneLockTimer&&(clearTimeout(this.enterSceneLockTimer),this.enterSceneLockTimer=-1)},e.prototype.getRule=function(e,t){var o=Global.GameData.getGameInfo(e);if(null==o||null==o.levels)return Logger.error("\u627e\u4e0d\u5230gid:"+e),"default";for(var i=0;i<o.levels.length;i++)if(o.levels[i].level==t)return o.levels[i].rule||"default";return"default"},e.prototype.getGameServerInfo=function(e,t,o,n,a,s,l){var c=this;if(void 0===n&&(n="l0"),void 0===a&&(a="default"),void 0===l&&(l=!1),!this.connectLock&&!this.enterSceneLock){this.seq++,a=this.getRule(e,n),this.connectLock=!0,this.startConnectLockTimer(),this.glv=n,this.gsc=a,this.curGid=e;var p={};p.seq=this.seq,p.glv=n,p.gsc=a,p.gid=e,p.game_skin=Global.Setting.SystemInfo.gameSkin,p.locker=s,p.app_version=Global.Setting.SystemInfo.appVersion,p.device=Global.Toolkit.genDeviceInfo(),Global.Toolkit.checkMegeServer()&&(p.old_app_id=parseInt(Global.Setting.SystemInfo.appID)),s&&s._gid&&Game.Server.setDst(s._gt,s._chair),Global.HallServer.send(i.NetAppface.mod,i.NetAppface.GetGameRoute,p,function(i){c.connectLock=!1,c.stopConnectLockTimer();var s=new r.default;s.parse(i.routes),Global.Setting.Urls.gameRoutes=s;var l=c.getServerRoute(s),h=i.mods;if(null==h||0==h.length)return o?o({_errstr:"\u670d\u52a1\u5668\u6b63\u5728\u7ef4\u62a4\u4e2d\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5"}):(c.showFastTipsError(e,"\u670d\u52a1\u5668\u6b63\u5728\u7ef4\u62a4\u4e2d\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5",-1),Game.Event.event(Game.EVENT_FORCE_LEAVE_GAME)),void Global.Event.event(GlobalEvent.FORCE_HIDE_WAITING);if(p.seq==c.seq){c.seq=0,Global.Setting.Urls.gameMods=h;var u=c.getRandMod(h),d=function(e){t&&t(l,e)},f=c.parseLocker(i,n,a,d);f.result<0?Global.Event.event(GlobalEvent.FORCE_HIDE_WAITING):(1==f.result&&(u=f.mod),d(u))}},function(t){if(c.connectLock=!1,c.stopConnectLockTimer(),o){var i=o(t)||!1;return Game.Event.event(Game.EVENT_FORCE_LEAVE_GAME),i}return Game.Event.event(Game.EVENT_FORCE_LEAVE_GAME),t._errstr&&""!=t._errstr&&c.showFastTipsError(e,t._errstr,t._errno),!1},l)}},e.prototype.showFastTipsError=function(e,t,o,i){if(void 0===i&&(i=1),Global.SceneManager.inGame()){var n=Global.GameData.getGameInfo(e),r=1==i?n.levels:n.rules;null==r||1!=r.length||n.hasChooseLevel?2002==o?Global.Setting.needHallChooseRoom?Global.Toolkit.transmitHallMsg(t,function(){Global.UI.show("WndRecharge")}):Global.Toolkit.showMoneyNotEnough():Global.Setting.needHallChooseRoom?Global.Toolkit.transmitHallTip(t+"["+o+"]"||""):Global.UI.fastTip(t+"["+o+"]"):Global.Toolkit.transmitHallTip(t||"")}else 2002==o?Global.Setting.needHallChooseRoom?Global.Toolkit.transmitHallMsg(t,function(){Global.UI.show("WndRecharge")}):Global.Toolkit.showMoneyNotEnough():Global.Setting.needHallChooseRoom?Global.Toolkit.transmitHallTip(t+"["+o+"]"||""):Global.UI.fastTip(t+"["+o+"]")},e.prototype.needChooseLevel=function(e,t){void 0===t&&(t=1);var o=Global.GameData.getGameInfo(e),i=1==t?o.levels:o.rules;return i&&i.length>1},e.prototype.getServerRoute=function(e){var t=e.getRandRoute();return null!=t?t:t=Global.Setting.Urls.hallRoutes.getCurRoute()},e.prototype.onGameSocketOpen=function(){Global.SceneManager.inGame()&&(Logger.error("onGameSocketOpen trySendEnter"),Game.Server.isRunning&&this.trySendEnter()),this.connectComplete&&(this.connectComplete(),this.connectComplete=null)},e.prototype.onGameSocketError=function(){Global.Event.event(GlobalEvent.HIDE_NET_WAITING,"enterGame"),this.stopCheckMsgTimer()},e.prototype.getRandMod=function(e){var t=e.length;return 1==t?e[0]:e[Global.Toolkit.getRoundInteger(t,0)]},e.prototype.parseLocker=function(e,t,o,i){var n=this;void 0===i&&(i=null);var r=0,a="";if(e.locker){var s=e.locker;if(this.curGid!=s._gid){r=this.SERVER_LOCK,Global.Event.event(GlobalEvent.FORCE_HIDE_WAITING);var l=Global.GameData.getReturnGameStr(s._gid,s._glv,!1);Global.UI.showYesNoBox(l,function(){n.goToGameByLocker(e.locker)},function(){Global.SceneManager.inGame()&&Game.Event.event(Game.EVENT_FORCE_LEAVE_GAME)})}else{var c=e.locker;c._gsc==o&&c._glv==t?(r=1,this.gsc=c._gsc,this.glv=c._glv,Game.Server.setDst(c._gt,c._chair),a=c._svr_t+"."+c._svr_id):(Global.Event.event(GlobalEvent.FORCE_HIDE_WAITING),l=Global.GameData.getReturnGameStr(c._gid,c._glv,!0),Global.UI.showYesNoBox(l,function(){i&&(n.gsc=c._gsc,n.glv=c._glv,Game.Server.setDst(c._gt,c._chair),a=c._svr_t+"."+c._svr_id,i(a))},function(){Global.SceneManager.inGame()&&Game.Event.event(Game.EVENT_FORCE_LEAVE_GAME)}),r=this.IN_OTHER_LEVEL)}}return{result:r,mod:a}},e.prototype.checkQueryState=function(e,t){if(null==Game.DataBridge.locker)return!1;var o=Game.DataBridge.locker;return Game.DataBridge.locker=null,o._gid==e&&(this.connnectAndEnterGameInLevelScene(e,o._glv,o._gsc,o,t),!0)},e.prototype.shutDown=function(e){void 0===e&&(e=!0),Game.Server.stop(),Game.Tween.clear(),Game.Component.unscheduleAllCallbacks(),this.gsc="default",this.glv="l0",this.curGid=0,this.isLabaGame=!1,this.stopCheckMsgTimer(),this.enterData=null,Global.HallServer.setSession(null),e&&Game.Server.clearHandlers()},e.prototype.goToGameByLocker=function(e){if(null!=e&&1==e.ret){var t=e._gid,o=t;if(Game.Control.GAME_DDZ_HJ_ARR.indexOf(o)>=0&&(o=Game.Control.GAME_DDZ_HJ_ARR[0]),Global.SceneManager.inGame()){var i=Game.Control.curGid;if(Game.Control.shutDown(!0),Game.Tween.clear(),Game.Component.unscheduleAllCallbacks(),Global.Component.unscheduleAllCallbacks(),!Global.HotUpdateManager.checkIsGameDownload(o)&&cc.sys.isNative)return Global.UI.fastTip("\u672a\u4e0b\u8f7d\u6e38\u620f"),Game.Event.event(Game.EVENT_FORCE_LEAVE_GAME,!0),void Global.SceneManager.goToHall();!Global.HotUpdateManager.checkIsGameNewest(o)&&cc.sys.isNative&&(Global.UI.fastTip("\u8be5\u6e38\u620f\u6709\u6700\u65b0\u7248\u672c"),Game.Event.event(Game.EVENT_FORCE_LEAVE_GAME,!0),Global.SceneManager.goToHall()),(n=Global.GameData.getGameInfo(i)).portraitModel&&Global.NativeEvent.changeOrientationH(!0),Game.Control.glv=e._glv,Game.Control.curLv=e._glv,Game.Control.curGid=t,Global.SceneManager.switchGameScene(o)}else{if(!Global.HotUpdateManager.checkIsGameDownload(o)&&cc.sys.isNative)return void Global.UI.fastTip("\u672a\u4e0b\u8f7d\u6e38\u620f");if(!Global.HotUpdateManager.checkIsGameNewest(o)&&cc.sys.isNative)return;var n;Global.HotUpdateManager.CurrentGame=o,1==(n=Global.GameData.getGameInfo(o)).levelType?Game.Control.connnectAndEnterGame(n.game_id,e._glv,e._gsc,e):(this.curGid=t,this.curLv=e._glv,Global.SceneManager.loadGameScene(),Game.DataBridge.locker=e)}}},e}();o.default=s,cc._RF.pop()},{"../net/hall/NetEvent":"NetEvent","../setting/ServerRoutes":"ServerRoutes","./handlers/PvpWaitMatchHandler":"PvpWaitMatchHandler","./handlers/SessionHandler":"SessionHandler"}],GameData:[function(e,t,o){"use strict";cc._RF.push(t,"d1d55z6mT9OYL7tJQhLHIq4","GameData"),Object.defineProperty(o,"__esModule",{value:!0}),o.GameInfo=o.GameType=void 0;var i=e("../../core/GlobalEvent");(function(e){e[e.PVE=0]="PVE",e[e.PVP=1]="PVP",e[e.TRENDGAME=2]="TRENDGAME",e[e.LUCKGAME=3]="LUCKGAME",e[e.FISH=4]="FISH",e[e.NOCHANGE=5]="NOCHANGE",e[e.REDPACKGAME=6]="REDPACKGAME",e[e.ERMJ=7]="ERMJ",e[e.WEBGAME=8]="WEBGAME",e[e.AGBG=9]="AGBG"})(o.GameType||(o.GameType={}));var n=function(){function e(){this.game_id=0,this.name="",this.rules={},this.levels=[],this.status=0,this.power=0,this.top=0,this.top2=-1,this.gtype=0,this.href="",this.version="",this.update_url="",this.update_url_list=[],this.update_url_list_new=[],this.update_url_param="",this.hit_update={url:[],version:"",param:"",is_back:0,new_url:[]},this.isBackVersionFlag=0,this.native_version="",this.remote_version="",this.levelType=1,this.checkMoney=!1,this.supportVersion=0,this.supportIosVersion=0,this.portraitModel=!1,this.marqueeStrType=-1,this.prefabName="",this.platformIconPath="",this.gameType=-1,this.hasChooseLevel=!1,this.isbig=!1,this.isJackPotGame=!1,this.isCustomLoading=!1,this.pos=0,this.update_url_index=0,this.ids=[],this.isNew=!1}return e.prototype.getUpdateUrl=function(){var e=this.update_url_list_new;e&&0!=e.length||(e=Global.UrlUtil.transferUrlArrayToRoutes(this.update_url_list)),Global.DunHotUpdateUrlSetting.hotUpdateRouteCfg=e,this.update_url_index>0&&Global.DunHotUpdateUrlSetting.switchRoute(),this.update_url_index+=1;var t=Global.DunHotUpdateUrlSetting.hotUpdateUrl;if(Logger.error("getUpdateUrl:url=================="+t),this.update_url_param&&t){this.update_url=t+"/"+this.update_url_param;var o=this.game_id+"_temp",i=Global.HotUpdateManager.updateHelper.genStoragePath(o)+"/project.manifest.temp";return jsb.fileUtils.isFileExist(i)&&jsb.fileUtils.removeFile(i),this.update_url}return null},e}();o.GameInfo=n;var r=function(){function e(){this._gameResList={},this._gameList=[],this._hallGameList=[],this._moreGameList=[],this._autoDownList=[],this._gamedataInitFinish=!1,this._gameTypes={hall:"hall"},this.clear()}return Object.defineProperty(e.prototype,"autoDownList",{get:function(){return this._autoDownList},enumerable:!1,configurable:!0}),e.prototype.clear=function(){this._gameList=[],this._autoDownList=[],this._gamedataInitFinish=!1},e.prototype.init=function(e){if(e){for(var t=0;t<e.length;t++)(a=e[t]).game_id==Game.Control.GAME_DDZ_HJ_ARR[0]&&Game.Control.GAME_DDZ_HJ_ARR.push(2005,2013);var o=[],i=[],r=[];for(t=0;t<e.length;t++){var a=e[t],s=new n;for(var l in s)null!=a[l]&&null!=a[l]&&(s[l]=a[l]);var c=this._gameResList[a.game_id];null!=c&&null!=c?(s.hit_update&&null!=s.hit_update.version&&""!=s.hit_update.version&&(s.version=s.hit_update.version,s.update_url=s.hit_update.url[0]+"/"+s.hit_update.param,s.update_url_list=s.hit_update.url,s.update_url_list_new=s.hit_update.new_url,s.update_url_param=s.hit_update.param,s.isBackVersionFlag=s.hit_update.is_back),s.levelType=c.levelType,s.checkMoney=c.checkMoney,s.supportVersion=c.supportVersion,s.supportIosVersion=c.supportIosVersion,s.native_version=Global.HotUpdateManager.getNativeHotUpdateVersion(s.game_id),s.portraitModel=c.portraitModel,s.marqueeStrType=c.marqueeStrType,s.prefabName=c.prefabName,s.hasChooseLevel=c.hasChooseLevel,s.gameType=c.gameType,s.isJackPotGame=c.isJackPotGame,1==a.auto_down&&this._autoDownList.push(a.game_id),this._gameTypes[a.game_id]=a.game_id,0!=s.status&&(o.push(s),Game.Control.GAME_DDZ_HJ_ARR.indexOf(a.game_id)<=0&&0==s.pos&&i.push(s),0!=s.pos&&r.push(s))):Logger.error("\u627e\u4e0d\u5230\u6e38\u620f",a.game_id)}this._gameTypes.hall="hall",o.sort(p),i.sort(p),r.sort(p),this._moreGameList=r,this._gameList=o,this._hallGameList=i,this.dataInitFinish=!0}else cc.error("----gameList------ null");function p(e,t){return e.power-t.power}},Object.defineProperty(e.prototype,"dataInitFinish",{get:function(){return this._gamedataInitFinish},set:function(e){this._gamedataInitFinish=e,e&&Global.Event.event(i.default.UPDATE_GAME_LIST)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gameList",{get:function(){return this._gameList},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"moreGameList",{get:function(){return this._moreGameList},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hallGameList",{get:function(){return this._hallGameList},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gameTypes",{get:function(){return this._gameTypes},enumerable:!1,configurable:!0}),e.prototype.getGameInfo=function(e){for(var t={},o=0;o<this._gameList.length;o++){var i=this._gameList[o];if(i.game_id==e){t=i;break}}return t},Object.defineProperty(e.prototype,"hasMoreGameList",{get:function(){return this._moreGameList.length>0},enumerable:!1,configurable:!0}),e.prototype.getGameResInfo=function(e){return this._gameResList[e]||{}},e.prototype.setGameIconResCfg=function(e){this._gameResList=e},e.prototype.hasGame=function(e){return null!=this.getGameInfo(e)},e.prototype.getReturnGameStr=function(e,t){var o=Global.GameData.getGameInfo(e),i=this.getLevelStr(o.levels||[],t);return"\u60a8\u5f53\u524d\u6b63\u5728\u3010"+o.name+"\u3011"+i+"\u4e2d\uff0c\u662f\u5426\u56de\u5230\u8be5\u6e38\u620f\u4e2d\uff1f"},e.prototype.getLevelStr=function(e,t){void 0===e&&(e=[]);var o="";if(e.length>1)for(var i=0;i<e.length;i++){var n=e[i];if(n.level==t){o="-\u3010"+n.SceneName+"\u3011";break}}return o},e.prototype.checkHasCustomLoading=function(e){return!!this.getGameResInfo(e).isCustomLoading},e}();o.default=r,cc._RF.pop()},{"../../core/GlobalEvent":"GlobalEvent"}],GameErrorHelper:[function(e,t,o){"use strict";cc._RF.push(t,"07b271ivMhDmpMxU7H9KJZO","GameErrorHelper");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.errorHandlerMap={},t.ERROR_NOT_ENOUGH=301,t.ERROR_NO_SERVICE=404,t.ERROR_NOT_IN_TABLE=1001,t.ERROR_NET_CHANGE=902,t.ERROR_NOT_ONTABLE=905,t.ERROR_LOW_LIMIT=906,t.ERROR_UPPER_LIMIT=907,t.ERROR_SYS_BUSY=204,t}return n(t,e),t.prototype.onInit=function(){},t.prototype.registErrorHandler=function(e,t){this.errorHandlerMap[e]=t},t.prototype.clear=function(){this.errorHandlerMap={}},t.prototype.handleSysError=function(e){if(null==e._errno)return!0;if(e._param&&e._param._cmd==Game.Command.Enter&&null!=Game.Control.enterData&&e._errno==this.ERROR_SYS_BUSY){var t={};t.enter=Game.Control.enterData,t.error=e,Global.ReportTool.ReportClientError("EnterError",t)}var o=this.getErrorHandler(e._errno);if(o)return o(e._errno,e);this.defultErrorHandler(e._errno,e._errstr)},t.prototype.handleCmdError=function(e){if(null==e._param._errno)return!0;if(e._param&&e._param._cmd==Game.Command.Enter&&null!=Game.Control.enterData&&e._param._errno==this.ERROR_SYS_BUSY){var t={};t.enter=Game.Control.enterData,t.error=e,Global.ReportTool.ReportClientError("EnterError",t)}var o=this.getErrorHandler(e._param._errno);if(o)return o(e._param._errno,e);this.defultErrorHandler(e._param._errno,e._param._errstr)},t.prototype.handleLogicError=function(e){if(null==e._param._para||null==e._param._para._errno)return!0;if(e._param&&e._param._cmd==Game.Command.Enter&&null!=Game.Control.enterData&&e._param._para._errno==this.ERROR_SYS_BUSY){var t={};t.enter=Game.Control.enterData,t.error=e,Global.ReportTool.ReportClientError("EnterError",t)}var o=this.getErrorHandler(e._param._para._errno);if(o)return o(e._param._para._errno,e);this.defultErrorHandler(e._param._para._errno,e._param._para._errstr)},t.prototype.getErrorHandler=function(e){return this.errorHandlerMap[e]},t.prototype.defultErrorHandler=function(e,t){if(Global.Event.event(GlobalEvent.FORCE_HIDE_WAITING),Game.Control.stopCheckMsgTimer(),e==this.ERROR_NOT_IN_TABLE)return this.server.clearData(),void Game.Event.event(Game.EVENT_NOT_IN_TABLE);if(e==this.ERROR_LOW_LIMIT)return this.server.stopGame(),Game.Event.event(Game.EVENT_FORCE_LEAVE_GAME),void Global.Toolkit.showMoneyNotEnough();if(e<1e3){this.server.stopGame();var o=function(){Game.Event.event(Game.EVENT_FORCE_LEAVE_GAME)},i=cc.js.formatStr("%s[%s]",t,e);Global.UI.showSingleBox(i,o,o)}else t&&""!=t&&Global.UI.fastTip(t+"")},t}(e("./BaseServerHelper").default);o.default=r,cc._RF.pop()},{"./BaseServerHelper":"BaseServerHelper"}],GameHeartBeatHelper:[function(e,t,o){"use strict";cc._RF.push(t,"b85f4bA7otNeat8hLgVAJUX","GameHeartBeatHelper");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("./BaseServerHelper"),a=e("../GameServer"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sendInterval=0,t.lastHeartBeatInterval=3,t.start=!1,t.netInterval=0,t.isBackground=!1,t.heartBeatSeq=1,t}return n(t,e),t.prototype.onInit=function(){},t.prototype.startHeartbeat=function(){this.start=!0},t.prototype.stopHeartBeat=function(){this.start=!1},t.prototype.sendHeartBeat=function(){if(this.server.isRunning){var e=0;this.isBackground||(e=this.heartBeatSeq,this.heartBeatSeq++),this.server.send(Game.Command.HeartBeat,{_seq:e})}},t.prototype.HandleHeartBeat=function(e){this.sendInterval=e._param._para&&e._param._para.timeout||3,this.lastHeartBeatInterval=this.sendInterval},t.prototype.run=function(){this.resetSeq(),cc.game.on(cc.game.EVENT_SHOW,this.onResume,this),cc.game.on(cc.game.EVENT_HIDE,this.onPause,this),this.server.on(a.default.Event_GameSocketStartConnect,this,this.resetSeq)},t.prototype.clear=function(){this.resetSeq(),cc.game.off(cc.game.EVENT_SHOW,this.onResume,this),cc.game.off(cc.game.EVENT_HIDE,this.onPause,this),this.server.off(a.default.Event_GameSocketStartConnect,this,this.resetSeq),this.sendInterval=0,this.startHeartbeat()},t.prototype.onResume=function(){this.isBackground=!1,this.sendHeartBeat(),clearInterval(this.tmpInterval)},t.prototype.onPause=function(){this.isBackground=!0},t.prototype.resetSeq=function(){this.heartBeatSeq=1},t.prototype.onUpdate=function(e){this.start&&this.server.isRunning&&this.sendInterval>0&&(this.sendInterval-=e,this.sendInterval<=0&&(this.sendHeartBeat(),this.sendInterval=this.lastHeartBeatInterval))},t}(r.default);o.default=s,cc._RF.pop()},{"../GameServer":"GameServer","./BaseServerHelper":"BaseServerHelper"}],GameHotUpdateComponent:[function(e,t,o){"use strict";cc._RF.push(t,"28adayUKX5E4qnT2mKnlaqC","GameHotUpdateComponent");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../tool/ReportTool"),s=cc._decorator,l=s.ccclass,c=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._comUI=null,t.RETRY_INTERVAL=2,t._downOverFun=null,t._gameType="",t._gameVersion="",t._isBack=0,t.manifestUrl={type:cc.Asset,default:null},t._storageManifestUrl="",t._updating=!1,t._checkedUpd=!1,t._canRetry=!1,t._storagePath="",t.m_downLoadFlag=!1,t.m_retryCount=0,t.m_verUrlPath="",t._am=null,t._updateListener=null,t._checkListener=null,t._download_percent=0,t.startTime=0,t.remoteVer="",t.totalFileCount=0,t.totalByte=0,t.totalAssetByte=0,t.downLoadType=0,t.totalVerifySize=0,t}return n(t,e),t.prototype.initCheckUpDate=function(e,t,o,i){this._gameType=e,this._gameVersion=t,this._gameUpdateUrl=o,this._initUpdData(),this._newAssetMgr(),this.remoteVer=i,this.downLoadType="0.0.0"==t?0:1},t.prototype._initUpdData=function(){var e=Global.HotUpdateManager.updateHelper,t=e.genUrl("",this._gameType)+"/"+this._gameVersion,o=e.prjFileName(),i=e.verFileName();this.m_verUrlPath=t+"/"+i,this._storagePath=e.genStoragePath(this._gameType),this._storageManifestUrl=this._storagePath+"/"+o;var n=e.genStoragePath(this._gameType),r=this._gameUpdateUrl+"/"+this._gameVersion+"/"+this._gameType+"/";this.localManifestJsonObj=Global.HotUpdateManager.getManifestObj(r,n);var a=JSON.stringify(this.localManifestJsonObj);this.localManifest=new jsb.Manifest(a,this._storagePath),jsb.fileUtils.writeStringToFile(a,this._storageManifestUrl)},t.prototype._newAssetMgr=function(){if(Logger.log("Storage path for remote asset : "+this._storagePath),!cc.sys.isNative)return"";this._am=new jsb.AssetsManager("",this._storagePath,function(e,t){return e===t?0:-1});var e=this;this._am.setVerifyCallback(function(t,o){var i=o.compressed,n=(o.md5,o.path,o.size,jsb.fileUtils.getFileSize(t));return e.totalByte+=n,e.totalFileCount+=1,e.totalVerifySize+=o.size,!!i||n==o.size}),cc.sys.os===cc.sys.OS_ANDROID&&this._am.setMaxConcurrentTask(2)},t.prototype.checkVersionUpdate=function(){if(cc.sys.isNative)if(this._updating)Logger.log("checking or updating....");else{if(!this._gameUpdateUrl)return Global.Event.event(GlobalEvent.UPDATE_SUB_GAME_FAILED,this._gameType),void Global.HotUpdateManager.removeHotUpdateGameComp(this._gameType,!0);if(this._updating=!0,this.startTime=(new Date).getTime(),this.totalByte=0,this.totalFileCount=0,this.m_downLoadFlag=!0,Logger.log("\u5730\u5740: ",Global.HotUpdateManager.updateHelper.genUrl("",this._gameType)+"/"+this._gameVersion),this._am){if(this._am.getState()===jsb.AssetsManager.State.UNINITED){if(!this.localManifest){var e=JSON.stringify(this.localManifestJsonObj);this.localManifest=new jsb.Manifest(e,this._storagePath)}this._am.loadLocalManifest(this.localManifest,this._storagePath)}this._am.setEventCallback(this._checkCb.bind(this)),this._am.checkUpdate()}}},t.prototype._checkCb=function(e){var t=!1,o=!1,i=!1;switch(e.getEventCode()){case jsb.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:Logger.log("No local manifest file found, hot update skipped.");break;case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:Logger.log("Fail to download manifest file, hot update skipped."),o=!0,i=!0;break;case jsb.EventAssetsManager.UPDATE_PROGRESSION:return void(e&&"VersionDownloaded"==e.getMessage()?this.formatVersion():e&&"ProjectDownloaded"==e.getMessage()&&this.formatManifest());case jsb.EventAssetsManager.ALREADY_UP_TO_DATE:o=!0,Logger.log("Already up to date with the latest remote version.");break;case jsb.EventAssetsManager.NEW_VERSION_FOUND:t=!0;break;case jsb.EventAssetsManager.UPDATE_FINISHED:Logger.log("new version found, but there are no assets changed need to download."),this._am&&(this._am.setEventCallback(null),this._am=null,this._updating=!1);var n=Global.GameData.getGameInfo(this._gameType);Global.UI.fastTip(n.name+"\u4e0b\u8f7d\u6210\u529f!"),Global.HotUpdateManager.updateNativeHotUpdateVersion(this._gameType,this._gameVersion),Global.Event.event(GlobalEvent.UPDATE_SUB_GAME_FINISH,this._gameType),Global.HotUpdateManager.removeHotUpdateGameComp(this._gameType,!0),this.doGameRestart();break;default:return}this._am.setEventCallback(null),this._checkListener=null,this._updating=!1,Logger.log("check = ",this._gameType);var r=Global.GameData.gameTypes;if(Global.HotUpdateManager.updateHelper,o)if(Logger.log("\u66f4\u65b0\u4e0b\u8f7d\u8fc7"),this._gameType==r.hall)Logger.log("\u5207\u5927\u5385");else{if(Logger.log("\u5207\u5165\u6e38\u620f =",this._gameType),1==i)return Global.Event.event(GlobalEvent.UPDATE_SUB_GAME_FAILED,this._gameType),void Global.HotUpdateManager.removeHotUpdateGameComp(this._gameType,!0);if(this.m_downLoadFlag)return Global.HotUpdateManager.updateNativeHotUpdateVersion(this._gameType,this._gameVersion),Global.Event.event(GlobalEvent.UPDATE_SUB_GAME_FINISH,this._gameType),void Global.HotUpdateManager.removeHotUpdateGameComp(this._gameType,!0)}t&&this.m_downLoadFlag&&this.startVerionUpdate()},t.prototype.formatVersion=function(){var e=Global.HotUpdateManager.updateHelper.genStoragePath(this._gameType+"_temp/")+Global.HotUpdateManager.versionCfgFileName;if(jsb.fileUtils.isFileExist(e)){var t=jsb.fileUtils.getStringFromFile(e),o=JSON.parse(t),i=this._gameUpdateUrl+"/"+this._gameVersion+"/"+this._gameType+"/";o.packageUrl=i,o.remoteManifestUrl=i+Global.HotUpdateManager.projectCfgFileName,o.remoteVersionUrl=i+Global.HotUpdateManager.versionCfgFileName,o.version=this.remoteVer;var n=JSON.stringify(o);jsb.fileUtils.writeStringToFile(n,e)}else Logger.error("\u627e\u4e0d\u5230\u6587\u4ef6",e)},t.prototype.formatManifest=function(){if(cc.sys.isNative){var e=Global.HotUpdateManager.updateHelper.genStoragePath(this._gameType+"_temp/")+"project.manifest.temp";if(jsb.fileUtils.isFileExist(e)){var t=jsb.fileUtils.getStringFromFile(e),o=JSON.parse(t),i=this._gameUpdateUrl+"/"+this._gameVersion+"/"+this._gameType+"/";o.packageUrl=i,o.remoteManifestUrl=i+Global.HotUpdateManager.projectCfgFileName,o.remoteVersionUrl=i+Global.HotUpdateManager.versionCfgFileName,o.version=this.remoteVer,this.totalAssetByte=o.totalSize;var n=JSON.stringify(o);jsb.fileUtils.writeStringToFile(n,e)}else Logger.error("\u627e\u4e0d\u5230\u6587\u4ef6",e)}},t.prototype.startVerionUpdate=function(){Logger.log("startVerionUpdate"),this._am&&!this._updating?(this._am.setEventCallback(this._updateCb.bind(this)),this._am.getState()===jsb.AssetsManager.State.UNINITED&&this._am.loadLocalManifest(this._storagePath),this._am.update(),this._updating=!0):Logger.log("--------startVerionUpdate failed------")},t.prototype._updateCb=function(e){var t=!1,o=!1,i="";switch(e.getEventCode()){case jsb.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:var n={game:"game_"+this._gameType,eventcode:e.getEventCode(),event:"update",faildres:e.getAssetId(),url:this._gameUpdateUrl};Global.ReportTool.ReportClientError(a.ReportTool.REPORT_TYPE_HOT_UPDATE_ERROR,n),i="No local manifest file found, hot update skipped.",o=!0;break;case jsb.EventAssetsManager.UPDATE_PROGRESSION:var r=e.getPercent();e&&"ProjectDownloaded"==e.getMessage()&&this.formatManifest(),this._download_percent=r,Global.Event.event(GlobalEvent.UPDATE_SUB_GAME_PERCENT,this._gameType,r);break;case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:i="Fail to download manifest file, hot update skipped.",o=!0,this.reportLog(0,a.ReportTool.REPORT_TYPE_DOWNLOADSUBGAME_FAILED,e.getAssetId());break;case jsb.EventAssetsManager.ALREADY_UP_TO_DATE:i="Already up to date with the latest remote version.",o=!0;break;case jsb.EventAssetsManager.UPDATE_FINISHED:i="Update finished. "+e.getMessage(),Logger.log(i);var s=Global.GameData.getGameInfo(this._gameType);Global.UI.fastTip(s.name+"\u4e0b\u8f7d\u6210\u529f!"),t=!0;break;case jsb.EventAssetsManager.UPDATE_FAILED:i="Update failed. "+e.getMessage(),Logger.log(i),this.reportLog(0,a.ReportTool.REPORT_TYPE_DOWNLOADSUBGAME_FAILED,e.getAssetId()),this._updating=!1,this._canRetry=!0,this._retry();break;case jsb.EventAssetsManager.ERROR_UPDATING:i="Asset update error: "+e.getAssetId()+", "+e.getMessage(),Logger.log(i);var l={game:"game_"+this._gameType,eventcode:e.getEventCode(),event:"update",faildres:e.getAssetId(),url:this._gameUpdateUrl};Global.ReportTool.ReportClientError(a.ReportTool.REPORT_TYPE_HOT_UPDATE_ERROR,l);break;case jsb.EventAssetsManager.ERROR_DECOMPRESS:i=e.getMessage(),Logger.log(i);var c={game:"game_"+this._gameType,eventcode:e.getEventCode(),event:"update",faildres:e.getAssetId(),url:this._gameUpdateUrl};Global.ReportTool.ReportClientError(a.ReportTool.REPORT_TYPE_HOT_UPDATE_ERROR,c)}o&&(this._am.setEventCallback(null),this._updateListener=null,this._updating=!1,Global.HotUpdateManager.gIsGameDownloading[this._gameType]=!1,Global.HotUpdateManager.removeHotUpdateGameComp(this._gameType,!0)),t&&this.doGameRestart()},t.prototype.doGameRestart=function(){if(Global.HotUpdateManager.updateHelper.downloaded(this._gameType),this._am.setEventCallback(null),this._updateListener=null,this.m_downLoadFlag&&Global.Event.event(GlobalEvent.UPDATE_SUB_GAME_FINISH,this._gameType),Global.HotUpdateManager.updateNativeHotUpdateVersion(this._gameType,this._gameVersion),Global.HotUpdateManager.removeHotUpdateGameComp(this._gameType,!0),this._gameType){var e=Global.GameData.getGameInfo(this._gameType);e&&(Logger.log("PostInstallGameInfo game_id : "+Number(this._gameType)+" game_name = "+e.name),Global.HallServer.send(NetAppface.mod,NetAppface.PostInstallGameInfo,{game_id:Number(this._gameType),game_name:e.name},null,null,!1),this.reportLog())}},t.prototype.reportLog=function(e,t,o){void 0===e&&(e=1),void 0===t&&(t=a.ReportTool.REPORT_TYPE_DOWNLOADSUBGAME_RESULT),void 0===o&&(o="");var i=(new Date).getTime()-this.startTime;this.totalAssetByte&&this.totalAssetByte!=this.totalByte&&1==e&&(e=2),this.totalAssetByte||(this.totalAssetByte=0),this.totalAssetByte=Number(this.totalAssetByte)||0;var n={result:e,game:this._gameType,totalFileCount:this.totalFileCount,totalByte:this.totalByte/1e3,totalTime:i/1e3,downLoadType:this.downLoadType,updateUrl:this._gameUpdateUrl,startVer:this._gameVersion,totalAssetsBytes:this.totalAssetByte/1e3,targetVer:this._gameVersion,retryTimes:this.m_retryCount,dun:Global.DunHotUpdateUrlSetting.curDunType,totalVerifyAssetsByte:this.totalVerifySize/1e3,failedRes:o};e?Global.ReportTool.ReportPublicClientLog(t,n):Global.ReportTool.ReportClientError(t,n)},t.prototype._retry=function(){if(!this._updating&&this._canRetry&&this.m_retryCount<3)return this._canRetry=!1,this._am.downloadFailedAssets(),void(this.m_retryCount=this.m_retryCount+1);this.m_retryCount>=3&&(Global.UI.fastTip("\u60a8\u5f53\u524d\u7f51\u7edc\u4e0d\u7a33\u5b9a"),Global.HotUpdateManager.updateHelper.clearDownloaded(this._gameType),Global.Event.event(GlobalEvent.UPDATE_SUB_GAME_FAILED,this._gameType),Global.HotUpdateManager.removeHotUpdateGameComp(this._gameType,!0))},r([l],t)}(cc.Component));o.default=c,cc._RF.pop()},{"../../tool/ReportTool":"ReportTool"}],GameHotUpdateProxy:[function(e,t,o){"use strict";cc._RF.push(t,"88719y8SlhDtYQt3eHz+8c0","GameHotUpdateProxy");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.onRegister=function(){},t.prototype.onRemove=function(){},t}(puremvc.Proxy);o.default=r,cc._RF.pop()},{}],GameItemView:[function(e,t,o){"use strict";cc._RF.push(t,"04536fh7VhOKLaamk663wl5","GameItemView");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__awaiter||function(e,t,o,i){return new(o||(o=Promise))(function(n,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,s)}l((i=i.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var o,i,n,r,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(e){return function(t){return l([e,t])}}function l(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,i&&(n=2&r[0]?i.return:r[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,r[1])).done)return n;switch(i=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){a.label=r[1];break}if(6===r[0]&&a.label<n[1]){a.label=n[1],n=r;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(r);break}n[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(s){r=[6,s],i=0}finally{o=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s,l,c=e("../../../../core/ui/ViewBase"),p=e("../../ChooseRoom/WndGameLobbyShell"),h=e("../../../../core/component/BindingButtonEffect"),u=e("../../../../core/component/YXButton");(function(e){e[e.INIT=-1e3]="INIT",e[e.NEVER_DOWNLOAD=-1]="NEVER_DOWNLOAD",e[e.NEW_VERSION_SUCCESS=0]="NEW_VERSION_SUCCESS",e[e.OLD_VERSION=1]="OLD_VERSION",e[e.DOWNLOADING=2]="DOWNLOADING",e[e.WAIT_DOWNLOAD=3]="WAIT_DOWNLOAD",e[e.FAILD=4]="FAILD"})(s||(s={})),function(e){e[e.None=0]="None",e[e.Open=1]="Open",e[e.Soon=2]="Soon",e[e.Maintain=3]="Maintain"}(l||(l={}));var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gameUpdateState=s.INIT,t.isBtnClick=!1,t.checked=!1,t.tagResMap={1:"hall@effect/gameicon/huobao",2:"hall@effect/gameicon/tuijian",3:"hall@effect/gameicon/zuixin"},t.itemClickWaiting=!1,t}return n(t,e),t.prototype.moveSpine=function(e){if(cc.isValid(e)){var t=e.getChildByName("spineNode"),o=cc.find(this.gameData.prefabName+"/effect",this.effectMountNode);if(cc.isValid(o)){var i=Global.UIUtil.convertSameNodePos(this.effectMountNode,t,o.position);o.setParent(t),o.setPosition(i)}var n=e.getChildByName("backgroundNode"),r=Global.UIUtil.convertSameNodePos(this.node,n);cc.isValid(this.effectMountNode)&&(this.effectMountNode.setParent(n),this.effectMountNode.setPosition(r));var a="tagNode_"+this.gameData.top,s=e.getChildByName(a),l=cc.find("tag",this.node),c=Global.UIUtil.convertSameNodePos(l,n);cc.isValid(this.tagSpineNode)&&(this.tagSpineNode.setParent(s),this.tagSpineNode.setPosition(c));var p=e.getChildByName("nameNode"),h=cc.find(this.gameData.prefabName+"/name",this.effectMountNode),u=cc.find(""+this.gameData.prefabName,this.effectMountNode),d=Global.UIUtil.convertSameNodePos(u,p);cc.isValid(h)&&(h.setParent(p),h.setPosition(d))}},t.prototype.registerEvent=function(){Global.Event.on(GlobalEvent.UPDATE_SUB_GAME_FAILED,this,this.onUpdateSubGameFailed),Global.Event.on(GlobalEvent.UPDATE_SUB_GAME_FINISH,this,this.onUpdateSubGameFinish),Global.Event.on(GlobalEvent.UPDATE_SUB_GAME_PERCENT,this,this.onUpdateSubGamePercent),Global.Event.on(GlobalEvent.UPDATE_SUB_GAME_STATE,this,this.checkGameUpdateState)},t.prototype.unRegisterEvent=function(){Global.Event.off(GlobalEvent.UPDATE_SUB_GAME_FAILED,this,this.onUpdateSubGameFailed),Global.Event.off(GlobalEvent.UPDATE_SUB_GAME_FINISH,this,this.onUpdateSubGameFinish),Global.Event.off(GlobalEvent.UPDATE_SUB_GAME_PERCENT,this,this.onUpdateSubGamePercent),Global.Event.off(GlobalEvent.UPDATE_SUB_GAME_STATE,this,this.checkGameUpdateState)},t.prototype.onUpdateSubGameFailed=function(e){e?this.gameData?Number(e)===this.gameData.game_id&&this.needFaildView():Logger.error("onUpdateSubGameFailed this.gameData == null"):Logger.error("onUpdateSubGameFailed gid == null")},t.prototype.onUpdateSubGameFinish=function(e){if(e&&this.gameData&&e===this.gameData.game_id){if(!this.gameIconNode||!this.gameIconNode.isValid)return;this.setNodeAlpha(255),this.alreadyGameView(!0)}},t.prototype.onUpdateSubGamePercent=function(e,t){e&&this.gameData&&e===this.gameData.game_id&&this.downloadingView(t)},t.prototype.initView=function(){this.tagImg=cc.find("tag/img",this.node),this.tagSpineNode=cc.find("tag/spineNode/spineParent",this.node),this.grayImg=cc.find("grayImg",this.node),this.weihuFlag=this.grayImg.getChildByName("weihuFlag"),this.waitFlag=this.grayImg.getChildByName("waitFlag"),this.spineNode=cc.find("spineNode",this.node),this.effectMountNode=this.getChild("iconMountNode"),this.updateState=cc.find("updateState",this.node),this.updateState.active=!0,this.updateState_download=this.updateState.getChildByName("download"),this.updateState_waiting=this.updateState.getChildByName("waiting"),this.updateState_update=this.updateState.getChildByName("update"),this.updateState_stop=this.updateState.getChildByName("stop"),this.updateState_loading=this.updateState.getChildByName("loading"),this.updateState_download.active=!1,this.updateState_waiting.active=!1,this.updateState_update.active=!1,this.updateState_stop.active=!1,this.updateState_loading.active=!1,this.registerEvent(),this.isBtnClick=!1},t.prototype.setServerInfo=function(e,t){this.gameData=e,this.index=t,this.updateTag(),this.updateGameStatus()},t.prototype.setResInfo=function(e){return r(this,void 0,void 0,function(){var t=this;return a(this,function(){return[2,new Promise(function(o){return r(t,void 0,void 0,function(){var t,i;return a(this,function(n){switch(n.label){case 0:return this.gameResData=e,t=e.prefabName,[4,this.loadGameIcon(t)];case 1:return i=n.sent(),o(i),[2]}})})})]})})},t.prototype.loadGameIcon=function(e){var t=this;return new Promise(function(o,i){var n="hall@effect/gameicon/"+e;t.gameResData.platformIconPath&&""!=t.gameResData.platformIconPath&&(n=t.gameResData.platformIconPath),Global.ResourceManager.releaseHelper.markUsed(n),Global.ResourceManager.loadRes(n,function(e,r){if(null!=e&&(Logger.error("\u52a0\u8f7d\u56fe\u6807\u7279\u6548\u5f02\u5e38",n),i(e)),cc.isValid(t.node)&&cc.isValid(t.effectMountNode)){var a=cc.instantiate(r);t.effectMountNode.addChild(a),a.position=cc.Vec2.ZERO;for(var s=0;s<a.childrenCount;s++){var l=a.children[s];l.getComponent(h.default)||l.addComponent(h.default)}t.gameIconNode=a,t.spine=a.getComponentInChildren(sp.Skeleton),t.dragonBones=a.getComponentInChildren(dragonBones.ArmatureDisplay),t.gameIconNode.setPosition(0,0),o(r)}},null,null,!1,!0)})},t.prototype.updateTag=function(){var e=this;if(1!==this.gameData.status)return this.tagImg.active=!1,void(this.tagSpineNode.active=!1);this.tagSpineNode.active=!0;var t="",o=this.tagResMap[this.gameData.top];null!=o&&(this.tagSpineNode.active=!0,t=o,this.tagSpineNode.removeAllChildren(),this.tagImg.active=!1,Global.ResourceManager.loadRes(t,function(t,o){if(!t&&cc.isValid(e.node)&&cc.isValid(e.tagSpineNode)&&o){var i=cc.instantiate(o);i.name="newTag";var n=e.tagSpineNode.getComponent(h.default);n||(n=e.tagSpineNode.addComponent(h.default));var r=e.node.getComponent(u.default);r&&r.setBind(n),e.tagSpineNode.addChild(i);var a=Global.Setting.SkinConfig.getHallGameListTagOffsetX();i.setPosition(cc.v2(a[0],a[1]))}},cc.Prefab,null,!0));var i=this.gameData.top2;this.tagImg.active=1==i},t.prototype.updateGameStatus=function(){if(this.gameIconNode.active=!0,this.gameData.status==l.Open){this.pauseIcon(!1),this.grayImg.active=!1,this.checkGameUpdateState();var e=Global.HotUpdateManager.getHotUpdateGameComp(this.gameData.game_id);e&&!e._updating&&this.setNodeAlpha(255)}else this.gameData.status==l.Soon?(this.setNodeAlpha(76.5),this.pauseIcon(!0),this.grayImg.active=!0,this.weihuFlag.active=!1,this.waitFlag.active=!0):this.gameData.status==l.Maintain&&(this.pauseIcon(!0),this.setNodeAlpha(76.5),this.grayImg.active=!0,this.weihuFlag.active=!0,this.waitFlag.active=!1)},t.prototype.setNodeAlpha=function(e){Global.UIHelper.setNodeGray(this.gameIconNode,!0,e,!0);var t=this.node.getComponent(u.default);if(t&&cc.isValid(t.node)){var o=t.bindedObject;if(o)for(var i=0;i<o.length;i++){var n=o[i];n&&cc.isValid(n.node)&&Global.UIHelper.setNodeGray(n.node,!0,e,!0)}}},t.prototype.pauseIcon=function(e){this.spine&&(this.spine.timeScale=e?0:1),this.dragonBones&&(this.dragonBones.timeScale=e?0:1)},t.prototype.updateDownState=function(){cc.sys.isBrowser||(this.updateState_download.active=this.gameUpdateState==s.NEVER_DOWNLOAD,this.updateState_waiting.active=this.gameUpdateState==s.WAIT_DOWNLOAD,this.updateState_update.active=this.gameUpdateState==s.OLD_VERSION,this.updateState_stop.active=this.gameUpdateState==s.FAILD,this.updateState_loading.active=this.gameUpdateState==s.DOWNLOADING)},t.prototype.checkGameUpdateState=function(e){if(void 0===e&&(e=null),!e||e==this.gameData.game_id){var t=Global.HotUpdateManager.getHotUpdateGameComp(this.gameData.game_id);t?t._updating?t._download_percent?this.downloadingView(t._download_percent):this.downloadingView(0):this.needWaitingView():this.checkDownloaded()?this.alreadyGameView():this.needDownloadView()}},t.prototype.needDownloadView=function(){this.gameUpdateState=s.NEVER_DOWNLOAD,this.updateDownState()},t.prototype.needUpdateView=function(){this.gameUpdateState=s.OLD_VERSION,this.updateDownState()},t.prototype.needWaitingView=function(){this.gameUpdateState=s.WAIT_DOWNLOAD,this.updateDownState()},t.prototype.needFaildView=function(){this.gameUpdateState=s.FAILD,this.updateDownState()},t.prototype.downloadingView=function(e){if(void 0===e&&(e=0),this.node&&this.node.isValid){this.gameUpdateState=s.DOWNLOADING,this.updateDownState();var t,o=this.updateState_loading.getChildByName("progressLabel");t=e?Math.floor(100*e)+"%":"0%",o.getComponent(cc.Label).string=t,this.UpdateFillange(e)}},t.prototype.UpdateFillange=function(e){e||(e=0);var t=this.updateState_loading.getChildByName("RadialProgress").getComponent(cc.Sprite);if(t.fillRange=1-e,e>.99999&&(t.fillRange=0),this.gameIconNode&&this.gameIconNode.isValid){var o=76.5+178.5*e;this.setNodeAlpha(o)}else Logger.error("UpdateFillange this.gameIconNode.isValid = false")},t.prototype.alreadyGameView=function(e){void 0===e&&(e=!1),Logger.log("\u6e38\u620f\u5df2\u7ecf\u4e0b\u8f7d"),this.gameUpdateState=s.NEW_VERSION_SUCCESS,this.updateDownState(),Global.HotUpdateManager.gIsGameDownloading[this.gameData.game_id]=!1,Global.HotUpdateManager.gameChecked[this.gameData.game_id]=!1},t.prototype.checkDownloaded=function(){return!cc.sys.isNative||Global.HotUpdateManager.checkIsGameDownload(this.gameData.game_id)},t.prototype.getGameData=function(){return this.gameData},t.prototype.checkMoney=function(){if(this.gameData.checkMoney&&this.gameData.levels&&1==this.gameData.levels.length){var e=this.gameData.levels[0].PointLow;if(Global.PlayerData.point<e){var t="\u6e38\u620f\u51c6\u5165"+Global.Toolkit.formatPointStr(e)+"\u91d1\u5e01\uff0c\u8bf7\u60a8\u5145\u503c\u54e6\uff01";return Global.Toolkit.showMoneyNotEnough(t),!1}}return!0},t.prototype.checkVersion=function(){return!(this.gameData.supportVersion&&this.gameData.supportVersion>0&&!Global.Toolkit.checkVersionSupport(this.gameData.supportVersion,this.gameData.supportIosVersion)&&(Global.UI.showYesNoBox("\u7248\u672c\u8fc7\u65e7\uff0c\u8bf7\u4e0b\u8f7d\u65b0\u5305\u4f7f\u7528\u8be5\u529f\u80fd",function(){cc.sys.openURL(Global.Setting.Urls.downLoadUrl)}),1))},t.prototype.checkGameCfg=function(){return Game.Control.GAME_DDZ_HJ_ARR[0]==this.gameData.game_id||!!(this.gameData&&this.gameData.levels&&this.gameData.levels.length>0)},t.prototype.enterGame=function(){var e=this,t=this,o=function(){return r(e,void 0,void 0,function(){var e,o;return a(this,function(i){switch(i.label){case 0:return t.reSetGameDownloading(),Global.Setting.needHallChooseRoom&&1==this.gameData.levels.length&&this.gameData.gameType!=p.GameType.PVP?(e=this.gameData.levels[0].level||"l0",Global.Toolkit.checkMoney(e,this.gameData)?(Global.Event.event(GlobalEvent.RecordGameListOffsetX),Game.Control.curLv=e,1==t.gameData.levelType?Game.Control.connnectAndEnterGame(t.gameData.game_id,"l0"):Global.SceneManager.loadGameScene(),[2]):[2]):(o=this.gameData.game_id,Game.GamePreloadTool.setup(o),Game.GamePreloadTool.checkPreloadBundleExist(o)?[4,Game.GamePreloadTool.preloadBundle()]:[3,3]);case 1:return i.sent(),[4,Game.GamePreloadTool.preloadPrefab(Game.GamePreloadTool.lobbyUIPath)];case 2:return i.sent(),Global.UI.show("WndGameLobbyShell",o),[2];case 3:return Global.Event.event(GlobalEvent.RecordGameListOffsetX),1==t.gameData.levelType?Game.Control.connnectAndEnterGame(t.gameData.game_id,"l0"):Global.SceneManager.loadGameScene(),[2]}})})};this.checkGameCfg()?this.checkMoney()&&this.checkVersion()&&(this.gameData.portraitModel?Global.UI.showPortraitScreenNotice(o):o()):Global.UI.showSingleBox("\u6e38\u620f\u914d\u7f6e\u6ca1\u6709\u62c9\u5230\uff0c\u8bf7\u7a0d\u7b49~")},t.prototype.reSetGameDownloading=function(){var e=Global.HotUpdateManager;for(var t in e.gIsGameDownloading)e.gIsGameDownloading[t]&&(e.gIsGameDownloading[t]=!1)},t.prototype.onItemClick=function(){var e=this;if(!this.itemClickWaiting&&(this.itemClickWaiting=!0,setTimeout(function(){e.itemClickWaiting=!1},1e3),this.isBtnClick=!0,!Global.SceneManager.inGame())){if(Global.HotUpdateManager.CurrentGame=this.gameData.game_id,Global.HotUpdateManager.getNativeHotUpdateVersion(this.gameData.game_id),2==this.gameData.status||3==this.gameData.status)return cc.error("game status = "+this.gameData.status),void Global.Audio.playAudioSource("hall/sound/coming_soon");if(Global.Audio.playBtnSound(),8!==this.gameData.gtype)if(9!==this.gameData.gameType){if(!cc.sys.isNative||this.gameData.isNew)return Logger.log("\u5df2\u7ecf\u66f4\u65b0\u8fc7\u4e00\u6b21"+this.gameData.isNew),void this.enterGame();var t=this.gameData.getUpdateUrl()+"/"+this.gameData.version+"/"+this.gameData.game_id+"/"+Global.HotUpdateManager.versionCfgFileName;Logger.log("\u8fd9\u662f\u5f53\u524d\u7684\u7248\u672c\u53f7\u83b7\u53d6url="+t),Global.HotUpdateManager.getGameVersion(t).then(function(t){var o=Global.HotUpdateManager.getNativeHotUpdateVersion(e.gameData.game_id);if(Logger.log("\u8fdc\u7a0b\u7248\u672c="+t.version+"\u672c\u5730\u5f53\u524d\u7248\u672c="+o),e.gameData.native_version=o,e.gameData.remote_version=t.version,-1!=Global.Toolkit.versionCompare(e.gameData.native_version,t.version))return e.gameData.isNew=!0,void e.enterGame();e.needUpdateView(),e.checkByGameUpdateState()},function(){Global.UI.showSingleBox("\u914d\u7f6e\u62c9\u53d6\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc")})}else Global.ModelManager.getModel("HallModel").requestApplyEnterGame(this.gameData.game_id);else this.checkVersion()&&Global.ModelManager.getModel("HallModel").requestApplyEnterGame(this.gameData.game_id)}},t.prototype.checkByGameUpdateState=function(){switch(this.gameUpdateState){case s.OLD_VERSION:case s.NEVER_DOWNLOAD:var e=Global.HotUpdateManager.getWhichGameIsDowning();e?e==this.gameData.game_id?this.downloadingView(0):(this.needWaitingView(),Global.UI.fastTip(this.gameData.name+"\u5df2\u52a0\u5165\u4e0b\u8f7d\u961f\u5217"),Global.HotUpdateManager.addHotUpdateGameComp(this.gameData.game_id,this.gameData.version,this.gameData.getUpdateUrl(),this.gameData.remote_version)):(this.downloadingView(0),Global.HotUpdateManager.addHotUpdateGameComp(this.gameData.game_id,this.gameData.version,this.gameData.getUpdateUrl(),this.gameData.remote_version));break;case s.NEW_VERSION_SUCCESS:this.enterGame();break;case s.DOWNLOADING:Logger.log("\u6b63\u5728\u4e0b\u8f7d\u4e2d");break;case s.WAIT_DOWNLOAD:Global.HotUpdateManager.removeHotUpdateGameComp(this.gameData.game_id),Global.UI.fastTip(cc.js.formatStr("%s\u5df2\u53d6\u6d88\u4e0b\u8f7d",this.gameData.name)),this.gameUpdateState=s.NEVER_DOWNLOAD,this.checkGameUpdateState(),Logger.log("\u7b49\u5f85\u4e0b\u8f7d");break;case s.FAILD:Logger.log("\u4e0b\u8f7d\u5931\u8d25",this.gameData.game_id);var t=Global.HotUpdateManager.getWhichGameIsDowning();t?t==this.gameData.game_id?this.downloadingView(0):(this.needWaitingView(),Global.UI.fastTip(this.gameData.name+"\u5df2\u52a0\u5165\u4e0b\u8f7d\u961f\u5217"),Global.HotUpdateManager.addHotUpdateGameComp(this.gameData.game_id,this.gameData.version,this.gameData.getUpdateUrl(),this.gameData.isBackVersionFlag,nativeVersion)):(this.downloadingView(0),Global.HotUpdateManager.addHotUpdateGameComp(this.gameData.game_id,this.gameData.version,this.gameData.getUpdateUrl(),this.gameData.isBackVersionFlag,nativeVersion))}},t.prototype.destroy=function(){this.isBtnClick=!1,this.unRegisterEvent()},t.prototype.releaseGameIcon=function(){if(this.index>=Global.Setting.cachedGameItemCount){var e="hall/effect/gameicon/"+this.gameResData.prefabName;this.gameResData.platformIconPath&&""!=this.gameResData.platformIconPath&&(e=this.gameResData.platformIconPath),Global.ResourceManager.releaseCache(e,null)}},t.prototype.onDispose=function(){var e=this.tagSpineNode.getChildByName("newTag");e&&(e.removeFromParent(),e.destroy())},t.prototype.onClose=function(){},t}(c.default);o.default=d,cc._RF.pop()},{"../../../../core/component/BindingButtonEffect":"BindingButtonEffect","../../../../core/component/YXButton":"YXButton","../../../../core/ui/ViewBase":"ViewBase","../../ChooseRoom/WndGameLobbyShell":"WndGameLobbyShell"}],GameListViewA:[function(e,t,o){"use strict";cc._RF.push(t,"efe776jRf5FF76ldXONc4oN","GameListViewA");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__awaiter||function(e,t,o,i){return new(o||(o=Promise))(function(n,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,s)}l((i=i.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var o,i,n,r,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(e){return function(t){return l([e,t])}}function l(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,i&&(n=2&r[0]?i.return:r[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,r[1])).done)return n;switch(i=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){a.label=r[1];break}if(6===r[0]&&a.label<n[1]){a.label=n[1],n=r;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(r);break}n[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(s){r=[6,s],i=0}finally{o=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=e("../../../../core/ui/ViewBase"),l=e("./GameItemView"),c=e("../../../../hallcommon/const/HallStorageKey"),p=e("../../../../core/component/BindingButtonEffect"),h=e("../../../../core/component/YXButton"),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.contentNode=null,t.contentWide=-1,t.gameItemMap={},t.biniting=!1,t.itemAreaX=430,t.itemAreaY=195,t.moreGameAreaX=0,t}return n(t,e),t.prototype.initView=function(){this.gameListScroll=this.getComponent("centerContent",cc.ScrollView),this.gameItemRoot=this.getChild("centerContent/contentView/content/itemParent/iconRoot"),this.gonggaoNode=this.getChild("centerContent/contentView/content/gonggaoArea"),this.contentNode=this.getChild("centerContent/contentView/content"),this.moreGameBtn=this.getChild("centerContent/contentView/content/moreGameBtn"),this.itemArea=this.getChild("centerContent/contentView/content/itemParent"),this.topArrow=this.getChild("shan_left"),this.botArrow=this.getChild("shan_right"),this.botArrow.active=!1,this.topArrow.active=!1,this.gameTemplate=this.getChild("gameListItem"),this.gameTemplate.active=!1,this.gameItemHeight=this.gameTemplate.height,this.gameItemWidth=this.gameTemplate.width,this.gameListScroll.node.on("scrolling",this.onScrollViewScroll,this),this.gameListScroll.node.on("scroll-ended",this.onScrollViewScrollEnded,this),cc.game.on(cc.game.EVENT_SHOW,this.onResume,this)},t.prototype.onDispose=function(){this.gameListScroll.node.off("scrolling",this.onScrollViewScroll,this),this.gameListScroll.node.off("scroll-ended",this.onScrollViewScrollEnded,this),cc.game.off(cc.game.EVENT_SHOW,this.onResume,this)},t.prototype.onResume=function(){var e=this;Global.SceneManager.inGame()||(this.itemArea.stopAllActions(),(this.gameListScroll.isScrolling()||this.gameListScroll.isAutoScrolling())&&this.gameListScroll.stopAutoScroll(),Logger.error("---------gameItemList----------onResume---------"),Global.Component.scheduleOnce(function(){e.onScrollViewScroll()},.1),this.isMoreGame&&Global.Component.scheduleOnce(function(){e.itemArea.setPosition(e.moreGameAreaX,e.itemAreaY),e.gameListScroll.scrollToLeft()},.05),this.gameListScroll.setContentPosition(cc.Vec2.ZERO),this.gameListScroll.scrollToLeft(0))},t.prototype.onScrollViewScrollEnded=function(){var e=cc.v2(0,this.gameListScroll.getScrollOffset().y),t=cc.v2(this.gameListScroll.getMaxScrollOffset().x,this.gameListScroll.getMaxScrollOffset().y),o=this.gameListScroll.getScrollOffset(),i=o.x-e.x,n=o.y-e.y,r=Math.sqrt(Math.pow(i,2)+Math.pow(n,2)),a=Math.abs(o.x)-Math.abs(t.x),s=o.y-t.y;r>=Math.sqrt(Math.pow(a,2)+Math.pow(s,2))?this.hideArrow(1):this.hideArrow(0)},t.prototype.onScrollViewScrollToTop=function(){this.hideArrow(0)},t.prototype.onScrollViewScrollToBot=function(){this.hideArrow(1)},t.prototype.hideArrow=function(e){cc.isValid(this.topArrow)&&(this.topArrow.active=1==e),cc.isValid(this.botArrow)&&(this.botArrow.active=0==e)},t.prototype.onScrollViewScroll=function(){if(this.gameListScroll.node&&cc.isValid(this.gameListScroll.node)){this.hideArrow(-1);var e=this.gameListScroll.node.parent.convertToWorldSpaceAR(cc.v2(this.gameListScroll.node.x-this.gameListScroll.node.anchorX*this.gameListScroll.node.width,this.gameListScroll.node.y-this.gameListScroll.node.anchorY*this.gameListScroll.node.height)),t=cc.rect(e.x,e.y,this.gameListScroll.node.width,this.gameListScroll.node.height);if(this.gameItemList&&0!=this.gameItemList.length)for(var o=0;o<this.gameItemList.length;o++){var i=this.gameItemList[o],n=i.node.getComponent(h.default);i&&cc.isValid(i.node)&&(i.node.getBoundingBoxToWorld().intersects(t)?(i.active=!0,n.setActive(!0)):(i.active=!1,n.setActive(!1)))}}},t.prototype.getNodesArr=function(){for(var e=[],t=0;t<this.gameItemList.length;t++)e.push(this.gameItemList[t].node);return e},t.prototype.addGameItem=function(e){return r(this,void 0,void 0,function(){var t=this;return a(this,function(){return[2,new Promise(function(o){return r(t,void 0,void 0,function(){var t,i,n;return a(this,function(r){switch(r.label){case 0:return t=new l.default,i=Global.GameData.getGameResInfo(e),n=cc.instantiate(this.gameTemplate),t.setNode(n),[4,t.setResInfo(i)];case 1:return r.sent(),this.gameItemMap[e]=t,t.active=!1,o(t),[2]}})})})]})})},t.prototype.refreshGameList=function(e,t,o){return void 0===t&&(t=!1),void 0===o&&(o=null),r(this,void 0,void 0,function(){var i,n,r,s,l,c,u,d,f,g,m,y,b,v,_,S,C,w,I,T,P,k,G=this;return a(this,function(a){switch(a.label){case 0:this.hideAllItem(),this.itemArea.stopAllActions(),(this.gameListScroll.isScrolling()||this.gameListScroll.isAutoScrolling())&&this.gameListScroll.stopAutoScroll(),this.isMoreGame=t,t?this.itemArea.setPosition(this.moreGameAreaX,this.itemAreaY):this.itemArea.setPosition(this.itemAreaX,this.itemAreaY),e<0?Global.Component.scheduleOnce(function(){G.gameListScroll.scrollToOffset(cc.v2(-e,0))}):this.gameListScroll.scrollToLeft(),this.itemArea.opacity=1,i=this.gonggaoNode.width,n=Global.Setting.SkinConfig.getSpaceOffset(),r=t?Global.GameData.moreGameList:Global.GameData.hallGameList,s=n[0],l=n[1],this.gameItemList=[],c=0,u=Global.Setting.SkinConfig.getHallGameListGap(0),d=Global.Setting.SkinConfig.getHallGameListGap(1),f=Global.Setting.SkinConfig.getHallGameListLine(),g=t?3*s:i,m=Global.GameData.hasMoreGameList?this.moreGameBtn.width:0,y=0,a.label=1;case 1:return y<r.length?(b=r[y],[4,this.getItem(b.game_id)]):[3,4];case 2:(v=a.sent()).setServerInfo(b,c),v.node.parent=this.itemArea,C=c%f,w=Math.floor(c/f),_=this.gameItemWidth/2+w*this.gameItemWidth+w*s+u,S=-this.gameItemHeight/2-C*this.gameItemHeight-C*l-d,v.node.setPosition(_,S),v.node.name=b.prefabName,this.gameItemList.push(v),Global.UIHelper.addCommonClick(v.node,"",v.onItemClick,v),I=v.node.getComponentsInChildren(p.default),v.node.getComponent(h.default).setBind(I),v.node.active=!0,c++,a.label=3;case 3:return y++,[3,1];case 4:return T=Math.ceil(c/2)*this.gameItemWidth+Math.ceil(c/2)*s+i+m+s,t&&(T=Math.ceil(c/2)*this.gameItemWidth+Math.ceil(c/2)*s+g),this.contentWide=T,P=cc.callFunc(function(){o&&(o(),G.hideArrow(0),G.onScrollViewScroll())}),Global.GameData.hasMoreGameList&&!t&&(this.moreGameBtn.active=!0,this.moreGameBtn.opacity=255,k=this.contentWide-m/2,this.moreGameBtn.setPosition(k,this.moreGameBtn.position.y)),this.contentNode.width=this.contentWide,cc.callFunc(function(){}),this.itemArea.runAction(cc.sequence(cc.hide(),cc.fadeOut(0),cc.show(),cc.fadeIn(.1),P)),this.downloadGame(),[2]}})})},t.prototype.downloadGame=function(){var e=Global.Setting.storage.get(c.default.FirstOpen);if(!e||1!=e){var t=Global.GameData.autoDownList;if(t&&t.length>0){Global.Setting.storage.set(c.default.FirstOpen,1);for(var o=0;o<t.length;o++){var i=Global.GameData.getGameInfo(t[o]);i&&1==i.status&&Global.HotUpdateManager.addHotUpdateGameComp(i.game_id,i.version,i.getUpdateUrl(),i.isBackVersionFlag,!0)}}}},t.prototype.getItem=function(e){return r(this,void 0,void 0,function(){var t=this;return a(this,function(){return[2,new Promise(function(o){return r(t,void 0,void 0,function(){var t;return a(this,function(i){switch(i.label){case 0:return null!=(t=this.gameItemMap[e])?[3,2]:[4,this.addGameItem(e)];case 1:t=i.sent(),i.label=2;case 2:return o(t),[2]}})})})]})})},t.prototype.showAllItem=function(){if(this.gameItemMap&&!Global.Toolkit.isEmptyObject(this.gameItemMap))for(var e in this.gameItemMap)this.gameItemMap[e].active=!0},t.prototype.hideAllItem=function(){if(this.gameItemMap&&!Global.Toolkit.isEmptyObject(this.gameItemMap))for(var e in this.gameItemMap)this.gameItemMap[e].active=!1},t.prototype.destroy=function(){for(var e in this.gameItemMap)this.gameItemMap[e].destroy()},t.prototype.destroyAll=function(){var e=this.gameItemRoot.parent;if(cc.isValid(e)){for(var t=0;t<e.childrenCount;t++){var o=e.children[t];cc.isValid(o)&&o.destroyAllChildren()}this.destroy(),this.gameItemMap={}}},t.prototype.close=function(){for(var e in this.gameItemMap)this.gameItemMap[e].releaseGameIcon()},t}(s.default);o.default=u,cc._RF.pop()},{"../../../../core/component/BindingButtonEffect":"BindingButtonEffect","../../../../core/component/YXButton":"YXButton","../../../../core/ui/ViewBase":"ViewBase","../../../../hallcommon/const/HallStorageKey":"HallStorageKey","./GameItemView":"GameItemView"}],GameListView:[function(e,t,o){"use strict";cc._RF.push(t,"13835FXZ4dA+ZJbrqFrGD2C","GameListView");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__awaiter||function(e,t,o,i){return new(o||(o=Promise))(function(n,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,s)}l((i=i.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var o,i,n,r,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(e){return function(t){return l([e,t])}}function l(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,i&&(n=2&r[0]?i.return:r[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,r[1])).done)return n;switch(i=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){a.label=r[1];break}if(6===r[0]&&a.label<n[1]){a.label=n[1],n=r;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(r);break}n[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(s){r=[6,s],i=0}finally{o=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=e("../../../../core/ui/ViewBase"),l=e("./GameItemView"),c=e("../../../../core/tool/AppHelper"),p=e("../../../../hallcommon/const/HallStorageKey"),h=e("../../../../core/component/YXButton"),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.contentNode=null,t.contentWide=-1,t.gameItemMap={},t.biniting=!1,t}return n(t,e),t.prototype.initView=function(){this.gameListScroll=this.getComponent("centerContent",cc.ScrollView),this.gameItemRoot=this.getChild("centerContent/contentView/content/itemArea/contentView/content/itemParent/iconRoot"),this.gonggaoNode=this.getChild("centerContent/contentView/content/gonggaoArea/gonggaoNode"),this.contentNode=this.getChild("centerContent/contentView/content/itemArea/contentView/content"),this.topArrow=this.getChild("shan_left"),this.botArrow=this.getChild("shan_right"),this.botArrow.active=!1,this.topArrow.active=!1,this.gameTemplate=this.getChild("gameListItem"),this.gameTemplate.active=!1,this.gameItemHeight=this.gameTemplate.height,this.gameItemWidth=this.gameTemplate.width,this.gameListScroll.node.on("scrolling",this.onScrollViewScroll,this),this.gameListScroll.node.on("scroll-ended",this.onScrollViewScrollEnded,this),cc.game.on(cc.game.EVENT_SHOW,this.onResume,this)},t.prototype.onDispose=function(){this.gameListScroll.node.off("scrolling",this.onScrollViewScroll,this),this.gameListScroll.node.off("scroll-ended",this.onScrollViewScrollEnded,this),cc.game.off(cc.game.EVENT_SHOW,this.onResume,this)},t.prototype.onResume=function(){var e=this;Global.SceneManager.inGame()||(Logger.error("---------gameItemList----------onResume---------"),Global.Component.scheduleOnce(function(){e.onScrollViewScroll()},.1))},t.prototype.onScrollViewScrollEnded=function(){var e=cc.v2(this.gameListScroll.getScrollOffset().x,0),t=cc.v2(this.gameListScroll.getScrollOffset().x,this.gameListScroll.getMaxScrollOffset().y),o=this.gameListScroll.getScrollOffset(),i=o.x-e.x,n=o.y-e.y,r=Math.sqrt(Math.pow(i,2)+Math.pow(n,2)),a=o.x-t.x,s=o.y-t.y;r>=Math.sqrt(Math.pow(a,2)+Math.pow(s,2))?this.hideArrow(1):this.hideArrow(0)},t.prototype.onScrollViewScrollToTop=function(){this.hideArrow(0)},t.prototype.onScrollViewScrollToBot=function(){this.hideArrow(1)},t.prototype.hideArrow=function(e){cc.isValid(this.topArrow)&&(this.topArrow.active=1==e),cc.isValid(this.botArrow)&&(this.botArrow.active=0==e)},t.prototype.onScrollViewScroll=function(){if(this.gameListScroll.node&&cc.isValid(this.gameListScroll.node)){this.hideArrow(-1);var e=this.gameListScroll.node.parent.convertToWorldSpaceAR(cc.v2(this.gameListScroll.node.x-this.gameListScroll.node.anchorX*this.gameListScroll.node.width,this.gameListScroll.node.y-this.gameListScroll.node.anchorY*this.gameListScroll.node.height)),t=cc.rect(e.x,e.y,this.gameListScroll.node.width,this.gameListScroll.node.height);if(this.gameItemList&&0!=this.gameItemList.length)for(var o=0;o<this.gameItemList.length;o++){var i=this.gameItemList[o],n=i.node.getComponent(h.default);i&&cc.isValid(i.node)&&(i.node.getBoundingBoxToWorld().intersects(t)?(i.active=!0,n.setActive(!0)):(i.active=!1,n.setActive(!1)))}}},t.prototype.getNodesArr=function(){for(var e=[],t=0;t<this.gameItemList.length;t++)e.push(this.gameItemList[t].node);return e},t.prototype.addGameItem=function(e){return r(this,void 0,void 0,function(){var t=this;return a(this,function(){return[2,new Promise(function(o){return r(t,void 0,void 0,function(){var t,i,n;return a(this,function(r){switch(r.label){case 0:return t=new l.default,i=Global.GameData.getGameResInfo(e),n=cc.instantiate(this.gameTemplate),t.setNode(n),[4,t.setResInfo(i)];case 1:return r.sent(),this.gameItemMap[e]=t,t.active=!1,o(t),[2]}})})})]})})},t.prototype.refreshGameList=function(e,t){return void 0===t&&(t=null),r(this,void 0,void 0,function(){var o,i,n,r,s,l,p,h,u,d,f,g,m,y,b=this;return a(this,function(a){switch(a.label){case 0:this.hideAllItem(),this.gameItemRoot.stopAllActions(),(this.gameListScroll.isScrolling()||this.gameListScroll.isAutoScrolling())&&this.gameListScroll.stopAutoScroll(),e<0?Global.Component.scheduleOnce(function(){b.gameListScroll.scrollToOffset(cc.v2(-e,0))}):this.gameListScroll.scrollToLeft(),o=Global.GameData.hallGameList,i=Global.Setting.SkinConfig.hallGameListOffsetX,n=this.gonggaoNode.width,r=0,this.gameItemList=[],s=[],l=0,p=n,h=0,a.label=1;case 1:return h<o.length?(u=o[h],c.default.isBaiduSpecialState()&&c.default.isFilterGame(u.game_id)?[3,3]:[4,this.getItem(u.game_id)]):[3,4];case 2:(d=a.sent()).node.parent=this.gameItemRoot,f=0,g=0,l%2==0?(f=p+this.gameItemWidth/2*Math.floor(l+1)+Math.floor(l/2)*i,g=this.gameItemHeight/2-200):(f=p+this.gameItemWidth/2*Math.floor(l)+Math.floor(l/2)*i,g=-this.gameItemHeight/2),d.node.setPosition(f,g),d.setServerInfo(u,l),d.active=!0,s.push(d.node),this.gameItemList.push(d),l++,a.label=3;case 3:return h++,[3,1];case 4:return m=Math.ceil(l/2)*this.gameItemWidth+Math.ceil(l/2)*i+n+r+i,this.gameItemRoot.parent.width=m,this.gameItemRoot.opacity=1,y=cc.callFunc(function(){t&&t()}),this.gameItemRoot.runAction(cc.sequence(cc.hide(),cc.fadeOut(0),cc.show(),cc.fadeIn(1),y)),this.downloadGame(),[2]}})})},t.prototype.downloadGame=function(){var e=Global.Setting.storage.get(p.default.FirstOpen);if(!e||1!=e){var t=Global.GameData.autoDownList;if(t&&t.length>0){Global.Setting.storage.set(p.default.FirstOpen,1);for(var o=0;o<t.length;o++){var i=Global.GameData.getGameInfo(t[o]);i&&1==i.status&&Global.HotUpdateManager.addHotUpdateGameComp(i.game_id,i.version,i.getUpdateUrl(),i.isBackVersionFlag,"0.0.0",!0)}}}},t.prototype.getItem=function(e){return r(this,void 0,void 0,function(){var t=this;return a(this,function(){return[2,new Promise(function(o){return r(t,void 0,void 0,function(){var t;return a(this,function(i){switch(i.label){case 0:return null!=(t=this.gameItemMap[e])?[3,2]:[4,this.addGameItem(e)];case 1:t=i.sent(),i.label=2;case 2:return o(t),[2]}})})})]})})},t.prototype.showAllItem=function(){if(this.gameItemMap&&!Global.Toolkit.isEmptyObject(this.gameItemMap))for(var e in this.gameItemMap)this.gameItemMap[e].active=!0},t.prototype.hideAllItem=function(){if(this.gameItemMap&&!Global.Toolkit.isEmptyObject(this.gameItemMap))for(var e in this.gameItemMap)this.gameItemMap[e].active=!1},t.prototype.destroy=function(){for(var e in this.gameItemMap)this.gameItemMap[e].destroy()},t.prototype.destroyAll=function(){var e=this.gameItemRoot.parent;if(cc.isValid(e)){for(var t=0;t<e.childrenCount;t++){var o=e.children[t];cc.isValid(o)&&o.destroyAllChildren()}this.destroy(),this.gameItemMap={}}},t.prototype.close=function(){for(var e in this.gameItemMap)this.gameItemMap[e].releaseGameIcon()},t}(s.default);o.default=u,cc._RF.pop()},{"../../../../core/component/YXButton":"YXButton","../../../../core/tool/AppHelper":"AppHelper","../../../../core/ui/ViewBase":"ViewBase","../../../../hallcommon/const/HallStorageKey":"HallStorageKey","./GameItemView":"GameItemView"}],GameLoadingComp:[function(e,t,o){"use strict";cc._RF.push(t,"e99afkde1NK24JbKRqNQlDF","GameLoadingComp");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,l=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.logoSkIdleCount=1,t.delay=1,t}return n(t,e),t.prototype.onLoad=function(){this.logoSk=cc.find("logoSk",this.node).getComponent(sp.Skeleton),this.logoSk.node.active=!1},t.prototype.onEnable=function(){if(this.logoSkIdleCount<=0)return RangeError("logoSpine \u52a8\u753b\u6570\u91cf\u8bbe\u5b9a\u5f02\u5e38");this.logoSk.node.active=!0,this.logoSk.clearTracks(),1==this.logoSkIdleCount?this.logoSk.setAnimation(0,"animation",!0):(this.logoSk.setAnimation(0,"animation",!1),this.logoSk.addAnimation(0,"animation",!0,this.delay))},t.prototype.onDisable=function(){this.logoSk.node.active=!1,this.logoSk.clearTracks()},r([l({type:cc.Integer,tooltip:"logoSpine\u64ad\u653e\u52a8\u753b\u6570\u91cf, 1\u5355\u4e00\u5faa\u73af, 2\u64ad\u653e\u7b2c\u4e00\u4e2a\u540e\u5faa\u73af\u7b2c\u4e8c\u4e2a",min:0})],t.prototype,"logoSkIdleCount",void 0),r([l({type:cc.Float,visible:function(){return this.logoSkIdleCount>=2},tooltip:"logoSpine \u5207\u6362\u52a8\u753b\u5ef6\u65f6s",min:0})],t.prototype,"delay",void 0),r([s],t)}(cc.Component);o.default=c,cc._RF.pop()},{}],GameLobbyShellModule:[function(e,t,o){"use strict";cc._RF.push(t,"5dab9FDg21AJKOOctRJTb9G","GameLobbyShellModule");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.viewClass="WndGameLobbyShell",t.modelClass="",t.resPaths=[],t.prefabPaths=[""],t.children=[],t}return n(t,e),t}(e("../../../framework/module/ModuleBase").ModuleBase);o.default=r,cc._RF.pop()},{"../../../framework/module/ModuleBase":"ModuleBase"}],GamePreloadTool:[function(e,t,o){"use strict";cc._RF.push(t,"84058doDNxNPJ349bYtneoT","GamePreloadTool"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function e(){this.basePrefabPath="prefabs/",this.lobbyUIPath=this.basePrefabPath+"LobbyUI",this.rulePop=this.basePrefabPath+"RulePop",this.settingPop=this.basePrefabPath+"SettingPop",this.codeCache={},this.curGid=0,this.keepAssetMap=new Map}return Object.defineProperty(e.prototype,"curGameId",{get:function(){return this.curGid},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"curBundleName",{get:function(){return this.getPreloadBundleName(this.curGid)},enumerable:!1,configurable:!0}),e.prototype.getPreloadBundleName=function(e){return e+"_preload"},e.prototype.setup=function(e){Logger.error("GamePreloadTool setup",this.curGid,e),this.curGid=e,Global.SceneManager.setGameSearchPath(String(e)),this.codeCache={}},e.prototype.reShowLobbyShellWnd=function(){Game.GamePreloadTool.releaseKeepAsset(this.curGid,!0)},e.prototype.preloadBundle=function(){var e=this;try{return new Promise(function(t,o){Global.ResourceManager.loadBundle(e.curBundleName,function(i,n){i?(Logger.error("\u52a0\u8f7d\u5b50\u6e38\u620fbundle\u5931\u8d25--------preloadBundle------------"),Global.Toolkit.removeDir(e.curGid,i),o(i)):t(n)})})}catch(t){Global.Toolkit.removeDir(this.curGid,t)}},e.prototype.preloadPrefab=function(e,t){var o=this;void 0===t&&(t=!1);var i=this.getSelectPrefab(e,t),r=this.getAssetWholePath(e);return i||new Promise(function(i,a){Global.ResourceManager.loadBundleRes(o.curBundleName,e,function(s,l){if(s)a(s);else{if(t){if(o.keepAssetMap.has(r))o.keepAssetMap.get(r).count++;else{var c=new n(o.curGid,e,l,1);o.keepAssetMap.set(r,c)}l.addRef()}Global.ResourceManager.setAutoReleaseRecursively(l,!1),i(l)}},null)})},e.prototype.lazyPreloadPrefab=function(){Global.ResourceManager.lazyLoadBundleRes(this.curBundleName,[this.rulePop,this.settingPop],cc.Prefab)},e.prototype.getSelectPrefab=function(e,t){void 0===t&&(t=!0);var o=Global.ResourceManager.getBundleRes(this.curBundleName,e,cc.Prefab);if(o){if(t){var i=this.getAssetWholePath(e);if(this.keepAssetMap.has(i))this.keepAssetMap.get(i).count++;else{var r=new n(this.curGid,e,o,1);this.keepAssetMap.set(i,r)}o.addRef()}return o}},e.prototype.getAssetWholePath=function(e){return this.curGid+"_"+e},e.prototype.releasePreloadBundle=function(e){Global.ResourceManager.releaseHelper.releaseBundle(this.getPreloadBundleName(e))},e.prototype.releaseKeepAsset=function(e,t){var o=this;void 0===t&&(t=!1);var i=t?1:0,n=[];this.keepAssetMap.forEach(function(t,r){if(t.gid==e){var a=t.count;if(a>0)for(var s=0;s<a-i;s++)t.asset.decRef(),t.count--;0==t.count&&(n.push(r),Global.ResourceManager.releaseHelper.releaseBundleRes(o.getPreloadBundleName(e),t.path))}}),n.forEach(function(e){o.keepAssetMap.delete(e)})},e.prototype.checkPreloadBundleExist=function(e){if(cc.sys.isNative){var t=jsb.fileUtils.getWritablePath()+"/gameUpdate/"+e+"/assets/"+e+"_preload",o=jsb.fileUtils.isFileExist(t);return Logger.error("checkPreloadBundleExist",t,o),o}return!!cc.sys.isBrowser&&[4002,1001,1009,1015,1017,1018,1019,1020,1022,5001,5002,5003,5004,5005,5006,1021].indexOf(e)<=-1},e}();o.default=i;var n=function(){function e(e,t,o,i){this.gid=e,this.path=t,this.asset=o,this.count=i}return Object.defineProperty(e.prototype,"count",{get:function(){return this._count},set:function(e){Logger.error("set CacheAssetInfo count",this.gid,this.path,e),this._count=e},enumerable:!1,configurable:!0}),e}();cc._RF.pop()},{}],GameServer:[function(e,t,o){"use strict";cc._RF.push(t,"e1e05CJ3mdE/aasNUy0Ge3K","GameServer");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r,a=e("../../../framework/event/EventDispatcher"),s=e("./serverHelper/SocketHelper"),l=e("./serverHelper/HandlerHelper"),c=e("./serverHelper/GameErrorHelper"),p=e("./serverHelper/ReconnectHelper"),h=e("./serverHelper/GameHeartBeatHelper"),u=e("../net/hall/HallErrorHandler"),d=e("../net/hall/CheckHelper"),f=e("./serverHelper/CallbackHandlerHelper");(function(e){e[e.IgnoreAll=0]="IgnoreAll",e[e.PassSSSAndEnter=1]="PassSSSAndEnter",e[e.PassAll=2]="PassAll"})(r||(r={}));var g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleHelperKey="handlerHelper",t.socketHelperKey="socketHelper",t.errorHelperKey="gameErrorHelper",t.reconnectHelperKey="reconnectHelperKey",t.heartBeatHelperKey="heartbeatHelperKey",t.callbackHelperKey="callbackHelperKey",t.helperMap={},t.dst={},t.checker=0,t.msgQueue=[],t.lockList=[],t.isRunning=!1,t.lastSN=-1,t.msgState=r.PassAll,t.errorHelper=new u.HallErrorHelper,t.checkHelper=new d.default(2),t}return n(t,e),t.prototype.setup=function(){this.registHelper(this.socketHelperKey,new s.default(this)),this.registHelper(this.handleHelperKey,new l.default(this)),this.registHelper(this.errorHelperKey,new c.default(this)),this.registHelper(this.reconnectHelperKey,new p.default(this)),this.registHelper(this.heartBeatHelperKey,new h.default(this)),this.registHelper(this.callbackHelperKey,new f.default(this)),this.on(t.Event_GameSocketMsg,this,this.handleMsg),this.on(t.Event_GamePBSocketMsg,this,this.handlePbMsg),this.on(t.Event_GameSocketCallReconnect,this,this.clearData)},t.prototype.registHandler=function(e,t){this.getHelper(this.handleHelperKey).registHandler(e,t)},t.prototype.unregistHandler=function(e){this.getHelper(this.handleHelperKey).removeHandler(e)},t.prototype.registDefaultHandler=function(e,t){this.getHelper(this.handleHelperKey).registDefaultHandler(e,t)},t.prototype.registErrorHandler=function(e,t){this.getHelper(this.errorHelperKey).registErrorHandler(e,t)},t.prototype.clearHandlers=function(){this.getHelper(this.handleHelperKey).clearHandlers(),this.getHelper(this.callbackHelperKey).clearCallbacks()},t.prototype.run=function(){Game.Event.on(Game.EVENT_ADDMANUALLOCK,this,this.addManualLock),Game.Event.on(Game.EVENT_ADDTIMELOCK,this,this.addTimeLock),Game.Event.on(Game.EVENT_REMOVELOCK,this,this.removeLock),Game.Event.on(Game.EVENT_UNSHFIT_MSGLIST,this,this.unshfitMsgList),this.callHelper("run"),this.isRunning=!0},t.prototype.stop=function(){this.callHelper("clear"),Game.Event.offAllByCaller(this),this.checkHelper.clear(),this.lastSN=-1,this.msgState=r.PassAll,this.msgQueue=[],this.lockList=[],this.mod="",this.dst={},this.isRunning=!1},t.prototype.unshfitMsgList=function(e){null!=e&&0!=e.length&&this.msgQueue.unshift.apply(this.msgQueue,e)},t.prototype.stopGame=function(){this.isRunning=!1,this.lockList=[],this.msgQueue=[],this.lastSN=-1,this.getHelper(this.socketHelperKey).clear(),this.getHelper(this.heartBeatHelperKey).netInterval=0},t.prototype.send=function(e,t){t=t||{};var o=this.getSendParam(e);o._param._para=t,o._func=e,this.sendDirect(o)},t.prototype.sendWithCallback=function(e,t,o,i,n,r){void 0===n&&(n=-1),void 0===r&&(r=!0),t=t||{};var a=this.getSendParam(e);a._param._para=t,a._func=e;var s=a._check,l={key:s,callback:o,errorCallback:i,inQueue:r,live:n,cmd:e};this.getHelper(this.callbackHelperKey).registCallback(s,l),this.sendDirect(a)},t.prototype.sendPb=function(e,t){0==e.indexOf("*game*_")&&(e=e.replace("*game*_",""),e=Number(e)),this.getHelper(this.socketHelperKey).sendBuffer(e,t)},t.prototype.sendHttp=function(e,t,o,i,n){var r=this;o=o||{};var a=Global.Setting.Urls.gameRoutes;null==a&&(Logger.error("gameRoutes is null \u5148\u8bf7\u6c42GetGameRoute"),a=Global.Setting.Urls.hallRoutes),this.sendWithServerRouteAndMod(a.getRandRoute(),e,t,o,i,function(e){if(n)n(e);else{var o=r.getHelper(r.handleHelperKey).getHandler("*game*_404");if(o){var i={_cmd:"*game*_404",_receiveTime:Date.now(),_para:{errNo:e._errno,errStr:e._errstr,errExt:e._errext||t}};o.Handle(i)}}return!0})},t.prototype.sendHttpPb=function(e,t,o,i,n){var r=this,a=0;if(0==t.indexOf("*game*_")){var s=t.replace("*game*_","");a=Number(s)}else a=Number(t);if(a){var l=o?o.length:0;l+=4;var c=ByteBuffer.allocate(l,!1,!1);c.writeUint32(a,0),o&&c.append(o,4);var p=Global.Setting.Urls.gameRoutes;null==p&&(Logger.error("gameRoutes is null \u5148\u8bf7\u6c42GetGameRoute"),p=Global.Setting.Urls.hallRoutes),this.sendWithServerRouteAndMod(p.getRandRoute(),e,t,o,i,function(e){if(n)n();else{var o=r.getHelper(r.handleHelperKey).getHandler("*game*_404");if(o){var i={_cmd:"*game*_404",_receiveTime:Date.now(),_para:{errNo:e._errno,errStr:e._errstr,errExt:e._errext||t}};o.Handle(i)}}return!0}),c.clear()}else Logger.error("sendHttpPb() cmd \u683c\u5f0f\u9519\u8bef")},t.prototype.sendWithServerRouteAndMod=function(e,t,o,i,n,r){var a=e.getHttpUrlWithMod(t),s="?_func="+o+"&"+Global.UrlUtil.getUrlCommonParam(),l={};l._param=i,a.suffix=a.suffix+s,this.sendWithUrl(a,l,n,r)},t.prototype.sendWithUrl=function(e,t,o,i){var n=this;Global.Http.send(e,t,function(t){if("string"==typeof t){var r,a=null;try{a=JSON.parse(t)}catch(u){return void Logger.error("\u89e3\u6790\u534f\u8bae\u5931\u8d25",t,u)}if(a._func!=Game.Command.HeartBeat&&Logger.log("HttpMsg:",t),!Global.SceneManager.inGame())return void Logger.error("gameserver http\u534f\u8bae\u8de8\u573a\u666f\uff0c\u4e22\u5f03",e.getUrl());if(!n.errorHelper.handleError(a,i)){if(null!=a._errno){var s="*game*_404";if(r=n.getHelper(n.handleHelperKey).getHandler(s)){var l={_cmd:s,_receiveTime:Date.now(),_para:{errNo:a._errno,errStr:a._errstr,errExt:a._errext}};r.Handle(l)}}return}if(o)o(a._param);else s=a._func,(r=n.getHelper(n.handleHelperKey).getHandler(s))&&(l={_cmd:s,_receiveTime:Date.now(),_para:a._param},r.Handle(l))}else{var c=new Uint8Array(t),p=ByteBuffer.wrap(c.slice(0,4),!1).readUint32(0),h=c.slice(4);s="*game*_"+p,n.handlePbMsg(s,h)}},function(e){if(Global.SceneManager.inGame()){var t=e||"",o="",r=t.indexOf("_func=");if(-1!=r){var a=t.indexOf("&",r+6);-1!=a&&(o=t.substring(r+6,a))}if(i)i({_errno:-1,_errstr:"\u7f51\u7edc\u8fde\u63a5\u8d85\u65f6\uff0c\u8bf7\u68c0\u67e5\u540e\u91cd\u8bd5",_errext:o});else{var s="*game*_404",l=n.getHelper(n.handleHelperKey).getHandler(s);if(l){var c={_cmd:s,_receiveTime:Date.now(),_para:{errNo:-1,errStr:"\u7f51\u7edc\u8fde\u63a5\u5f02\u5e38\uff0c\u8bf7\u68c0\u67e5\u540e\u91cd\u8bd5",errExt:o}};l.Handle(c)}}}else Logger.error("gameserver http\u534f\u8bae\u8de8\u573a\u666f\uff0c\u4e22\u5f03")})},t.prototype.setDst=function(e,t){this.dst._gt=e,this.dst._chair=t},t.prototype.clearDst=function(){this.dst={}},t.prototype.passAll=function(){this.msgState=r.PassAll},t.prototype.ignoreAll=function(){this.msgState=r.IgnoreAll},t.prototype.passSSSAndEnter=function(){this.msgState=r.PassSSSAndEnter,this.lastSN=-1},t.prototype.sendDirect=function(e){if(this.getHelper(this.socketHelperKey).send(e),null!=e&&null!=e._param){var t=Global.ReportTool.genGameKey("send");Global.ReportTool.ReportPublicDebugLog(t,e)}},t.prototype.sendHeartBeat=function(){this.getHelper(this.heartBeatHelperKey).startHeartbeat(),this.getHelper(this.heartBeatHelperKey).sendHeartBeat()},t.prototype.stopHeartBeat=function(){this.getHelper(this.heartBeatHelperKey).stopHeartBeat()},t.prototype.getSendParam=function(e){var t={};return t._dst=this.dst,t._param={},t._param._cmd=e,t._mod=this.mod,this.checkHelper.updateChecker(),e==Game.Command.HeartBeat?(this.checkHelper.recordHeartbeat(),t._check=this.checkHelper.getHeartBeatChecker(this.lastSN)):t._check=this.checkHelper.getNomalChecker(),this.updateChecker(),t},t.prototype.updateChecker=function(){this.checker++,this.checker>1e5&&(this.checker=0)},t.prototype.connect=function(e,t,o,i){void 0===o&&(o=!1),void 0===i&&(i=!0);var n,r=e.getPbSocketUrl(t);this.mod=t;var a=this.getSocketSuffix(i);r.suffix=r.suffix+a,n=Global.UrlUtil.dealWebSocketUrl(r);var s=r.cerPath;this.getHelper(this.socketHelperKey).connect(n,e,o,this.mod,a,s)},t.prototype.getNetCost=function(){return this.checkHelper?this.checkHelper.getNetCost():0},t.prototype.callHelper=function(e,t){for(var o in this.helperMap)this.helperMap[o][e]&&this.helperMap[o][e](t)},t.prototype.getSocketUrl=function(e,t){void 0===t&&(t=!1);var o=Global.UrlUtil.getUrlCommonParam();return e.suffix=e.suffix+"?"+o,t&&(e.suffix+="&_func=event"),e},t.prototype.getSocketSuffix=function(e){void 0===e&&(e=!1);var t="?"+Global.UrlUtil.getUrlCommonParam();return e&&(t+="&_func=event"),t},t.prototype.registHelper=function(e,t){null!=this.helperMap[e]&&Logger.error("\u91cd\u590d\u6ce8\u518chelper"),this.helperMap[e]=t},t.prototype.getHelper=function(e){return this.helperMap[e]?this.helperMap[e]:null},t.prototype.clearData=function(){this.msgQueue=[],this.lockList=[],this.lastSN=-1,this.getHelper(this.heartBeatHelperKey).stopHeartBeat()},t.prototype.handlePbMsg=function(e,t){var o=t._check,i=this.getHelper(this.callbackHelperKey).getCallback(o);if(i){var n=i.callback;n&&n.decodePb}else{var r=this.getHelper(this.handleHelperKey).getHandler(e);if(r&&r.decodePb){var a=r.decodePb(t);if(null==a)return;var s={};s._cmd=e,s._para=a,Logger.log("receive PbMsg: "+JSON.stringify(s)),r.checkInQueue&&r.checkInQueue(s)?this.msgQueue.push(s):r.Handle(s)}}},t.prototype.filterMsg=function(e){return null!=e&&null!=e._param&&this.msgState!=r.IgnoreAll&&(this.msgState!=r.PassSSSAndEnter||e._param._cmd==Game.Command.Session||e._param._cmd==Game.Command.Enter||e._param._cmd==Game.Command.WaitMatch)},t.prototype.handleMsg=function(e){if(this.filterMsg(e))if(null!=e&&null!=e){this.preHandleMsg(e);var t=e._check,o=this.getHelper(this.callbackHelperKey).getCallback(t);if(o&&o.errorCallback&&e._param&&e._param._errno)o.errorCallback(e._param);else{var i=this.getHelper(this.errorHelperKey);if(i.handleSysError(e)){if(!this.checkSN(e))return this.lastSN=-1,void Game.Event.event(Game.EVENT_CALL_RECONNECT);if(i.handleCmdError(e)&&i.handleLogicError(e)){var n=e._param._cmd;if(n!=Game.Command.HeartBeat){var r=Global.ReportTool.genGameKey("recv");if(Global.ReportTool.ReportPublicDebugLog(r,e),e._param._receiveTime=Date.now(),o)o.inQueue?this.msgQueue.push(e):(o.callback(e._param),this.getHelper(this.callbackHelperKey).removeCallback(t));else{var a=this.getHelper(this.handleHelperKey).getHandler(n);a&&(a.checkInQueue&&a.checkInQueue(e._param)?this.msgQueue.push(e._param):a.Handle(e._param))}}else{var s=Global.ReportTool.genGameKey("recv_he1");Global.ReportTool.ReportPublicDebugLog(s,e),this.checkHelper.refreshCostTime(e._check),this.getHelper(this.heartBeatHelperKey).HandleHeartBeat(e);var l=e._param._times;l&&Game.Component.doChecker(l)}}}}}else Logger.error("netData == null\uff01\uff01\uff01\uff01\uff01\uff01\uff01");else Logger.error("filter msg",JSON.stringify(e))},t.prototype.preHandleMsg=function(e){e._param._cmd!=Game.Command.Enter&&e._param._cmd!=Game.Command.Session&&e._param._cmd!=Game.Command.WaitMatch?e._param._cmd==Game.Command.Leave&&Game.Context&&Game.Context.selfSrc&&Game.Context.selfSrc==e._param._src&&(null==e._param._errno||0==e._param._errno)&&this.ignoreAll():this.passAll()},t.prototype.onUpdate=function(e){if(this.checkHelper.onUpdate(e),this.isRunning)for(this.callHelper("onUpdate",e),this.updateLock(e);this.msgQueue.length>0;){if(this.hasLock())return;var t=this.msgQueue.shift(),o=this.getHelper(this.callbackHelperKey).getCallback(t._check);if(o&&o.callback)o.callback(t._param),this.getHelper(this.callbackHelperKey).removeCallback(t._check);else{var i=this.getHelper(this.handleHelperKey).getHandler(t._cmd);null!=i&&i.Handle(t)}}},t.prototype.hasLock=function(){return this.lockList.length>0},t.prototype.checkSN=function(e){var t=e._sn;return Logger.log("===lastSN:"+this.lastSN+"   curSN:"+t),0==t||(!this.lastSN||this.lastSN<0?(this.lastSN=t,!0):this.lastSN+1!=t?(Logger.error("lastSN:"+this.lastSN+"   curSN:"+t),Global.ReportTool.ReportClientError("SnError",{lastSN:this.lastSN,serSn:t,check:e._check,param:e._param,appid:Global.Setting.appId,uid:Global.PlayerData.uid}),!1):(this.lastSN=t,!0))},t.prototype.addTimeLock=function(e,t){t=t||0,Logger.log("time lock",e,t);var o=m.create(e,0,t);this.lockList.push(o)},t.prototype.addManualLock=function(e){var t=m.create(e,1);this.lockList.push(t)},t.prototype.removeLock=function(e){for(var t=0;t<this.lockList.length;t++)if(this.lockList[t].key==e)return void this.lockList.splice(t,1)},t.prototype.updateLock=function(e){for(var t=this.lockList.length-1;t>=0;t--)if(this.lockList[t].time-=e,this.lockList[t].time<=0){var o=this.lockList[t];1==o.type&&Logger.error("Manual Lock \u89e3\u9501\u8d85\u65f6",o.key),this.lockList.splice(t,1)}},t.Event_GameSocketMsg="Event_GameSocketMsg",t.Event_GameSocketOpen="Event_GameSocketOpen",t.Event_GameSocketClose="Event_GameSocketClose",t.Event_GamePBSocketMsg="Event_GamePBSocketMsg",t.Event_GameSocketStartConnect="Event_GameSocketStartConnect",t.Event_GameSocketCallReconnect="Event_GameSocketReconnect",t}(a.default);o.default=g;var m=function(){function e(){}return e.create=function(t,o,i){var n=new e;return n.key=t,n.time=0==o?i:e.lockTimeout,n},e.lockTimeout=6,e}();cc._RF.pop()},{"../../../framework/event/EventDispatcher":"EventDispatcher","../net/hall/CheckHelper":"CheckHelper","../net/hall/HallErrorHandler":"HallErrorHandler","./serverHelper/CallbackHandlerHelper":"CallbackHandlerHelper","./serverHelper/GameErrorHelper":"GameErrorHelper","./serverHelper/GameHeartBeatHelper":"GameHeartBeatHelper","./serverHelper/HandlerHelper":"HandlerHelper","./serverHelper/ReconnectHelper":"ReconnectHelper","./serverHelper/SocketHelper":"SocketHelper"}],GameTimeChecker:[function(e,t,o){"use strict";cc._RF.push(t,"8f0d9mZi61FuJC8PWV/vF51","GameTimeChecker");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,l=(a.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.curTimestamp=0,t.isTimerRunning=!1,t.timeError=1,t}return n(t,e),t.prototype.onLoad=function(){cc.game.on(cc.game.EVENT_SHOW,this.onResume,this),cc.game.on(cc.game.EVENT_HIDE,this.onPause,this)},t.prototype.onDestroy=function(){cc.game.off(cc.game.EVENT_SHOW,this.onResume,this),cc.game.off(cc.game.EVENT_HIDE,this.onPause,this),this.stopTimer()},t.prototype.correctTime=function(e){if(!this.isTimerRunning||0==this.curTimestamp)return 0;var t=this.curTimestamp-this.formatTimestamp(e);return t>0?t:0},t.prototype.checkTimestamp=function(e){if(!this.isTimerRunning||0==this.curTimestamp)return this.startTimer(e);this.curTimestamp-e<1e3*this.timeError&&(this.curTimestamp=this.formatTimestamp(e))},t.prototype.startTimer=function(e){e<0||(this.curTimestamp=this.formatTimestamp(e),this.schedule(this.timeRun,.1),this.isTimerRunning=!0)},t.prototype.timeRun=function(e){this.isTimerRunning&&0!=this.curTimestamp&&(this.curTimestamp+=1e3*e)},t.prototype.stopTimer=function(){this.unschedule(this.timeRun),this.curTimestamp=0,this.isTimerRunning=!1},t.prototype.onPause=function(){this.isTimerRunning&&(this.lastPauseTime=Date.now(),this.inBackground=!0)},t.prototype.onResume=function(){if(this.isTimerRunning&&(this.inBackground||(this.lastPauseTime=0),this.inBackground=!1,this.showTime=Date.now(),this.lastPauseTime>0)){var e=this.showTime-this.lastPauseTime;this.curTimestamp+=e}},t.prototype.formatTimestamp=function(e){return 10==e.toString().length?1e3*e:e},r([s],t)}(cc.Component));o.default=l,cc._RF.pop()},{}],GameWebView:[function(e,t,o){"use strict";cc._RF.push(t,"cb62bSCJjZHoqyDnxM5c2Xt","GameWebView"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function e(){this.container=null,this.floatBtnMask=null,this.floatBtn=null,this.gameIframe=null,this.tipsContainer=null,this.tipsTextContent=null,this.tipsContainerTagName="tipsContainer",this.tipsTextContentTagName="tipsTextContent",this.containerTagName="GameContainer",this.floatBtnMaskTagName="FloatBtnMask",this.floatBtnTagName="FloatBtn",this.gameIframeTagName="gameIframe",this.canClick=!0,this.startTime=0,this.maxLeft=0,this.maxTop=0,this.isShow=!1,this.needLandscape=!1,this.needPortrait=!1,this.floatButtonBg="",this.tipsBg=""}return e.prototype.init=function(){document.getElementById(this.containerTagName)||this.createElement()},e.prototype.createElement=function(){this.container=document.createElement("div"),this.container.id=this.containerTagName,this.floatBtnMask=document.createElement("div"),this.floatBtnMask.id=this.floatBtnMaskTagName,this.floatBtn=document.createElement("button"),this.floatBtn.id=this.floatBtnTagName,this.gameIframe=document.createElement("iframe"),this.gameIframe.id=this.gameIframeTagName,this.tipsContainer=document.createElement("div"),this.tipsContainer.id=this.tipsContainerTagName,this.tipsTextContent=document.createElement("p"),this.tipsTextContent.id=this.tipsTextContentTagName,this.initStyle(),this.mountingDom(),this.initEvent()},e.prototype.initStyle=function(){this.initContainerStyle(),this.floatBtnMask.style.position="absolute",this.floatBtnMask.style.zIndex="50",this.floatBtnMask.style.left="0px",this.floatBtnMask.style.top="0px",this.floatBtnMask.style.width="100%",this.floatBtnMask.style.height="100%",this.floatBtnMask.style.display="none",this.floatBtn.style.position="absolute",this.floatBtn.style.left="30px",this.floatBtn.style.top="30px",this.floatBtn.style.width=cc.sys.isMobile?"50px":"80px",this.floatBtn.style.height=cc.sys.isMobile?"50px":"80px",this.floatBtn.style.border="none",this.floatBtn.style.backgroundRepeat="round",this.floatBtn.style.outline="none",this.floatBtn.style.backgroundColor="transparent",this.floatBtn.style.transition="all 0.3s",this.floatBtn.style.opacity="0.5",this.floatBtn.style.zIndex="100",this.gameIframe.style.background="rgba(255, 255, 255, 0.8)",this.gameIframe.style.color="rgb(51, 51, 51)",this.gameIframe.style.height="100%",this.gameIframe.style.width="100%",this.gameIframe.style.position="absolute",this.gameIframe.style.bottom="0px",this.gameIframe.style.left="0px",this.gameIframe.style.border="none",this.tipsContainer.style.width="100%",this.tipsContainer.style.height="100%",this.tipsContainer.style.display="none",this.tipsContainer.style.zIndex="900",this.tipsContainer.style.position="absolute",this.tipsContainer.style.backgroundColor="rgb(0,0,0)",this.tipsContainer.style.backgroundRepeat="no-repeat",this.tipsContainer.style.backgroundSize="20%",this.tipsContainer.style.backgroundPosition="center center",this.tipsTextContent.style.color="rgb(255,255,255)",this.tipsTextContent.style.fontSize="32px",this.tipsTextContent.style.position="absolute",this.tipsTextContent.style.top=.6*this.tipsContainer.height+"px",this.tipsTextContent.style.width="100%",this.tipsTextContent.style.top="60%",this.tipsTextContent.style.textAlign="center"},e.prototype.initContainerStyle=function(e){if(void 0===e&&(e=!1),cc.sys.isMobile){var t=(r=document.getElementById("Cocos2dGameContainer")).style.width,o=r.style.height,i=r.style.paddingTop?r.style.paddingTop:"0px",n=r.style.paddingLeft?r.style.paddingLeft:"0px";window.innerHeight>window.innerWidth&&(t=window.innerWidth+"px",o=window.innerHeight+"px",i="0px",n="0px"),this.floatBtn.style.left="30px",this.floatBtn.style.top="50px",this.container.style.width=t,this.container.style.height=o,this.container.style.position="absolute",this.container.style.top=i,this.container.style.left=n,this.container.style.display=this.isShow?"block":"none"}else{var r,a=(r=document.getElementById("Cocos2dGameContainer")).style.width?r.style.width:"0PX";this.container.style.width=a;var s=r.style.height?r.style.height:"0PX";this.container.style.height=s,this.container.style.position="absolute",i=r.style.paddingTop?r.style.paddingTop:"0PX",this.container.style.top=i,n=r.style.paddingLeft?r.style.paddingLeft:"0PX",this.container.style.left=n,this.container.style.display=this.isShow?"block":"none"}},e.prototype.mountingDom=function(){this.tipsContainer.insertBefore(this.tipsTextContent,this.tipsContainer.lastChild),this.container.insertBefore(this.floatBtn,this.container.lastChild),this.container.insertBefore(this.floatBtnMask,this.container.lastChild),this.container.insertBefore(this.gameIframe,this.container.lastChild),this.container.insertBefore(this.tipsContainer,this.container.lastChild),document.body.insertBefore(this.container,document.body.lastChild)},e.prototype.initEvent=function(){var e=this;this.canClick=!0,this.startTime=0,cc.sys.isMobile?this.floatBtn.ontouchstart=this.touchstart.bind(this):(this.floatBtn.onmouseleave=this.mouseleave.bind(this),this.floatBtn.onmouseenter=this.mouseenter.bind(this),this.floatBtn.onmousedown=this.mousedown.bind(this)),this.gameIframe.addEventListener("load",function(){e.isShow&&Global.Event.event(GlobalEvent.WebUpPoint,!0)},!1),this.gameIframe.addEventListener("error",function(){},!1),window.addEventListener("resize",function(){e.initContainerStyle(!0),e.isShowTipsOrNo()})},e.prototype.mousedown=function(e){var t=this;this.startTime=Date.now(),this.canClick=!1;var o=e.clientX,i=e.clientY,n=this.floatBtn.offsetLeft,r=this.floatBtn.offsetTop;this.maxLeft=this.container.offsetWidth-this.floatBtn.offsetWidth,this.maxTop=this.container.offsetHeight-this.floatBtn.offsetHeight,e.preventDefault(),this.floatBtnMask.style.display="block",document.onmousemove=function(e){t.floatBtn.style.transform="scale(1.2)",t.floatBtn.style.opacity="1",t.floatBtn.style.transition="none";var a=e.clientX,s=e.clientY-i+r,l=a-o+n;s<0||l<0||s>t.maxTop||l>t.maxLeft||(t.canClick=!1,t.floatBtn.style.top=s+"px",t.floatBtn.style.left=l+"px")},document.onmouseup=function(){document.onmousemove=null,t.floatBtnMask.style.display="none";var e=Date.now();t.canClick=e-t.startTime<300,t.canClick&&confirm("\u786e\u8ba4\u8fd4\u56de\u6e38\u620f\u5927\u5385\uff1f")&&t.gameWebViewHiden()}},e.prototype.mouseleave=function(){this.floatBtn.style.transform="scale(1.0)",this.floatBtn.style.opacity="0.5",this.floatBtnMask.onmousemove=null},e.prototype.mouseenter=function(){this.floatBtn.style.transform="scale(1.2)",this.floatBtn.style.opacity="1"},e.prototype.touchstart=function(e){var t=this;this.startTime=Date.now(),this.canClick=!1,this.floatBtn.style.transform="scale(1.2)",this.floatBtn.style.opacity="1";var o=e.touches[0].clientX,i=e.touches[0].clientY,n=this.floatBtn.offsetLeft,r=this.floatBtn.offsetTop;this.maxLeft=this.container.offsetWidth-this.floatBtn.offsetWidth,this.maxTop=this.container.offsetHeight-this.floatBtn.offsetHeight,e.preventDefault(),this.floatBtnMask.style.display="block",document.ontouchmove=function(e){t.floatBtn.style.transform="scale(1.2)",t.floatBtn.style.opacity="1",t.floatBtn.style.transition="none";var a=e.touches[0].clientX,s=e.touches[0].clientY-i+r,l=a-o+n;s<0||l<0||s>t.maxTop||l>t.maxLeft||(t.canClick=!1,t.floatBtn.style.top=s+"px",t.floatBtn.style.left=l+"px")},document.ontouchend=document.ontouchcancel=function(){document.onmousemove=null,t.floatBtnMask.style.display="none",t.floatBtn.style.transform="scale(1.0)",t.floatBtn.style.opacity="0.5";var e=Date.now();t.canClick=e-t.startTime<300,t.canClick&&confirm("\u786e\u8ba4\u8fd4\u56de\u6e38\u620f\u5927\u5385\uff1f")&&t.gameWebViewHiden()}},e.prototype.getButtonImg=function(){var e=window.location.href;if(e.indexOf("?")>-1){var t=e.split("?");e=t[0]}return e+"Back.png"},e.prototype.getTipsUrl=function(){var e=window.location.href;if(e.indexOf("?")>-1){var t=e.split("?");e=t[0]}return e+"xuanzhuan.png"},e.prototype.getTipsText=function(){(this.needLandscape||this.needPortrait)&&this.needPortrait},e.prototype.gameWebViewShow=function(e,t,o){e&&(document.getElementById("Cocos2dGameContainer").style.visibility="hidden",Global.Audio.stopMusic(),this.container.style.display="block",this.gameIframe.setAttribute("src",e),this.isShow=!0,this.needLandscape=t||!1,this.needPortrait=o||!1,this.isShowTipsOrNo(),this.setBgImg())},e.prototype.gameWebViewHiden=function(){this.container.style.display="none",document.getElementById("Cocos2dGameContainer").style.visibility="visible";var e=Global.ModelManager.getModel("PlayerInfoModel");e&&e.InitBgm(),this.isShow=!1,this.gameIframe.setAttribute("src",""),this.needLandscape=!1,this.needPortrait=!1,Global.Event.event(GlobalEvent.WebDownPoint,!0)},e.prototype.setBgImg=function(){""!=this.floatButtonBg&&""!=this.tipsBg||(this.floatButtonBg=Global.customApp.getWebFilePath("Back.png"),this.tipsBg=Global.customApp.getWebFilePath("xuanzhuan.png"),this.floatBtn.style.backgroundImage="url("+this.floatButtonBg+")",this.tipsContainer.style.backgroundImage="url("+this.tipsBg+")")},e.prototype.isShowTipsOrNo=function(){cc.sys.isMobile&&(this.needLandscape||this.needPortrait)&&(this.needPortrait&&this.island()?this.showTipsContainer():this.needLandscape&&this.isPort()?this.showTipsContainer():this.hideTipsContainer())},e.prototype.island=function(){return window.innerWidth>window.innerHeight},e.prototype.isPort=function(){return window.innerHeight>window.innerWidth},e.prototype.showTipsContainer=function(){this.gameIframe.style.display="none",this.floatBtn.style.display="none",this.floatBtnMask.style.display="none",this.tipsContainer.style.display="block",this.tipsTextContent.textContent=this.getTipsText()},e.prototype.hideTipsContainer=function(){this.gameIframe.style.display="block",this.floatBtn.style.display="block",this.floatBtnMask.style.display="block",this.tipsContainer.style.display="none",this.tipsTextContent.textContent=""},e}();o.default=i,cc._RF.pop()},{}],Game:[function(e,t,o){"use strict";cc._RF.push(t,"002a38UCnBE4I2GsxvQP7UH","Game"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../framework/event/EventDispatcher"),n=e("./component/ComponentProvider"),r=e("./game/TweenManager"),a=e("./game/GameServer"),s=e("./game/CommandDefine"),l=e("./game/GameControl"),c=e("./game/data/DataBridge"),p=e("./game/GamePreloadTool"),h=function(){function e(){}return e.setup=function(){this.Command=new s.default,this.Event=new i.default,this.Component=new n.default("GameDriver"),this.Component.setup(this.onUpdate.bind(this),this.onLateUpdate.bind(this)),this.Tween=new r.default,this.Tween.setup(),this.Server=new a.default,this.Server.setup(),this.Control=new l.default,this.Control.setup(),this.DataBridge=new c.default,this.GamePreloadTool=new p.default},e.onUpdate=function(e){this.Tween.onUpdate(e),this.Server.onUpdate(e)},e.onLateUpdate=function(){},e.EVENT_ADDTIMELOCK="EVENT_ADDTIMELOCK",e.EVENT_ADDMANUALLOCK="EVENT_ADDMANUALLOCK",e.EVENT_REMOVELOCK="EVENT_REMOVELOCK",e.EVENT_SOCKET_OPEN="EVENT_SOCKET_OPEN",e.EVENT_SOCKET_CLOSE="EVENT_SOCKET_CLOSE",e.EVENT_SOCKET_ERROR="EVENT_SOCKET_ERROR",e.EVENT_SOCKET_RECONNECT="EVENT_SOCKET_RECONNECT",e.EVENT_CALL_RECONNECT="EVENT_CALL_RECONNECT",e.EVENT_SOCKET_RESUME="EVENT_SOCKET_RESUME",e.EVENT_UNSHFIT_MSGLIST="EVENT_UNSHFIT_MSGLIST",e.EVENT_FORCE_LEAVE_GAME="EVENT_FORCE_LEAVE_GAME",e.EVENT_NOT_IN_TABLE="EVENT_NOT_IN_TABLE",e.EVENT_MATCH_PLAYER="EVENT_MATCH_PLAYER",e.EVENT_SETINTOGAME_FUN="EVENT_SETINTOGAME_FUN",e.EVENT_LABA_CONNECT="EVENT_LABA_CONNECT",e.EVENT_MESSAGE_BOX="EVENT_MESSAGE_BOX",e}();o.default=h,cc._RF.pop()},{"../../framework/event/EventDispatcher":"EventDispatcher","./component/ComponentProvider":"ComponentProvider","./game/CommandDefine":"CommandDefine","./game/GameControl":"GameControl","./game/GamePreloadTool":"GamePreloadTool","./game/GameServer":"GameServer","./game/TweenManager":"TweenManager","./game/data/DataBridge":"DataBridge"}],GiftMoneyItem:[function(e,t,o){"use strict";cc._RF.push(t,"6c00cmzOfVGXrsGOHN3UaQJ","GiftMoneyItem");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,l=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label1=null,t.label2=null,t.label3=null,t}return n(t,e),t.prototype.Init=function(e,t){null==e||null==t?(this.label1.string="",this.label2.string="",this.label3.string="\u2014"):(this.label1.string=Global.Toolkit.formatMillion(e.bet_point/1e4),this.label2.string=Global.Toolkit.GetMoneyFormat(e.point),this.label3.string=t>=0?Global.Toolkit.GetMoneyFormat(t):"\u2014")},t.prototype.InitSafe=function(e,t){null==e||null==t?(this.label1.string="",this.label2.string="",this.label3.string="\u2014"):(this.label1.string=e.multi,this.label2.string=e.rate+"%",this.label3.string=t>=0?(t*e.rate/100/Global.Setting.glodRatio).toString():"\u2014")},r([l(cc.Label)],t.prototype,"label1",void 0),r([l(cc.Label)],t.prototype,"label2",void 0),r([l(cc.Label)],t.prototype,"label3",void 0),r([s],t)}(cc.Component);o.default=c,cc._RF.pop()},{}],GlobalEvent:[function(e,t,o){"use strict";cc._RF.push(t,"69a5fGjAjpARKM0zk9nYGDy","GlobalEvent"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function e(){}return e.RecordGameListOffsetX="RecordGameListOffsetX",e.PERSONALINFOUPDATE="PERSONALINFOUPDATE",e.ISVIPREWARD="ISVIPREWARD",e.VIPREWARD="VIPREWARD",e.CHANGEVIP="CHANGEVIP",e.UPDATEVIPDATA="UPDATEVIPDATA",e.ShowRedSpot="ShowRedSpot",e.ShowHallRed="ShowHallRed",e.CloseRedSpot="CloseRedSpot",e.CloseMoreGame="CloseMoreGame",e.TYPE_VIP_ENTER_GAME="TYPE_VIP_ENTER_GAME",e.TYPE_PRIVATE_MARQUEE="TYPE_PRIVATE_MARQUEE",e.VIPADMISSION="VIPADMISSION",e.MARQUEESCROLL_COMMON="MARQUEESCROLL_COMMON",e.MARQUEESCROLL_VIP="MARQUEESCROLL_VIP",e.MARQUEESCROLL_COMMI="MARQUEESCROLL_COMMI",e.MARQUEESCROLL_BIGWINNER="MARQUEESCROLL_BIGWINNER",e.BINDPHONESUCCEED="BINDPHONESUCCEED",e.SHOW_NET_WAITING="SHOW_NET_WAITING",e.HIDE_NET_WAITING="HIDE_NET_WAITING",e.FORCE_HIDE_WAITING="FORCE_HIDE_WAITING",e.UPDATE_RECONNECT_COUNT="UPDATE_RECONNECT_COUNT",e.UPDATE_GAME_LIST="UPDATE_GAME_LIST",e.UPDATE_SUB_GAME_PERCENT="UPDATE_SUB_GAME_PERCENT",e.UPDATE_SUB_GAME_FINISH="UPDATE_SUB_GAME_FINISH",e.UPDATE_SUB_GAME_FAILED="UPDATE_SUB_GAME_FAILED",e.POP_NOTICE="POP_NOTICE",e.ON_HALL_OPEN="ON_HALL_OPEN",e.POP_REBAATE="POP_REBAATE",e.POP_BIND_GIFT="POP_BIND_GIFT",e.POP_BIND_PHONE="POP_BIND_PHONE",e.SHOW_SPREAD_NODE="SHOW_SPREAD_NODE",e.UPDATE_BAIDU_STATE="UPDATE_BAIDU_STATE",e.LotteryUpdateTab="Lottery.LotteryUpdateOrder",e.LotteryUpdateCfg="Lottery.LotteryUpdateCfg",e.LotteryUpdateOdds="Lottery.LotteryUpdateOdds",e.LotteryUpdateGameData="Lottery.LotteryUpdateGameData",e.LotteryUpdateResult="Lottery.LotteryUpdateResult",e.LotteryUpdateOrder="Lottery.LotteryUpdateOrder",e.RefreshHallNetCost="RefreshHallNetCost",e.RefreshGameNetCost="RefreshGameNetCost",e.SkinConfigLoadFinish="SkinConfigLoadFinish",e.DunInitFinish="DunInitFinish",e.OpenWebViewGame="OpenWebViewGame",e.CloseWebViewGame="closeWebViewGame",e.OnCloseGameLobby="OnCloseGameLobby",e.OnGotoGameScene="OnGotoGameScene",e.WebResize="WebResize",e.WebUpPoint="WebUpPoint",e.WebDownPoint="WebDownPoint",e.WebWidgetResize="WebWidgetResize",e.UPDATE_SUB_GAME_STATE="UPDATE_SUB_GAME_STATE",e.TimeLimitedRechargeStatusChange="TimeLimitedRechargeStatusChange",e}();o.default=i,cc._RF.pop()},{}],Global:[function(e,t,o){"use strict";cc._RF.push(t,"ea0e2dMVGRPSpW7wHmYrXQr","Global"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../framework/event/EventDispatcher"),n=e("../../framework/debug/Logger"),r=e("../../framework/fsm/FsmManager"),a=e("../../framework/net/http/HttpProxy"),s=e("./net/hall/HallServer"),l=e("../../framework/resource/ResourceManager"),c=e("./setting/Setting"),p=e("./tool/Toolkit"),h=e("../../framework/audio/AudioManager"),u=e("./ui/UIManager"),d=e("../../framework/model/ModelMananger"),f=e("../../framework/config/ConfigManager"),g=e("../../framework/section/SectionManager"),m=e("./scene/SceneManager"),y=e("./component/ComponentProvider"),b=e("../../framework/native/NatvieEvent"),v=e("./hotUpdate/HotUpdateManager"),_=e("../hallcommon/data/PlayerData"),S=e("../hallcommon/data/GameData"),C=e("./tool/Language"),w=e("./tool/UIHelper"),I=e("./tool/PersisitHelpper"),T=e("../hallcommon/data/GongGaoData"),P=e("../hall/ui/hall/ActivityToggle"),k=e("./net/chat/ChatServer"),G=e("./tool/ReportTool"),L=e("../../framework/net/dns/DNSControl"),A=e("../../framework/native/NativeJSBBridge"),N=e("../../framework/net/dun/AppDunControl"),M=e("../hallcommon/app/CustomApp"),R=e("./tool/AESUtil"),O=e("./tool/ArrayUtil"),E=e("./tool/ChannelUtil"),B=e("./tool/JSUtil"),D=e("./tool/UIUtil"),U=e("./tool/UrlUtil"),V=e("../../framework/module/ModuleManager"),x=e("./component/WebViewControl"),H=e("./tool/AppUpdateHelper"),F=e("./tool/SearchPathHelper"),j=e("../../framework/native/WebNative"),W=e("../../framework/native/GameWebView"),K=e("./setting/DunHotUpdateUrlSetting"),q=function(){function e(){}return e.setup=function(){this.Event=new i.default,this.Toolkit=new p.default,this.AESUtil=new R.AESUtil,this.ArrayUtil=new O.default,this.ChannelUtil=new E.ChannelUtil,this.JSUtil=new B.JSUtil,this.UIUtil=new D.default,this.UrlUtil=new U.UrlUtil,this.ModuleManager=new V.ModuleManager,this.WebViewControl=new x.default,this.AppUpdateHelper=new H.default,this.SearchPathHelper=new F.default,this.UIHelper=new w.default,n.Logger.logLevel=n.LogLevel.All,n.Logger.logEnable=!1,this.FsmManager=new r.default,this.Http=new a.default,this.Setting=new c.default,this.Setting.setup(),this.ResourceManager=new l.default,this.ModelManager=d.default.Instance,this.ModelManager.init(),this.ConfigManager=f.default.Instance,this.SectionManager=g.default.Instance,this.Audio=new h.default,this.Audio.setup(this.Setting.settingData,this.ResourceManager),this.UI=new u.default,this.UI.setup(this.ResourceManager),this.Persist=new I.default,this.PlayerData=new _.default,this.GameData=new S.default,this.GongGaoData=new T.default,this.ActivityToggle=new P.default,this.DunHotUpdateUrlSetting=new K.default,this.SceneManager=new m.default,this.SceneManager.setup(),this.Component=new y.default("GlobalDriver"),this.Component.setup(this.onUpdate.bind(this),this.onLateUpdate.bind(this)),this.NativeEvent=new b.default,this.HotUpdateManager=new v.default,this.HallServer=new s.default,this.HallServer.setup(),this.Language=new C.default,this.ChatServer=new k.default,this.ReportTool=new G.ReportTool,this.ReportTool.init(),this.DNS=new L.default,this.NativeJSBBridge=new A.default,this.AppDun=new N.default,this.customApp=new M.default,this.customApp.initConfig(),cc.sys.isBrowser&&(this.WebNative=new j.default,this.WebNative.setup(),this.GameWebView=new W.default,this.GameWebView.init())},e.onUpdate=function(e){this.HallServer.onUpdate(e),this.FsmManager.onUpdate(),this.UI.onUpdate(e),this.Http.onUpdate(e),this.ReportTool.onUpdate(e)},e.onLateUpdate=function(){},e}();o.default=q,cc._RF.pop()},{"../../framework/audio/AudioManager":"AudioManager","../../framework/config/ConfigManager":"ConfigManager","../../framework/debug/Logger":"Logger","../../framework/event/EventDispatcher":"EventDispatcher","../../framework/fsm/FsmManager":"FsmManager","../../framework/model/ModelMananger":"ModelMananger","../../framework/module/ModuleManager":"ModuleManager","../../framework/native/GameWebView":"GameWebView","../../framework/native/NativeJSBBridge":"NativeJSBBridge","../../framework/native/NatvieEvent":"NatvieEvent","../../framework/native/WebNative":"WebNative","../../framework/net/dns/DNSControl":"DNSControl","../../framework/net/dun/AppDunControl":"AppDunControl","../../framework/net/http/HttpProxy":"HttpProxy","../../framework/resource/ResourceManager":"ResourceManager","../../framework/section/SectionManager":"SectionManager","../hall/ui/hall/ActivityToggle":"ActivityToggle","../hallcommon/app/CustomApp":"CustomApp","../hallcommon/data/GameData":"GameData","../hallcommon/data/GongGaoData":"GongGaoData","../hallcommon/data/PlayerData":"PlayerData","./component/ComponentProvider":"ComponentProvider","./component/WebViewControl":"WebViewControl","./hotUpdate/HotUpdateManager":"HotUpdateManager","./net/chat/ChatServer":"ChatServer","./net/hall/HallServer":"HallServer","./scene/SceneManager":"SceneManager","./setting/DunHotUpdateUrlSetting":"DunHotUpdateUrlSetting","./setting/Setting":"Setting","./tool/AESUtil":"AESUtil","./tool/AppUpdateHelper":"AppUpdateHelper","./tool/ArrayUtil":"ArrayUtil","./tool/ChannelUtil":"ChannelUtil","./tool/JSUtil":"JSUtil","./tool/Language":"Language","./tool/PersisitHelpper":"PersisitHelpper","./tool/ReportTool":"ReportTool","./tool/SearchPathHelper":"SearchPathHelper","./tool/Toolkit":"Toolkit","./tool/UIHelper":"UIHelper","./tool/UIUtil":"UIUtil","./tool/UrlUtil":"UrlUtil","./ui/UIManager":"UIManager"}],GongGaoData:[function(e,t,o){"use strict";cc._RF.push(t,"209ef++2otFOopXbEtK5TVk","GongGaoData"),Object.defineProperty(o,"__esModule",{value:!0}),o.SingleGongGaoModel=void 0;var i=function(){this.app_id=0,this.lunbo_id=0,this.desc="",this.jump_type=0,this.jump_url=""};o.SingleGongGaoModel=i;var n=function(){function e(){this._gongGaoList=[],this.clear()}return e.prototype.clear=function(){this._gongGaoList=[]},e.prototype.init=function(e){if(e){for(var t=[],o=0;o<e.length;o++){var n=e[o],r=new i;for(var a in r)null!=n[a]&&null!=n[a]&&(r[a]=n[a]);0!=r.lunbo_id&&t.push(r)}this._gongGaoList=t}else cc.error("----gongGaoList------ null")},Object.defineProperty(e.prototype,"gongGaoList",{get:function(){return this._gongGaoList},enumerable:!1,configurable:!0}),e}();o.default=n,cc._RF.pop()},{}],GongGaoViewItem:[function(e,t,o){"use strict";cc._RF.push(t,"6e31aycXtpDU4s02U4UPcs5","GongGaoViewItem");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../../core/ui/ViewBase"),a=e("../../Spread/SpreadEvent"),s=e("../../waiting/CodeTipView"),l=e("../../../../core/component/BindingButtonEffect"),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.initView=function(){this.icon=this.getComponent("content/guangao_di",cc.Sprite),this.childrenRoot=this.getChild("content"),Global.UIHelper.addCommonClick(this.node,"content/btn",this.onClick,this),this.childrenRoot.addComponent(l.default),cc.isValid(this.getChild("content/codeTip"))&&(this.codeTip=this.getChild("content/codeTip").getComponent(s.default)),this.SpreadModel=Global.ModelManager.getModel("SpreadModel")},t.prototype.setData=function(e,t){void 0===t&&(t=null),null!=e?(this.pageView=t,this.node&&this.node.isValid&&(this.info=e,2==e.type&&(this.SpreadModel.on(a.SpreadEvent.RefreshShortUrl,this,this.initQrImg),this.initQrImg()))):this.node.active=!1},t.prototype.moveSpine=function(){},t.prototype.onOpen=function(){},t.prototype.getData=function(){return this.info},t.prototype.initQrImg=function(){if(this.node&&this.node.isValid){var e=this.getChild("content/qrNode");if(this.codeTip.tips.string="\u6b63\u5728\u83b7\u53d6",null!=e){var t=Global.Setting.Urls.inviteUrl;t=this.SpreadModel.Url||t,Global.Toolkit.initQRCode(e,t,5),this.pageView&&cc.isValid(this.pageView)&&this.pageView.updatePage(this.node),this.codeTip.success()}}},t.prototype.onDestoy=function(){this.SpreadModel.off(a.SpreadEvent.RefreshShortUrl,this,this.initQrImg)},t.prototype.onClick=function(){if(1==this.info.type)switch(this.info.subtype){case 1:Global.Event.event(GlobalEvent.SHOW_NET_WAITING,"WndSpread"),Global.UI.show("WndSpread");break;case 2:this.copyUrl();break;case 3:this.openBackUrl();break;case 4:Global.UI.show("WndRecharge","vippay")}else 2==this.info.type?Global.UI.show("WndSpreadCenter"):3==this.info.type&&cc.sys.openURL(Global.Toolkit.DealWithUrl(this.info.subtype))},t.prototype.InitVipCharge=function(){var e=Global.ModelManager.getModel("RechagreTipModel").Salenum,t=this.getComponent("content/rateLabel",cc.Label);t&&(t.string=e)},t.prototype.copyUrl=function(){var e=Global.Setting.Urls.downLoadUrl;Global.NativeEvent.copyTextToClipboard(e,function(e){0==e.result?Global.UI.fastTip("\u590d\u5236\u6210\u529f"):Global.UI.fastTip("\u590d\u5236\u5931\u8d25")})},t.prototype.hideChild=function(e){cc.isValid(this.childrenRoot)&&(this.childrenRoot.active=e)},t.prototype.openBackUrl=function(){var e=Global.Setting.Urls.getBackUrl();cc.sys.openURL(e)},t}(r.default);o.default=c,cc._RF.pop()},{"../../../../core/component/BindingButtonEffect":"BindingButtonEffect","../../../../core/ui/ViewBase":"ViewBase","../../Spread/SpreadEvent":"SpreadEvent","../../waiting/CodeTipView":"CodeTipView"}],GongGaoView:[function(e,t,o){"use strict";cc._RF.push(t,"d25fdqCDexK6a4PvaCELdZN","GongGaoView");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../../core/ui/ViewBase"),a=e("./GongGaoViewItem"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.itemPrefab=null,t.itemList=new Array,t.itemPool=new Array,t.gongGaoCfg=[],t.scrollDelayTime=3,t.scrollTime=1,t.gongGaoCount=5,t}return n(t,e),t.prototype.clearRecord=function(){this.pageView.isAutoScroll=!1,this.pageView.removeAllPages();for(var e=0;e<this.itemList.length;e++){var t=this.itemList[e];t.node.setParent(this.tempNode),t.node.active=!1,this.itemPool.push(t)}this.itemList=[]},t.prototype.initView=function(){this.pageView=this.node.getComponent("LoopPageView"),this.tempNode=this.getChild("maskNode/view"),this.itemPrefab=this.getChild("maskNode/view/gonggaoItem"),this.initData(),this.itemList=[];for(var e=0;e<this.gongGaoCount;e++){var t=this.getChild("maskNode/view/content/gonggaoItem"+e),o=new a.default;o.setNode(t),o.setData(this.gongGaoCfg[e]),cc.sys.platform!=cc.sys.IPHONE&&2==e?(o.node.removeFromParent(),o.node.destroy()):0==e||4==e?(o.node.removeFromParent(),o.node.destroy()):this.itemList.push(o)}},t.prototype.initData=function(){this.gongGaoCfg=[],this.gongGaoCfg.push({type:1,subtype:1}),this.gongGaoCfg.push({type:1,subtype:2}),cc.sys.platform==cc.sys.IPHONE?this.gongGaoCfg.push({type:1,subtype:3}):this.gongGaoCfg.push(null),this.gongGaoCfg.push({type:2}),this.gongGaoCfg.push({type:1,subtype:4})},t.prototype.onSubViewShow=function(){this.pageView.autoScrollDelayTime=this.scrollDelayTime,this.pageView.autoScrollTime=this.scrollTime,this.pageView.scrollToPage(0,0),this.updateView(),this.updateQrCodeItem(),this.pageView.isAutoScroll=!0},t.prototype.onDispose=function(){},t.prototype.updateQrCodeItem=function(){if(this.itemList)for(var e=0;e<this.itemList.length;e++){var t=this.itemList[e],o=t.getData();if(o&&2==o.type){t.setData(o);break}}},t.prototype.updateView=function(){},t}(r.default);o.default=s,cc._RF.pop()},{"../../../../core/ui/ViewBase":"ViewBase","./GongGaoViewItem":"GongGaoViewItem"}],GreenSkinModuleCfg:[function(e,t,o){"use strict";cc._RF.push(t,"2522f4oRJlBJrkqghBS8GQG","GreenSkinModuleCfg");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cfg=["LoginModule","HallModule","PersonalInfoModule","PlayerInfoModule","BankModule","ActivityCenterModule","BackUpGameModule","BindingGiftModule","CashBackModule","GameLobbyShellModule","CommisionModule","CommonModule","FeedbackModule","MsgModule","RankModule","RechargeGiftModule","RechargeModule","ServicerModule","ShareModule","SpreadModule","VipQuickPayChatModule"],t}return n(t,e),t}(e("./ModuleCfgBase").default);o.default=r,cc._RF.pop()},{"./ModuleCfgBase":"ModuleCfgBase"}],GroupItem:[function(e,t,o){"use strict";cc._RF.push(t,"d19cc94blhMLYE/a401g6MF","GroupItem");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,l=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bgIcon=null,t.IdLabel=null,t.NameLabel=null,t.VatLable=null,t.GroupPopulation=null,t.Icon=null,t.GroupVat=null,t}return n(t,e),t.prototype.Init=function(e,t){var o=Global.ModelManager.getModel("SpreadModel").commiType;null==e?(this.Icon.node.active=!1,this.IdLabel.string="",this.NameLabel.string="",this.VatLable.string="",this.GroupVat.string="",this.GroupPopulation.string=""):(this.bgIcon.node.active=t%2==0,1==o||2==o&&(this.IdLabel.string=e.user_id,this.NameLabel.string=Global.Toolkit.formatPointStr(e.unter_flow,!0),this.VatLable.string=Global.Toolkit.formatPointStr(e.team_flow,!0),this.GroupVat.string=e.team_num,this.GroupPopulation.string=Global.Toolkit.formatPointStr(e.commi,!0)))},r([l(cc.Sprite)],t.prototype,"bgIcon",void 0),r([l(cc.Label)],t.prototype,"IdLabel",void 0),r([l(cc.Label)],t.prototype,"NameLabel",void 0),r([l(cc.Label)],t.prototype,"VatLable",void 0),r([l(cc.Label)],t.prototype,"GroupPopulation",void 0),r([l(cc.Sprite)],t.prototype,"Icon",void 0),r([l(cc.Label)],t.prototype,"GroupVat",void 0),r([s],t)}(cc.Component);o.default=c,cc._RF.pop()},{}],HallBottomView:[function(e,t,o){"use strict";cc._RF.push(t,"1cff64n0zZO8JD5KbKG45Dt","HallBottomView");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../../core/ui/ViewBase"),a=e("./HallBtnHelper"),s=e("../../../../hallcommon/model/HallModel"),l=e("../../../../hallcommon/model/ServicerModel"),c=e("../../../../core/component/PlayerWallet"),p=e("./PlayerHeadView"),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.layoutNode=null,t}return n(t,e),t.prototype.initView=function(){this.model=Global.ModelManager.getModel("HallModel"),this.playerHead=this.addView("PlayerHeadView",this.getChild("PlayerHeadView"),p.default),this.playerWalllet=this.addView("PlayerWallet",this.getChild("PlayerHeadView/PlayerWallet"),c.default),this.playerWalllet.refreshAction(),this.layoutNode=this.getChild("layoutNode"),this.spreadRedSpot=this.getChild("layoutNode/spreadNode/hongdian"),this.mailRedSpot=this.getChild("layoutNode/mailNode/hongdian"),this.kefuSpot=this.getChild("layoutNode/kefuNode/hongdian"),this.rechargeNode=this.getChild("rechargeNode"),this.mailRedSpot.active=!1,this.spreadRedSpot.active=!1,this.kefuSpot.active=!1,this.kefuNode=this.addCommonClick("layoutNode/kefuNode",this.onServiceClick,this),this.comissionNode=this.addCommonClick("layoutNode/caishenNode",this.onCommisionClick,this),this.bottomLayout=this.getChild("layoutNode").getComponent(cc.Layout),this.botOrignalWidth=this.bottomLayout.node.width,this.commisionRedRpot=this.getChild("layoutNode/caishenNode/hongdian"),this.commisionRedRpot&&(this.commisionRedRpot.active=!1),this.addCommonClick("layoutNode/rankNode",this.onRankClick,this),this.spreadCenterNode=this.addCommonClick("layoutNode/spreadNode",this.onSpreadClick,this),this.spreadCenterNode.active=!1,this.addCommonClick("layoutNode/mailNode",this.onMailClick,this),this.addCommonClick("rechargeNode",this.onRechargeClick,this);var e=cc.view.getFrameSize().width/cc.view.getFrameSize().height;this.layoutNode.width=this.layoutNode.width*e/(1280/720);for(var t=0;t<this.layoutNode.childrenCount;t++)this.layoutNode.children[t].x=this.layoutNode.width/(this.layoutNode.childrenCount+1)*t+this.layoutNode.children[t].width/2},t.prototype.onSpreadClick=function(){this.model.closeRedSpot(s.HallRedSpotType.Spread),a.default.WndSpreadCenterOpen(),Global.Audio.playAudioSource("hall/sound/share_audio")},t.prototype.SetCommiType=function(){var e=Global.ModelManager.getModel("SpreadModel");e.RedFLag&&(this.spreadRedSpot.active=!0);var t=e.commiType;this.spreadCenterNode.active=0!=t},t.prototype.CheckKefu=function(){var e=null,t=Global.ModelManager.getModel("ServicerModel");t&&(e=t.getServiceInfo(l.CustomerEntranceType.HallService)),e&&e.status||(this.kefuNode.active=!1)},t.prototype.showSpreadNode=function(){this.spreadCenterNode.active=!0},t.prototype.openActivityCenter=function(){a.default.WndActivityOpen()},t.prototype.onHeadClick=function(){a.default.WndPersonalInfoOpen()},t.prototype.onCommisionClick=function(){this.model.closeRedSpot(s.HallRedSpotType.Commision),a.default.WndCommision()},t.prototype.onSubViewShow=function(){Global.Event.on(GlobalEvent.SHOW_SPREAD_NODE,this,this.showSpreadNode),this.model.on("UpdateResSpot",this,this.updateResSpot),this.playerWalllet.subViewState=!0,this.playerHead.subViewState=!0,this.SetCommiType(),Global.ModelManager.getModel("CommisionModel").redSwitch&&(this.commisionRedRpot.active=!0)},t.prototype.onSubViewHide=function(){Global.Event.off(GlobalEvent.SHOW_SPREAD_NODE,this,this.showSpreadNode),this.model.off("UpdateResSpot",this,this.updateResSpot)},t.prototype.onDispose=function(){},t.prototype.updateResSpot=function(e){switch(e){case s.HallRedSpotType.Mail:case s.HallRedSpotType.Gonggao:this.mailRedSpot.active=this.model.mailRedSpotSwitch;break;case s.HallRedSpotType.Kefu:this.kefuSpot.active=this.model.kefuSpotSwitch;break;case s.HallRedSpotType.Spread:this.spreadRedSpot.active=this.model.SpreadRedSpot;break;case s.HallRedSpotType.Commision:this.commisionRedRpot.active=this.model.CommisionRedSpotActive}},t.prototype.onRankClick=function(){this.model.closeRedSpot(s.HallRedSpotType.Rank),a.default.WndRankOpen()},t.prototype.onBankClick=function(){a.default.WndBankOpen(),Global.Audio.playAudioSource("hall/sound/bank")},t.prototype.onMailClick=function(){this.model.closeRedSpot(s.HallRedSpotType.Mail),a.default.WndMailOpen()},t.prototype.onServiceClick=function(){this.model.closeRedSpot(s.HallRedSpotType.Kefu),Global.Audio.playAudioSource("hall/sound/Customer_service"),a.default.WndServiceOpen()},t.prototype.onRechargeClick=function(){Global.Component.scheduleOnce(function(){a.default.WndRechargeOpen(),Global.Audio.playAudioSource("hall/sound/recharge")},0)},t}(r.default);o.default=h,cc._RF.pop()},{"../../../../core/component/PlayerWallet":"PlayerWallet","../../../../core/ui/ViewBase":"ViewBase","../../../../hallcommon/model/HallModel":"HallModel","../../../../hallcommon/model/ServicerModel":"ServicerModel","./HallBtnHelper":"HallBtnHelper","./PlayerHeadView":"PlayerHeadView"}],HallBroadcastHelper:[function(e,t,o){"use strict";cc._RF.push(t,"6190buM9ExN84QxXOK1Szhq","HallBroadcastHelper"),Object.defineProperty(o,"__esModule",{value:!0});var i,n=e("./HallServer"),r=e("./NetEvent"),a=e("../../../hallcommon/model/HallModel"),s=e("../../GlobalEvent"),l=e("../../scene/SceneManager");(function(e){e[e.TYPE_MARQEE_MSG=2e4]="TYPE_MARQEE_MSG",e[e.TYPE_MARQEE_WINNER=20001]="TYPE_MARQEE_WINNER",e[e.TYPE_MARQEE_CP=20002]="TYPE_MARQEE_CP",e[e.TYPE_UPDATE_INFO=20003]="TYPE_UPDATE_INFO",e[e.TYPE_PUT_DENY=20004]="TYPE_PUT_DENY",e[e.TYPE_MARQEE_MAilMSG=20005]="TYPE_MARQEE_MAilMSG",e[e.TYPE_MARQEE_ACTiVETE=20006]="TYPE_MARQEE_ACTiVETE",e[e.TYPE_MARQEE_HAVENOTICE=20007]="TYPE_MARQEE_HAVENOTICE",e[e.TYPE_MARQEE_HAVEMAIL=20008]="TYPE_MARQEE_HAVEMAIL",e[e.TYPE_SendFlowPoint=20009]="TYPE_SendFlowPoint",e[e.TYPE_MARQEE_RECHARGEGIFT=20010]="TYPE_MARQEE_RECHARGEGIFT",e[e.TYPE_VipCoin=20011]="TYPE_VipCoin",e[e.TYPE_GAMEROOM_CHANGE=20012]="TYPE_GAMEROOM_CHANGE",e[e.TYPE_MARQEE_PAY_BACK=20013]="TYPE_MARQEE_PAY_BACK",e[e.TYPE_MARQEE_COMMI=20014]="TYPE_MARQEE_COMMI",e[e.TYPE_NEW_TASK_ACHIEVE=20015]="TYPE_NEW_TASK_ACHIEVE",e[e.TYPE_REWARD_PACK=20017]="TYPE_REWARD_PACK",e[e.TYPE_RECHARGE_RED=20018]="TYPE_RECHARGE_RED",e[e.TYPE_LIMIT_FIRST_PAY=20021]="TYPE_LIMIT_FIRST_PAY",e[e.TYPE_LOTTERY_TAB=3e4]="TYPE_LOTTERY_TAB",e[e.TYPE_LOTTERY_CFG=30001]="TYPE_LOTTERY_CFG",e[e.TYPE_LOTTERY_ODD=30002]="TYPE_LOTTERY_ODD",e[e.TYPE_LOTTERY_GAMEDATA=30003]="TYPE_LOTTERY_GAMEDATA",e[e.TYPE_LOTTERY_RESULT=30004]="TYPE_LOTTERY_RESULT",e[e.TYPE_LOTTERY_ORDER=30005]="TYPE_LOTTERY_ORDER",e[e.TYPE_VIP_ENTER_GAME=20019]="TYPE_VIP_ENTER_GAME",e[e.TYPE_PRIVATE_MARQUEE=20020]="TYPE_PRIVATE_MARQUEE"})(i||(i={}));var c=function(){function e(e,t){var o;this.msgseq=0,this.msgseq1=0,this.cacheHallMsg=[],this.CONFIG_MD5_KEY="CONFIG_MD5_KEY",this.CONFIG_KEY="CONFIG_KEY",this.dealMap=((o={})[i.TYPE_PRIVATE_MARQUEE]={func:this.PrivateMarquee,merge:!1},o[i.TYPE_VIP_ENTER_GAME]={func:this.AddmissionVIp,merge:!1},o[i.TYPE_MARQEE_MSG]={func:this.DealMarqueeScroll,merge:!1},o[i.TYPE_MARQEE_WINNER]={func:this.DealMarqueeScroll,merge:!1},o[i.TYPE_MARQEE_CP]={func:this.DealMarqueeScroll,merge:!1},o[i.TYPE_MARQEE_PAY_BACK]={func:this.DealMarqueeScroll,merge:!1},o[i.TYPE_MARQEE_COMMI]={func:this.DealMarqueeScroll,merge:!1},o[i.TYPE_UPDATE_INFO]={func:this.DealUpdatePlayerMoneyInfo,merge:!0},o[i.TYPE_MARQEE_HAVEMAIL]={func:this.DealUpdateMAilMSG,merge:!0},o[i.TYPE_LIMIT_FIRST_PAY]={func:this.DealUpdateHallBtn,merge:!0},o[i.TYPE_NEW_TASK_ACHIEVE]={func:this.DealUpdatNewTask,merge:!0},o[i.TYPE_REWARD_PACK]={func:this.DealUpdatRedEnvelope,merge:!0},o[i.TYPE_RECHARGE_RED]={func:this.DealUpdatHallRed,merge:!0},o[i.TYPE_MARQEE_ACTiVETE]={func:this.DealUpdateACTiVETE,merge:!0},o[i.TYPE_MARQEE_HAVENOTICE]={func:this.DealUpdateNotice,merge:!0},o[i.TYPE_VipCoin]={func:this.DealVipMsg,merge:!0},o[i.TYPE_LOTTERY_TAB]={func:this.DealUpdateLotteryTab,merge:!0},o[i.TYPE_LOTTERY_CFG]={func:this.DealUpdateLotteryCfg,merge:!0},o[i.TYPE_LOTTERY_ODD]={func:this.DealUpdateLotteryOdds,merge:!0},o[i.TYPE_LOTTERY_GAMEDATA]={func:this.DealUpdateLotteryGameData,merge:!0},o[i.TYPE_LOTTERY_RESULT]={func:this.DealUpdateLotteryResult,merge:!0},o[i.TYPE_LOTTERY_ORDER]={func:this.DealUpdateLotteryOrder,merge:!0},o[i.TYPE_GAMEROOM_CHANGE]={func:this.DealNewGameCfg,merge:!0},o),this.server=e,this.internalEvent=t,this.setup()}return e.prototype.setup=function(){this.internalEvent.on(n.default.EVENT_INTERNAL_ONHEARTBEAT,this,this.handleHeartbeat),Global.Event.on(s.default.ON_HALL_OPEN,this,this.DealCacheHallMsg)},e.prototype.DealCacheHallMsg=function(){if(Global.SceneManager.sceneType===l.SceneType.Hall){for(var e={},t=0,o=this.cacheHallMsg;t<o.length;t++){var i=(r=o[t]).type;if(this.dealMap[i]){var n=this.dealMap[i].func;this.dealMap[i].merge?e[i]=[n,r]:n.apply(this,[r])}else Logger.error("\u672a\u627e\u5230handler"+i)}for(var i in e){n=e[i][0];var r=e[i][1];n.apply(this,[r])}this.cacheHallMsg=[]}},e.prototype.addTestData=function(){},e.prototype.handleHeartbeat=function(e){var t=e;if(null!=t&&null!=t.list){var o={};for(var i in this.checkMsgseq(e.msg_seq_1,this.msgseq1)&&(e.msg_seq_1&&e.msg_seq_1>0&&(this.msgseq1=e.msg_seq_1),this.handleMsgList(t.list_1,o,1)),this.checkMsgseq(e.msg_seq,this.msgseq)&&(e.msg_seq&&e.msg_seq>0&&(this.msgseq=e.msg_seq),this.handleMsgList(t.list,o)),o){var r=o[i][0],a=o[i][1];r.apply(this,[a])}this.DealCacheHallMsg(),this.internalEvent.event(n.default.EVENT_INTERNAL_UPDATEMSGSEQ,this.msgseq,this.msgseq1)}},e.prototype.checkMsgseq=function(e,t){return!(e&&e>0&&t>=e&&t-e<1e3)},e.prototype.handleMsgList=function(e,t,o){if(void 0===o&&(o=0),null!=e)for(var i=0,n=e;i<n.length;i++){var r=n[i].msg;if(!r)return;var a=r.type;if(r.data&&"string"!=typeof r.data&&(r.data.clientPriority=o),this.dealMap[a]){var s=this.dealMap[a].func,l=this.dealMap[a].merge;this.dealMap[a].cacheInHall?this.cacheHallMsg.push(r):l?t[a]=[s,r]:s.apply(this,[r])}else Logger.error("\u672a\u627e\u5230handler"+a)}},e.prototype.clear=function(){this.msgseq=0,this.msgseq1=0},e.prototype.DealMarqueeScroll=function(e){switch(e.type){case i.TYPE_MARQEE_MSG:Global.Event.event(s.default.MARQUEESCROLL_COMMON,e);break;case i.TYPE_MARQEE_WINNER:Global.Event.event(s.default.MARQUEESCROLL_BIGWINNER,e);break;case i.TYPE_MARQEE_PAY_BACK:Global.Event.event(s.default.MARQUEESCROLL_VIP,e);break;case i.TYPE_MARQEE_COMMI:Global.Event.event(s.default.MARQUEESCROLL_COMMI,e)}},e.prototype.DealUpdatePlayerMoneyInfo=function(){Global.HallServer.send(r.NetAppface.mod,r.NetAppface.GetUserPoint,{})},e.prototype.DealUpdateMAilMSG=function(){Global.Event.event(s.default.ShowRedSpot,[!0,a.HallRedSpotType.Mail])},e.prototype.DealUpdateHallBtn=function(){Global.Event.event(s.default.TimeLimitedRechargeStatusChange,!1)},e.prototype.DealUpdatNewTask=function(){Global.Event.event(s.default.ShowRedSpot,[!0,a.HallRedSpotType.Commision])},e.prototype.DealUpdatRedEnvelope=function(){Global.ModelManager.getModel("HallModel").requestGetRewardPackCount()},e.prototype.DealUpdatHallRed=function(e){Global.ModelManager.getModel("HallModel").recharge_red=e.data,Global.Event.event(s.default.ShowHallRed,e.data)},e.prototype.DealUpdateACTiVETE=function(){Global.Event.event(s.default.ShowRedSpot,[!1,a.HallRedSpotType.Activity])},e.prototype.DealUpdateNotice=function(){Global.Event.event(s.default.ShowRedSpot,[!0,a.HallRedSpotType.Gonggao])},e.prototype.DealVipMsg=function(){Global.HallServer.send(r.NetAppface.mod,r.NetAppface.GetUserInfo,{})},e.prototype.DealUpdateLotteryTab=function(e){Global.Event.event(s.default.LotteryUpdateTab,[e.data])},e.prototype.DealUpdateLotteryCfg=function(e){Global.Event.event(s.default.LotteryUpdateCfg,[e.data])},e.prototype.DealUpdateLotteryOdds=function(e){Global.Event.event(s.default.LotteryUpdateOdds,[e.data])},e.prototype.DealNewGameCfg=function(){var e=this,t=this.loadLocalMd5(),o=null,i={};t&&""!=t&&(o=this.loadConfig()),null!=o&&o.length>0&&t&&(i.game_sum=t);var n=Global.Toolkit.genDeviceInfo();i.device=n,i.hall_skin=Global.Setting.SystemInfo.hallSkin,i.game_skin=Global.Setting.SystemInfo.gameSkin,i.app_version=Global.Setting.SystemInfo.appVersion,Global.Toolkit.checkMegeServer()&&(i.old_app_id=parseInt(Global.Setting.SystemInfo.appID)),Global.HallServer.send(r.NetAppface.mod,r.NetAppface.GetGameList,i,function(t){if(null!=t.game_list&&t.game_list.length>0){o=t.game_list;var i=t.game_sum;try{var n=JSON.stringify(t.game_list);i&&""!=i||(i=Global.Toolkit.md5(n)),Global.Setting.storage.set(e.CONFIG_MD5_KEY,i),Global.Setting.storage.set(e.CONFIG_KEY,n)}catch(r){}Global.GameData.init(o)}})},e.prototype.DealUpdateLotteryGameData=function(e){Global.Event.event(s.default.LotteryUpdateGameData,[e.data])},e.prototype.DealUpdateLotteryResult=function(e){Global.Event.event(s.default.LotteryUpdateResult,[e.data])},e.prototype.DealUpdateLotteryOrder=function(e){Global.Event.event(s.default.LotteryUpdateOrder,[e.data])},e.prototype.AddmissionVIp=function(e){Global.Event.event(s.default.TYPE_VIP_ENTER_GAME,e)},e.prototype.PrivateMarquee=function(e){Global.Event.event(s.default.TYPE_PRIVATE_MARQUEE,e)},e.prototype.loadLocalMd5=function(){return Global.Setting.storage.get(this.CONFIG_MD5_KEY)},e.prototype.loadConfig=function(){var e=Global.Setting.storage.get(this.CONFIG_KEY);if(null!=e&&""!=e)try{return JSON.parse(e)}catch(t){return cc.error("\u89e3\u6790config \u5931\u8d25"),null}return null},e}();o.default=c,cc._RF.pop()},{"../../../hallcommon/model/HallModel":"HallModel","../../GlobalEvent":"GlobalEvent","../../scene/SceneManager":"SceneManager","./HallServer":"HallServer","./NetEvent":"NetEvent"}],HallBtnHelper:[function(e,t,o){"use strict";cc._RF.push(t,"d1d83JbPVpFEb6poh65LjLM","HallBtnHelper"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../../hallcommon/model/ServicerModel"),n=e("../../Activity/ActivityConstants"),r=function(){function e(){}return e.WndPersonalInfoOpen=function(){Global.UI.show("WndPlayerInfo")},e.WndBackUpOpen=function(){Global.UI.show("WndBackUpGame")},e.WndSpreadCenterOpen=function(){Global.Event.event(GlobalEvent.SHOW_NET_WAITING,"WndSpread"),Global.UI.show("WndSpread")},e.WndCommision=function(){Global.UI.show("WndCommision"),Global.Event.event(GlobalEvent.SHOW_NET_WAITING,"WndCommision")},e.WndHongBaoOpen=function(){Global.UI.show("WndHallRedEnvelope")},e.WndDailyHongBaoOpen=function(){Global.UI.show("WndDailyRedEnvelope")},e.WndLuckyDrawOpen=function(){Global.UI.show("WndTurntableView")},e.WndSpreadGiftOpen=function(){Global.UI.show("WndSpreadGiftActivityView")},e.WndRankOpen=function(){Global.Event.event(GlobalEvent.SHOW_NET_WAITING,"WndRank"),Global.UI.show("WndRank")},e.WndExchangeCashOpen=function(){Global.ModelManager.getModel("ExtractModel").IntoWnd()},e.WndBankOpen=function(){Global.ModelManager.getModel("BankModel").IntoWnd()},e.WndMailOpen=function(){Global.UI.show("WndMsg")},e.WndActivityOpen=function(){Global.Event.event(GlobalEvent.SHOW_NET_WAITING,"WndActivityCenter"),Global.UI.show("WndActivityCenter")},e.WndServiceOpen=function(){Global.ModelManager.getModel("ServicerModel").enterCustomerService(i.CustomerEntranceType.HallService)},e.WndRechargeOpen=function(){Global.UI.show("WndRecharge")},e.ShowActivity=function(t){switch(t){case n.ActivityType.zhuanpan:e.WndLuckyDrawOpen();break;case n.ActivityType.dailyRechargeGift:Global.UI.show("WndDailyRechargeGift");break;case n.ActivityType.dailyPayRedpack:e.WndDailyHongBaoOpen();break;case n.ActivityType.rechargeGive:e.WndHongBaoOpen();break;case n.ActivityType.TimeLimitedActivity:Global.Event.event(GlobalEvent.SHOW_NET_WAITING,"WndTimeLimitedRechargeGift"),Global.UI.show("WndTimeLimitedRechargeGift");break;case n.ActivityType.spreadAward:e.WndSpreadGiftOpen();break;case n.ActivityType.shareActivity:Global.UI.show("WndShare"),Global.Audio.playAudioSource("hall/sound/sharemoney");break;case n.ActivityType.dailyGift:Global.UI.show("WndDailyGiftMoneyUI");break;case n.ActivityType.betRefund:Global.Event.event(GlobalEvent.SHOW_NET_WAITING,"WndDailyCashBackUI"),Global.UI.show("WndDailyCashBackUI")}},e}();o.default=r,cc._RF.pop()},{"../../../../hallcommon/model/ServicerModel":"ServicerModel","../../Activity/ActivityConstants":"ActivityConstants"}],HallConst:[function(e,t,o){"use strict";cc._RF.push(t,"38a6aOi+lZBsIQh04obz9tq","HallConst"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function e(){}return e.START_UP="START_UP",e.PUSH_VIEW="PUSH_VIEW",e.HALL_SCENE="HALL_SCENE",e}();o.default=i,cc._RF.pop()},{}],HallDriver:[function(e,t,o){"use strict";cc._RF.push(t,"f6c49H4RJpEOKEDbfW2p03q","HallDriver");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./MVC/HallFacade"),s=e("../core/scene/SceneManager"),l=e("../core/loadingMVC/LoadingFacade"),c=cc._decorator,p=c.ccclass,h=(c.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hallSectionName="hallSection",t.startTime=0,t.requireList=[],t.requireAtlasList=[],t.requireGameIconList=[],t.dependenceCount=0,t.DEPENCE_COUNT=3,t}var o;return n(t,e),o=t,t.prototype.onLoad=function(){this.loadingNode=cc.find("loading/loadingBar",this.node);var e=cc.find("loading/bg",this.node);e&&(this.bg=e.getComponent(cc.Sprite));var t=cc.find("loading/loadingBar/bar_1_1",this.node),o=cc.find("loading/checkNode",this.node);if(o){o.getComponent(cc.Sprite);var i=o.getChildByName("infoLabel");i&&i.getComponent(cc.Label)}t&&(this.slider=t.getComponent(cc.ProgressBar),this.slider.progress=0),this.sceneSetup()},t.prototype.sceneSetup=function(){null==window.Global&&(l.default.initGlobal(),Logger.error("Global not init!!!!")),this.dependenceCount=0,a.default.Instance.startUp(),Global.Component.initDriver(),cc.game.setFrameRate(Global.Setting.FPSConfig),Global.UI.initUIRoot(!o.PRELOAD_FINISH),this.requireAtlasList=Global.Setting.SkinConfig.requireAtlasList,this.requireList=Global.Setting.SkinConfig.requireList,this.requireGameIconList=Global.Setting.SkinConfig.requireGameIconList,o.PRELOAD_FINISH?(this.updateNodeAcvite(),this.onSceneLoadFinish()):(Global.ResourceManager.releaseHelper.recordUnusedAsset(this.requireGameIconList,null),this.updateNodeAcvite(),this.startTime=Date.now(),this.preLoadRes(),Global.ResourceManager.loadRes("hall/effect/notDestroy",function(e,t){if(t){var o=cc.instantiate(t);Global.Persist.saveToPool("keep",o)}}),Global.ResourceManager.loadRes("hall/prefabs/ui/ChooseRoom/GameLobbyShellUI",function(e,t){if(t){var o=cc.instantiate(t);Global.Persist.saveToPool("WndGameLobbyShell",o)}}))},t.prototype.updateNodeAcvite=function(){cc.sys.isNative&&this.loadingNode&&(this.loadingNode.active=!1)},t.prototype.preLoadRes=function(){this.dependenceCount=0,Global.ResourceManager.loadBundleRes(Global.customApp.getHallBundleName(),this.requireGameIconList),this.beginLoadAltas(),this.beginLoadDependence(),this.beginLoadSpine()},t.prototype.beginLoadDependence=function(){null==this.requireList||0==this.requireList.length?this.onDependenceLoaded():Global.ResourceManager.loadResArr(this.requireList,this.onDependenceLoaded.bind(this),null,null,!1,!0)},t.prototype.beginLoadAltas=function(){null==this.requireAtlasList||0==this.requireAtlasList.length?this.onAltasLoaded():Global.ResourceManager.loadAtlasArr(this.requireAtlasList,this.onAltasLoaded.bind(this))},t.prototype.beginLoadSpine=function(){null==this.requireGameIconList||0==this.requireGameIconList.length?this.onAltasLoaded():Global.ResourceManager.loadBundleRes(Global.customApp.getHallBundleName(),this.requireGameIconList,this.onAltasLoaded.bind(this))},t.prototype.onAltasLoaded=function(){this.dependenceCount++,this.checkDependenceAllFinish()},t.prototype.onDependenceLoaded=function(){this.dependenceCount++,this.checkDependenceAllFinish()},t.prototype.checkDependenceAllFinish=function(){this.dependenceCount>=this.DEPENCE_COUNT&&this.onSceneLoadFinish()},t.prototype.onSceneLoadFinish=function(){Global.ReportTool.enableRecord(),o.PRELOAD_FINISH=!0,Global.SceneManager.sceneType==s.SceneType.Hall?(Global.UI.show("WndHall"),Global.UI.closeHallLoading()):Global.SceneManager.sceneType==s.SceneType.Login&&Global.UI.show("WndLogin")},t.PRELOAD_FINISH=!1,o=r([p],t)}(cc.Component));o.default=h,cc._RF.pop()},{"../core/loadingMVC/LoadingFacade":"LoadingFacade","../core/scene/SceneManager":"SceneManager","./MVC/HallFacade":"HallFacade"}],HallErrorHandler:[function(e,t,o){"use strict";cc._RF.push(t,"16fbe+wtABNxamppsWMRHE1","HallErrorHandler"),Object.defineProperty(o,"__esModule",{value:!0}),o.HallErrorHelper=o.HttpNetExtraData=void 0;var i=function(){function e(){this.showErrorTips=!1,this.retryTotalTime=3,this.retryTimes=0,this.showWaiting=!1,this.sendInGame=null,this.isParallelReq=!1,this.lineIndex=0,this.enableMask=!0,this.cache=0}return e.prototype.refreshUrl=function(){var e=this.serverRoutes.getCurRoute().getUrl(),t=Global.UrlUtil.refreshSuffixOperTime(this.suffix);this.suffix=t,e.suffix=e.suffix+t,this.url=e},e}();o.HttpNetExtraData=i;var n=function(){function e(){this.CheckLoginFailed=401,this.OpenidLoginFailed=402,this.SystemMaintain=403}return e.prototype.tryHandleError=function(e){return null!=e&&(null==e._errno||-1!=e._errno&&(e._errno==this.CheckLoginFailed||e._errno==this.OpenidLoginFailed?(this.reLogin(e._errstr,e._errno),!1):e._errno==this.SystemMaintain?(this.reLogin("\u7cfb\u7edf\u7ef4\u62a4\u4e2d\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55",403,!0),!1):(e._errno>1e3&&2002!=e._errno?Global.UI.showSingleBox(e._errstr):2002==e._errno?Global.Toolkit.showMoneyNotEnough():Global.UI.showSingleBox(e._errstr),!1)))},e.prototype.handleError=function(e,t){return null!=e&&(null==e._errno||(t?t(e):this.tryHandleError(e)))},e.prototype.reLogin=function(e,t,o){void 0===o&&(o=!1);var i=function(){Global.SceneManager.goToLogin()};o?(Global.UI.fastTip(e),i()):Global.UI.showSingleBox(e+"["+t+"]",i,i)},e}();o.HallErrorHelper=n,cc._RF.pop()},{}],HallFacade:[function(e,t,o){"use strict";cc._RF.push(t,"fcc24qHfcRJzaaA8JsTcL8G","HallFacade");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("./command/StartUpCommand"),a=e("./HallConst"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.initializeController=function(){e.prototype.initializeController.call(this),this.initCommand()},t.prototype.initCommand=function(){this.registerCommand(a.default.START_UP,r.default)},t.prototype.startUp=function(){this.sendNotification(a.default.START_UP)},t.prototype.unregisterFacade=function(){this.removeCommand(a.default.START_UP)},t.releaseInstance=function(){var e=t.instanceMap[t.NAME];e&&(e.unregisterFacade(),t.removeCore(t.NAME))},Object.defineProperty(t,"Instance",{get:function(){return t.instanceMap[t.NAME]||(t.instanceMap[t.NAME]=new t(t.NAME)),t.instanceMap[t.NAME]},enumerable:!1,configurable:!0}),t.NAME="HallFacade",t}(puremvc.Facade);o.default=s,cc._RF.pop()},{"./HallConst":"HallConst","./command/StartUpCommand":"StartUpCommand"}],HallGuiDelinesView:[function(e,t,o){"use strict";cc._RF.push(t,"cd507k2sdhGJYqIYw+TPWjC","HallGuiDelinesView");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../../core/ui/ViewBase"),a=e("./HallBtnHelper"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sf=!0,t.sfshou=!0,t.tipscale=2,t}return n(t,e),t.prototype.initView=function(){this.node.active=!1,this.quan=cc.find("newGet/anim/quan",this.node),this.shou=cc.find("newGet/anim/shou",this.node),this.newGetNode=cc.find("newGet",this.node),this.animNode=cc.find("newGet/anim",this.node),this.addCommonClick("bg",this.onSubViewHide,this,0),this.addCommonClick("newGet/anim",this.onOpenCommision,this,0),this.tips=cc.find("tips",this.node)},t.prototype.onSubViewHide=function(){this.node.active=!1,Game.Component.unschedule(this.showGuiDelines.bind(this)),Game.Component.unschedule(this.ShowShouUi.bind(this))},t.prototype.onOpenCommision=function(){this.node.active=!1,Game.Component.unschedule(this.showGuiDelines.bind(this)),Game.Component.unschedule(this.ShowShouUi.bind(this)),a.default.WndCommision()},t.prototype.getNewMsg=function(){var e=this;Global.HallServer.send(NetAppface.mod,"GetTaskStatus",{},function(t){t.num>0&&(e.tips.scale=e.tipscale,e.node.active=!0,e.showGuiDelines(),Global.Audio.playAudioSource("hall/sound/guidelines"))},null,!1,0)},t.prototype.showGuiDelines=function(){var e=Global.ModelManager.getModel("HallModel").csNodePos,t=e.parent.convertToWorldSpaceAR(e.position),o=this.animNode.parent.convertToNodeSpaceAR(t);this.animNode.position=o,this.quan&&(Global.Component.schedule(this.ShowQuanUi.bind(this),.1),Global.Component.schedule(this.ShowShouUi.bind(this),.15),Global.Component.schedule(this.showTip.bind(this),.05))},t.prototype.ShowQuanUi=function(){var e=this.quan.scale;this.sf?(e-=.15)<=1&&(this.sf=!1):(e+=.15)>=1.3&&(this.sf=!0),this.quan.setScale(e)},t.prototype.ShowShouUi=function(){var e=this.shou.scale;this.sfshou?(e-=.1)<=1&&(this.sfshou=!1):(e+=.1)>=1.3&&(this.sfshou=!0),this.shou.setScale(e)},t.prototype.showTip=function(){var e=this.tips.scale;this.tips.scale>1?(e-=.2,this.tips.setScale(e)):Game.Component.unschedule(this.showTip.bind(this))},t}(r.default);o.default=s,cc._RF.pop()},{"../../../../core/ui/ViewBase":"ViewBase","./HallBtnHelper":"HallBtnHelper"}],HallHeartbeatHelper:[function(e,t,o){"use strict";cc._RF.push(t,"17210G9yMNCX6Vi9MJWJNBF","HallHeartbeatHelper"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./HallServer"),n=e("./NetEvent"),r=function(){function e(e,t){this.CHECK_HEARTBEAT_INTERVAL=5,this.sendInterval=0,this.lastSendInterval=6,this.lastSendTimeout=3,this.isRunning=!1,this.netInterval=0,this.server=e,this.internalEvent=t,this.setup()}return e.prototype.setup=function(){this.server.on(n.NetOnline.HeartBeat,this,this.onHeartBeat),this.internalEvent.on(i.default.EVENT_INTERNAL_UPDATEMSGSEQ,this,this.onUpdateMsgseq),this.initHeartBeatData()},e.prototype.setSession=function(e){if(null==e)this.heartData._param.game=null;else{var t={};t._gid=e._para._gid,t._chair=e._para._chair,t._gsc=e._para._gsc,t._glv=e._para._glv,t._gt=e._para._gt,this.heartData._param.game=t}},e.prototype.initHeartBeatData=function(){this.heartParam={},this.heartParam.filter={},this.heartParam.msgseq=0,this.heartParam.max_msg=Global.Setting.boardcastCount,this.heartData={},this.heartData._mod=n.NetOnline.mod,this.heartData._func=n.NetOnline.HeartBeat,this.heartData._param=this.heartParam},e.prototype.run=function(){this.isRunning=!0,this.sendHeartBeat()},e.prototype.stop=function(){this.isRunning=!1,this.heartParam.msgseq=0,this.sendInterval=0,this.lastSendInterval=this.CHECK_HEARTBEAT_INTERVAL},e.prototype.sendHeartBeat=function(e){void 0===e&&(e=""),this.lastSendInterval=this.lastSendTimeout+1,this.server.sendHeartBeat(n.NetOnline.mod,n.NetOnline.HeartBeat,this.heartParam,null,null,!1,0,e)},e.prototype.onUpdateMsgseq=function(e,t){this.heartParam.msgseq=e,this.heartParam.msgseq_1=t},e.prototype.onHeartBeat=function(e){e&&e.timeout?this.sendInterval=e.timeout:this.sendInterval=3,this.lastSendTimeout=this.sendInterval,this.internalEvent.event(i.default.EVENT_INTERNAL_ONHEARTBEAT,e)},e.prototype.onUpdate=function(e){this.isRunning&&(this.sendInterval>0&&(this.sendInterval-=e,this.sendInterval<=0&&this.sendHeartBeat()),this.lastSendInterval-=e,this.lastSendInterval<0&&this.sendHeartBeat())},e}();o.default=r,cc._RF.pop()},{"./HallServer":"HallServer","./NetEvent":"NetEvent"}],HallModel:[function(e,t,o){"use strict";cc._RF.push(t,"2349f8mkR5IHb90m7sg+Sln","HallModel");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.GamePos=o.webGamePointType=o.HallRedSpotType=void 0;var r,a=e("../../../framework/model/ModelBase"),s=e("../../core/net/hall/NetEvent"),l=e("../../core/GlobalEvent"),c=e("../../hall/ui/Activity/WndActivityCenter"),p=e("../../../framework/libs/Base64Cls"),h=e("../../../framework/native/WebNative"),u=e("../data/GameData");(function(e){e[e.Rank=0]="Rank",e[e.Tixian=1]="Tixian",e[e.Bank=2]="Bank",e[e.Mail=3]="Mail",e[e.Activity=4]="Activity",e[e.Kefu=5]="Kefu",e[e.Gonggao=6]="Gonggao",e[e.Spread=7]="Spread",e[e.CashBackDay=8]="CashBackDay",e[e.LoginKefu=9]="LoginKefu",e[e.WealthKefu=10]="WealthKefu",e[e.YunPalyKefu=11]="YunPalyKefu",e[e.BonusKefu=12]="BonusKefu",e[e.SignActivity=13]="SignActivity",e[e.Commision=14]="Commision",e[e.DailyGift=15]="DailyGift"})(r=o.HallRedSpotType||(o.HallRedSpotType={})),function(e){e[e.TransferSave=0]="TransferSave",e[e.TransferTake=1]="TransferTake"}(o.webGamePointType||(o.webGamePointType={}));var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rankRedSpotSwitch=!1,t.tixianRedSpotSwitch=!1,t.bankRedSpotSwitch=!1,t.mailRedSpotSwitch=!1,t.activityRedSpotSwitch=!1,t.kefuSpotSwitch=!1,t.NoticeRedSpot=!1,t.SpreadRedSpot=!1,t.BonusKefuRedSpot=!1,t.WealthKefuRedSpot=!1,t.signActivitySwitch=!1,t.CommisionRedSpotActive=!1,t.DailyGiftRedSpotActive=!1,t.firstOpenHall=!0,t.isShowActivityCenter=!1,t.isShowRedEnvelope=!1,t.moreGameStatus=!1,t.enterGameOffsetX=0,t.gameListKey=-1,t.recharge_red=null,t.popupWindowHasUpPoint=!1,t.popupWindowGameId=0,t._webGameId=0,t._webHasUpPoint=!1,t.csNodePos=null,t.needQuaryState=!0,t}return n(t,e),Object.defineProperty(t.prototype,"Name",{get:function(){return"HallModel"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"webGameId",{get:function(){return this._webGameId},set:function(e){this._webGameId=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"webHasUpPoint",{get:function(){return this._webHasUpPoint},set:function(e){this._webHasUpPoint=e},enumerable:!1,configurable:!0}),t.prototype.onInit=function(){var e=this;Global.Event.on(l.default.ShowRedSpot,this,this.showRedSpot),Global.Event.on(l.default.CloseRedSpot,this,this.closeRedSpot),Global.Event.on(l.default.WebUpPoint,this,this.WebUpPoint),Global.Event.on(l.default.WebDownPoint,this,this.WebDownPoint),cc.sys.isBrowser&&document.addEventListener("visibilitychange",function(){document.hidden||e.popupWindowHasUpPoint&&0!=e.popupWindowGameId&&(e.popUpGameDownPoint(e.popupWindowGameId),cc.sys.os==cc.sys.OS_IOS&&cc.sys.isBrowser&&Global.WebNative.clearWindowMap())})},t.prototype.WebUpPoint=function(){this.webHasUpPoint||(this.requestApplyTopPoint(Game.Control.curGid),this.webHasUpPoint=!0,this.webGameId=Game.Control.curGid)},t.prototype.WebDownPoint=function(){this.webHasUpPoint&&(this.requestApplyDownPoint(Game.Control.curGid),this.webHasUpPoint=!1,this.webGameId=0)},t.prototype.showRedSpot=function(e){var t=e[1];switch(t){case r.Rank:this.rankRedSpotSwitch=!0;break;case r.Tixian:this.tixianRedSpotSwitch=!0;break;case r.Mail:case r.Gonggao:this.mailRedSpotSwitch=!0;break;case r.Activity:this.NoticeRedSpot=!0;break;case r.Kefu:this.kefuSpotSwitch=!0;break;case r.Spread:this.SpreadRedSpot=!0;break;case r.WealthKefu:this.WealthKefuRedSpot=!0;break;case r.BonusKefu:this.BonusKefuRedSpot=!0;break;case r.Commision:this.CommisionRedSpotActive=!0;break;case r.SignActivity:this.signActivitySwitch=!0;break;case r.DailyGift:this.DailyGiftRedSpotActive=!0}this.event("UpdateResSpot",t)},t.prototype.closeRedSpot=function(e){switch(e){case r.Rank:this.rankRedSpotSwitch=!1;break;case r.Tixian:this.tixianRedSpotSwitch=!1;break;case r.Gonggao:case r.Mail:this.mailRedSpotSwitch=!1;break;case r.Activity:this.NoticeRedSpot=!1;break;case r.Kefu:this.kefuSpotSwitch=!1;break;case r.Spread:this.SpreadRedSpot=!1;break;case r.WealthKefu:this.WealthKefuRedSpot=!1;break;case r.BonusKefu:this.BonusKefuRedSpot=!1;break;case r.Commision:this.CommisionRedSpotActive=!1;break;case r.SignActivity:this.signActivitySwitch=!1;break;case r.DailyGift:this.DailyGiftRedSpotActive=!1}this.event("UpdateResSpot",e)},t.prototype.reqQueryState=function(){var e=this;this.needQuaryState=!1,Global.HallServer.send(s.NetAppface.mod,s.NetAppface.QuaryState,{},function(t){if(null!=t.locks&&0!=t.locks.length&&!Global.SceneManager.inGame()){var o=t.locks[0];e.rebackGame(o)}})},t.prototype.rebackGame=function(e){var t=this;if(e){if(1==e.ret&&e._gid){var o="\u5f53\u524d\u6b63\u5728\u6e38\u620f\u4e2d\uff0c\u662f\u5426\u56de\u5230\u6e38\u620f?",i=e._gid,n=Global.GameData.getGameInfo(i);if(n&&8==n.gtype)n.name&&(o="\u60a8\u6b63\u5728\u3010"+n.name+"\u3011\u6e38\u620f\u4e2d\uff0c\u91d1\u5e01\u6682\u6263\uff0c\u662f\u5426\u9700\u8981\u91cd\u65b0\u8fdb\u5165\u6e38\u620f\uff1f"),Global.UI.showYesNoBox(o,function(){t.requestApplyEnterGame(i)});else{var r=Global.GameData.getReturnGameStr(e._gid,e._glv,!0);Global.UI.showYesNoBox(r||o,function(){Game.Control.goToGameByLocker(e)})}}}else Logger.error("locker = null")},t.prototype.requestGetRewardPackCount=function(){var e=this;Global.HallServer.send(s.NetAppface.mod,s.NetAppface.GetRewardPackCount,{},function(t){if(t&&t.list&&t.list.length>0&&!e.isShowRedEnvelope){var o=t.list[0];e.isShowRedEnvelope=!0,Global.UI.show("WndRedEnvelope",o,function(){Global.UI.show("WndRebateGet",o.point,null,function(){e.isShowRedEnvelope=!1,e.requestGetRewardPackCount()})})}},function(){},!1)},t.prototype.requestMyActivityList=function(e){void 0===e&&(e=null),Global.HallServer.send(s.NetAppface.mod,"GetMyActivityList",{},function(t){var o=t.activity_list;if(o.length>0){for(var i=new Map,n=!1,a=0;a<o.length;a++)if(o[a].ptype){var s=o[a],p=new c.ActivityEntity;for(var h in p)null!=s[h]&&null!=s[h]&&(p[h]=s[h]),p.red_status=1==s.satus?0:-1;n||(n=n||1===s.satus),i.set(p.atype,p)}n&&Global.Event.event(l.default.ShowRedSpot,[!1,r.Activity]),e&&e(i)}}.bind(this),function(){Logger.error("HallModel GetMyActivityList failed")}.bind(this),!1)},t.prototype.requestApplyEnterGame=function(e){var t=this;Game.Control.curGid=e;var o=Global.GameData.getGameInfo(e),i=o?o.gameType:-1,n={gid:e};cc.sys.isBrowser&&cc.sys.os==cc.sys.OS_IOS&&this.needPopUpWindow(e)&&Global.WebNative.initWindow(h.WindowKeyType.GameWin),i===u.GameType.WEBGAME?Global.HallServer.send(s.NetAppface.mod,s.NetAppface.ApplyEnterGame,n,function(o){if(o&&o.url){var i=o.url;if("gohall",i=Global.UrlUtil.replaceUrlParmVal(o.url,"return_url",p.default.encode("gohall://gohall.com"))){if(Global.Setting.resServerUrl){var n=Global.Setting.resServerUrl+"/logo/"+e+".png?"+(new Date).valueOf();Logger.error("logo url = "+n),i+="&is_app=1&logo_type=1&logo_url="+p.default.encode(n)}else i+="&is_app=1";Logger.error("HallModel requestApplyEnterGame base64 url "+i),Global.Event.event(l.default.OpenWebViewGame,i,"gohall","1")}}else if(o.locks&&o.locks.length>0){var r=o.locks[0];t.rebackGame(r)}},null,!0):i===u.GameType.AGBG&&Global.HallServer.send(s.NetAppface.gameAgent,s.NetAppface.EnterGame,n,function(o){if(o&&o.url){var i=encodeURI(o.url);i=Global.UrlUtil.replaceUrlParmVal(o.url,"return_type",1),Logger.log("\u8df3\u8f6curl",i,e),t.needPopUpWindow(e)?t.popUpGameWindow(e,i):Global.Event.event(l.default.OpenWebViewGame,i,"","0",e)}else if(Logger.log("\u8df3\u8f6curl","\u83b7\u53d6\u5931\u8d25",e),o.locks&&o.locks.length>0){var n=o.locks[0];t.rebackGame(n)}},null,!0)},t.prototype.needPopUpWindow=function(e){if(!cc.sys.isBrowser)return!1;if(9031==e||9001==e)return!0;if(cc.sys.os==cc.sys.OS_ANDROID)return!1;if(cc.sys.os==cc.sys.OS_IOS){if(9065==e||9066==e||9067==e||9068==e||9069==e||9070==e)return!0;if(9061==e||9062==e||9063==e||9064==e)return!0}return!1},t.prototype.popUpGameWindow=function(e,t){var o=this;if(!this.popupWindowHasUpPoint){var i={gid:e,action:1};Global.HallServer.send(s.NetAppface.gameAgent,s.NetAppface.TransferSave,i,function(){Logger.error("popUpGame requestApplyTopPoint success"),o.popupWindowHasUpPoint=!0,o.popupWindowGameId=e,cc.sys.os==cc.sys.OS_IOS?Global.WebNative.openWindowByKey(h.WindowKeyType.GameWin,t):window.open(t)},function(){Logger.error("popUpGame requestApplyTopPoint failed")},!0)}},t.prototype.popUpGameDownPoint=function(e){var t=this,o={gid:e,action:0};Global.HallServer.send(s.NetAppface.gameAgent,s.NetAppface.TransferTake,o,function(){t.popupWindowHasUpPoint=!1,t.popupWindowGameId=0,Logger.error("popUpGame requestApplyDownPoint success")},function(){Logger.error("popUpGame requestApplyDownPoint failed")},!0)},t.prototype.requestApplyTopPoint=function(e){var t=Global.GameData.getGameInfo(e);if((t?t.gameType:-1)===u.GameType.WEBGAME){var o={};Global.HallServer.send(s.NetAppface.mod,s.NetAppface.ApplyTopPoint,o,function(){Logger.error("HallModel requestApplyTopPoint success")},function(){Logger.error("HallModel requestApplyTopPoint failed")},!0)}else o={gid:e,action:1},Global.HallServer.send(s.NetAppface.gameAgent,s.NetAppface.TransferSave,o,function(){Logger.error("HallModel requestApplyTopPoint success")},function(){Logger.error("HallModel requestApplyTopPoint failed")},!0)},t.prototype.requestApplyDownPoint=function(e){var t=Global.GameData.getGameInfo(e);if((t?t.gameType:-1)===u.GameType.WEBGAME){var o={};Global.HallServer.send(s.NetAppface.mod,s.NetAppface.ApplyDownPoint,o,function(){Logger.error("HallModel requestApplyDownPoint success")},function(){Logger.error("HallModel requestApplyDownPoint failed")},!0)}else o={gid:e,action:0},Global.HallServer.send(s.NetAppface.gameAgent,s.NetAppface.TransferTake,o,function(){Logger.error("HallModel requestApplyDownPoint success")},function(){Logger.error("HallModel requestApplyDownPoint failed")},!0)},t.prototype.setMoreGameStatus=function(e){this.moreGameStatus=e},t.prototype.setEnterGameOffsetX=function(e){this.enterGameOffsetX=e},t.prototype.setGameListKey=function(e){this.gameListKey=e},t.prototype.clear=function(){this.needQuaryState=!0,this.firstOpenHall=!0,this.DailyGiftRedSpotActive=!1,Global.GameData.dataInitFinish=!1},t}(a.default);o.default=d,function(e){e[e.Popular=0]="Popular",e[e.Poker=1]="Poker",e[e.Games=2]="Games",e[e.Video=3]="Video",e[e.Fishing=4]="Fishing",e[e.Sports=5]="Sports",e[e.Lottery=6]="Lottery"}(o.GamePos||(o.GamePos={})),cc._RF.pop()},{"../../../framework/libs/Base64Cls":"Base64Cls","../../../framework/model/ModelBase":"ModelBase","../../../framework/native/WebNative":"WebNative","../../core/GlobalEvent":"GlobalEvent","../../core/net/hall/NetEvent":"NetEvent","../../hall/ui/Activity/WndActivityCenter":"WndActivityCenter","../data/GameData":"GameData"}],HallModule:[function(e,t,o){"use strict";cc._RF.push(t,"f7e03jWSfVLZ5sNQtDhCroL","HallModule");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.viewClass="WndHall",t.modelClass="HallModel",t.resPaths=[],t.prefabPaths=["hall/prefabs/ui/HallUI"],t.children=[],t}return n(t,e),t}(e("../../../framework/module/ModuleBase").ModuleBase);o.default=r,cc._RF.pop()},{"../../../framework/module/ModuleBase":"ModuleBase"}],HallMoreGameTopNode:[function(e,t,o){"use strict";cc._RF.push(t,"efcfbzazNhPYIWYkSD2QHDn","HallMoreGameTopNode");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../../core/ui/ViewBase"),a=e("../../../../core/component/PlayerWallet"),s=e("./PlayerHeadView"),l=e("./HallBtnHelper"),c=e("../../../../core/GlobalEvent"),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.initView=function(){this.playerHead=this.addView("PlayerHeadView",this.getChild("PlayerHeadView"),s.default,!0),this.playerWalllet=this.addView("PlayerWallet",this.getChild("PlayerHeadView/PlayerWallet"),a.default,!0),this.playerWalllet.rechargeAction(),this.addCommonClick("PlayerHeadView/head",this.onHeadClick,this,null),this.addCommonClick("moreGameCloseBtn",this.onCloseMoreGame,this)},t.prototype.onSubViewShow=function(){this.playerWalllet.subViewState=!0,this.playerHead.subViewState=!0},t.prototype.onSubViewHide=function(){},t.prototype.onDispose=function(){},t.prototype.onHeadClick=function(){l.default.WndPersonalInfoOpen()},t.prototype.onCloseMoreGame=function(){Global.Event.event(c.default.CloseMoreGame,!0)},t}(r.default);o.default=p,cc._RF.pop()},{"../../../../core/GlobalEvent":"GlobalEvent","../../../../core/component/PlayerWallet":"PlayerWallet","../../../../core/ui/ViewBase":"ViewBase","./HallBtnHelper":"HallBtnHelper","./PlayerHeadView":"PlayerHeadView"}],HallPaoMaDengView:[function(e,t,o){"use strict";cc._RF.push(t,"2cb8eWezJtFm73shw+dY7y8","HallPaoMaDengView");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../PaoMaDengBaseView"),a=e("../../../../core/GlobalEvent"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.onOpen=function(){e.prototype.onOpen.call(this),this.addDefautMsg(),Global.Event.on(a.default.MARQUEESCROLL_COMMON,this,this.addMsgData),Global.Event.on(a.default.MARQUEESCROLL_BIGWINNER,this,this.addMsgData)},t.prototype.onClose=function(){Global.Event.off(a.default.MARQUEESCROLL_COMMON,this,this.addMsgData),Global.Event.off(a.default.MARQUEESCROLL_BIGWINNER,this,this.addMsgData),e.prototype.onClose.call(this)},t.prototype.onDispose=function(){Global.Event.off(a.default.MARQUEESCROLL_COMMON,this,this.addMsgData),Global.Event.off(a.default.MARQUEESCROLL_BIGWINNER,this,this.addMsgData),e.prototype.onDispose.call(this)},t.prototype.addDefautMsg=function(){for(var e=[{msg:"<color=#00d2FF>\u5c0a\u656c\u7684\u73a9\u5bb6\uff0c\u6b22\u8fce\u8fdb\u5165\u6e38\u620f\u5927\u5385\uff01</color>",type:1},{msg:"<color=#f9a314>\u62b5\u5236\u4e0d\u826f\u6e38\u620f\uff0c\u62d2\u7edd\u76d7\u7248\u6e38\u620f\uff0c\u6ce8\u610f\u81ea\u8eab\u4fdd\u62a4\uff0c\u8c28\u9632\u4e0a\u5f53\u53d7\u9a97</color>",type:1},{msg:"<color=#f9a314>\u9002\u5ea6\u6e38\u620f\u76ca\u8111\uff0c\u6c89\u8ff7\u6e38\u620f\u4f24\u8eab\uff0c\u5408\u7406\u5b89\u6392\u65f6\u95f4\uff0c\u4eab\u53d7\u5065\u5eb7\u751f\u6d3b</color>",type:1}],t=0;t<e.length;t++){var o=e[t];this.addMsgItem(o)}},t.prototype.addMsgData=function(e){this.addMsgItem(e.data)},t}(r.default);o.default=s,cc._RF.pop()},{"../../../../core/GlobalEvent":"GlobalEvent","../PaoMaDengBaseView":"PaoMaDengBaseView"}],HallPopMsgHelper:[function(e,t,o){"use strict";cc._RF.push(t,"8ba21ZH64ZDzLpcs7/APVLI","HallPopMsgHelper"),Object.defineProperty(o,"__esModule",{value:!0}),o.PopWndName=o.BindAwardUIType=void 0;var i=e("../../core/scene/SceneManager");(function(e){e[e.onlyBindPoint=1]="onlyBindPoint",e[e.onlyPhonePoint=2]="onlyPhonePoint",e[e.bindPoint=3]="bindPoint",e[e.phonePoint=4]="phonePoint",e[e.share=5]="share",e[e.MegePoint=6]="MegePoint"})(o.BindAwardUIType||(o.BindAwardUIType={})),function(e){e[e.ForceUpdate=0]="ForceUpdate",e[e.Spread=1]="Spread",e[e.Mail=2]="Mail",e[e.ActivityCenter=3]="ActivityCenter",e[e.MegePoint=4]="MegePoint",e[e.BindPhone=5]="BindPhone",e[e.BindGiftGet=6]="BindGiftGet",e[e.PhoneGiftGet=7]="PhoneGiftGet",e[e.RebateGet=8]="RebateGet",e[e.Notice=9]="Notice",e[e.BindGift=10]="BindGift"}(o.PopWndName||(o.PopWndName={}));var n=function(){function e(){this.msgList=[],this.lock=!1,this.lockName=0,this.needPop=!0,this.timeCounter=0}return Object.defineProperty(e,"Instance",{get:function(){return null==this._instance&&(this._instance=new e),this._instance},enumerable:!1,configurable:!0}),e.releaseInstance=function(){this._instance&&(this._instance.stopTimer(),this._instance=null)},e.prototype.startTimer=function(){var e=this;this.stopTimer(),this.timer=setInterval(function(){e.update()},150)},e.prototype.stopTimer=function(){clearTimeout(this.timer)},e.prototype.addMsgList=function(e,t,o){if(void 0===o&&(o=null),t){var i={name:e,func:t,priority:o||e};this.msgList.push(i),this.sortMsgList()}},e.prototype.sortMsgList=function(){this.msgList.sort(function(e,t){return t.priority-e.priority})},e.prototype.popMsgList=function(){Global.SceneManager.sceneType===i.SceneType.Hall&&(this.timer||this.startTimer(),this.msgList.length>0&&!this.lock&&!this.lockName&&this.msgList[this.msgList.length-1].func.call())},e.prototype.addLock=function(e){this.lockName=e,this.lock=!0},e.prototype.releaseLock=function(e,t){var o=this;void 0===t&&(t=!1),(this.lockName==e||t)&&(this.msgList=this.msgList.filter(function(e){return e.name!=o.lockName}),this.lock=!1,this.lockName=0,this.needPop=!0)},e.prototype.update=function(){this.needPop&&0!=this.msgList.length&&(this.timeCounter++,this.timeCounter>=2&&(this.needPop=!1,this.timeCounter=0,this.popMsgList()))},e._instance=null,e}();o.default=n,cc._RF.pop()},{"../../core/scene/SceneManager":"SceneManager"}],HallSection:[function(e,t,o){"use strict";cc._RF.push(t,"0f2e7GOxqVHb4J7/K94oRhR","HallSection"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./ui/login/WndLogin"),n=e("./ui/login/WndPhoneLogin"),r=e("../hallcommon/model/LoginModel"),a=e("../hallcommon/model/HallModel"),s=e("./ui/hall/WndHall"),l=e("./ui/login/WndRegist"),c=e("./ui/login/WndForgetPwd"),p=e("./ui/common/WndMessageBox"),h=e("../hallcommon/model/PersonalInfoModel"),u=e("./ui/personalInfo/WndEditName"),d=e("../hallcommon/model/ExtractModel"),f=e("./ui/money/ui/extractCash/WndaliBandConfirm"),g=e("./ui/money/ui/extractCash/WndUnionBandConfirm"),m=e("./ui/recharge/WndRecharge"),y=e("../hallcommon/model/RechargeModel"),b=e("./ui/personalInfo/WndChangePwd"),v=e("./ui/personalInfo/WndBindPhone"),_=e("./ui/rank/WndRank"),S=e("../hallcommon/model/RankModel"),C=e("./ui/money/ui/bank/WndBankUI"),w=e("./ui/money/ui/bank/WndBankChangePW"),I=e("./ui/money/ui/bank/WndBankForgetPW"),T=e("./ui/money/ui/bank/WndBankLogin"),P=e("../hallcommon/model/BankModel"),k=e("../hallcommon/model/MsgModel"),G=e("./ui/msg/WndMsg"),L=e("../hallcommon/model/ServicerModel"),A=e("./ui/serviver/WndServicerUI"),N=e("./ui/recharge/WndRechangeBankInfo"),M=e("./ui/recharge/WndRechargeVipShow"),R=e("../hallcommon/model/SpreadModel"),O=e("./ui/Spread/WndSpread"),E=e("./ui/Spread/WndAwardDetail"),B=e("./ui/waiting/WndNetWaiting"),D=e("../hallcommon/model/WaitingModel"),U=e("./ui/Spread/WndLowerSearch"),V=e("./ui/waiting/WndNetReconnect"),x=e("./ui/rebate/WndRebateGet"),H=e("../hallcommon/model/BindingGiftModel"),F=e("./ui/BindingGift/WndBindingGift"),j=e("./ui/Spread/WndSpreadCenter"),W=e("./ui/Spread/WndAwardRecord"),K=e("./ui/Feedback/WndFeedback"),q=e("../hallcommon/model/FeedbackModel"),z=e("./ui/BackUpGameUI/WndBackUpGame"),Y=e("../hallcommon/model/RechargeGiftModel"),Q=e("../hallcommon/model/ZhuanpanModel"),J=e("./ui/common/WndScreenPortraitNotice"),X=e("../hallcommon/model/PlayerInfoModel"),Z=e("./ui/playerInfo/WndPlayerInfo"),$=e("./ui/playerInfo/WndNewPlayerInfo"),ee=e("./ui/playerInfo/WndChooseHead"),te=e("./ui/personalInfo/WndToggleAccount"),oe=e("./ui/Activity/WndActivityCenter"),ie=e("../hallcommon/model/ShareModel"),ne=e("./ui/hall/WndShare"),re=e("./ui/recharge/WndRechangeTip"),ae=e("../hallcommon/model/RechagreTipModel"),se=e("../core/loadingMVC/WndGameMaintainUI"),le=e("../core/loadingMVC/WndDownLoadApkUI"),ce=e("../hallcommon/model/CashBackModel"),pe=e("../core/loadingMVC/WndGameUpdateUI"),he=e("./ui/recharge/WndVipQuickPayChat"),ue=e("./ui/recharge/WndChatImage"),de=e("../core/loadingMVC/WndGameRestoreUI"),fe=e("./ui/recharge/WndBankRechange"),ge=e("./ui/recharge/WndAliPayRechange"),me=e("./ui/recharge/WndWeChatRechange"),ye=e("./ui/Activity/DailyRecharge/WndDailyRechargeGift"),be=e("./ui/money/ui/extractCash/WndOverseasBandConfirm"),ve=e("../hallcommon/model/CommisionModel"),_e=e("./ui/ChooseRoom/WndGameLobbyShell"),Se=e("./ui/rebate/WndRedEnvelope"),Ce=e("./ui/rebate/WndHallRedEnvelope"),we=e("./ui/CashBack/WndDailyCashBackUI"),Ie=e("./ui/DailyGiftMoney/WndDailyGiftMoneyUI"),Te=e("./ui/DailyGiftMoney/WndGiftMoneyListUI"),Pe=e("./ui/rebate/WndGetRedEnvelope"),ke=e("./ui/rebate/WndDailyRedEnvelope"),Ge=e("./ui/playerInfo/WndVip3"),Le=e("./ui/playerInfo/WndVipRule"),Ae=function(){function e(){this.isInit=!1}return e.prototype.declareModel=function(){new r.default,new a.default,new h.default,new y.default,new S.default,new d.default,new P.default,new k.default,new q.default,new L.default,new R.default,new D.default,new H.default,new Y.default,new Q.default,new X.default,new ie.default,new ae.default,new ce.default,new ve.default},e.prototype.declareWnd=function(){new i.default,new n.default,new s.default,new l.default,new c.default,new p.default,new te.default,new u.default,new f.default,new g.default,new _.default,new b.default,new v.default,new m.default,new N.default,new M.default,new T.default,new w.default,new I.default,new C.default,new G.default,new A.default,new K.default,new O.default,new E.default,new B.default,new V.default,new U.default,new x.default,new Se.default,new Ce.default,new Pe.default,new ke.default,new F.default,new j.default,new W.default,new z.default,new J.default,new oe.default,new Z.default,new $.default,new ee.default,new Ge.default,new Le.default,new ne.default,new re.default,new se.default,new le.default,new we.default,new Ie.default,new Te.default,new pe.default,new he.default,new ue.default,new fe.default,new ge.default,new me.default,new de.default,new ye.default,new be.default,new _e.default},e.prototype.loadLanguage=function(){Global.Language.registLanguage("hall/config/language")},e.prototype.init=function(){},e}();o.default=Ae,cc._RF.pop()},{"../core/loadingMVC/WndDownLoadApkUI":"WndDownLoadApkUI","../core/loadingMVC/WndGameMaintainUI":"WndGameMaintainUI","../core/loadingMVC/WndGameRestoreUI":"WndGameRestoreUI","../core/loadingMVC/WndGameUpdateUI":"WndGameUpdateUI","../hallcommon/model/BankModel":"BankModel","../hallcommon/model/BindingGiftModel":"BindingGiftModel","../hallcommon/model/CashBackModel":"CashBackModel","../hallcommon/model/CommisionModel":"CommisionModel","../hallcommon/model/ExtractModel":"ExtractModel","../hallcommon/model/FeedbackModel":"FeedbackModel","../hallcommon/model/HallModel":"HallModel","../hallcommon/model/LoginModel":"LoginModel","../hallcommon/model/MsgModel":"MsgModel","../hallcommon/model/PersonalInfoModel":"PersonalInfoModel","../hallcommon/model/PlayerInfoModel":"PlayerInfoModel","../hallcommon/model/RankModel":"RankModel","../hallcommon/model/RechagreTipModel":"RechagreTipModel","../hallcommon/model/RechargeGiftModel":"RechargeGiftModel","../hallcommon/model/RechargeModel":"RechargeModel","../hallcommon/model/ServicerModel":"ServicerModel","../hallcommon/model/ShareModel":"ShareModel","../hallcommon/model/SpreadModel":"SpreadModel","../hallcommon/model/WaitingModel":"WaitingModel","../hallcommon/model/ZhuanpanModel":"ZhuanpanModel","./ui/Activity/DailyRecharge/WndDailyRechargeGift":"WndDailyRechargeGift","./ui/Activity/WndActivityCenter":"WndActivityCenter","./ui/BackUpGameUI/WndBackUpGame":"WndBackUpGame","./ui/BindingGift/WndBindingGift":"WndBindingGift","./ui/CashBack/WndDailyCashBackUI":"WndDailyCashBackUI","./ui/ChooseRoom/WndGameLobbyShell":"WndGameLobbyShell","./ui/DailyGiftMoney/WndDailyGiftMoneyUI":"WndDailyGiftMoneyUI","./ui/DailyGiftMoney/WndGiftMoneyListUI":"WndGiftMoneyListUI","./ui/Feedback/WndFeedback":"WndFeedback","./ui/Spread/WndAwardDetail":"WndAwardDetail","./ui/Spread/WndAwardRecord":"WndAwardRecord","./ui/Spread/WndLowerSearch":"WndLowerSearch","./ui/Spread/WndSpread":"WndSpread","./ui/Spread/WndSpreadCenter":"WndSpreadCenter","./ui/common/WndMessageBox":"WndMessageBox","./ui/common/WndScreenPortraitNotice":"WndScreenPortraitNotice","./ui/hall/WndHall":"WndHall","./ui/hall/WndShare":"WndShare","./ui/login/WndForgetPwd":"WndForgetPwd","./ui/login/WndLogin":"WndLogin","./ui/login/WndPhoneLogin":"WndPhoneLogin","./ui/login/WndRegist":"WndRegist","./ui/money/ui/bank/WndBankChangePW":"WndBankChangePW","./ui/money/ui/bank/WndBankForgetPW":"WndBankForgetPW","./ui/money/ui/bank/WndBankLogin":"WndBankLogin","./ui/money/ui/bank/WndBankUI":"WndBankUI","./ui/money/ui/extractCash/WndOverseasBandConfirm":"WndOverseasBandConfirm","./ui/money/ui/extractCash/WndUnionBandConfirm":"WndUnionBandConfirm","./ui/money/ui/extractCash/WndaliBandConfirm":"WndaliBandConfirm","./ui/msg/WndMsg":"WndMsg","./ui/personalInfo/WndBindPhone":"WndBindPhone","./ui/personalInfo/WndChangePwd":"WndChangePwd","./ui/personalInfo/WndEditName":"WndEditName","./ui/personalInfo/WndToggleAccount":"WndToggleAccount","./ui/playerInfo/WndChooseHead":"WndChooseHead","./ui/playerInfo/WndNewPlayerInfo":"WndNewPlayerInfo","./ui/playerInfo/WndPlayerInfo":"WndPlayerInfo","./ui/playerInfo/WndVip3":"WndVip3","./ui/playerInfo/WndVipRule":"WndVipRule","./ui/rank/WndRank":"WndRank","./ui/rebate/WndDailyRedEnvelope":"WndDailyRedEnvelope","./ui/rebate/WndGetRedEnvelope":"WndGetRedEnvelope","./ui/rebate/WndHallRedEnvelope":"WndHallRedEnvelope","./ui/rebate/WndRebateGet":"WndRebateGet","./ui/rebate/WndRedEnvelope":"WndRedEnvelope","./ui/recharge/WndAliPayRechange":"WndAliPayRechange","./ui/recharge/WndBankRechange":"WndBankRechange","./ui/recharge/WndChatImage":"WndChatImage","./ui/recharge/WndRechangeBankInfo":"WndRechangeBankInfo","./ui/recharge/WndRechangeTip":"WndRechangeTip","./ui/recharge/WndRecharge":"WndRecharge","./ui/recharge/WndRechargeVipShow":"WndRechargeVipShow","./ui/recharge/WndVipQuickPayChat":"WndVipQuickPayChat","./ui/recharge/WndWeChatRechange":"WndWeChatRechange","./ui/serviver/WndServicerUI":"WndServicerUI","./ui/waiting/WndNetReconnect":"WndNetReconnect","./ui/waiting/WndNetWaiting":"WndNetWaiting"}],HallServer:[function(e,t,o){"use strict";cc._RF.push(t,"63758h4mvhOoqt9Y90N0yA+","HallServer");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../../framework/event/EventDispatcher"),a=e("./NetEvent"),s=e("./HallErrorHandler"),l=e("./HallHeartbeatHelper"),c=e("./HallBroadcastHelper"),p=e("../../GlobalEvent"),h=e("../../../core/net/hall/NetEvent"),u=e("./CheckHelper"),d=e("../../tool/ReportTool"),f=e("../../../../framework/net/http/HttpProxy"),g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.USEWS=!1,t.NoWaitingNetList=[],t.NoIgnoreWhenChangeSceneList=[],t.errorHelper=new s.HallErrorHelper,t.checkHelper=new u.default(1),t.dataCache={},t.checkInerval=1e3,t.timeID=null,t}return n(t,e),t.prototype.setup=function(){this.internalEvent=new r.default,this.heartbeatHelper=new l.default(this,this.internalEvent),this.broadcastHelper=new c.default(this,this.internalEvent),this.initNoWaitingList(),this.initNoIgnoreWhenChangeSceneList()},t.prototype.clearAllCache=function(){this.dataCache={}},t.prototype.initNoWaitingList=function(){this.NoWaitingNetList.push(h.NetAppface.GetUserPoint),this.NoWaitingNetList.push(h.NetAppface.GetUserInfo),this.NoWaitingNetList.push(h.NetAppface.QuaryState),this.NoWaitingNetList.push(h.NetAppface.PostIpInfo),this.NoWaitingNetList.push(a.NetOnline.HeartBeat),this.NoWaitingNetList.push(a.NetClientLog.ClientLogReq),this.NoWaitingNetList.push(a.NetClientLog.DownloadAppInfo)},t.prototype.initNoIgnoreWhenChangeSceneList=function(){this.NoIgnoreWhenChangeSceneList.push(a.NetOnline.HeartBeat)},t.prototype.checkNetNoWating=function(e){return this.NoWaitingNetList.indexOf(e.funcName)>-1},t.prototype.sendLogin=function(e,t,o,i,n){void 0===n&&(n=!0),t.device||(t.device=Global.Toolkit.genDeviceInfo());var r=Global.Setting.Urls.globalRoutes,s="/login/"+Global.UrlUtil.getUrlParamCommonPrefex()+a.NetLogin.mod+"?"+Global.UrlUtil.getLoginCommonParam(),l=this.getMsgParam(a.NetLogin.mod,e,t,!0),c=this.createNetExtraData(r,s,e,l,o,i,n,0,!1,!1);this.sendInternal(c)},t.prototype.sendVerifyCode=function(e,t,o,i,n){void 0===n&&(n=!0),t.device||(t.device=Global.Toolkit.genDeviceInfo());var r=Global.Setting.Urls.globalRoutes,s="/login/"+Global.UrlUtil.getUrlParamCommonPrefex()+a.NetVerifyCode.mod+"?"+Global.UrlUtil.getLoginCommonParam(),l=this.getMsgParam(a.NetVerifyCode.mod,e,t,!0),c=this.createNetExtraData(r,s,e,l,o,i,n);this.sendInternal(c)},t.prototype.sendCheckVersion=function(e,t,o,i,n){void 0===n&&(n=!0);var r=Global.Setting.Urls.globalRoutes,s="/login/"+Global.UrlUtil.getUrlParamCommonPrefex()+"checkversion?"+Global.UrlUtil.getLoginCommonParam(),l=this.getMsgParam(a.NetCheckVersion.mod,e,t,!0),c=this.createNetExtraData(r,s,e,l,o,i,n,0,!1,!1);this.sendInternal(c)},t.prototype.sendPostInstallApp=function(e,t,o,i,n){void 0===n&&(n=!0);var r=Global.Setting.Urls.globalRoutes,s="/login/"+Global.UrlUtil.getUrlParamCommonPrefex()+"checkversion?"+Global.UrlUtil.getLoginCommonParam(),l=this.getMsgParam(a.NetLogin.mod,e,t,!0),c=this.createNetExtraData(r,s,e,l,o,i,n);this.sendInternal(c)},t.prototype.sendClientLog=function(e,t,o,i,n){void 0===n&&(n=!0);var r=Global.Setting.Urls.globalRoutes,a="/login/"+Global.UrlUtil.getUrlParamCommonPrefex()+"clientlog?"+Global.UrlUtil.getLoginCommonParam(),s=this.getMsgParam("",e,t,!0),l=this.createNetExtraData(r,a,e,s,o,i,n);this.sendInternal(l)},t.prototype.send=function(e,t,o,i,n,r,a,s){void 0===r&&(r=!0),void 0===a&&(a=0),void 0===s&&(s="");var l=Global.Setting.Urls.hallRoutes,c=Global.Setting.Urls.hallUrlSuffix,p=this.getMsgParam(e,t,o);c=cc.js.formatStr(c,e,t),c+=s;var h=this.createNetExtraData(l,c,t,p,i,n,r,a);this.sendInternal(h)},t.prototype.sendHeartBeat=function(e,t,o,i,n,r,a,s){void 0===r&&(r=!0),void 0===a&&(a=0),void 0===s&&(s="");var l=Global.Setting.Urls.hallRoutes,c=Global.Setting.Urls.hallUrlSuffix,p=this.getMsgParam(e,t,o);c=cc.js.formatStr(c,e,t),c+=s;var h=!1,u=Global.Http.parallelReqKey.heartbeat;if(u&&0==u.isReq&&(h=!0,u.isReq=!0,u.reqLines=[],Logger.error("sendheartbeat isNeedParallelReq = true")),h)for(var d=0;d<l.serverInfoList.length;d++){var g=l.serverInfoList[d],m=g.getUrl();if(g.checkSelfIsOK()){var y=new f.ParallelReqLine;y.lineIndex=d,y.startTime=(new Date).valueOf(),y.host=g.host;var b=this.createNetExtraDataByUrl(l,m,c,t,p,i,n,r,a,!0,d);y.url=b.url.getUrl(),u.reqLines.push(y),this.sendInternal(b)}else m.printSelf&&Logger.error("route checkSelf Is not OK "+m.printSelf())}else b=this.createNetExtraData(l,c,t,p,i,n,r,a),this.sendInternal(b)},t.prototype.sendWithNoRetry=function(e,t,o,i,n,r,a,s){void 0===r&&(r=!1),void 0===a&&(a=0),void 0===s&&(s="");var l=Global.Setting.Urls.hallRoutes,c=Global.Setting.Urls.hallUrlSuffix,p=this.getMsgParam(e,t,o);c=cc.js.formatStr(c,e,t),c+=s;var h=this.createNetExtraData(l,c,t,p,i,n,r,a);h.retryTotalTime=0,this.sendInternal(h)},t.prototype.sendAiteLogin=function(e,t,o,i,n){void 0===n&&(n=!0),t.device||(t.device=Global.Toolkit.genDeviceInfo());var r=Global.Setting.Urls.globalRoutes,s="/login/"+Global.UrlUtil.getUrlParamCommonPrefex()+"other?"+Global.UrlUtil.getLoginCommonParam(),l=this.getMsgParam(a.NetLogin.mod,e,t,!0),c=this.createNetExtraData(r,s,e,l,o,i,n);this.sendInternal(c)},t.prototype.onUpdate=function(e){this.heartbeatHelper.onUpdate(e),this.checkHelper.onUpdate(e)},t.prototype.run=function(){this.heartbeatHelper.run()},t.prototype.stop=function(){this.clearAllCache(),this.heartbeatHelper.stop()},t.prototype.setSession=function(e){this.heartbeatHelper.setSession(e)},t.prototype.setGameOnlineInfo=function(e){null==e?this.heartbeatHelper.setSession(null):this.heartbeatHelper.setSession({_para:e})},t.prototype.clearCache=function(e,t,o){var i=this.getMsgParam(e,t,o),n=t+"_"+this.getParamStr(i);this.dataCache[n]=null},t.prototype.sendInternal=function(e,t,o){var i=this;if(void 0===t&&(t=!1),void 0===o&&(o=!1),null!=e){if(0!=e.cache&&this.dataCache){var n=e.funcName+"_"+this.getParamStr(e.param),r=this.dataCache[n];if(r&&r.time&&r.msg){var s=new Date;if(e.cache<=1e4){if(s.getTime()-r.time.getTime()<1e3*e.cache)return void this.onMessage(r.msg,e);this.dataCache[n]=null}else if(10001==e.cache){if(s.getMonth()==r.time.getMonth()&&s.getDate()==r.time.getDate())return void this.onMessage(r.msg,e);this.dataCache[n]=null}}}if(e.showWaiting&&!t){var l=null;e.funcName==h.NetAppface.GetConfig?(l="\u8fde\u63a5\u4e2d",Global.Event.event(p.default.SHOW_NET_WAITING,e.funcName,15,l,1,!1)):Global.Event.event(p.default.SHOW_NET_WAITING,e.funcName,15,l,1,e.enableMask)}if(o&&e.funcName!=a.NetOnline.HeartBeat){Global.Event.event(p.default.FORCE_HIDE_WAITING);var c="\u91cd\u8fde\u4e2d";e.funcName==h.NetAppface.GetConfig?(c="\u91cd\u8fde\u4e2d",Global.Event.event(p.default.SHOW_NET_WAITING,e.funcName,15,c+e.serverRoutes.curIndex,1,!1)):Global.Event.event(p.default.SHOW_NET_WAITING,e.funcName,15,c+e.serverRoutes.curIndex,1,e.enableMask)}if(this.checkHelper.updateChecker(),e.funcName==a.NetOnline.HeartBeat?(this.checkHelper.recordHeartbeat(e.url),e.param._check=this.checkHelper.getHeartBeatChecker()):e.param._check=this.checkHelper.getNomalChecker(),!cc.sys.isNative&&""!=window.location.search){var u=window.location.search.substr(1);e.url.address=u,e.url.addressHost=u,e.url.realHost=u}e.url.suffix=Global.UrlUtil.refreshSuffixRetryTime(e.url.suffix,e.retryTimes),Logger.error("\u53d1\u9001\u4e86\u6d88\u606f"+e.url.getUrl()+"========="+JSON.stringify(e.param)),Global.Http.send(e.url,e.param,function(t){if(i.onMessage(t,e)&&0!=e.cache){var o=e.funcName+"_"+i.getParamStr(e.param),n={};n.time=new Date,n.msg=t,i.dataCache[o]=n}},function(){i.onMessageError(e)})}},t.prototype.getParamStr=function(e){return e._param?JSON.stringify(e._param):""},t.prototype.createNetExtraDataByUrl=function(e,t,o,i,n,r,a,l,c,p,h,u){if(void 0===c&&(c=0),void 0===p&&(p=!1),void 0===h&&(h=0),void 0===u&&(u=!0),null!=e){var d=new s.HttpNetExtraData;return d.param=n,d.onComplete=r,d.errorHandler=a,d.funcName=i,d.serverRoutes=e,d.suffix=o,d.isParallelReq=p,d.lineIndex=h,d.enableMask=u,d.retryTotalTime=p?1:e.length>3?e.length:3,d.sendInGame=Global.SceneManager.inGame(),d.url=t,t&&(t.suffix=t.suffix+o),d.showWaiting=l,d.cache=c,this.checkNetNoWating(d)&&(d.showWaiting=!1),d}Logger.error("serverroutes is null",i,o)},t.prototype.createNetExtraData=function(e,t,o,i,n,r,a,s,l,c){if(void 0===s&&(s=0),void 0===l&&(l=!1),void 0===c&&(c=!0),null!=e){var p=null,h=e.getCurRoute();if(h)if(h.checkSelfIsOK())p=h.getUrl();else{var u=e.getRouteLen();if(u>1){var d=e.getAnotherRoute();if(d&&d.checkSelfIsOK())Logger.error("extraData.url changeToAnotherRoute"),p=d.getUrl();else{Logger.error("extraData.url nextRoute is null or not ok !!!");var f=e.getCanUseRoute();f?p=f.getUrl():Logger.error("extraData.url canUseRoute = null")}}else 1==u?p=h.getUrl():Logger.error("extraData.url routesLen = 0 ")}else Logger.error("extraData.url curRoute is null !!!");return this.createNetExtraDataByUrl(e,p,t,o,i,n,r,a,s,l,0,c)}Logger.error("serverroutes is null",o,t)},t.prototype.dealParallelReq=function(e,t){if(e.isParallelReq){Logger.error("dealParallelReq  isSuccess "+t);var o=e.lineIndex,i=Global.Http.parallelReqKey.heartbeat;if(i){0==i.isRsp&&(i.isRsp=!0);var n=i.reqLines;if(n&&n.length>0){for(var r=!0,a=0;a<n.length;a++)(p=n[a]).lineIndex==o?(p.repFlag=t?1:2,p.endTime=(new Date).valueOf(),p.reqTime=p.endTime-p.startTime):0==p.repFlag&&(r=!1);if(r){Logger.error("dealParallelReq  isParallelReqEnd == true");var s=[];for(a=0;a<n.length;a++)1==(p=n[a]).repFlag&&s.push(p);if(s.length>0){s.sort(function(e,t){return e.reqTime-t.reqTime});var l=s[0];Global.Setting.Urls.sortHallRoutes(l.lineIndex)}var c=[];for(a=0;a<n.length;a++){var p,h={success:1==(p=n[a]).repFlag,htime:p.reqTime,host:p.host,key:"heartbeat",url:p.url};c.push(h)}var u=d.ReportTool.REPORT_TYPE_PARALLEL_REQ;Global.ReportTool.ReportPublicClientLog(u,c)}}}}},t.prototype.onMessageError=function(e){var t=this;e.retryTimes++;var o=!1;if((e.funcName==a.NetOnline.HeartBeat||e.suffix.indexOf("login")>-1||e.funcName==h.NetAppface.GetConfig||e.funcName==h.NetAppface.GetGameList||e.funcName==h.NetAppface.GetGameRoute||e.funcName==a.NetCheckVersion.checkversion)&&(Logger.error("change server "),o=!0,e.serverRoutes.changeToAnotherRoute()),e.funcName!=a.NetOnline.HeartBeat)if(e.refreshUrl(),e.retryTimes<e.retryTotalTime)setTimeout(function(){t.sendInternal(e,!0,o)},500);else{var i=!0;if(e.showWaiting||e.funcName==h.NetAppface.GetGameRoute){Global.Event.event(p.default.FORCE_HIDE_WAITING);var n=function(){Game.Event.event(Game.EVENT_FORCE_LEAVE_GAME),e.retryTimes=0,setTimeout(function(){t.sendInternal(e,!0,o)},500)};e.suffix.indexOf("login")>-1||e.funcName==a.NetCheckVersion.checkversion?Global.AppDun.checkIsDunLoading()&&(Logger.error("checkIsDunLoading true"),i=!1,Global.Event.event(p.default.SHOW_NET_WAITING,e.funcName,15,"\u91cd\u8fde\u4e2d",1,e.enableMask),this.startTimer(n)):e.funcName==h.NetAppface.GetGameRoute&&(n=function(){Logger.error("NetAppface.GetGameRoute \u7f51\u7edc\u8fde\u63a5\u8d85\u65f6\uff0c\u8bf7\u68c0\u67e5\u540e\u91cd\u8bd5")}),i&&Global.UI.showSingleBox("\u7f51\u7edc\u8fde\u63a5\u8d85\u65f6\uff0c\u8bf7\u68c0\u67e5\u540e\u91cd\u8bd5",n,n)}e.errorHandler&&i&&e.errorHandler({_errno:-1,_errstr:"\u7f51\u7edc\u8fde\u63a5\u8d85\u65f6\uff0c\u8bf7\u68c0\u67e5\u540e\u91cd\u8bd5"})}else this.dealParallelReq(e,!1)},t.prototype.startTimer=function(e){var t=this;clearInterval(this.timeID);var o=0;this.timeID=setInterval(function(){o++,Global.AppDun.checkIsDunLoading()?o>=10&&(Logger.error("check dun loading startTimer timout"),clearInterval(t.timeID),e&&e()):(clearInterval(t.timeID),e&&e())},this.checkInerval)},t.prototype.onMessage=function(e,t){var o=null,i=null;t.funcName==a.NetOnline.HeartBeat||t.funcName==h.NetAppface.GetConfig||t.funcName==h.NetAppface.GetGameList||t.funcName==h.NetAppface.GetGameRoute?(Global.Setting.Urls.sortHallRoutes(),t.funcName==a.NetOnline.HeartBeat&&this.dealParallelReq(t,!0)):(t.suffix.indexOf("login")>-1||t.funcName==a.NetCheckVersion.checkversion)&&Global.Setting.Urls.sortLoginRoutes();try{""==(i=Global.AESUtil.decodeMsg(e))&&Logger.error("\u89e3\u6790\u534f\u8bae\u5931\u8d25",e,t.url.getUrl()),o=JSON.parse(i)}catch(r){this.onMessageError(t),Logger.error("\u89e3\u6790JSON\u5931\u8d25",e,t.url.getUrl(),r&&r.message);var n={msg:e,url:t.url,exception:r&&r.message};return void Global.ReportTool.ReportClientError(d.ReportTool.REPORT_TYPE_JSON_ERROR,n)}if(o._func!=a.NetOnline.HeartBeat?Logger.error("\u6536\u5230\u670d\u52a1\u5668\u7684\u56de\u590d"+o._func+"="+JSON.stringify(o._param)):o&&o._param&&this.checkHelper.refreshCostTime(o._check),(t.showWaiting||t.funcName==h.NetAppface.GetGameRoute)&&Global.Event.event(p.default.HIDE_NET_WAITING,t.funcName),t.sendInGame!=Global.SceneManager.inGame()&&this.NoIgnoreWhenChangeSceneList.indexOf(t.funcName)<0)Logger.error("http\u534f\u8bae\u8de8\u573a\u666f\uff0c\u4e22\u5f03",t.url);else if(this.errorHelper.handleError(o,t.errorHandler))return null!=t.onComplete?t.onComplete(o._param):o._func&&""!=o._func&&this.event(o._func,o._param),!0},t.prototype.tryHandleError=function(e){return this.errorHelper.tryHandleError(e)},t.prototype.getNetCost=function(){return this.checkHelper?this.checkHelper.getNetCost():0},t.prototype.getMsgParam=function(e,t,o,i,n){void 0===i&&(i=!1),void 0===n&&(n="");var r={};return i&&(r._mod=e,r._func=t),r._param=o||{},r._check=n,r},t.prototype.sendLabaMsg=function(e,t,o,i,n){var r=Global.Setting.Urls.gameRoutes;null==r&&(Logger.error("gameRoutes is null \u5148\u8bf7\u6c42GetGameRoute"),r=Global.Setting.Urls.hallRoutes),this.sendWithServerRouteAndMod(r.getRandRoute(),e,t,o,i,n)},t.prototype.sendWithServerRouteAndMod=function(e,t,o,i,n,r){var a=e.getHttpUrlWithMod(t),s="?_func="+o+"&"+Global.UrlUtil.getUrlCommonParam(),l={};l._param=i,a.suffix=a.suffix+s,this.sendWithUrl(a,l,n,r,o)},t.prototype.sendWithUrl=function(e,t,o,i,n){var r=this;void 0===n&&(n=""),Global.Http.send(e,t,function(t){var a=Global.AESUtil.decodeMsg(t);if(""!=a){var s=null;try{s=JSON.parse(a)}catch(l){return void Logger.error("\u89e3\u6790JSON\u5931\u8d25",t,e,l&&l.message)}!Global.SceneManager.inGame()&&r.NoIgnoreWhenChangeSceneList.indexOf(n)<0?Logger.error("game http\u534f\u8bae\u8de8\u573a\u666f\uff0c\u4e22\u5f03",e):r.errorHelper.handleError(s,i)&&o&&o(s._param)}else Logger.error("\u89e3\u6790\u534f\u8bae\u5931\u8d25",t,e)},function(){i&&i({_errno:-1,_errstr:"\u7f51\u7edc\u8fde\u63a5\u8d85\u65f6\uff0c\u8bf7\u68c0\u67e5\u540e\u91cd\u8bd5"})})},t.prototype.getHallSendUrl=function(e,t,o,i,n,r,a,s){void 0===r&&(r=!0),void 0===a&&(a=0),void 0===s&&(s="");var l=Global.Setting.Urls.hallRoutes,c=Global.Setting.Urls.hallUrlSuffix,p=this.getMsgParam(e,t,o);return c=cc.js.formatStr(c,e,t),c+=s,this.createNetExtraData(l,c,t,p,i,n,r,a).url.getUrl()},t.EVENT_INTERNAL_ONHEARTBEAT="OnHeartBeat",t.EVENT_INTERNAL_UPDATEMSGSEQ="updateMsgSeq",t}(r.default);o.default=g,cc._RF.pop()},{"../../../../framework/event/EventDispatcher":"EventDispatcher","../../../../framework/net/http/HttpProxy":"HttpProxy","../../../core/net/hall/NetEvent":"NetEvent","../../GlobalEvent":"GlobalEvent","../../tool/ReportTool":"ReportTool","./CheckHelper":"CheckHelper","./HallBroadcastHelper":"HallBroadcastHelper","./HallErrorHandler":"HallErrorHandler","./HallHeartbeatHelper":"HallHeartbeatHelper","./NetEvent":"NetEvent"}],HallStorageKey:[function(e,t,o){"use strict";cc._RF.push(t,"e23daR7kCFPZaNcWdbxccLT","HallStorageKey"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function e(){}return e.Phone="Phone",e.Pwd="Pwd",e.AreaCode="AreaCode",e.Token="Token",e.Uid="Uid",e.Channel="Channel",e.InviteCode="InviteCode",e.WebDeviceId="WebDeviceId",e.AppConfigContent="AppConfigContent",e.AppID="AppID",e.BaiduIntervelTimes="BaiduIntervelTime",e.Sale="Sale",e.ServerDeviceId="ServerDeviceId",e.ReportUrl="ReportUrl",e.VIPLevel="VIPLevel",e.DunConfig="DunConfig",e.DunInitRecord="DunInitRecord",e.LoginRoutes="LoginRoutes",e.RequestRecord="RequestSuccessRecord",e.PostOpenInstallFlag="PostOpenInstallFlag",e.PostSharetraceFlag="PostSharetraceFlag",e.PostLogCache="PostLogCache",e.FirstOpen="FirstOpen",e.HotUpdateHosts="HotUpdateHosts",e.AppHotUpdateHosts="AppHotUpdateHosts",e.DATAURLS="DATAURLS",e}();o.default=i,cc._RF.pop()},{}],HallTopView:[function(e,t,o){"use strict";cc._RF.push(t,"ec4d0cgEZFKs4y3l9ni8cgr","HallTopView");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../../core/ui/ViewBase"),a=e("../../../../hallcommon/model/HallModel"),s=e("./HallBtnHelper"),l=e("../../../../hallcommon/model/PlayerInfoModel"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.moreBtn=null,t.timer=null,t.isMoreOpen=!1,t.layout_show=null,t.layout_hide=null,t.activityConfigs={},t.halltopBtnArr=[],t}return n(t,e),t.prototype.initView=function(){this.model=Global.ModelManager.getModel("HallModel"),this.rechargeModel=Global.ModelManager.getModel("RechargeGiftModel"),this.shareNode=this.addCommonClick("layout2/shareNode",this.onShareClick,this),this.giftNode=this.addCommonClick("layout2/giftNode",this.onGiftClick,this),this.fanliNode=this.addCommonClick("layout2/fanliNode",this.onFanliClick,this),this.shouChongFanLiNode=this.addCommonClick("layout2/shouChongFanLiNode",this.onShouChongFanLiClick,this),this.timeLimitedNode=this.addCommonClick("layout2/limitedTimeNode",this.onShoulimitedTimeNodeClick,this),this.zhuanpanNode=this.addCommonClick("layout2/zhuanPanNode",this.onzhuanPanNodeClick,this),this.spreadGiftNode=this.addCommonClick("layout2/spreadGiftNode",this.onSpreadGiftNodeClick,this),this.hongbao=this.addCommonClick("layout2/hongbao",this.onHongbaoClick,this),this.dailyHongBaoNode=this.addCommonClick("layout2/meirihongbao",this.onDailyHongBaoClick,this),this.giftNodeRedSpot=this.getChild("layout2/giftNode/hongdian"),this.moreBtn=this.getChild("moreBtn"),this.shareNode=this.addCommonClick("moreBtn",this.onMoreBtnClick,this),this.layout_hide=this.getChild("layout_hide"),this.layout_show=this.getChild("layout_show"),this.layout2=this.getChild("layout2"),this.layout_hide.active=!1,this.layout_show.active=!1,this.layout2.active=!0,this.moreBtn.getChildByName("img_close").active=!0,this.moreBtn.getChildByName("img_open").active=!1,this.giftNodeRedSpot&&(this.giftNodeRedSpot.active=!1),this.timeLimitedNode&&(this.timeLimitedNode.active=!1,this.timerNode=cc.find("timerNode",this.timeLimitedNode),this.timerNode.active=!1,this.receiveNode=cc.find("receiveNode",this.timeLimitedNode),this.receiveNode.active=!1,this.timerLabel=cc.find("timerLabel",this.timerNode).getComponent(cc.Label)),this.moneyLabel=this.getComponent("layout2/zhuanyunNode/moneyLabel",cc.Label),this.countLabel=this.getComponent("layout2/zhuanyunNode/countLabel",cc.Label),this.buzhuNode=this.addCommonClick("layout2/zhuanyunNode",this.onBuZhuClick,this),this.actNode=this.addCommonClick("layout2/activityCenter",this.openActivityCenter,this),this.shareNode.active=!1,this.fanliNode.active=!1,this.shouChongFanLiNode.active=!1,this.zhuanpanNode&&(this.zhuanpanNode.active=!1),this.spreadGiftNode&&(this.spreadGiftNode.active=!1),this.hongbao&&(this.hongbao.active=!1),this.dailyHongBaoNode&&(this.dailyHongBaoNode.active=!1),this.giftNode&&(this.giftNode.active=!1),this.activityConfigs={5:this.zhuanpanNode,6:this.shareNode,7:this.fanliNode,8:this.shouChongFanLiNode,10:this.spreadGiftNode,16:this.hongbao,18:this.giftNode,20:this.dailyHongBaoNode,21:this.timeLimitedNode,22:this.buzhuNode,23:this.actNode},this.registEvent()},t.prototype.openActivityCenter=function(){s.default.WndActivityOpen()},t.prototype.checkCommisionRedSpot=function(){var e=this;if(this.buzhuNode.active=0!==l.default.instance.vipSubsidyStatus,null!=l.default.instance.vipSubsidy){var t=l.default.instance.vipSubsidy[Global.PlayerData.vip];this.moneyLabel.string=t?Global.Toolkit.formatPointStr(t.point,!0).toString():"0"}this.countLabel.string=l.default.instance.vipSubsidyCount+"",Global.HallServer.send(NetAppface.mod,NetAppface.SubsidyPoint,{},function(t){l.default.instance.vipSubsidyCount=t.times,e.countLabel.string=l.default.instance.vipSubsidyCount+""},function(){},!1,10)},t.prototype.onMoreBtnClick=function(){var e=this;this.isMoreOpen=!this.isMoreOpen,this.isMoreOpen?(this.moreBtn.getChildByName("img_close").active=!1,this.moreBtn.getChildByName("img_open").active=!0,this.layout_hide.scale=.2,this.layout_hide.active=!0,cc.tween(this.layout_hide).to(.2,{scale:1.1}).to(.1,{scale:1}).call(function(){e.layout_hide.scale=1}).start()):(this.moreBtn.getChildByName("img_close").active=!0,this.moreBtn.getChildByName("img_open").active=!1,cc.tween(this.layout_hide).to(.1,{scale:.2}).call(function(){e.layout_hide.scale=1,e.layout_hide.active=!1}).start())},t.prototype.onBuZhuClick=function(){var e=this;Global.HallServer.send(NetAppface.mod,NetAppface.GetSubsidyPoint,{},function(t){l.default.instance.vipSubsidyCount=t.times,e.countLabel.string=l.default.instance.vipSubsidyCount+"",Global.UI.show("WndRebateGet",t.point)},function(e){Global.UI.fastTip(e._errstr)},!1,10)},t.prototype.registEvent=function(){Global.Event.on(GlobalEvent.TimeLimitedRechargeStatusChange,this,this.setTimer),cc.game.on(cc.game.EVENT_SHOW,this.setTimer,this),this.model.on("UpdateResSpot",this,this.updateResSpot),Global.Event.on(GlobalEvent.PERSONALINFOUPDATE,this,this.checkCommisionRedSpot)},t.prototype.onDailyRechargePackClick=function(){Global.UI.show("WndHallRedEnvelope")},t.prototype.onDailyHongBaoClick=function(){s.default.WndDailyHongBaoOpen()},t.prototype.onHongbaoClick=function(){s.default.WndHongBaoOpen()},t.prototype.onzhuanPanNodeClick=function(){s.default.WndLuckyDrawOpen()},t.prototype.onSpreadGiftNodeClick=function(){s.default.WndSpreadGiftOpen()},t.prototype.initActivity=function(){for(var e=Global.ActivityToggle.activityList,t=e.length-1;t>=0;t--){var o=e[t].atype;if(o&&1==e[t].button_status){var i=this.activityConfigs[o];cc.isValid(i)&&(i.setSiblingIndex(e[t].sort),i.active=!0)}}if(this.actNode.setSiblingIndex(0),this.hongbao){var n=this.model.recharge_red;n&&(this.hongbao.active=n.is_show)}this.RefreshBtnFunc()},t.prototype.RefreshBtnFunc=function(){if(0==this.halltopBtnArr.length)for(var e=0;e<this.layout2.childrenCount;e++)1==this.layout2.children[e].active&&this.halltopBtnArr.push(this.layout2.children[e]);for(this.layout2.active=!1,e=0;e<this.halltopBtnArr.length&&e<5;e++)this.halltopBtnArr[e].parent=this.layout_show,this.halltopBtnArr[e].y=0;if(this.layout_show.active=!0,this.halltopBtnArr.length>5){for(this.moreBtn.active=!0,e=5;e<this.halltopBtnArr.length;e++)this.halltopBtnArr[e].parent=this.layout_hide,this.halltopBtnArr[e].y=-88;this.layout_show.getComponent(cc.Widget).right=95}else cc.log("11111111111111111111111111111111111111111"),this.moreBtn.active=!1,this.layout_show.getComponent(cc.Widget).right=10},t.prototype.checkDailyGiftRedSpot=function(){var e=this.model.DailyGiftRedSpotActive;this.giftNodeRedSpot&&(this.giftNodeRedSpot.active=e)},t.prototype.updateResSpot=function(e){switch(e){case a.HallRedSpotType.DailyGift:this.giftNodeRedSpot.active=this.model.DailyGiftRedSpotActive}},t.prototype.onSubViewShow=function(){this.initActivity(),this.checkDailyGiftRedSpot(),this.updatePlatformState(),this.setTimer(),this.checkCommisionRedSpot()},t.prototype.updatePlatformState=function(){var e=Global.Toolkit.checkIsPlatformShowWX();this.shareNode&&!e&&(this.shareNode.active=!1)},t.prototype.clearTimeOut=function(){this.timer&&clearInterval(this.timer),this.timer=null},t.prototype.setTimer=function(e){var t=this;if(void 0===e&&(e=!0),this.rechargeModel){if(!e&&this.receiveNode&&this.timerNode)return this.clearTimeOut(),this.timeLimitedNode.active=!0,this.receiveNode.active=!0,this.timerNode.active=!1,void(this.rechargeModel.TimelimitedStatus=2);if(1==this.rechargeModel.TimelimitedStatus&&this.receiveNode&&this.timerNode){if(this.receiveNode.active=!1,-1!=this.rechargeModel.CountDown){this.clearTimeOut();var o=(new Date).getTime(),i=1e3*this.rechargeModel.CountDown-o;i=Math.ceil(i/1e3),this.timerNode.active=i>0,this.timer=setInterval(function(){var e=Global.Toolkit.secondFormatHMS(i),o=e.split(":");e=o.join("s"),t.timerLabel.string=e,(i-=1)<=0&&t.rechargeModel.TimelimitedStatus<2&&(t.clearTimeOut(),t.timeLimitedNode.active=!1)},1e3)}}else this.rechargeModel.TimelimitedStatus>1&&this.receiveNode&&this.timerNode?(this.timeLimitedNode.active=!0,this.receiveNode&&this.timerNode&&(this.receiveNode.active=!0,this.timerNode.active=!1)):this.timeLimitedNode.active=!1}},t.prototype.onSubViewHide=function(){},t.prototype.onDispose=function(){this.clearTimeOut(),cc.game.off(cc.game.EVENT_SHOW,this.setTimer,this),this.model.off("UpdateResSpot",this,this.updateResSpot),Global.Event.off(GlobalEvent.TimeLimitedRechargeStatusChange,this,this.setTimer),this.model.off("UpdateResSpot",this,this.updateResSpot),Global.Event.off(GlobalEvent.PERSONALINFOUPDATE,this,this.checkCommisionRedSpot)},t.prototype.onSpreedCenterClick=function(){this.model.closeRedSpot(a.HallRedSpotType.Spread),s.default.WndSpreadCenterOpen(),Global.Audio.playAudioSource("hall/sound/share_audio")},t.prototype.onShareClick=function(){Global.UI.show("WndShare"),Global.Audio.playAudioSource("hall/sound/sharemoney")},t.prototype.onFanliClick=function(){Global.Event.event(GlobalEvent.SHOW_NET_WAITING,"WndDailyCashBackUI"),Global.UI.show("WndDailyCashBackUI")},t.prototype.onGiftClick=function(){Global.UI.fastTip("\u529f\u80fd\u6682\u672a\u5f00\u653e\uff0c\u656c\u8bf7\u671f\u5f85\uff01")},t.prototype.onShouChongFanLiClick=function(){Global.UI.show("WndDailyRechargeGift")},t.prototype.onShoulimitedTimeNodeClick=function(){Global.Event.event(GlobalEvent.SHOW_NET_WAITING,"WndTimeLimitedRechargeGift"),Global.UI.show("WndTimeLimitedRechargeGift")},t.prototype.onDailyRedEnvelopeClick=function(){Global.UI.show("WndDailyRedEnvelope")},t}(r.default);o.default=c,cc._RF.pop()},{"../../../../core/ui/ViewBase":"ViewBase","../../../../hallcommon/model/HallModel":"HallModel","../../../../hallcommon/model/PlayerInfoModel":"PlayerInfoModel","./HallBtnHelper":"HallBtnHelper"}],HandlerHelper:[function(e,t,o){"use strict";cc._RF.push(t,"7d49eON+YtHVZj+oU+cBYm3","HandlerHelper");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handlerMap={},t.defaultHandlerMap={},t}return n(t,e),t.prototype.registHandler=function(e,t){null!=this.handlerMap[e]&&Logger.error("\u91cd\u590d\u6ce8\u518chandler",e),this.handlerMap[e]=t},t.prototype.registDefaultHandler=function(e,t){null!=this.defaultHandlerMap[e]&&Logger.error("\u91cd\u590d\u6ce8\u518cdefaulthandler",e),this.defaultHandlerMap[e]=t},t.prototype.removeHandler=function(e){this.handlerMap[e]&&(this.handlerMap[e]=null)},t.prototype.clearHandlers=function(){this.handlerMap={},this.defaultHandlerMap={}},t.prototype.getHandler=function(e){var t=this.handlerMap[e];return null==t&&(t=this.defaultHandlerMap[e]),null==t&&Logger.error("\u6ca1\u6709\u627e\u5230\u5bf9\u5e94\u5904\u7406handler",e),t},t}(e("./BaseServerHelper").default);o.default=r,cc._RF.pop()},{"./BaseServerHelper":"BaseServerHelper"}],Hasher:[function(e,t,o){"use strict";cc._RF.push(t,"959falAV7JBsZFnaeekkcPH","Hasher");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Hasher=void 0;var r=function(e){function t(t){var o=e.call(this,Object.assign({blockSize:16},t))||this;return o.reset(),o}return n(t,e),t._createHelper=function(e){return function(t,o){return new e(o).finalize(t)}},t.prototype.update=function(e){return this._append(e),this._process(),this},t.prototype.finalize=function(e){return e&&this._append(e),this._doFinalize()},t}(e("./BufferedBlockAlgorithm").BufferedBlockAlgorithm);o.Hasher=r,cc._RF.pop()},{"./BufferedBlockAlgorithm":"BufferedBlockAlgorithm"}],HeadFrameLayerView:[function(e,t,o){"use strict";cc._RF.push(t,"0be939wb89FcJSa2GaKXKwo","HeadFrameLayerView");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.headFrameCount=15,t.chooseHeadFrameIndex=-1,t.scrollView=null,t.itemNode=null,t.xyGapArr=[0,0,164,160],t.itemNodeArr=[],t.chooseGou=null,t.spriteHeadVip=null,t.spriteHeadFrameVip=null,t.spriteVip=null,t.labelVip=null,t.showHeadFrameIndex=-1,t}return n(t,e),t.prototype.initView=function(){var e=this;this.model=Global.ModelManager.getModel("PlayerInfoModel"),this.scrollView=cc.find("scrollview",this.node).getComponent(cc.ScrollView),this.itemNode=cc.find("itemlayer/item",this.scrollView.content),this.chooseGou=cc.find("chooselayer/chooseGou",this.scrollView.content);var t=this.itemNode.x,o=this.itemNode.y;this.xyGapArr[0]=t,this.xyGapArr[1]=o,this.xyGapArr[2]=Global.Setting.SkinConfig.zhuangbanKuangWH[0],this.xyGapArr[3]=Global.Setting.SkinConfig.zhuangbanKuangWH[1];var i=0,n=0;Global.Component.schedule(function(){for(var r=n+2,a=n;a<r;a++){if(a>=e.headFrameCount){if(n>=e.headFrameCount){i=-i+e.itemNode.height/2;var s=e.scrollView.node.getContentSize();return i<s.height&&(i=s.height),void e.scrollView.content.setContentSize(0,i+20)}return}var l=cc.instantiate(e.itemNode);l.setParent(e.itemNode.parent),l.active=!0,e.itemNodeArr.push(l),l.name="head_"+a,l.x=t+e.xyGapArr[2]*(a%3),i=o-e.xyGapArr[3]*Math.floor(a/3),l.y=i,Global.UIHelper.addCommonClick(l,"",e.HeadBtnFunc,e,cc.Button.Transition.NONE),e.UpdateHead(l,a),n++}},0,this.headFrameCount/2),this.itemNode.active=!1,this.spriteHeadVip=cc.find("right/item/head",this.node).getComponent(cc.Sprite),this.spriteHeadFrameVip=cc.find("right/item/txk",this.node).getComponent(cc.Sprite),this.spriteVip=cc.find("right/icon_vip",this.node).getComponent(cc.Sprite),this.labelVip=cc.find("right/label_vip",this.node).getComponent(cc.Label),Global.Event.on(GlobalEvent.CHANGEVIP,this,this.updateUserInfo)},t.prototype.UpdateUI=function(){if(this.chooseHeadFrameIndex>=0){var e=this.itemNodeArr[this.chooseHeadFrameIndex];this.UpdateHead(e,this.chooseHeadFrameIndex,!0)}var t=parseInt(Global.PlayerData.headkuang)-1;if(t>=0){this.chooseGou.active=!0;var o=this.xyGapArr[0]+this.xyGapArr[2]*(t%3),i=this.xyGapArr[1]-this.xyGapArr[3]*Math.floor(t/3);this.chooseGou.x=o,this.chooseGou.y=i-30}else this.chooseGou.active=!1},t.prototype.UpdateHead=function(e,t,o){void 0===o&&(o=!1);var i=""+(t+1),n=cc.find("txk",e).getComponent(cc.Sprite),r=cc.find("unlock",e);r.active=!1,cc.find("unlock_lab",r).getComponent(cc.Label).string="vip"+i,Global.PlayerData.vip<t+1&&(r.active=!0),Global.Toolkit.loadLocalHeadFrame(n,i,!1,!0)},t.prototype.UpdateVip=function(){var e=this.showHeadFrameIndex+1;e<1&&(e=1),this.model.vipExpArr.length<=e&&(e=this.model.vipExpArr.length);var t=""+e;Global.Toolkit.loadLocalHeadFrame(this.spriteHeadFrameVip,t),Global.Toolkit.loadLocalVip(this.spriteVip,e),this.labelVip.string="\u6fc0\u6d3bVIP"+e+"\u5373\u53ef\u83b7\u5f97"},t.prototype.HeadBtnFunc=function(e){var t=this,o=e.name.split("_"),i=parseInt(o[o.length-1]);this.showHeadFrameIndex=i,this.UpdateVip();var n=i+1;if(Global.PlayerData.vip<n)Global.UI.fastTip("\u5934\u50cf\u6846\u672a\u62e5\u6709");else{this.CancelChooseLastHead(),this.chooseHeadFrameIndex=i,this.UpdateUI();var r=""+(this.chooseHeadFrameIndex+1);if(r!=Global.PlayerData.headkuang){var a={};a.head=parseInt(r),this.model.reqSetSelfCfg(a,function(){Global.PlayerData.headkuang=r,t.UpdateUI()})}}},t.prototype.CancelChooseLastHead=function(){if(this.chooseHeadFrameIndex>=0){var e=this.itemNodeArr[this.chooseHeadFrameIndex];this.UpdateHead(e,this.chooseHeadFrameIndex)}},t.prototype.onDispose=function(){Global.Event.off(GlobalEvent.CHANGEVIP,this,this.updateUserInfo)},t.prototype.onSubViewShow=function(){this.CancelChooseLastHead(),this.spriteHeadVip.spriteFrame=Global.Toolkit.getLocalHeadSf(Global.PlayerData.headimg),this.chooseHeadFrameIndex=parseInt(Global.PlayerData.headkuang)-1,this.showHeadFrameIndex=this.chooseHeadFrameIndex,this.UpdateUI(),this.UpdateVip()},t.prototype.updateUserInfo=function(){for(var e=0;e<Global.PlayerData.vip;e++){var t=this.itemNodeArr[e];t&&(cc.find("unlock",t).active=!1)}},t}(e("../../../core/ui/ViewBase").default);o.default=r,cc._RF.pop()},{"../../../core/ui/ViewBase":"ViewBase"}],HeadLayerView:[function(e,t,o){"use strict";cc._RF.push(t,"4793fvewLpAr4YrydRf68Gb","HeadLayerView");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.headCount=81,t.chooseHeadIndex=0,t.scrollView=null,t.itemNode=null,t.chooseBg=null,t.chooseGou=null,t.chooseCheck=null,t.xyGapArr=[0,0,138,141],t}return n(t,e),t.prototype.initView=function(){var e=this;this.model=Global.ModelManager.getModel("PlayerInfoModel"),this.headCount=Global.Setting.headNameRange,this.scrollView=this.getComponent("scrollview",cc.ScrollView),this.itemNode=this.getChild("scrollview/view/content/itemlayer/item"),this.itemNode.active=!1;var t=this.itemNode.x,o=this.itemNode.y;this.xyGapArr[0]=t,this.xyGapArr[1]=o,this.xyGapArr[2]=Global.Setting.SkinConfig.zhuangbanHeadWH[0],this.xyGapArr[3]=Global.Setting.SkinConfig.zhuangbanHeadWH[1];var i=0,n=0;Global.Component.schedule(function(){if(n>=e.headCount){i=-i+e.itemNode.height/2;var r=e.scrollView.node.getContentSize();return i<r.height&&(i=r.height),void e.scrollView.content.setContentSize(0,i)}for(var a=n+2,s=n;s<a;s++){if(s>=e.headCount)return void n++;var l=cc.instantiate(e.itemNode);l.active=!0,l.setParent(e.itemNode.parent),l.name="head_"+s,l.x=t+e.xyGapArr[2]*(s%5),i=o-e.xyGapArr[3]*Math.floor(s/5),l.y=i,Global.UIHelper.addCommonClick(l,"",e.HeadBtnFunc,e,cc.Button.Transition.NONE),e.UpdateHead(l,s),n++}},0,this.headCount/2),this.chooseGou=cc.find("chooselayer/chooseGou",this.scrollView.content)},t.prototype.UpdateUI=function(){var e=this.chooseHeadIndex,t=(this.xyGapArr[0],this.xyGapArr[2]),o=(this.xyGapArr[1],this.xyGapArr[3],Math.floor(e/5));e=parseInt(Global.PlayerData.headimg)-1,t=this.xyGapArr[0]+this.xyGapArr[2]*(e%5),o=this.xyGapArr[1]-this.xyGapArr[3]*Math.floor(e/5),this.chooseGou.x=t+48,this.chooseGou.y=o-48},t.prototype.UpdateHead=function(e,t){var o=""+(t+1);cc.find("mask/headFrame",e).getComponent(cc.Sprite).spriteFrame=Global.Toolkit.getLocalHeadSf(o)},t.prototype.HeadBtnFunc=function(e){var t=this,o=e.name.split("_"),i=parseInt(o[o.length-1]);this.chooseHeadIndex=i,this.UpdateUI();var n=""+(this.chooseHeadIndex+1);if(n!=Global.PlayerData.headimg){var r={};r.headimg=n,this.model.reqEditUserInfo(r,function(){Global.PlayerData.headimg=n,t.UpdateUI()})}},t.prototype.onSubViewShow=function(){this.chooseHeadIndex=parseInt(Global.PlayerData.headimg)-1,this.UpdateUI()},t.prototype.onSubViewHide=function(){},t}(e("../../../core/ui/ViewBase").default);o.default=r,cc._RF.pop()},{"../../../core/ui/ViewBase":"ViewBase"}],HeadTipsManager:[function(e,t,o){"use strict";cc._RF.push(t,"d21daTX38VAr5EssgBsfRmR","HeadTipsManager");var i=this&&this.__awaiter||function(e,t,o,i){return new(o||(o=Promise))(function(n,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,s)}l((i=i.apply(e,t||[])).next())})},n=this&&this.__generator||function(e,t){var o,i,n,r,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(e){return function(t){return l([e,t])}}function l(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,i&&(n=2&r[0]?i.return:r[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,r[1])).done)return n;switch(i=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){a.label=r[1];break}if(6===r[0]&&a.label<n[1]){a.label=n[1],n=r;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(r);break}n[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(s){r=[6,s],i=0}finally{o=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../component/InteractHeadTipComp"),a=e("../component/InteractPlayComp"),s="hall/prefabs/ui/interact/headTip",l="hall/prefabs/ui/interact/interactPlayView",c=function(){function e(){}return e.prototype.preloadRes=function(){return i(this,void 0,void 0,function(){return n(this,function(){return[2,new Promise(function(e,t){Global.ResourceManager.loadBundleRes("resources",[s,l],function(o,i){o?t(o):e(i)})})]})})},e.preloadRes=function(){return i(this,void 0,void 0,function(){return n(this,function(){return[2,new Promise(function(e,t){Global.ResourceManager.loadBundleRes("resources",[s,l],function(o,i){o?t(o):e(i)})})]})})},e.prototype.init=function(e,t,o){var i=cc.instantiate(Global.ResourceManager.getBundleRes("resources",s)),n=cc.instantiate(Global.ResourceManager.getBundleRes("resources",l));i.setParent(cc.Canvas.instance.node),n.setParent(cc.Canvas.instance.node),this.headTipsComp=Global.UIHelper.safeGetComponent(i,"",r.default),this.interactPlayComp=Global.UIHelper.safeGetComponent(n,"",a.default),this.headTipsComp.node.setParent(e),this.interactPlayComp.node.setParent(t),this.headTipsComp.node.active=!1,this.interactPlayComp.node.active=!0,this.headTipsComp.needHeadTip=o},e.prototype.setConfig=function(e){this.headTipsComp.interactChooseView.setSelfSrc(e)},e.prototype.showHeadView=function(e,t,o,i){var n=o||cc.Vec3.ZERO;this.headTipsComp.showHeadView(e,t,n,i)},e.prototype.updatePoint=function(e,t){this.headTipsComp.updatePoint(e,t)},e.prototype.playAct=function(e,t,o,i){this.interactPlayComp.node.active=!0,this.interactPlayComp.playAct(e,t,o,i)},e.prototype.clearOneOwner=function(e){this.interactPlayComp.clearOneOwner(e)},e.prototype.clearByGame=function(){this.headTipsComp&&cc.isValid(this.headTipsComp)&&(this.headTipsComp.node.active=!1),this.interactPlayComp&&cc.isValid(this.interactPlayComp)&&(this.interactPlayComp.node.active=!1,this.interactPlayComp.clearAllOwner())},e}();o.default=c,cc._RF.pop()},{"../component/InteractHeadTipComp":"InteractHeadTipComp","../component/InteractPlayComp":"InteractPlayComp"}],Hex:[function(e,t,o){"use strict";cc._RF.push(t,"8c4749+wapKU7r3KJ/FXnwa","Hex"),Object.defineProperty(o,"__esModule",{value:!0}),o.Hex=void 0;var i=e("../lib/WordArray"),n=function(){function e(){}return e.stringify=function(e){for(var t=[],o=0;o<e.sigBytes;o++){var i=e.words[o>>>2]>>>24-o%4*8&255;t.push((i>>>4).toString(16)),t.push((15&i).toString(16))}return t.join("")},e.parse=function(e){for(var t=e.length,o=[],n=0;n<t;n+=2)o[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new i.WordArray(o,t/2)},e}();o.Hex=n,cc._RF.pop()},{"../lib/WordArray":"WordArray"}],HotUpdateManager:[function(e,t,o){"use strict";cc._RF.push(t,"12613fuR65LtpkfFuYvuEQt","HotUpdateManager"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./UpdateHelper"),n=e("./component/GameHotUpdateComponent"),r=function(){function e(){this._hotUpdateUrl="https://intest.03866.com/client/cocosHotUpdate",this._hotUpdateDirName="gameUpdate",this._hallHotUpdateDirName="hall",this._projectCfgFileName="project.manifest",this._versionCfgFileName="version.manifest",this._hotUpdateStorageKey="download_",this.nativeVersions={},this.gIsGameDownloading={},this.gameChecked={},this.currentGame="",this.hallNewVersion="0.0.0",this.hallUpdatePath="",this.gameHotUpdateList=[],this.hotFailRes=null,this.hotFaildNum=0,this.getGameVersion=function(e){return new Promise(function(t,o){var i=cc.loader.getXMLHttpRequest();i.onreadystatechange=function(){if(4===i.readyState)if(i.status>=200&&i.status<300){var e=i.responseText,n=JSON.parse(e);t(n)}else o()},i.timeout=3e4,i.open("GET",e,!0),i.ontimeout=function(){o()},i.send()})},this.updateHelper=new i.default(this._hotUpdateDirName,this._projectCfgFileName,this._versionCfgFileName,this._hotUpdateStorageKey),this.nativeVersions.hall=this.getNativeHotUpdateVersion("hall")}return Object.defineProperty(e.prototype,"CurrentGame",{get:function(){return this.currentGame},set:function(e){this.currentGame=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hotUpdateUrl",{get:function(){return this._hotUpdateUrl},set:function(e){this._hotUpdateUrl=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hotUpdateDirName",{get:function(){return this._hotUpdateDirName},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hallHotUpdateDirName",{get:function(){return this._hallHotUpdateDirName},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"projectCfgFileName",{get:function(){return this._projectCfgFileName},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"versionCfgFileName",{get:function(){return this._versionCfgFileName},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hotUpdateStorageKey",{get:function(){return this._hotUpdateStorageKey},enumerable:!1,configurable:!0}),e.prototype.checkIsGameDownload=function(e){return this.updateHelper.isDownloaded(e)},e.prototype.checkIsGameNewest=function(e){if(!this.checkIsGameDownload(e))return!1;var t=Global.HotUpdateManager.nativeVersions[e.toString()]||"0.0.0",o=Global.GameData.getGameInfo(e);if(null==o)return!1;var i=o.version;return""!=i&&Global.Toolkit.versionCompare(i,t)<=0},e.prototype.getNativeHotUpdateVersion=function(e,t,o){void 0===o&&(o="");var i,n=this.getNativeHotUpdatePath(e)+"/"+this.projectCfgFileName,r="0.0.0";if(!cc.sys.isNative)return r;if(jsb.fileUtils.isFileExist(n)){var a=jsb.fileUtils.getStringFromFile(n);if(i=JSON.parse(a)){if(t&&null!=i.cfgVersion&&null!=i.cfgVersion)return i.cfgVersion;null!=i.version&&null!=i.version?(Logger.log("getNativeHotUpdateVersion ---- gameid  "+e+" jsonData.version = "+i.version),r=i.version,this.updateNativeHotUpdateVersion(e,r)):Logger.log("getNativeHotUpdateVersion ----jsonData.version = null 2 ")}else Logger.log("getNativeHotUpdateVersion ----jsonData.version = null 1 ");return r}if(jsb.fileUtils.isFileExist(o)&&(a=jsb.fileUtils.getStringFromFile(o),(i=JSON.parse(a))&&t))return null!=i.cfgVersion&&null!=i.cfgVersion?i.cfgVersion:"0.0.0";return r},e.prototype.getNativeHotUpdatePath=function(e){return this.updateHelper.genStoragePath(e)},e.prototype.getHotUpdateVersion=function(e,t,o){var i=t+"/"+o,n="0.0.0";if(!cc.sys.isNative)return n;if(Logger.error("getHotUpdateVersion--path================",t),jsb.fileUtils.isFileExist(i)){var r=jsb.fileUtils.getStringFromFile(i),a=JSON.parse(r);a?null!=a.version&&null!=a.version?(Logger.log("getHotUpdateVersion ---- gameid  "+e+" jsonData.version = "+a.version),n=a.version):Logger.log("getHotUpdateVersion ----jsonData.version = null 2 "):Logger.log("getHotUpdateVersion ----jsonData.version = null 1 ")}return n},e.prototype.getRemoteVesion=function(e,t,o){var i=this.getNativeHotUpdatePath(e)+"/"+o+".manifest",n="0.0.0";if(!cc.sys.isNative)return n;if(jsb.fileUtils.isFileExist(i)){var r=jsb.fileUtils.getStringFromFile(i),a=JSON.parse(r);a?null!=a[t]&&null!=a[t]&&null!=a[t].version&&null!=a[t].version?(Logger.log("getRemoteHotUpdateVersion ---- gameid  "+e+" jsonData.version = "+a[t].version),n=a[t].version):Logger.log("getRemoteHotUpdateVersion ----jsonData.version = null 2 "):Logger.log("getRemoteHotUpdateVersion ----jsonData.version = null 1 ")}return n},e.prototype.getRemoteHotUpdateUrl=function(e,t,o,i){var n="",r=this.getNativeHotUpdatePath(e)+"/"+o+".manifest";if(i=Global.Toolkit.adjustUrl(i),!cc.sys.isNative)return n;if(jsb.fileUtils.isFileExist(r)){var a=jsb.fileUtils.getStringFromFile(r),s=JSON.parse(a);s?(Logger.error("bundleName----------",t),null!=s[t]&&null!=s[t]&&null!=s[t].path&&null!=s[t].path?(Logger.log("getRemoteUrl ---- gameid  "+e+" jsonData.path = "+s[t].path),n=i+s[t].path+"/"+s[t].version,this.updateNativeHotUpdateVersion(e,o)):Logger.log("getRemoteHotUpdateUrl ----jsonData[bundleName][path = null 2 ")):Logger.log("getRemoteHotUpdateUrl ----jsonData[bundleName][path = null 1 ")}return n},e.prototype.getManifestObj=function(e,t){var o=Global.HotUpdateManager;null!=e&&null!=e&&""!=e||(e=o.hotUpdateUrl),e=Global.Toolkit.adjustUrl(e);var i={},n="0.0.0",r=t+"/"+this.projectCfgFileName;if(jsb.fileUtils.isFileExist(r)){var a=jsb.fileUtils.getStringFromFile(r),s=JSON.parse(a);s.assets&&s.new&&(i=s.assets),s.assets&&(n=s.version)}return{packageUrl:e,remoteManifestUrl:e+this.projectCfgFileName,remoteVersionUrl:e+this.versionCfgFileName,version:n,assets:i,searchPaths:[]}},e.prototype.changeLocalUrl=function(e,t,o,i){var n=this.updateHelper.genStoragePath(o)+"/"+i;if(jsb.fileUtils.isFileExist(n)){var r=jsb.fileUtils.getStringFromFile(n),a=JSON.parse(r),s=a.remoteManifestUrl.indexOf(t);-1!=s&&(a.remoteManifestUrl=e+a.remoteManifestUrl.substring(s-1,a.remoteManifestUrl.length),a.packageUrl=e+a.packageUrl.substring(s-1,a.remoteManifestUrl.length),a.remoteVersionUrl=e+a.remoteVersionUrl.substring(s-1,a.remoteManifestUrl.length));var l=JSON.stringify(a);jsb.fileUtils.writeStringToFile(l,n)}else Logger.error("\u627e\u4e0d\u5230\u6587\u4ef6",n)},e.prototype.updateNativeHotUpdateVersion=function(e,t){this.nativeVersions&&(this.nativeVersions[e]=t);var o=Global.GameData.getGameInfo(e);o&&(o.native_version=t)},e.prototype.getNativeVersionFileUrl=function(e,t){if(t)return Global.HotUpdateManager.getNativeHotUpdatePath(e)+"/"+t+".manifest"},e.prototype.removeNativeHotUpdateDir=function(e){var t=this.getNativeHotUpdatePath(e);jsb.fileUtils.removeDirectory(t),"hall"==e&&Global.NativeEvent.unzipHallPackage()},e.prototype.addHotUpdateGameComp=function(e,t,o,i,r){void 0===r&&(r=!1);var a=new n.default;a.initCheckUpDate(e,t,o,i);var s=this.getAutoInlist(),l=this.getIndex();s&&!r?-1==l?this.checkIsGameDowning()?this.gameHotUpdateList.splice(1,0,a):this.gameHotUpdateList.unshift(a):this.gameHotUpdateList.splice(l+1,0,a):this.gameHotUpdateList.push(a),this.checkIsGameDowning()||this.startHotUpdateGame()},e.prototype.removeGameComp=function(e){var t=this.getHotUpdateGameComp(e);this.gameHotUpdateList.splice(this.gameHotUpdateList.indexOf(t),1)},e.prototype.getIndex=function(){for(var e=Global.GameData.autoDownList,t=this.gameHotUpdateList.length-1;t>=0;t--){var o=this.gameHotUpdateList[t];if(-1==e.indexOf(Number(o._gameType)))return t}return-1},e.prototype.getAutoInlist=function(){for(var e=Global.GameData.autoDownList,t=0;t<this.gameHotUpdateList.length;t++){var o=this.gameHotUpdateList[t];if(-1!=e.indexOf(Number(o._gameType)))return!0}return!1},e.prototype.startHotUpdateGame=function(){if(this.gameHotUpdateList){var e=this.gameHotUpdateList[0];e&&e.checkVersionUpdate()}},e.prototype.getHotUpdateGameComp=function(e){for(var t=null,o=0;o<this.gameHotUpdateList.length;o++){var i=this.gameHotUpdateList[o];if(i._gameType===e){t=i;break}}return t},e.prototype.checkIsGameDowning=function(){var e=!1;if(this.gameHotUpdateList)for(var t=0;t<this.gameHotUpdateList.length;t++)if(this.gameHotUpdateList[t]._updating){e=!0;break}return e},e.prototype.getWhichGameIsDowning=function(){var e=null;if(this.gameHotUpdateList)for(var t=0;t<this.gameHotUpdateList.length;t++){var o=this.gameHotUpdateList[t];if(o._updating){e=o._gameType;break}}return e},e.prototype.removeHotUpdateGameComp=function(e,t){if(void 0===t&&(t=!1),this.gameHotUpdateList){for(var o=-1,i=0;i<this.gameHotUpdateList.length;i++)if(this.gameHotUpdateList[i]._gameType===e){o=i;break}-1!=o&&this.gameHotUpdateList.splice(o,1),t&&this.startHotUpdateGame()}},e.prototype.changeManifestUrl=function(e,t,o,i,n){void 0===n&&(n=0);var r=Global.HotUpdateManager;null!=o&&null!=o&&""!=o||(o=r.hotUpdateUrl);var a=i;if(a){var s=this.getNativeHotUpdatePath(e)+"/"+this.projectCfgFileName,l=jsb.fileUtils.isFileExist(s),c=jsb.fileUtils.isFileExist(a),p="0.0.0",h="0.0.0";if(l){var u=jsb.fileUtils.getStringFromFile(s);(f=JSON.parse(u)).version&&(h=f.version)}c&&(u=jsb.fileUtils.getStringFromFile(a),(f=JSON.parse(u)).version&&(p=f.version)),Global.Toolkit.versionCompare(h,p)>0&&(a=s)}else a=this.getNativeHotUpdatePath(e)+"/"+this.projectCfgFileName;var d={packageUrl:o=o+"/"+e+"/"+t,remoteManifestUrl:o+"/"+r.projectCfgFileName,remoteVersionUrl:o+"/"+r.versionCfgFileName,version:"0.0.1",assets:{},searchPaths:[]};if(jsb.fileUtils.isFileExist(a)){if(u=jsb.fileUtils.getStringFromFile(a)){var f=JSON.parse(u),g=!0;if(1===n&&Global.Toolkit.versionCompare(f.version,t)>0){Logger.log("\u56de\u6eda\u6e38\u620f--- gameid "+e);var m=this.getNativeHotUpdatePath(e);jsb.fileUtils.isFileExist(m)&&(jsb.fileUtils.removeDirectory(m),"hall"==e&&Global.NativeEvent.unzipHallPackage()),g=!1}g&&f.packageUrl&&(f.packageUrl!=o?(d.packageUrl=o,d.remoteManifestUrl=o+"/"+r.projectCfgFileName,d.remoteVersionUrl=o+"/"+r.versionCfgFileName,d.version=f.version,d.assets=f.assets,d.searchPaths=f.searchPaths):d=f)}}else Logger.log("file not exist"),d.packageUrl=o,d.remoteManifestUrl=o+"/"+r.projectCfgFileName,d.remoteVersionUrl=o+"/"+r.versionCfgFileName;return d},e.prototype.onClear=function(){},e.prototype.onDestroy=function(){},e}();o.default=r,cc._RF.pop()},{"./UpdateHelper":"UpdateHelper","./component/GameHotUpdateComponent":"GameHotUpdateComponent"}],HotUpdateProxy:[function(e,t,o){"use strict";cc._RF.push(t,"a65b8XcQ1BJPYMskvCW/Kw2","HotUpdateProxy");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("./LoadingConst"),a=e("../tool/ReportTool"),s=e("../../hallcommon/const/HallStorageKey"),l=function(e){function t(o){var i=e.call(this)||this;return i.serverHotupdateUrl="",i.serverVersion="",i.proxyName=t.NAME,i.manifestNativeUrl=o.nativeUrl,i}return n(t,e),t.prototype.onRegister=function(){Global.Setting.SystemInfo.Version="1.0.5"},t.prototype._versionCompare=function(e,t){var o=e.split("."),i=t.split(".");this._currentVersion=e,this._newestVersion=t,Global.HotUpdateManager.hallNewVersion=t;for(var n=0;n<o.length;++n){var r=parseInt(o[n]),a=parseInt(i[n]||"0");if(r!==a)return r-a}return i.length>o.length?-1:0},t.prototype.check=function(e,t,o,i){if(void 0===o&&(o=0),void 0===i&&(i=null),cc.sys.isNative)if(Global.Setting.isStartHotUpdate){this.checkVersionData=i;var n=Global.HotUpdateManager.getNativeHotUpdateVersion("hall");if(0==Global.Toolkit.versionCompare(t,n))return Logger.log("\u672c\u5730\u7248\u672c\u4e0e\u670d\u52a1\u5668\u7248\u672c\u53f7\u4e00\u81f4"),void this.next();var a=e,s=t,l=Global.HotUpdateManager;a?Global.HotUpdateManager.hotUpdateUrl=a:a=Global.HotUpdateManager.hotUpdateUrl,s?Global.HotUpdateManager.hallNewVersion=s:s=Global.HotUpdateManager.hallNewVersion,this.serverHotupdateUrl=e+"/hall/"+t+"/",this.serverVersion=t,this.localManifestJsonObj=Global.HotUpdateManager.changeManifestUrl("hall",s,a,this.manifestNativeUrl,o),this._storagePath=(jsb.fileUtils?jsb.fileUtils.getWritablePath():"/")+l.hotUpdateDirName+"/"+l.hallHotUpdateDirName;var c=this._storagePath+"/"+l.updateHelper.prjFileName(),p=this.localManifestJsonObj,h=p.assets,u=[],d=Global.Setting.SystemInfo.appID;for(var f in h)0==f.indexOf("app/")&&f.indexOf("app/"+d+"/")<0&&u.push(f);for(var g=0;g<u.length;g++)delete h[u[g]];p.assets=h,jsb.fileUtils.writeStringToFile(JSON.stringify(p),c),this.localManifestJsonObj=p,this._assetsMgr=new jsb.AssetsManager("",this._storagePath,this._versionCompare.bind(this)),this._assetsMgr.setVerifyCallback(this._cbVerify),cc.sys.os===cc.sys.OS_ANDROID&&this._assetsMgr.setMaxConcurrentTask(5),this.sendNotification(r.default.SHOW_CHECK_LABEL,{parm:"\u68c0\u67e5\u66f4\u65b0\u4e2d..."}),this.checkUpdate()}else this.next();else this.next()},t.prototype.checkUpdate=function(){if(this._updating)this.sendNotification(r.default.SHOW_CHECK_LABEL,{parm:"\u68c0\u67e5\u66f4\u65b0\u4e2d..."});else{if(this._assetsMgr.getState()===jsb.AssetsManager.State.UNINITED){var e=JSON.stringify(this.localManifestJsonObj);this.localManifest=new jsb.Manifest(e,this._storagePath),this._assetsMgr.loadLocalManifest(this.localManifest,this._storagePath)}this._assetsMgr.getLocalManifest()&&this._assetsMgr.getLocalManifest().isLoaded()?(this._assetsMgr.setEventCallback(this._cbCheckUpdate.bind(this)),this._assetsMgr.checkUpdate(),this._updating=!0):this.sendNotification(r.default.SHOW_CHECK_LABEL,{parm:"\u5bfc\u5165\u6587\u4ef6\u5931\u8d25\uff0c\u5efa\u8bae\u91cd\u542f\u6e38\u620f\u6216\u91cd\u65b0\u4e0b\u8f7d\u6700\u65b0\u7248\u672c"})}},t.prototype._cbCheckUpdate=function(e){var t=this;switch(e.getEventCode()){case jsb.EventAssetsManager.ALREADY_UP_TO_DATE:this.sendNotification(r.default.SHOW_PROGRESS_BAR,{parm:-1}),this.sendNotification(r.default.SHOW_CHECK_LABEL,{parm:"\u5df2\u7ecf\u662f\u6700\u65b0\u7248"}),this.next();break;case jsb.EventAssetsManager.UPDATE_PROGRESSION:return void(e&&"VersionDownloaded"==e.getMessage()?(Logger.error("VersionDownloaded formatVersion"),this.formatVersion()):e&&"ProjectDownloaded"==e.getMessage()&&(Logger.error("ProjectDownloaded formatManifest"),this.formatManifest()));case jsb.EventAssetsManager.NEW_VERSION_FOUND:this.sendNotification(r.default.SHOW_PROGRESS_BAR,{parm:0}),this._needUpdate=!0;break;case jsb.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:var o={game:"hall",eventcode:e.getEventCode(),event:"checkupdate",url:Global.Setting.Urls.hallHotUpdateUrl};Global.ReportTool.ReportClientError(a.ReportTool.REPORT_TYPE_HOT_UPDATE_ERROR,o),this.sendNotification(r.default.SHOW_CHECK_LABEL,{parm:"\u4e0b\u8f7d\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc"});var i=function(){setTimeout(function(){t.restartCheckUpdate()},1e3)};Global.UI.showSingleBox("\u4e0b\u8f7d\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc",i,i);break;default:return}this._assetsMgr.setEventCallback(null),this._checkListener=null,this._updating=!1,this.hotUpdate()},t.prototype.restartCheckUpdate=function(e){var t=this;if(void 0===e&&(e=!0),Logger.error("restartCheckUpdate"),this._assetsMgr&&(this._assetsMgr.setEventCallback(null),this._updateListener=null,this._updating=!1,this._assetsMgr=null),e){var o=cc.sys.localStorage.getItem("errorReStartTimes");if(null!=o&&""!=o){var i=Number(o);i?i++:i=1,cc.sys.localStorage.setItem("errorReStartTimes",i)}else cc.sys.localStorage.setItem("errorReStartTimes",1)}Global.Setting.storage.getObject(s.default.HotUpdateHosts)||Global.Setting.storage.setObject(s.default.HotUpdateHosts,Global.Setting.Urls.hallHotUpdateUrlArray),this.clearProjectManifest();var n={host:Global.Setting.Urls.hallHotUpdateUrl};Global.ReportTool.ReportClientError(a.ReportTool.REPORT_TYPE_HOTUPDATE_HOST_ERROR,n),e?this.restartGame():setTimeout(function(){Global.UI.show("WndMessageBox","\u4fee\u590d\u5b8c\u6210\uff0c\u70b9\u51fb\u786e\u5b9a\u5c06\u91cd\u542f\u6e38\u620f.",0,function(){t.restartGame()},function(){t.restartGame()})},300)},t.prototype.restartGame=function(){Global.UI.clearAllUIPrefab(),Global.NativeEvent.unzipHallPackage(),setTimeout(function(){cc.game.restart()},1e3)},t.prototype.clearProjectManifest=function(){var e=Global.HotUpdateManager.updateHelper.genStoragePath("hall/")+"project.manifest";jsb.fileUtils.isFileExist(e)?(Logger.error("remove file projectPath is exist = "+e),jsb.fileUtils.removeFile(e)):Logger.error("projectPath is not exist = "+e)},t.prototype.clearDownloadTmpDir=function(){var e=Global.HotUpdateManager.updateHelper.genStoragePath("hall_temp");jsb.fileUtils.isDirectoryExist(e)?(Logger.error("remove tmpDowndloadPath  = "+e),jsb.fileUtils.removeDirectory(e)):Logger.error("tmpDowndloadPath is not exist = "+e)},t.prototype.hotUpdate=function(){this._assetsMgr&&!this._updating&&(this.sendNotification(r.default.SHOW_PROGRESS_BAR,{parm:0}),this._assetsMgr.setEventCallback(this._cbUpdate.bind(this)),this._assetsMgr.getState()===jsb.AssetsManager.State.UNINITED&&(this.localManifest=new jsb.Manifest(JSON.stringify(this.localManifestJsonObj),this._storagePath),this._assetsMgr.loadLocalManifest(this.localManifest)),this._assetsMgr.update(),this._updating=!0)},t.prototype.formatVersion=function(){var e=Global.HotUpdateManager.updateHelper.genStoragePath("hall_temp/")+Global.HotUpdateManager.versionCfgFileName;if(jsb.fileUtils.isFileExist(e)){var t=jsb.fileUtils.getStringFromFile(e),o=JSON.parse(t);o.packageUrl=this.serverHotupdateUrl,o.remoteManifestUrl=this.serverHotupdateUrl+Global.HotUpdateManager.projectCfgFileName,o.remoteVersionUrl=this.serverHotupdateUrl+Global.HotUpdateManager.versionCfgFileName,o.version=this.serverVersion;var i=JSON.stringify(o);jsb.fileUtils.writeStringToFile(i,e)}else Logger.error("\u627e\u4e0d\u5230\u6587\u4ef6",e)},t.prototype.formatManifest=function(){if(cc.sys.isNative){var e=Global.HotUpdateManager.updateHelper.genStoragePath("hall_temp/")+"project.manifest.temp";if(jsb.fileUtils.isFileExist(e)){var t=jsb.fileUtils.getStringFromFile(e),o=JSON.parse(t),i=o.assets,n=[],r=Global.customApp.getAppID();for(var a in i)0==a.indexOf("app/")&&a.indexOf("app/"+r+"/")<0&&n.push(a);for(var s=0;s<n.length;s++)delete i[n[s]];o.packageUrl=this.serverHotupdateUrl,o.remoteManifestUrl=this.serverHotupdateUrl+Global.HotUpdateManager.projectCfgFileName,o.remoteVersionUrl=this.serverHotupdateUrl+Global.HotUpdateManager.versionCfgFileName,o.version=this.serverVersion;var l=JSON.stringify(o);jsb.fileUtils.writeStringToFile(l,e)}else Logger.error("\u627e\u4e0d\u5230\u6587\u4ef6",e)}},t.prototype._cbUpdate=function(e){var t=this,o=!1,i=!1;switch(e.getEventCode()){case jsb.EventAssetsManager.UPDATE_PROGRESSION:var n=e.getPercent();(isNaN(n)||null==n||null==n)&&(n=1e-4),this.sendNotification(r.default.SHOW_PROGRESS_BAR,{parm:n});var l=(100*n).toFixed(2);e&&"ProjectDownloaded"==e.getMessage()&&this.formatManifest(),this.sendNotification(r.default.SHOW_CHECK_LABEL,{parm:"\u5df2\u4e0b\u8f7d: "+l+"%"});break;case jsb.EventAssetsManager.UPDATE_FINISHED:this.sendNotification(r.default.SHOW_CHECK_LABEL,{parm:"\u66f4\u65b0\u5b8c\u6210\uff1a"+e.getMessage()}),o=!0;break;case jsb.EventAssetsManager.ALREADY_UP_TO_DATE:this.sendNotification(r.default.SHOW_CHECK_LABEL,{parm:"\u5df2\u7ecf\u662f\u6700\u65b0\u7248"}),i=!0;break;case jsb.EventAssetsManager.UPDATE_FAILED:var c={game:"hall",eventcode:e.getEventCode(),event:"update",faildres:e.getAssetId(),url:Global.Setting.Urls.hallHotUpdateUrl};Global.ReportTool.ReportClientError(a.ReportTool.REPORT_TYPE_HOT_UPDATE_ERROR,c),this.sendNotification(r.default.SHOW_CHECK_LABEL,{parm:"\u66f4\u65b0\u5931\u8d25\uff1a "+e.getMessage()}),this._updating=!1,this._canRetry=!0,i=!0;break;case jsb.EventAssetsManager.ERROR_UPDATING:this._faildRes=e.getAssetId();var p={game:"hall",eventcode:e.getEventCode(),event:"update",faildres:this._faildRes,url:Global.Setting.Urls.hallHotUpdateUrl};Global.ReportTool.ReportClientError(a.ReportTool.REPORT_TYPE_HOT_UPDATE_ERROR,p),i=!0;break;case jsb.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:case jsb.EventAssetsManager.ERROR_DECOMPRESS:var h={game:"hall",eventcode:e.getEventCode(),event:"update",faildres:e.getAssetId(),url:Global.Setting.Urls.hallHotUpdateUrl};Global.ReportTool.ReportClientError(a.ReportTool.REPORT_TYPE_HOT_UPDATE_ERROR,h),this.sendNotification(r.default.SHOW_CHECK_LABEL,{parm:"\u4e0b\u8f7d\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc"});var u=function(){setTimeout(function(){t.restartCheckUpdate()},1e3)};Global.UI.showSingleBox("\u4e0b\u8f7d\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc",u,u),i=!0}if(i&&(Logger.error("event.getEventCode()",e.getEventCode(),e.getAssetId(),Global.Setting.Urls.hallHotUpdateUrl,i),this._assetsMgr.setEventCallback(null),this._updateListener=null,this._updating=!1,this.retry()),o){this.sendNotification(r.default.CLEAR_LOADING_TIMER),cc.sys.localStorage.setItem("errorReStartTimes",null),Global.Setting.storage.removeKey(s.default.HotUpdateHosts),this._assetsMgr.setEventCallback(null),this._updateListener=null,Global.HotUpdateManager.hotFailRes="",Global.HotUpdateManager.hotFaildNum=0;var d=jsb.fileUtils.getSearchPaths();Logger.log("searchPaths ---------"+d);var f=this._assetsMgr.getLocalManifest().getSearchPaths();Global.SearchPathHelper.addPathList(f),Logger.log("newPaths -------------"+JSON.stringify(f));var g=Global.SearchPathHelper.getSystemSearchPath();Logger.log("searchPaths new -------------"+g);var m=Global.HotUpdateManager;cc.sys.localStorage.setItem(m.hotUpdateStorageKey+m.hallHotUpdateDirName,m.hallHotUpdateDirName),cc.sys.localStorage.setItem("HotUpdateSearchPaths",JSON.stringify(g)),cc.sys.localStorage.setItem("needRestart",1),cc.audioEngine.stopAll(),Global.UI.clearAllUIPrefab(),setTimeout(function(){cc.game.restart()},1e3),Logger.error("restart")}},t.prototype.retry=function(){var e=this;if(Logger.log("---------retry---------------"),Global.HotUpdateManager.hotFailRes==this._faildRes&&Global.HotUpdateManager.hotFaildNum>=2){this._faildRes,Global.HotUpdateManager.hotFailRes="",Global.HotUpdateManager.hotFaildNum=0;var t=function(){setTimeout(function(){e.restartCheckUpdate()},1e3)};Global.UI.showSingleBox("\u4e0b\u8f7d\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc",t,t)}else Global.HotUpdateManager.hotFaildNum=this._faildRes,Global.HotUpdateManager.hotFaildNum++},t.prototype._cbVerify=function(e,t){var o=t.compressed;if(t.md5,t.path,t.size,o)return!0;var i=jsb.fileUtils.getDataFromFile(e);return null!=i&&md5(i)==t.md5},t.prototype.next=function(){Logger.log("-------------------enter next"),"testflight"==Global.Setting.SystemInfo.nativePlatform&&this.checkIsLower20007Verion()?Global.AppUpdateHelper.showLoadingGameUpdateUI(0):Global.AppUpdateHelper.startForceUpdateLogic(this.checkVersionData)||Global.AppUpdateHelper.goToLogin()},t.prototype.checkIsLower20007Verion=function(){if(!cc.sys.isNative)return!0;var e=Global.Setting.SystemInfo.appVersion,t=!1;return(Number(e)||0)<20007&&(t=!0),t},t.prototype.onRemove=function(){},t.NAME="HotUpdateProxy",t}(puremvc.Proxy);o.default=l,cc._RF.pop()},{"../../hallcommon/const/HallStorageKey":"HallStorageKey","../tool/ReportTool":"ReportTool","./LoadingConst":"LoadingConst"}],HttpProxy:[function(e,t,o){"use strict";cc._RF.push(t,"a7deapCf/9Ala0z8UfTJSmY","HttpProxy"),Object.defineProperty(o,"__esModule",{value:!0}),o.ParallelReqLine=o.ParallelReqInfo=void 0;var i=e("./HttpRequest"),n=e("../../../logic/core/setting/ServerRoutes"),r=e("../../../logic/core/tool/ReportTool"),a=function(){this.isReq=!1,this.isRsp=!1,this.isReport=!1,this.reqLines=[]};o.ParallelReqInfo=a;o.ParallelReqLine=function(){this.lineIndex=0,this.repFlag=0,this.startTime=0,this.endTime=0,this.reqTime=0,this.host="",this.url=""};var s=function(){function e(){this.cookie="",this.reqList=[],this.parallelReqKey={},this.parallelReqKey.checkversion=new a,this.parallelReqKey.heartbeat=new a}return e.prototype.onUpdate=function(){var e=this.reqList.shift();if(e){var t=e.url,o=e.msg,n=e.reqType,r=e.onComplete,a=e.onError,s=e.timeout,l=new i.default;l.on(i.default.EVENT_COMPLETE,this,r),l.on(i.default.EVENT_ERROR,this,a),l.setTimeout(s),Logger.log("Send HallMSG:",o,t.getUrl());var c=o=o||"";t.isEncrptParam&&o&&(c=Global.AESUtil.aesEncrptMsg(o)),l.send(t,c,n)}},e.prototype.pushReqListModel=function(e,t,o,i,n,r){var a={};a.url=e,a.msg=t,a.reqType=o,a.onComplete=function(t){Global.ReportTool.markSuccess(e),i&&i(t)},a.onError=n,a.timeout=r,this.reqList[this.reqList.length]=a,Logger.log("reqList length = "+this.reqList.length)},e.prototype.send=function(t,o,i,n){var r=this,a=this.getSendContent(o);this.pushReqListModel(t,a,"post",i,function(e,a){r.sendError(e,t,o,i,n,a)},e.HttpTimeout)},e.prototype.sendError=function(e,t,o,i,n,r){void 0===r&&(r=0),this.onHttpError(e,t,r),n&&(n(),n=null)},e.prototype.sendWithServerRoute=function(t,o,i,n,r){var a=this,s=t.getUrl();s.suffix=s.suffix+o;var l=this.getSendContent(i);this.pushReqListModel(s,l,"post",n,function(e,l){a.sendWithServerRouteError(e,s,t,o,i,n,r,l)},e.HttpTimeout)},e.prototype.sendWithServerRouteError=function(e,t,o,i,n,r,a,s){this.onHttpError(e,t,s),a&&(a(),a=null)},e.prototype.get=function(t,o,i,r){var a=this,s=this.getSendContent(r),l=new n.ServerUrl;l.parse(t),this.pushReqListModel(l,s,"get",o,function(e,t){a.getError(e,l,o,i,r,t)},e.HttpTimeout)},e.prototype.getError=function(e,t,o,i,n,r){void 0===r&&(r=0),this.onHttpError(e,t,r),i&&(i(),i=null)},e.prototype.getWithRetry=function(t,o,i,r,a){var s=this;void 0===a&&(a=0);var l=this.getSendContent(r),c=new n.ServerUrl;c.parse(t),this.pushReqListModel(c,l,"get",o,function(e,t){s.getWithRetryError(e,c,o,i,r,a,t)},e.HttpTimeout)},e.prototype.getWithRetryError=function(e,t,o,i,n,r,a){void 0===r&&(r=0),void 0===a&&(a=0),this.onHttpError(e,t,a),i&&(i(),i=null)},e.prototype.requestDirect=function(e,t,o,i,r,a){var s=this;void 0===i&&(i="get"),void 0===a&&(a=15e3);var l=this.getSendContent(r),c=new n.ServerUrl;c.parse(e),c.isInnerRequest=!1,this.pushReqListModel(c,l,"get",t,function(e,n){s.requestDirectError(e,c,t,o,i,r,a,n)},a)},e.prototype.requestDirectError=function(e,t,o,i,n,r,a,s){void 0===n&&(n="get"),void 0===a&&(a=15e3),void 0===s&&(s=0),this.onHttpError(e,t,s),i&&(i(),i=null)},e.prototype.onHttpError=function(e,t,o){if(void 0===o&&(o=0),e&&t){var i=e.status,n=e.response||e.responseText,a=(e.getAllResponseHeaders(),t.getUrl()),s=t.realHost,l=t.addressHost;if(Global.UrlUtil.getHostFromUrl(a),!Global.ReportTool.isReportUrl(t)){var c={error_code:i,body:n,url:t.isInnerRequest?Global.UrlUtil.dealHttpSign(t).sign_url:t.getUrl(),htime:o,host:s,addrHost:l},p=r.ReportTool.REPORT_TYPE_HTTP_ERROR,h="";if(this.checkIsDataUrl(s)?(h="D",p=r.ReportTool.REPORT_TYPE_DATA_ERROR):a.indexOf("login")>-1?(h="L",p=r.ReportTool.REPORT_TYPE_LOGIN_ERROR):a.indexOf("checkversion")>-1?(h="C",p=r.ReportTool.REPORT_TYPE_CHECKVERSION_ERROR):a.indexOf("httpdns")>-1&&(p=r.ReportTool.REPORT_TYPE_HTTPDNS_ERROR),this.isHostWithNoTips(a,i)||Global.UI.fastTip("\u7f51\u7edc\u5f02\u5e38\uff1aH-"+h+i),308==i||307==i||302==i){var u=e.getResponseHeader("Set-Cookie");if(u){Logger.error("httpStatus "+i),Logger.error("307 cookie = "+u);var d=u.split(";");if(d&&d.length>0){var f=d[0];f&&f.length>0&&(f=f.trim(),this.cookie=f,Logger.error("307 set cookie = "+this.cookie))}}}else Global.ReportTool.ReportClientError(p,c);return Global.ReportTool.markFailed(t,i),!1}Logger.error("isReportUrl !!!!")}else Logger.error("onHttpError http  || url = null")},e.prototype.isHostWithNoTips=function(e,t){return 0==t||307==t||302==t||!(!e||!(e.indexOf("httpdns")>-1||e.indexOf("ip.360.cn")>-1))},e.prototype.checkIsDataUrl=function(e){if(!e)return!1;var t=Global.Setting.dataUrlsList;if(!t)return!1;for(var o=0;o<t.length;o++)if(t[o].indexOf(e)>-1)return!0;return!1},e.prototype.onGetError=function(e,t,o,i,n){var r=this;++n>=2?o&&o():setTimeout(function(){r.getWithRetry(e,t,o,i,n)},1e3)},e.prototype.getSendContent=function(e){return null==e||""==e?null:"string"==typeof e?e:JSON.stringify(e)},e.HttpTimeout=15e3,e}();o.default=s,cc._RF.pop()},{"../../../logic/core/setting/ServerRoutes":"ServerRoutes","../../../logic/core/tool/ReportTool":"ReportTool","./HttpRequest":"HttpRequest"}],HttpRequest:[function(e,t,o){"use strict";cc._RF.push(t,"fc987EkOJhIcYeBCn58XbAz","HttpRequest");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../event/EventDispatcher"),a=e("../../debug/Logger"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._http=new XMLHttpRequest,t._startTime=0,t._endTime=0,t.isError=!1,t}return n(t,e),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){return this._url},enumerable:!1,configurable:!0}),t.prototype.send=function(e,t,o,i,n){var r=this;void 0===t&&(t=null),void 0===o&&(o="get"),void 0===i&&(i="text"),void 0===n&&(n=null),this._responseType=i,this._data=null;var s="",l=Global.DNS.getHttpRequestDNSInfo(e,0);if(null!=l&&null!=l.headerMap){if(s=l.realUrl,null!=(u=l.headerMap)){Global.Http.cookie&&(u.Cookie=Global.Http.cookie);var c=JSON.stringify(u);for(var p in a.Logger.error("header 1 is !!!!",c),Global.NativeEvent.setRequestProperty(c),u){var h=u[p];this._http.setRequestHeader(p,h)}}}else if(Global.Http.cookie){var u={Cookie:Global.Http.cookie};for(var p in c=JSON.stringify(u),a.Logger.error("header 2 is !!!!",c),Global.NativeEvent.setRequestProperty(c),u)h=u[p],this._http.setRequestHeader(p,h)}var d=null,f=null;if(e.isInnerRequest){var g=Global.UrlUtil.dealHttpSign(e);d=g.headSign,f=g.sign_url}else f=e.getUrl();if(f){s=f,this._url=f;var m=this._http;if(m.open(o,s,!0),n&&n.length>0)for(var y=0;y<n.length;y++)m.setRequestHeader(n[y++],n[y]);else m.setRequestHeader("Content-Type","text/plain");cc.sys.isNative&&d&&m.setRequestHeader("Summor",d),m.responseType="arraybuffer"!==i?"text":"arraybuffer",m.onreadystatechange=this.onReadyStateChange.bind(this),m.send(t),m.onerror=function(){r.onError("onerror ["+r._http.status+"]"+r._http.statusText+":"+r._http.responseURL)},this._startTime=(new Date).valueOf(),m.ontimeout=function(e){r.httpEvent("ontimeout",e)}}else a.Logger.error("http send sign_url error "+f)},t.prototype.setTimeout=function(e){var t=this;this.clearTimer(),this._http&&(this._http.timeout=e,this._timeOut=setTimeout(function(){t.onError("request timeout  0")},e))},t.prototype.clearTimer=function(){this._timeOut&&(clearTimeout(this._timeOut),this._timeOut=null)},t.prototype.httpEvent=function(e,t){a.Logger.error(e,t),this.onError("request timeout  0")},t.prototype.onReadyStateChange=function(){4==this._http.readyState&&(this._endTime=(new Date).valueOf(),this.clearTimer(),this._http.status>=200&&this._http.status<300?this.onComplete():this.onError("onReadyStateChange ["+this._http.status+"]"+this._http.statusText+":"+this._http.responseURL))},t.prototype.onError=function(e){if(this.clearTimer(),this._endTime=(new Date).valueOf(),a.Logger.error("onError():"+e,this._url),!this.isError){this.isError=!0;var o=this._endTime-this._startTime;this.event(t.EVENT_ERROR,this._http,o),this.clear()}},t.prototype.onComplete=function(){this.clearTimer();var e=!0;try{"json"===this._responseType?this._data=JSON.parse(this._http.responseText):this._data=this._http.response||this._http.responseText}catch(o){e=!1,this.onError(o)}e&&this.event(t.EVENT_COMPLETE,this._data instanceof Array?[this._data]:this._data),this.clear()},t.prototype.clear=function(){this._http.onreadystatechange=null,this.offAll("")},t.EVENT_COMPLETE="complete",t.EVENT_ERROR="error",t}(r.default);o.default=s,cc._RF.pop()},{"../../debug/Logger":"Logger","../../event/EventDispatcher":"EventDispatcher"}],IDNS:[function(e,t,o){"use strict";cc._RF.push(t,"a2dd5Z9hL5CwrdHEXxk2/zR","IDNS"),Object.defineProperty(o,"__esModule",{value:!0}),o.DNSInfo=void 0;o.DNSInfo=function(){},cc._RF.pop()},{}],IDun:[function(e,t,o){"use strict";cc._RF.push(t,"d4d17c6OQRNUJJmhCuJfJZp","IDun"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],ISection:[function(e,t,o){"use strict";cc._RF.push(t,"a2c7fca9i1IsqGPjQhsTYPB","ISection"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],InnerServicer:[function(e,t,o){"use strict";cc._RF.push(t,"ae3c4fyqaRJjKB9DrOQBIX/","InnerServicer");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.AtServicer=void 0;var r=e("../../../hallcommon/model/ServicerModel"),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.acceptService=function(e){this.openServicer(this.serviceDatas[e])},t}(e("./AbsServicer").default);o.default=a;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.openServicer=function(e){Global.ChatServer.serverType=r.CustomerEntranceType.HallService,Global.ChatServer.userSetting(null,e.info)},t}(a);o.AtServicer=s,cc._RF.pop()},{"../../../hallcommon/model/ServicerModel":"ServicerModel","./AbsServicer":"AbsServicer"}],InteractHeadTipComp:[function(e,t,o){"use strict";cc._RF.push(t,"b6154hXHchAjbrNQeQro+/Q","InteractHeadTipComp");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../ui/ViewBase"),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.curSeat=-1,t.time=5,t._needHeadTip=!1,t}return n(t,e),t.prototype.onLoad=function(){this.contentNode=cc.find("content",this.node),this.headtipNode=cc.find("content/headtip",this.node),this.coinLbl=cc.find("coinLbl",this.headtipNode).getComponent(cc.Label),this.nameLbl=cc.find("nameLbl",this.headtipNode).getComponent(cc.Label),this.idLbl=cc.find("idLbl",this.headtipNode).getComponent(cc.Label),this.headImgSp=cc.find("mask/sprite_head",this.headtipNode).getComponent(cc.Sprite),this.headBoxSp=cc.find("head_kuang",this.headtipNode).getComponent(cc.Sprite);var e=cc.find("content/touchBg",this.node);e.on(cc.Node.EventType.TOUCH_END,this.hideView,this),e._touchListener.setSwallowTouches(!1),this.interactChooseView=new s,this.interactChooseView.setNode(cc.find("content/actView",this.node)),this.interactChooseView.active=!0,this.interactChooseView.setFatherFuntion(this)},t.prototype.hideView=function(){this.node.active=!1},t.prototype.onDestroy=function(){this.node.stopAllActions(),this.curSeat=-1},Object.defineProperty(t.prototype,"needHeadTip",{get:function(){return this._needHeadTip},set:function(e){this._needHeadTip=e},enumerable:!1,configurable:!0}),t.prototype.showHeadView=function(e,t,o,i){if(void 0===o&&(o=cc.Vec3.ZERO),e){this.curSeat=t;var n=this.contentNode.parent.convertToNodeSpaceAR(o);this.node.active=!0,this.contentNode.position=n,this.headtipNode.active=this.needHeadTip,this.needHeadTip?(this.updateContent(t,i),this.interactChooseView.sChair=i._chair):this.interactChooseView.sChair=i.chair,this.closeTips(5),this.interactChooseView.setPlayerData(i)}else this.curSeat==t&&this.hideView()},t.prototype.closeTips=function(e){this.time=e},t.prototype.update=function(e){this.time-=e,this.time<=0&&(this.node.stopAllActions(),this.node.active=!1)},t.prototype.updateContent=function(e,t){if(t){var o=t.nickname,i=t.point,n=t._uid,r=t.headimg;this.nameLbl.string=o,this.updatePoint(e,i);var a=[this.headImgSp.node.width,this.headImgSp.node.height],s=a[0],l=a[1];this.headImgSp.spriteFrame=Global.Toolkit.getLocalHeadSf(r),Global.Toolkit.loadLocalHeadFrameByGames(this.headBoxSp,t.a_box),this.headImgSp.node.setContentSize(s,l),this.idLbl.string="ID:"+n}},t.prototype.updatePoint=function(e,t){1==this.node.active&&this.curSeat==e&&(this.coinLbl.string=Global.Toolkit.formatPointStr(t,!0))},t}(cc.Component);o.default=a;var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lastSendTime=0,t.selfSrc=-1,t.showvipList=[0,0,0,0,10,11,12,13],t}return n(t,e),t.prototype.setPlayerData=function(e){this.playerData=e},t.prototype.setSelfSrc=function(e){this.selfSrc=e},t.prototype.setFatherFuntion=function(e){this.headtipsView=e},Object.defineProperty(t.prototype,"sChair",{get:function(){return this._chair},set:function(e){this._chair=e},enumerable:!1,configurable:!0}),t.prototype.initView=function(){for(var e=0;e<8;e++){var t=cc.find("content/"+e,this.node);new l(t,e,this.onInteractClick,this);var o=cc.find("tip",t);o.active=!1,Global.PlayerData.vip<this.showvipList[e]&&(o.active=!0)}},t.prototype.onInteractClick=function(e){if(this.headtipsView.closeTips(0),Global.PlayerData.vip<this.showvipList[e])return Global.UI.fastTip("\u60a8\u7684vip\u7b49\u7ea7\u4e0d\u8db3\u4ee5\u4f7f\u7528\u8be5\u8868\u60c5");if(this.playerData._rchair&&this.playerData._rchair===this.selfSrc)return Global.UI.fastTip("\u4e0d\u80fd\u7ed9\u81ea\u5df1\u53d1\u9001\u4e92\u52a8\u8868\u60c5\u54e6\uff01");var t=Date.now();if(t-this.lastSendTime<=2e3)return Global.UI.fastTip("\u60a8\u592a\u6025\u5566\uff5e\u559d\u53e3\u8336\u7a0d\u7b49\u4e00\u4e0b\u5427\uff5e");null!=this.sChair&&(this.sendChatReq(e,this.sChair),this.lastSendTime=t)},t.prototype.sendChatReq=function(e,o){var i=this.selfSrc;this.playerData&&this.playerData._rchair===this.selfSrc&&(i=Number(this.playerData._chair));var n={emoji:e,ctype:1,to_chair:o,from_chair:i};Game.Server.send(t.CmdChat,n)},t.prototype.onClose=function(){this.sChair=null},t.prototype.reset=function(){this.lastSendTime=0},t.CmdChat="chat",t}(r.default),l=function(e){function t(t,o,i,n){var r=e.call(this)||this;return r.index=o,r.callback=i,r.target=n,r.setNode(t),r}return n(t,e),t.prototype.initView=function(){this.getChild("").on("click",this.onItemClick,this)},t.prototype.onItemClick=function(){this.callback&&this.target&&this.callback.call(this.target,this.index)},t}(r.default);cc._RF.pop()},{"../ui/ViewBase":"ViewBase"}],InteractPlayComp:[function(e,t,o){"use strict";cc._RF.push(t,"9a7a6Qo4fpBZpLXZmD7Nx0j","InteractPlayComp");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../ui/ViewBase"),a=e("../tool/GameBasePool"),s={0:{prefab:"1",soundDelay:1,secondSoundDelay:0,time:2,soundNameStart:"hall/sound/interact/hd_meigui01",soundNameEnd:null},1:{prefab:"2",soundDelay:1,secondSoundDelay:0,time:2,soundNameStart:"hall/sound/interact/hd_jidan01",soundNameEnd:null},2:{prefab:"3",soundDelay:1,secondSoundDelay:0,time:2,soundNameStart:"hall/sound/interact/hd_ganbei01",soundNameEnd:null},3:{prefab:"4",soundDelay:1,secondSoundDelay:0,time:2,soundNameStart:"hall/sound/interact/hd_woshou01",soundNameEnd:null},4:{prefab:"5",soundDelay:1,secondSoundDelay:0,time:2,soundNameStart:"hall/sound/interact/hd_daocha01",soundNameEnd:null},5:{prefab:"6",soundDelay:1,secondSoundDelay:0,time:2,soundNameStart:"hall/sound/interact/hd_maobi01",soundNameEnd:null},6:{prefab:"7",soundDelay:1,secondSoundDelay:0,time:2,soundNameStart:"hall/sound/interact/hd_bingtong01",soundNameEnd:null},7:{prefab:"8",soundDelay:0,secondSoundDelay:2,time:2,soundNameStart:"hall/sound/interact/hd_dapao01",soundNameEnd:"hall/sound/interact/hd_dapao01_end"}},l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.poolMap={},t.playingMap={},t}return n(t,e),t.prototype.onLoad=function(){var e=cc.find("pool",this.node);for(var t in e.active=!1,s){var o=cc.find("pool/"+s[t].prefab,this.node);this.poolMap[t]=new c(e,o,t)}this.animView=cc.find("animView",this.node)},t.prototype.playAct=function(e,t,o,i){var n=this,r=String(i),a=this.poolMap[e].getItem();a.active=!0,a.node.setParent(this.animView),this.playingMap[r]||(this.playingMap[r]=[]),this.playingMap[r].push(a);var l=s[e].soundDelay,c=s[e].secondSoundDelay,p=s[e].time;a.showMoveAnim(t,o),new cc.Tween(a.node).delay(l).call(function(){s[e].soundNameStart&&Global.Audio.playSound(s[e].soundNameStart)}).delay(c).call(function(){a.showSkAnim(o),s[e].soundNameEnd&&Global.Audio.playSound(s[e].soundNameEnd)}).delay(p).call(function(){n.poolMap[e].recycleItem(a);var t=n.playingMap[r].indexOf(a);t>-1&&n.playingMap[r].splice(t,1)}).start()},t.prototype.clearOneOwner=function(e){var t=this,o=this.playingMap[e];o&&!Global.Toolkit.isEmptyObject(o)&&(o.forEach(function(e){t.poolMap[e.key].recycleItem(e)}),this.playingMap[e]=[])},t.prototype.clearAllOwner=function(){for(var e in this.playingMap)this.clearOneOwner(e)},t}(cc.Component);o.default=l;var c=function(e){function t(t,o,i){var n=e.call(this,t)||this;return n.root=t,n.copyNode=o,n.key=i,n}return n(t,e),Object.defineProperty(t.prototype,"preCount",{get:function(){return 5},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"everyCount",{get:function(){return 5},enumerable:!1,configurable:!0}),t.prototype.createItem=function(){var e=cc.instantiate(this.copyNode);return new p(e,this.key)},t.prototype.resetItem=function(e){e.node.setParent(this.root),e.active=!1,e.reset()},t}(a.default),p=function(e){function t(t,o){var i=e.call(this)||this;return i.key=o,i.setNode(t),i}return n(t,e),t.prototype.initView=function(){var e=this;this.spNode=this.getChild("sp"),this.sk=this.getComponent("sk",sp.Skeleton),this.sk.setCompleteListener(function(){e.sk.node.active=!1}),this.skstart=this.getComponent("skstart",sp.Skeleton),this.skstart.setCompleteListener(function(){e.skstart.node.active=!1})},t.prototype.showMoveAnim=function(e,t,o){var i=this;void 0===o&&(o=1);var n=this.spNode.parent.convertToNodeSpaceAR(e),r=this.spNode.parent.convertToNodeSpaceAR(t);this.spNode.active=!0,this.spNode.setPosition(n),this.skstart.node.setPosition(n),this.skstart.node.active=!0,this.skstart.setAnimation(0,"idle",!1),new cc.Tween(this.spNode).to(o,{position:r},cc.easeCubicActionOut()).call(function(){i.spNode.active=!1}).start()},t.prototype.showSkAnim=function(e){var t=this.sk.node.parent.convertToNodeSpaceAR(e);this.sk.node.setPosition(t),this.sk.node.active=!0,this.sk.setAnimation(0,"idle",!1)},t.prototype.reset=function(){this.spNode.stopAllActions(),this.node.stopAllActions(),this.spNode.active=!1,this.sk.node.active=!1,this.skstart.node.active=!1,this.active=!1},t}(r.default);cc._RF.pop()},{"../tool/GameBasePool":"GameBasePool","../ui/ViewBase":"ViewBase"}],IntoGameAnimComp:[function(e,t,o){"use strict";cc._RF.push(t,"b5d73q4kUBGSZjcKSmrcm6R","IntoGameAnimComp");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,l=(a.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bottomNodeYArr=[],t.topNodeYArr=[],t.leftNodeXArr=[],t.rightNodeXArr=[],t.middleNodeXArr=[],t.bottomObjArr=[],t.topObjArr=[],t.leftObjArr=[],t.rightObjArr=[],t.middleObjArr=[],t.bottomOffset=cc.v2(0,-200),t.topOffset=cc.v2(0,300),t.leftOffset=cc.v2(-300,0),t.rightOffset=cc.v2(300,0),t.middleOffset=cc.v2(1560,0),t.bInit=!1,t}return n(t,e),t.prototype.init=function(e){if(!this.bInit||e){this.bInit=!0,this.bottomNodeArr||(this.bottomNodeArr=[]);for(var t=0;t<this.bottomNodeArr.length;t++){var o=this.bottomNodeArr[t];this.bottomNodeYArr[t]=o.y,o.y-=200}for(this.topNodeArr||(this.topNodeArr=[]),t=0;t<this.topNodeArr.length;t++)o=this.topNodeArr[t],this.topNodeYArr[t]=o.y,o.y+=300;for(this.leftNodeArr||(this.leftNodeArr=[]),t=0;t<this.leftNodeArr.length;t++)o=this.leftNodeArr[t],this.leftNodeXArr[t]=o.x,o.x-=300;for(this.rightNodeArr||(this.rightNodeArr=[]),t=0;t<this.rightNodeArr.length;t++)o=this.rightNodeArr[t],this.rightNodeXArr[t]=o.x,o.x+=300;for(this.middleNodeArr||(this.middleNodeArr=[]),t=0;t<this.middleNodeArr.length;t++)o=this.middleNodeArr[t],this.middleNodeXArr[t]=o.x,o.x+=1560;this.node.opacity=1}},t.prototype.forceInit=function(){this.bInit=!1,this.init()},t.prototype.startAnimation=function(){this.danchu()},t.prototype.danchu=function(){var e=this;if(this.loadingNode){var t=cc.fadeOut(.5),o=cc.callFunc(function(){e.loadingNode.active=!1,e.danru()},this);this.loadingNode.runAction(cc.sequence(t,o))}else this.danru()},t.prototype.danru=function(){var e=this,t=cc.fadeIn(.5),o=cc.callFunc(function(){e.nodesAnimation()},this);this.node.runAction(cc.sequence(t,o))},t.prototype.startAnimtionByMask=function(e,t,o,i){var n=this;void 0===e&&(e=1),void 0===t&&(t=0);var r=.25*e,a=.25*e,s=.5*e;this.leftNodeArr.length+this.bottomNodeArr.length+this.rightNodeArr.length+this.topNodeArr.length+this.middleNodeArr.length==0&&(s=0),this.loadingNode&&this.maskNode?(Global.Component.scheduleOnce(function(){n.danchuByMask(r)},t),Global.Component.scheduleOnce(function(){n.loadingNode.active=!1,n.danruByMask(a)},t+r),Global.Component.scheduleOnce(function(){n.nodesAnimation(s)},t+r+a),Global.Component.scheduleOnce(function(){n.maskNode.active=!1,o&&i&&o.call(i)},t+r+a+s)):(this.loadingNode.active=!1,this.maskNode.active=!1,this.node.active=!0)},t.prototype.danchuByMask=function(e){this.maskNode.active=!0,this.maskNode.opacity=1;var t=cc.fadeTo(e,200);this.maskNode.runAction(t)},t.prototype.danruByMask=function(e){this.node.opacity=255;var t=cc.fadeTo(e,1);this.maskNode.runAction(t)},t.prototype.nodesAnimation=function(e){void 0===e&&(e=.5),e<.2&&(e=.2);for(var t=0,o=0;o<this.bottomNodeArr.length;o++){var i=(r=this.bottomNodeArr[o]).x,n=this.bottomNodeYArr[o];new cc.Tween(r).delay(t).to(e,{position:new cc.Vec2(i,n)},cc.easeBackOut()).start(),t+=.1}for(t=0,o=0;o<this.topNodeArr.length;o++)i=(r=this.topNodeArr[o]).x,n=this.topNodeYArr[o],new cc.Tween(r).delay(t).to(e-.2,{position:new cc.Vec2(i,n)},cc.easeBackOut()).start(),t+=.1;for(t=0,o=0;o<this.leftNodeArr.length;o++){var r=this.leftNodeArr[o];i=this.leftNodeXArr[o],n=r.y,new cc.Tween(r).delay(t).to(e-.1,{position:new cc.Vec2(i,n)},cc.easeBackOut()).start(),t+=.1}for(t=0,o=0;o<this.rightNodeArr.length;o++)r=this.rightNodeArr[o],i=this.rightNodeXArr[o],n=r.y,new cc.Tween(r).delay(t).to(e-.1,{position:new cc.Vec2(i,n)},cc.easeBackOut()).start(),t+=.1;for(t=0,o=0;o<this.middleNodeArr.length;o++)r=this.middleNodeArr[o],i=this.middleNodeXArr[o],n=r.y,new cc.Tween(r).delay(t).to(e-.1,{position:new cc.Vec2(i,n)},cc.easeBackOut()).start(),t+=.1},t.prototype.felxInit=function(){if(!this.bInit){this.bInit=!0,this.bottomObjArr||(this.bottomObjArr=[]);for(var e=0;e<this.bottomObjArr.length;e++){var t=this.bottomObjArr[e].node,o=this.bottomObjArr[e].offset||this.bottomOffset;t.y+=o.y}for(this.topObjArr||(this.topObjArr=[]),e=0;e<this.topObjArr.length;e++)t=this.topObjArr[e].node,o=this.topObjArr[e].offset||this.topOffset,t.y+=o.y;for(this.leftObjArr||(this.leftObjArr=[]),e=0;e<this.leftObjArr.length;e++)t=this.leftObjArr[e].node,o=this.leftObjArr[e].offset||this.leftOffset,t.x+=o.x;for(this.rightObjArr||(this.rightObjArr=[]),e=0;e<this.rightObjArr.length;e++)t=this.rightObjArr[e].node,o=this.rightObjArr[e].offset||this.rightOffset,t.x+=o.x;for(this.middleObjArr||(this.middleObjArr=[]),e=0;e<this.middleObjArr.length;e++)t=this.middleObjArr[e].node,o=this.middleObjArr[e].offset||this.middleOffset,t.x+=o.x;this.node.opacity=1}},t.prototype.startFlexAnimtionByMask=function(e,t,o,i){var n=this;void 0===e&&(e=2),void 0===t&&(t=0);var r=.25*e,a=.25*e,s=.5*e;0==this.getMoveCount()&&(s=0),this.loadingNode&&this.maskNode?(Global.Component.scheduleOnce(function(){n.flexDanchuByMask(r)},t),Global.Component.scheduleOnce(function(){n.loadingNode.active=!1,n.flexDanruByMask(a)},t+r),Global.Component.scheduleOnce(function(){n.flexNodesAnimation(s)},t+r+a),Global.Component.scheduleOnce(function(){n.maskNode.active=!1,o&&i&&o.call(i)},t+r+a+s)):(this.loadingNode.active=!1,this.maskNode.active=!1,this.node.active=!0)},t.prototype.flexDanchuByMask=function(e){this.maskNode.active=!0,this.maskNode.opacity=1;var t=cc.fadeTo(e,200);this.maskNode.runAction(t)},t.prototype.flexDanruByMask=function(e){this.node.opacity=255;var t=cc.fadeTo(e,1);this.maskNode.runAction(t)},t.prototype.flexNodesAnimation=function(e){void 0===e&&(e=.5),e<.2&&(e=.2);for(var t=0,o=0;o<this.bottomObjArr.length;o++){var i=this.bottomObjArr[o].node,n=this.bottomObjArr[o].offset||this.bottomOffset;new cc.Tween(i).delay(t).by(e,{position:n.mul(-1)},cc.easeBackOut()).start(),t+=.1}for(t=0,o=0;o<this.topObjArr.length;o++)i=this.topObjArr[o].node,n=this.topObjArr[o].offset||this.topOffset,new cc.Tween(i).delay(t).by(e-.2,{position:n.mul(-1)},cc.easeBackOut()).start(),t+=.1;for(t=0,o=0;o<this.leftObjArr.length;o++)i=this.leftObjArr[o].node,n=this.leftObjArr[o].offset||this.leftOffset,new cc.Tween(i).delay(t).by(e-.1,{position:n.mul(-1)},cc.easeBackOut()).start(),t+=.1;for(t=0,o=0;o<this.rightObjArr.length;o++)i=this.rightObjArr[o].node,n=this.rightObjArr[o].offset||this.rightOffset,new cc.Tween(i).delay(t).by(e-.1,{position:n.mul(-1)},cc.easeBackOut()).start(),t+=.1;for(t=0,o=0;o<this.middleObjArr.length;o++)i=this.middleObjArr[o].node,n=this.middleObjArr[o].offset||this.middleOffset,new cc.Tween(i).delay(t).by(e-.1,{position:n.mul(-1)},cc.easeBackOut()).start(),t+=.1},t.prototype.getMaxMoveDelay=function(){return.1*(Math.max(this.bottomObjArr.length,this.topObjArr.length,this.leftObjArr.length,this.rightObjArr.length,this.middleObjArr.length,1)-1)},t.prototype.getMoveCount=function(){return this.bottomObjArr.length+this.topObjArr.length+this.leftObjArr.length+this.rightObjArr.length+this.middleObjArr.length},r([s],t)}(cc.Component));o.default=l,cc._RF.pop()},{}],IntoHallAnimComp:[function(e,t,o){"use strict";cc._RF.push(t,"414d0NxfJ1D3ZgCfuIMWmQZ","IntoHallAnimComp");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,l=(a.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bottomNodeYArr=[],t.topNodeYArr=[],t.leftNodeXArr=[],t.rightNodeXArr=[],t}return n(t,e),t.prototype.init=function(){if(null!=this.alphaNode&&this.alphaNode.isValid){this.alphaNode.opacity=1,this.bottomNodeArr||(this.bottomNodeArr=[]);for(var e=0;e<this.bottomNodeArr.length;e++){var t=this.bottomNodeArr[e];this.bottomNodeYArr[e]=t.y,t.y-=100}for(this.topNodeArr||(this.topNodeArr=[]),e=0;e<this.topNodeArr.length;e++)t=this.topNodeArr[e],this.topNodeYArr[e]=t.y,t.y+=200;for(this.leftNodeArr||(this.leftNodeArr=[]),e=0;e<this.leftNodeArr.length;e++)t=this.leftNodeArr[e],this.leftNodeXArr[e]=t.x,t.x-=200;for(this.rightNodeArr||(this.rightNodeArr=[]),e=0;e<this.rightNodeArr.length;e++)t=this.rightNodeArr[e],this.rightNodeXArr[e]=t.x,t.x+=400}},t.prototype.startAnimation=function(){this.nodesAnimation(),this.danru()},t.prototype.danru=function(){var e=this;if(this.alphaNode){var t=cc.delayTime(.5),o=cc.fadeIn(.5),i=cc.callFunc(function(){e.callBackFunc&&e.callBackFunc.call(e.callBackTarget)});this.alphaNode.runAction(cc.sequence(t,o,i))}},t.prototype.nodesAnimation=function(e){void 0===e&&(e=.8),e<.2&&(e=.2);for(var t=0,o=0;o<this.bottomNodeArr.length;o++){var i=(r=this.bottomNodeArr[o]).x,n=this.bottomNodeYArr[o];new cc.Tween(r).delay(t).to(e-.2,{position:new cc.Vec2(i,n)},cc.easeBackOut()).start(),t+=.1}for(t=0,o=0;o<this.topNodeArr.length;o++)i=(r=this.topNodeArr[o]).x,n=this.topNodeYArr[o],new cc.Tween(r).delay(t).to(e-.4,{position:new cc.Vec2(i,n)},cc.easeOut(8)).start(),t+=.1;for(t=0,o=0;o<this.leftNodeArr.length;o++){var r=this.leftNodeArr[o];i=this.leftNodeXArr[o],n=r.y,new cc.Tween(r).delay(t).to(e-.5,{position:new cc.Vec2(i,n)},cc.easeBackOut()).start(),t+=.1}for(t=0,o=0;o<this.rightNodeArr.length;o++)r=this.rightNodeArr[o],i=this.rightNodeXArr[o],n=r.y,new cc.Tween(r).delay(t).to(e-.3,{position:new cc.Vec2(i,n)},cc.easeBackOut()).start(),t+=.02},r([s],t)}(cc.Component));o.default=l,cc._RF.pop()},{}],ItemAction:[function(e,t,o){"use strict";cc._RF.push(t,"067f3gSD5lDubyMemfyQYXl","ItemAction");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,l=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.onEnable=function(){if(cc.isValid(this.node)){var e=cc.repeatForever(cc.sequence(cc.scaleTo(.7,1.2,1.2),cc.scaleTo(.7,.9,.9)));this.node.runAction(e)}},t.prototype.onDisable=function(){cc.isValid(this.node)&&this.node.stopAllActions()},r([s],t)}(cc.Component));o.default=l,cc._RF.pop()},{}],JSUtil:[function(e,t,o){"use strict";cc._RF.push(t,"25a38VE2IFF3r6dSsJmp9CK","JSUtil"),Object.defineProperty(o,"__esModule",{value:!0}),o.JSUtil=void 0;var i=function(){function t(){}return t.importCls=function(t){return new Promise(function(o,i){Promise.resolve().then(function(){return e(t)}).then(function(e){e&&e.default?o(e.default):i(e)})})},t.getSuper=function(e){var t=e.prototype,o=t&&Object.getPrototypeOf(t);return o&&o.constructor},t.isChildClassOf=function(e,o){if(e&&o){if("function"!=typeof e)return!1;if("function"!=typeof o)return!1;if(e===o)return!0;for(;;){if(!(e=t.getSuper(e)))return!1;if(e===o)return!0}}return!1},t.prototype.copyObj=function(e){return e?JSON.parse(JSON.stringify(e)):{}},t.prototype.arrayConcat=function(e,t){for(var o=[],i=0,n=e.concat(t);i<n.length;i++){for(var r=n[i],a=!0,s=0,l=o;s<l.length;s++)r==l[s]&&(a=!1);a&&o.push(r)}return o},t}();o.JSUtil=i,cc._RF.pop()},{}],KDF:[function(e,t,o){"use strict";cc._RF.push(t,"95475g8Xy5N5ZZyfhulb0dW","KDF"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],LZString:[function(e,t){"use strict";cc._RF.push(t,"1d7127+nc1B9rUbtjSPn4Su","LZString");var o=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",i={};function n(e,t){if(!i[e]){i[e]={};for(var o=0;o<e.length;o++)i[e][e.charAt(o)]=o}return i[e][t]}var r={compressToBase64:function(e){if(null==e)return"";var o=r._compress(e,6,function(e){return t.charAt(e)});switch(o.length%4){default:case 0:return o;case 1:return o+"===";case 2:return o+"==";case 3:return o+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:r._decompress(e.length,32,function(o){return n(t,e.charAt(o))})},compressToUTF16:function(t){return null==t?"":r._compress(t,15,function(t){return e(t+32)})+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:r._decompress(e.length,16384,function(t){return e.charCodeAt(t)-32})},compressToUint8Array:function(e){for(var t=r.compress(e),o=new Uint8Array(2*t.length),i=0,n=t.length;i<n;i++){var a=t.charCodeAt(i);o[2*i]=a>>>8,o[2*i+1]=a%256}return o},decompressFromUint8Array:function(t){if(null==t)return r.decompress(t);for(var o=new Array(t.length/2),i=0,n=o.length;i<n;i++)o[i]=256*t[2*i]+t[2*i+1];var a=[];return o.forEach(function(t){a.push(e(t))}),r.decompress(a.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":r._compress(e,6,function(e){return o.charAt(e)})},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),r._decompress(e.length,32,function(t){return n(o,e.charAt(t))}))},compress:function(t){return r._compress(t,16,function(t){return e(t)})},_compress:function(e,t,o){if(null==e)return"";var i,n,r,a={},s={},l="",c="",p="",h=2,u=3,d=2,f=[],g=0,m=0;for(r=0;r<e.length;r+=1)if(l=e.charAt(r),Object.prototype.hasOwnProperty.call(a,l)||(a[l]=u++,s[l]=!0),c=p+l,Object.prototype.hasOwnProperty.call(a,c))p=c;else{if(Object.prototype.hasOwnProperty.call(s,p)){if(p.charCodeAt(0)<256){for(i=0;i<d;i++)g<<=1,m==t-1?(m=0,f.push(o(g)),g=0):m++;for(n=p.charCodeAt(0),i=0;i<8;i++)g=g<<1|1&n,m==t-1?(m=0,f.push(o(g)),g=0):m++,n>>=1}else{for(n=1,i=0;i<d;i++)g=g<<1|n,m==t-1?(m=0,f.push(o(g)),g=0):m++,n=0;for(n=p.charCodeAt(0),i=0;i<16;i++)g=g<<1|1&n,m==t-1?(m=0,f.push(o(g)),g=0):m++,n>>=1}0==--h&&(h=Math.pow(2,d),d++),delete s[p]}else for(n=a[p],i=0;i<d;i++)g=g<<1|1&n,m==t-1?(m=0,f.push(o(g)),g=0):m++,n>>=1;0==--h&&(h=Math.pow(2,d),d++),a[c]=u++,p=String(l)}if(""!==p){if(Object.prototype.hasOwnProperty.call(s,p)){if(p.charCodeAt(0)<256){for(i=0;i<d;i++)g<<=1,m==t-1?(m=0,f.push(o(g)),g=0):m++;for(n=p.charCodeAt(0),i=0;i<8;i++)g=g<<1|1&n,m==t-1?(m=0,f.push(o(g)),g=0):m++,n>>=1}else{for(n=1,i=0;i<d;i++)g=g<<1|n,m==t-1?(m=0,f.push(o(g)),g=0):m++,n=0;for(n=p.charCodeAt(0),i=0;i<16;i++)g=g<<1|1&n,m==t-1?(m=0,f.push(o(g)),g=0):m++,n>>=1}0==--h&&(h=Math.pow(2,d),d++),delete s[p]}else for(n=a[p],i=0;i<d;i++)g=g<<1|1&n,m==t-1?(m=0,f.push(o(g)),g=0):m++,n>>=1;0==--h&&(h=Math.pow(2,d),d++)}for(n=2,i=0;i<d;i++)g=g<<1|1&n,m==t-1?(m=0,f.push(o(g)),g=0):m++,n>>=1;for(;;){if(g<<=1,m==t-1){f.push(o(g));break}m++}return f.join("")},decompress:function(e){return null==e?"":""==e?null:r._decompress(e.length,32768,function(t){return e.charCodeAt(t)})},_decompress:function(t,o,i){var n,r,a,s,l,c,p,h=[],u=4,d=4,f=3,g="",m=[],y={val:i(0),position:o,index:1};for(n=0;n<3;n+=1)h[n]=n;for(a=0,l=Math.pow(2,2),c=1;c!=l;)s=y.val&y.position,y.position>>=1,0==y.position&&(y.position=o,y.val=i(y.index++)),a|=(s>0?1:0)*c,c<<=1;switch(a){case 0:for(a=0,l=Math.pow(2,8),c=1;c!=l;)s=y.val&y.position,y.position>>=1,0==y.position&&(y.position=o,y.val=i(y.index++)),a|=(s>0?1:0)*c,c<<=1;p=e(a);break;case 1:for(a=0,l=Math.pow(2,16),c=1;c!=l;)s=y.val&y.position,y.position>>=1,0==y.position&&(y.position=o,y.val=i(y.index++)),a|=(s>0?1:0)*c,c<<=1;p=e(a);break;case 2:return""}for(h[3]=p,r=p,m.push(p);;){if(y.index>t)return"";for(a=0,l=Math.pow(2,f),c=1;c!=l;)s=y.val&y.position,y.position>>=1,0==y.position&&(y.position=o,y.val=i(y.index++)),a|=(s>0?1:0)*c,c<<=1;switch(p=a){case 0:for(a=0,l=Math.pow(2,8),c=1;c!=l;)s=y.val&y.position,y.position>>=1,0==y.position&&(y.position=o,y.val=i(y.index++)),a|=(s>0?1:0)*c,c<<=1;h[d++]=e(a),p=d-1,u--;break;case 1:for(a=0,l=Math.pow(2,16),c=1;c!=l;)s=y.val&y.position,y.position>>=1,0==y.position&&(y.position=o,y.val=i(y.index++)),a|=(s>0?1:0)*c,c<<=1;h[d++]=e(a),p=d-1,u--;break;case 2:return m.join("")}if(0==u&&(u=Math.pow(2,f),f++),h[p])g=h[p];else{if(p!==d)return null;g=r+r.charAt(0)}m.push(g),h[d++]=r+g.charAt(0),r=g,0==--u&&(u=Math.pow(2,f),f++)}}};return r}();"function"==typeof define&&define.amd?define(function(){return o}):void 0!==t&&null!=t?t.exports=o:"undefined"!=typeof angular&&null!=angular&&angular.module("LZString",[]).factory("LZString",function(){return o}),cc._RF.pop()},{}],Language:[function(e,t,o){"use strict";cc._RF.push(t,"a3efeC4Q2VN86d7HaX8MzeO","Language"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function e(){this.languageMap={}}return e.prototype.registLanguage=function(e){var t=this;""!=e&&Global.ResourceManager.loadRes(e,function(o,i){if(null==o){if(null!=i&&null!=i.json)for(var n in i.json){if(null!=t.languageMap[n])return void Logger.error("\u91cd\u590d\u6ce8\u518c\u8bed\u8a00\u5305",n,t.languageMap[n]);t.languageMap[n]=i.json[n].content}}else Logger.error("\u52a0\u8f7d\u8bed\u8a00\u5305\u5931\u8d25",e)},cc.JsonAsset)},e.prototype.getWord=function(e){var t=this.languageMap[e];return null==t?(Logger.error("\u627e\u4e0d\u5230\u8bed\u8a00\u5305",e),""):t},e.prototype.getWordEx=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];var i=this.getWord(e),n=[i];if(t)for(var r=0;r<t.length;r++)n.push(t[r]);return cc.js.formatStr.apply(n)},e}();o.default=i,cc._RF.pop()},{}],Latin1:[function(e,t,o){"use strict";cc._RF.push(t,"f0385q3TeRCoofF/yaApeLO","Latin1"),Object.defineProperty(o,"__esModule",{value:!0}),o.Latin1=void 0;var i=e("../lib/WordArray"),n=function(){function e(){}return e.stringify=function(e){for(var t=[],o=0;o<e.sigBytes;o++){var i=e.words[o>>>2]>>>24-o%4*8&255;t.push(String.fromCharCode(i))}return t.join("")},e.parse=function(e){for(var t=e.length,o=[],n=0;n<t;n++)o[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new i.WordArray(o,t)},e}();o.Latin1=n,cc._RF.pop()},{"../lib/WordArray":"WordArray"}],LegendSkinModuleCfg:[function(e,t,o){"use strict";cc._RF.push(t,"e64e5VpXqxHL6bWyL4WXB5H","LegendSkinModuleCfg");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cfg=["LoginModule","HallModule","PersonalInfoModule","PlayerInfoModule","BankModule","ActivityCenterModule","BackUpGameModule","BindingGiftModule","CashBackModule","GameLobbyShellModule","CommisionModule","CommonModule","FeedbackModule","MsgModule","RankModule","RechargeGiftModule","RechargeModule","ServicerModule","ShareModule","SpreadModule","VipQuickPayChatModule"],t}return n(t,e),t}(e("./ModuleCfgBase").default);o.default=r,cc._RF.pop()},{"./ModuleCfgBase":"ModuleCfgBase"}],ListItem:[function(e,t,o){"use strict";cc._RF.push(t,"6366aNtL5VC2ITIWeED0u9k","ListItem");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a,s=cc._decorator,l=s.ccclass,c=s.property,p=s.disallowMultiple,h=s.menu,u=s.executionOrder;(function(e){e[e.NONE=0]="NONE",e[e.TOGGLE=1]="TOGGLE",e[e.SWITCH=2]="SWITCH"})(a||(a={}));var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.icon=null,t.title=null,t.selectedMode=a.NONE,t.selectedFlag=null,t.selectedSpriteFrame=null,t._unselectedSpriteFrame=null,t.adaptiveSize=!1,t._selected=!1,t._eventReg=!1,t}return n(t,e),Object.defineProperty(t.prototype,"selected",{get:function(){return this._selected},set:function(e){if(this._selected=e,this.selectedFlag)switch(this.selectedMode){case a.TOGGLE:this.selectedFlag.active=e;break;case a.SWITCH:var t=this.selectedFlag.getComponent(cc.Sprite);t&&(t.spriteFrame=e?this.selectedSpriteFrame:this._unselectedSpriteFrame)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"btnCom",{get:function(){return this._btnCom||(this._btnCom=this.node.getComponent(cc.Button)),this._btnCom},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){if(this.selectedMode==a.SWITCH){var e=this.selectedFlag.getComponent(cc.Sprite);this._unselectedSpriteFrame=e.spriteFrame}},t.prototype.onDestroy=function(){this.node.off(cc.Node.EventType.SIZE_CHANGED,this._onSizeChange,this)},t.prototype._registerEvent=function(){this._eventReg||(this.btnCom&&this.list.selectedMode>0&&this.btnCom.clickEvents.unshift(this.createEvt(this,"onClickThis")),this.adaptiveSize&&this.node.on(cc.Node.EventType.SIZE_CHANGED,this._onSizeChange,this),this._eventReg=!0)},t.prototype._onSizeChange=function(){this.list._onItemAdaptive(this.node)},t.prototype.createEvt=function(e,t,o){if(void 0===o&&(o=null),e.isValid){e.comName=e.comName||e.name.match(/\<(.*?)\>/g).pop().replace(/\<|>/g,"");var i=new cc.Component.EventHandler;return i.target=o||e.node,i.component=e.comName,i.handler=t,i}},t.prototype.showAni=function(e,t,o){var i,n=this;switch(e){case 0:i=[cc.scaleTo(.2,.7),cc.moveBy(.3,0,2*this.node.height)];break;case 1:i=[cc.scaleTo(.2,.7),cc.moveBy(.3,2*this.node.width,0)];break;case 2:i=[cc.scaleTo(.2,.7),cc.moveBy(.3,0,-2*this.node.height)];break;case 3:i=[cc.scaleTo(.2,.7),cc.moveBy(.3,-2*this.node.width,0)];break;default:i=[cc.scaleTo(.3,.1)]}(t||o)&&i.push(cc.callFunc(function(){if(o){n.list._delSingleItem(n.node);for(var e=n.list.displayData.length-1;e>=0;e--)if(n.list.displayData[e].id==n.listId){n.list.displayData.splice(e,1);break}}t()})),this.node.runAction(cc.sequence(i))},t.prototype.onClickThis=function(){this.list.selectedId=this.listId},r([c({type:cc.Sprite,tooltip:!1})],t.prototype,"icon",void 0),r([c({type:cc.Node,tooltip:!1})],t.prototype,"title",void 0),r([c({type:cc.Enum(a),tooltip:!1})],t.prototype,"selectedMode",void 0),r([c({type:cc.Node,tooltip:!1,visible:function(){return this.selectedMode>a.NONE}})],t.prototype,"selectedFlag",void 0),r([c({type:cc.SpriteFrame,tooltip:!1,visible:function(){return this.selectedMode==a.SWITCH}})],t.prototype,"selectedSpriteFrame",void 0),r([c({tooltip:!1})],t.prototype,"adaptiveSize",void 0),r([l,p(),h("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/List Item"),u(-5001)],t)}(cc.Component);o.default=d,cc._RF.pop()},{}],List:[function(e,t,o){"use strict";cc._RF.push(t,"9f765MRLpRF1LPK6Jhd+rM4","List");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a,s,l,c=cc._decorator,p=c.ccclass,h=c.property,u=c.disallowMultiple,d=c.menu,f=c.executionOrder,g=c.requireComponent,m=e("./ListItem");(function(e){e[e.NODE=1]="NODE",e[e.PREFAB=2]="PREFAB"})(a||(a={})),function(e){e[e.NORMAL=1]="NORMAL",e[e.ADHERING=2]="ADHERING",e[e.PAGE=3]="PAGE"}(s||(s={})),function(e){e[e.NONE=0]="NONE",e[e.SINGLE=1]="SINGLE",e[e.MULT=2]="MULT"}(l||(l={}));var y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.templateType=a.NODE,t.tmpNode=null,t.tmpPrefab=null,t._slideMode=s.NORMAL,t.pageDistance=.3,t.pageChangeEvent=new cc.Component.EventHandler,t._virtual=!0,t.cyclic=!1,t.lackCenter=!1,t.lackSlide=!1,t._updateRate=0,t.frameByFrameRenderNum=0,t.renderEvent=new cc.Component.EventHandler,t.selectedMode=l.NONE,t.repeatEventSingle=!1,t.selectedEvent=null,t._selectedId=-1,t._forceUpdate=!1,t._updateDone=!0,t._numItems=0,t._inited=!1,t._needUpdateWidget=!1,t._aniDelRuning=!1,t._doneAfterUpdate=!1,t.adhering=!1,t._adheringBarrier=!1,t.curPageNum=0,t}return n(t,e),Object.defineProperty(t.prototype,"slideMode",{get:function(){return this._slideMode},set:function(e){this._slideMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"virtual",{get:function(){return this._virtual},set:function(e){null!=e&&(this._virtual=e),0!=this._numItems&&this._onScrolling()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateRate",{get:function(){return this._updateRate},set:function(e){e>=0&&e<=6&&(this._updateRate=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectedId",{get:function(){return this._selectedId},set:function(e){var t,o=this;switch(o.selectedMode){case l.SINGLE:if(!o.repeatEventSingle&&e==o._selectedId)return;t=o.getItemByListId(e);var i=void 0;if(o._selectedId>=0?o._lastSelectedId=o._selectedId:o._lastSelectedId=null,o._selectedId=e,t&&((i=t.getComponent(m.default)).selected=!0),o._lastSelectedId>=0&&o._lastSelectedId!=o._selectedId){var n=o.getItemByListId(o._lastSelectedId);n&&(n.getComponent(m.default).selected=!1)}o.selectedEvent&&cc.Component.EventHandler.emitEvents([o.selectedEvent],t,e%this._actualNumItems,null==o._lastSelectedId?null:o._lastSelectedId%this._actualNumItems);break;case l.MULT:if(!(t=o.getItemByListId(e)))return;i=t.getComponent(m.default),o._selectedId>=0&&(o._lastSelectedId=o._selectedId),o._selectedId=e;var r=!i.selected;i.selected=r;var a=o.multSelected.indexOf(e);r&&a<0?o.multSelected.push(e):!r&&a>=0&&o.multSelected.splice(a,1),o.selectedEvent&&cc.Component.EventHandler.emitEvents([o.selectedEvent],t,e%this._actualNumItems,null==o._lastSelectedId?null:o._lastSelectedId%this._actualNumItems,r)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numItems",{get:function(){return this._actualNumItems},set:function(e){var t=this;if(t.checkInited(!1))if(null==e||e<0)cc.error("numItems set the wrong::",e);else if(t._actualNumItems=t._numItems=e,t._forceUpdate=!0,t._virtual)t._resizeContent(),t.cyclic&&(t._numItems=t._cyclicNum*t._numItems),t._onScrolling(),t.frameByFrameRenderNum||t.slideMode!=s.PAGE||(t.curPageNum=t.nearestListId);else{var o=t.content.getComponent(cc.Layout);if(o&&(o.enabled=!0),t._delRedundantItem(),t.firstListId=0,t.frameByFrameRenderNum>0){for(var i=t.frameByFrameRenderNum>t._numItems?t._numItems:t.frameByFrameRenderNum,n=0;n<i;n++)t._createOrUpdateItem2(n);t.frameByFrameRenderNum<t._numItems&&(t._updateCounter=t.frameByFrameRenderNum,t._updateDone=!1)}else{for(n=0;n<e;n++)t._createOrUpdateItem2(n);t.displayItemNum=e}}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scrollView",{get:function(){return this._scrollView},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){this._init()},t.prototype.onDestroy=function(){var e=this;for(e._itemTmp&&e._itemTmp.isValid&&e._itemTmp.destroy(),e.tmpNode&&e.tmpNode.isValid&&e.tmpNode.destroy();e._pool.size();)e._pool.get().destroy()},t.prototype.onEnable=function(){this._registerEvent(),this._init()},t.prototype.onDisable=function(){this._unregisterEvent()},t.prototype._registerEvent=function(){var e=this;e.node.on(cc.Node.EventType.TOUCH_START,e._onTouchStart,e,!0),e.node.on("touch-up",e._onTouchUp,e),e.node.on(cc.Node.EventType.TOUCH_CANCEL,e._onTouchCancelled,e,!0),e.node.on("scroll-began",e._onScrollBegan,e,!0),e.node.on("scroll-ended",e._onScrollEnded,e,!0),e.node.on("scrolling",e._onScrolling,e,!0),e.node.on(cc.Node.EventType.SIZE_CHANGED,e._onSizeChanged,e)},t.prototype._unregisterEvent=function(){var e=this;e.node.off(cc.Node.EventType.TOUCH_START,e._onTouchStart,e,!0),e.node.off("touch-up",e._onTouchUp,e),e.node.off(cc.Node.EventType.TOUCH_CANCEL,e._onTouchCancelled,e,!0),e.node.off("scroll-began",e._onScrollBegan,e,!0),e.node.off("scroll-ended",e._onScrollEnded,e,!0),e.node.off("scrolling",e._onScrolling,e,!0),e.node.off(cc.Node.EventType.SIZE_CHANGED,e._onSizeChanged,e)},t.prototype._init=function(){var e=this;if(!e._inited)if(e._scrollView=e.node.getComponent(cc.ScrollView),e.content=e._scrollView.content,e.content){switch(e._layout=e.content.getComponent(cc.Layout),e._align=e._layout.type,e._resizeMode=e._layout.resizeMode,e._startAxis=e._layout.startAxis,e._topGap=e._layout.paddingTop,e._rightGap=e._layout.paddingRight,e._bottomGap=e._layout.paddingBottom,e._leftGap=e._layout.paddingLeft,e._columnGap=e._layout.spacingX,e._lineGap=e._layout.spacingY,e._colLineNum,e._verticalDir=e._layout.verticalDirection,e._horizontalDir=e._layout.horizontalDirection,e.setTemplateItem(cc.instantiate(e.templateType==a.PREFAB?e.tmpPrefab:e.tmpNode)),e._slideMode!=s.ADHERING&&e._slideMode!=s.PAGE||(e._scrollView.inertia=!1,e._scrollView._onMouseWheel=function(){}),e.virtual||(e.lackCenter=!1),e._lastDisplayData=[],e.displayData=[],e._pool=new cc.NodePool,e._forceUpdate=!1,e._updateCounter=0,e._updateDone=!0,e.curPageNum=0,e.cyclic&&(e._scrollView._processAutoScrolling=this._processAutoScrolling.bind(e),e._scrollView._startBounceBackIfNeeded=function(){return!1}),e._align){case cc.Layout.Type.HORIZONTAL:switch(e._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:e._alignCalcType=1;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:e._alignCalcType=2}break;case cc.Layout.Type.VERTICAL:switch(e._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:e._alignCalcType=3;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:e._alignCalcType=4}break;case cc.Layout.Type.GRID:switch(e._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:switch(e._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:e._alignCalcType=3;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:e._alignCalcType=4}break;case cc.Layout.AxisDirection.VERTICAL:switch(e._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:e._alignCalcType=1;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:e._alignCalcType=2}}}e.content.removeAllChildren(),e._inited=!0}else cc.error(e.node.name+"'s cc.ScrollView unset content!")},t.prototype._processAutoScrolling=function(e){this._scrollView._autoScrollAccumulatedTime+=1*e;var t=Math.min(1,this._scrollView._autoScrollAccumulatedTime/this._scrollView._autoScrollTotalTime);if(this._scrollView._autoScrollAttenuate){var o=t-1;t=o*o*o*o*o+1}var i=this._scrollView._autoScrollStartPosition.add(this._scrollView._autoScrollTargetDelta.mul(t)),n=this._scrollView.getScrollEndedEventTiming(),r=Math.abs(t-1)<=n;Math.abs(t-1)<=this._scrollView.getScrollEndedEventTiming()&&!this._scrollView._isScrollEndedWithThresholdEventFired&&(this._scrollView._dispatchEvent("scroll-ended-with-threshold"),this._scrollView._isScrollEndedWithThresholdEventFired=!0),r&&(this._scrollView._autoScrolling=!1);var a=i.sub(this._scrollView.getContentPosition());this._scrollView._moveContent(this._scrollView._clampDelta(a),r),this._scrollView._dispatchEvent("scrolling"),this._scrollView._autoScrolling||(this._scrollView._isBouncing=!1,this._scrollView._scrolling=!1,this._scrollView._dispatchEvent("scroll-ended"))},t.prototype.setTemplateItem=function(e){if(e){var t=this;t._itemTmp=e,t._resizeMode==cc.Layout.ResizeMode.CHILDREN?t._itemSize=t._layout.cellSize:t._itemSize=cc.size(e.width,e.height);var o=e.getComponent(m.default),i=!1;switch(o||(i=!0),i&&(t.selectedMode=l.NONE),(o=e.getComponent(cc.Widget))&&o.enabled&&(t._needUpdateWidget=!0),t.selectedMode==l.MULT&&(t.multSelected=[]),t._align){case cc.Layout.Type.HORIZONTAL:t._colLineNum=1,t._sizeType=!1;break;case cc.Layout.Type.VERTICAL:t._colLineNum=1,t._sizeType=!0;break;case cc.Layout.Type.GRID:switch(t._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:var n=t.content.width-t._leftGap-t._rightGap;t._colLineNum=Math.floor((n+t._columnGap)/(t._itemSize.width+t._columnGap)),t._sizeType=!0;break;case cc.Layout.AxisDirection.VERTICAL:var r=t.content.height-t._topGap-t._bottomGap;t._colLineNum=Math.floor((r+t._lineGap)/(t._itemSize.height+t._lineGap)),t._sizeType=!1}}}},t.prototype.checkInited=function(e){return void 0===e&&(e=!0),!!this._inited||(e&&cc.error("List initialization not completed!"),!1)},t.prototype._resizeContent=function(){var e,t=this;switch(t._align){case cc.Layout.Type.HORIZONTAL:if(t._customSize){var o=t._getFixedSize(null);e=t._leftGap+o.val+t._itemSize.width*(t._numItems-o.count)+t._columnGap*(t._numItems-1)+t._rightGap}else e=t._leftGap+t._itemSize.width*t._numItems+t._columnGap*(t._numItems-1)+t._rightGap;break;case cc.Layout.Type.VERTICAL:t._customSize?(o=t._getFixedSize(null),e=t._topGap+o.val+t._itemSize.height*(t._numItems-o.count)+t._lineGap*(t._numItems-1)+t._bottomGap):e=t._topGap+t._itemSize.height*t._numItems+t._lineGap*(t._numItems-1)+t._bottomGap;break;case cc.Layout.Type.GRID:switch(t.lackCenter&&(t.lackCenter=!1),t._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:var i=Math.ceil(t._numItems/t._colLineNum);e=t._topGap+t._itemSize.height*i+t._lineGap*(i-1)+t._bottomGap;break;case cc.Layout.AxisDirection.VERTICAL:var n=Math.ceil(t._numItems/t._colLineNum);e=t._leftGap+t._itemSize.width*n+t._columnGap*(n-1)+t._rightGap}}var r=t.content.getComponent(cc.Layout);if(r&&(r.enabled=!1),t._allItemSize=e,t._allItemSizeNoEdge=t._allItemSize-(t._sizeType?t._topGap+t._bottomGap:t._leftGap+t._rightGap),t.cyclic){var a=t._sizeType?t.node.height:t.node.width;t._cyclicPos1=0,a-=t._cyclicPos1,t._cyclicNum=Math.ceil(a/t._allItemSizeNoEdge)+1;var s=t._sizeType?t._lineGap:t._columnGap;t._cyclicPos2=t._cyclicPos1+t._allItemSizeNoEdge+s,t._cyclicAllItemSize=t._allItemSize+t._allItemSizeNoEdge*(t._cyclicNum-1)+s*(t._cyclicNum-1),t._cycilcAllItemSizeNoEdge=t._allItemSizeNoEdge*t._cyclicNum,t._cycilcAllItemSizeNoEdge+=s*(t._cyclicNum-1)}t._lack=!t.cyclic&&t._allItemSize<(t._sizeType?t.node.height:t.node.width);var l=t._lack&&t.lackCenter||!t.lackSlide?.1:0,c=t._lack?(t._sizeType?t.node.height:t.node.width)-l:t.cyclic?t._cyclicAllItemSize:t._allItemSize;c<0&&(c=0),t._sizeType?t.content.height=c:t.content.width=c},t.prototype._onScrolling=function(e){if(void 0===e&&(e=null),null==this.frameCount&&(this.frameCount=this._updateRate),!this._forceUpdate&&e&&"scroll-ended"!=e.type&&this.frameCount>0)this.frameCount--;else if(this.frameCount=this._updateRate,!this._aniDelRuning){if(this.cyclic){var t=this.content.getPosition();t=this._sizeType?t.y:t.x;var o=this._allItemSizeNoEdge+(this._sizeType?this._lineGap:this._columnGap),i=this._sizeType?cc.v2(0,o):cc.v2(o,0);switch(this._alignCalcType){case 1:t>-this._cyclicPos1?(this.content.x=-this._cyclicPos2,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.sub(i))):t<-this._cyclicPos2&&(this.content.x=-this._cyclicPos1,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(i)));break;case 2:t<this._cyclicPos1?(this.content.x=this._cyclicPos2,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(i))):t>this._cyclicPos2&&(this.content.x=this._cyclicPos1,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.sub(i)));break;case 3:t<this._cyclicPos1?(this.content.y=this._cyclicPos2,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(i))):t>this._cyclicPos2&&(this.content.y=this._cyclicPos1,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.sub(i)));break;case 4:t>-this._cyclicPos1?(this.content.y=-this._cyclicPos2,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.sub(i))):t<-this._cyclicPos2&&(this.content.y=-this._cyclicPos1,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(i)))}}var n,r,a,s;if(this._calcViewPos(),this._sizeType?(n=this.viewTop,a=this.viewBottom):(r=this.viewRight,s=this.viewLeft),this._virtual){this.displayData=[];var l=void 0,c=0,p=this._numItems-1;if(this._customSize)for(var h=!1;c<=p&&!h;c++)switch(l=this._calcItemPos(c),this._align){case cc.Layout.Type.HORIZONTAL:l.right>=s&&l.left<=r?this.displayData.push(l):0!=c&&this.displayData.length>0&&(h=!0);break;case cc.Layout.Type.VERTICAL:l.bottom<=n&&l.top>=a?this.displayData.push(l):0!=c&&this.displayData.length>0&&(h=!0);break;case cc.Layout.Type.GRID:switch(this._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:l.bottom<=n&&l.top>=a?this.displayData.push(l):0!=c&&this.displayData.length>0&&(h=!0);break;case cc.Layout.AxisDirection.VERTICAL:l.right>=s&&l.left<=r?this.displayData.push(l):0!=c&&this.displayData.length>0&&(h=!0)}}else{var u=this._itemSize.width+this._columnGap,d=this._itemSize.height+this._lineGap;switch(this._alignCalcType){case 1:c=(s+this._leftGap)/u,p=(r+this._rightGap)/u;break;case 2:c=(-r-this._rightGap)/u,p=(-s-this._leftGap)/u;break;case 3:c=(-n-this._topGap)/d,p=(-a-this._bottomGap)/d;break;case 4:c=(a+this._bottomGap)/d,p=(n+this._topGap)/d}for(c=Math.floor(c)*this._colLineNum,p=Math.ceil(p)*this._colLineNum,c<0&&(c=0),--p>=this._numItems&&(p=this._numItems-1);c<=p;c++)this.displayData.push(this._calcItemPos(c))}if(this._delRedundantItem(),this.displayData.length<=0||!this._numItems)return void(this._lastDisplayData=[]);this.firstListId=this.displayData[0].id,this.displayItemNum=this.displayData.length;var f=this._lastDisplayData.length,g=this.displayItemNum!=f;if(g&&(this.frameByFrameRenderNum>0&&this._lastDisplayData.sort(function(e,t){return e-t}),g=this.firstListId!=this._lastDisplayData[0]||this.displayData[this.displayItemNum-1].id!=this._lastDisplayData[f-1]),this._forceUpdate||g)if(this.frameByFrameRenderNum>0)this._numItems>0?(this._updateDone?this._updateCounter=0:this._doneAfterUpdate=!0,this._updateDone=!1):(this._updateCounter=0,this._updateDone=!0);else{this._lastDisplayData=[];for(var m=0;m<this.displayItemNum;m++)this._createOrUpdateItem(this.displayData[m]);this._forceUpdate=!1}this._calcNearestItem()}}},t.prototype._calcViewPos=function(){var e=this.content.getPosition();switch(this._alignCalcType){case 1:this.elasticLeft=e.x>0?e.x:0,this.viewLeft=(e.x<0?-e.x:0)-this.elasticLeft,this.viewRight=this.viewLeft+this.node.width,this.elasticRight=this.viewRight>this.content.width?Math.abs(this.viewRight-this.content.width):0,this.viewRight+=this.elasticRight;break;case 2:this.elasticRight=e.x<0?-e.x:0,this.viewRight=(e.x>0?-e.x:0)+this.elasticRight,this.viewLeft=this.viewRight-this.node.width,this.elasticLeft=this.viewLeft<-this.content.width?Math.abs(this.viewLeft+this.content.width):0,this.viewLeft-=this.elasticLeft;break;case 3:this.elasticTop=e.y<0?Math.abs(e.y):0,this.viewTop=(e.y>0?-e.y:0)+this.elasticTop,this.viewBottom=this.viewTop-this.node.height,this.elasticBottom=this.viewBottom<-this.content.height?Math.abs(this.viewBottom+this.content.height):0,this.viewBottom+=this.elasticBottom;break;case 4:this.elasticBottom=e.y>0?Math.abs(e.y):0,this.viewBottom=(e.y<0?-e.y:0)-this.elasticBottom,this.viewTop=this.viewBottom+this.node.height,this.elasticTop=this.viewTop>this.content.height?Math.abs(this.viewTop-this.content.height):0,this.viewTop-=this.elasticTop}},t.prototype._calcItemPos=function(e){var t,o,i,n,r,a,s,l;switch(this._align){case cc.Layout.Type.HORIZONTAL:switch(this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:if(this._customSize){var c=this._getFixedSize(e);r=this._leftGap+(this._itemSize.width+this._columnGap)*(e-c.count)+(c.val+this._columnGap*c.count),t=(p=this._customSize[e])>0?p:this._itemSize.width}else r=this._leftGap+(this._itemSize.width+this._columnGap)*e,t=this._itemSize.width;return a=r+t,this.lackCenter&&(r+=h=this.content.width/2-this._allItemSizeNoEdge/2,a+=h),{id:e,left:r,right:a,x:r+this._itemTmp.anchorX*t,y:this._itemTmp.y};case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:return this._customSize?(c=this._getFixedSize(e),a=-this._rightGap-(this._itemSize.width+this._columnGap)*(e-c.count)-(c.val+this._columnGap*c.count),t=(p=this._customSize[e])>0?p:this._itemSize.width):(a=-this._rightGap-(this._itemSize.width+this._columnGap)*e,t=this._itemSize.width),r=a-t,this.lackCenter&&(r-=h=this.content.width/2-this._allItemSizeNoEdge/2,a-=h),{id:e,right:a,left:r,x:r+this._itemTmp.anchorX*t,y:this._itemTmp.y}}break;case cc.Layout.Type.VERTICAL:switch(this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:return this._customSize?(c=this._getFixedSize(e),i=-this._topGap-(this._itemSize.height+this._lineGap)*(e-c.count)-(c.val+this._lineGap*c.count),o=(p=this._customSize[e])>0?p:this._itemSize.height):(i=-this._topGap-(this._itemSize.height+this._lineGap)*e,o=this._itemSize.height),n=i-o,this.lackCenter&&(i-=h=this.content.height/2-this._allItemSizeNoEdge/2,n-=h),{id:e,top:i,bottom:n,x:this._itemTmp.x,y:n+this._itemTmp.anchorY*o};case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:var p,h;if(this._customSize)c=this._getFixedSize(e),n=this._bottomGap+(this._itemSize.height+this._lineGap)*(e-c.count)+(c.val+this._lineGap*c.count),o=(p=this._customSize[e])>0?p:this._itemSize.height;else n=this._bottomGap+(this._itemSize.height+this._lineGap)*e,o=this._itemSize.height;return i=n+o,this.lackCenter&&(i+=h=this.content.height/2-this._allItemSizeNoEdge/2,n+=h),{id:e,top:i,bottom:n,x:this._itemTmp.x,y:n+this._itemTmp.anchorY*o}}case cc.Layout.Type.GRID:var u=Math.floor(e/this._colLineNum);switch(this._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:switch(this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:l=(n=(i=-this._topGap-(this._itemSize.height+this._lineGap)*u)-this._itemSize.height)+this._itemTmp.anchorY*this._itemSize.height;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:i=(n=this._bottomGap+(this._itemSize.height+this._lineGap)*u)+this._itemSize.height,l=n+this._itemTmp.anchorY*this._itemSize.height}switch(s=this._leftGap+e%this._colLineNum*(this._itemSize.width+this._columnGap),this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:s+=this._itemTmp.anchorX*this._itemSize.width,s-=this.content.anchorX*this.content.width;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:s+=(1-this._itemTmp.anchorX)*this._itemSize.width,s-=(1-this.content.anchorX)*this.content.width,s*=-1}return{id:e,top:i,bottom:n,x:s,y:l};case cc.Layout.AxisDirection.VERTICAL:switch(this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:a=(r=this._leftGap+(this._itemSize.width+this._columnGap)*u)+this._itemSize.width,s=r+this._itemTmp.anchorX*this._itemSize.width,s-=this.content.anchorX*this.content.width;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:s=(r=(a=-this._rightGap-(this._itemSize.width+this._columnGap)*u)-this._itemSize.width)+this._itemTmp.anchorX*this._itemSize.width,s+=(1-this.content.anchorX)*this.content.width}switch(l=-this._topGap-e%this._colLineNum*(this._itemSize.height+this._lineGap),this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:l-=(1-this._itemTmp.anchorY)*this._itemSize.height,l+=(1-this.content.anchorY)*this.content.height;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:l-=this._itemTmp.anchorY*this._itemSize.height,l+=this.content.anchorY*this.content.height,l*=-1}return{id:e,left:r,right:a,x:s,y:l}}}},t.prototype._calcExistItemPos=function(e){var t=this.getItemByListId(e);if(!t)return null;var o={id:e,x:t.x,y:t.y};return this._sizeType?(o.top=t.y+t.height*(1-t.anchorY),o.bottom=t.y-t.height*t.anchorY):(o.left=t.x-t.width*t.anchorX,o.right=t.x+t.width*(1-t.anchorX)),o},t.prototype.getItemPos=function(e){return this._virtual?this._calcItemPos(e):this.frameByFrameRenderNum?this._calcItemPos(e):this._calcExistItemPos(e)},t.prototype._getFixedSize=function(e){if(!this._customSize)return null;null==e&&(e=this._numItems);var t=0,o=0;for(var i in this._customSize)parseInt(i)<e&&(t+=this._customSize[i],o++);return{val:t,count:o}},t.prototype._onScrollBegan=function(){this._beganPos=this._sizeType?this.viewTop:this.viewLeft},t.prototype._onScrollEnded=function(){var e=this;if(null!=e.scrollToListId){var t=e.getItemByListId(e.scrollToListId);e.scrollToListId=null,t&&t.runAction(cc.sequence(cc.scaleTo(.1,1.06),cc.scaleTo(.1,1)))}e._onScrolling(),e._slideMode!=s.ADHERING||e.adhering?e._slideMode==s.PAGE&&(null!=e._beganPos?this._pageAdhere():e.adhere()):e.adhere()},t.prototype._onTouchStart=function(e,t){if(!this._scrollView._hasNestedViewGroup(e,t)&&(e.eventPhase!==cc.Event.AT_TARGET||e.target!==this.node)){for(var o=e.target;null==o._listId&&o.parent;)o=o.parent;this._scrollItem=null!=o._listId?o:e.target}},t.prototype._onTouchUp=function(){var e=this;e._scrollPos=null,e._slideMode==s.ADHERING?(this.adhering&&(this._adheringBarrier=!0),e.adhere()):e._slideMode==s.PAGE&&(null!=e._beganPos?this._pageAdhere():e.adhere()),this._scrollItem=null},t.prototype._onTouchCancelled=function(e,t){var o=this;o._scrollView._hasNestedViewGroup(e,t)||e.simulate||(o._scrollPos=null,o._slideMode==s.ADHERING?(o.adhering&&(o._adheringBarrier=!0),o.adhere()):o._slideMode==s.PAGE&&(null!=o._beganPos?o._pageAdhere():o.adhere()),this._scrollItem=null)},t.prototype._onSizeChanged=function(){this.checkInited(!1)&&this._onScrolling()},t.prototype._onItemAdaptive=function(e){if(!this._sizeType&&e.width!=this._itemSize.width||this._sizeType&&e.height!=this._itemSize.height){this._customSize||(this._customSize={});var t=this._sizeType?e.height:e.width;this._customSize[e._listId]!=t&&(this._customSize[e._listId]=t,this._resizeContent(),this.updateAll(),null!=this._scrollToListId&&(this._scrollPos=null,this.unschedule(this._scrollToSo),this.scrollTo(this._scrollToListId,Math.max(0,this._scrollToEndTime-(new Date).getTime()/1e3))))}},t.prototype._pageAdhere=function(){var e=this;if(e.cyclic||!(e.elasticTop>0||e.elasticRight>0||e.elasticBottom>0||e.elasticLeft>0)){var t=e._sizeType?e.viewTop:e.viewLeft,o=(e._sizeType?e.node.height:e.node.width)*e.pageDistance;if(Math.abs(e._beganPos-t)>o)switch(e._alignCalcType){case 1:case 4:e._beganPos>t?e.prePage(.5):e.nextPage(.5);break;case 2:case 3:e._beganPos<t?e.prePage(.5):e.nextPage(.5)}else e.elasticTop<=0&&e.elasticRight<=0&&e.elasticBottom<=0&&e.elasticLeft<=0&&e.adhere();e._beganPos=null}},t.prototype.adhere=function(){var e=this;if(e.checkInited()&&!(e.elasticTop>0||e.elasticRight>0||e.elasticBottom>0||e.elasticLeft>0)){e.adhering=!0,e._calcNearestItem();var t=(e._sizeType?e._topGap:e._leftGap)/(e._sizeType?e.node.height:e.node.width);e.scrollTo(e.nearestListId,.7,t)}},t.prototype.update=function(){if(!(this.frameByFrameRenderNum<=0||this._updateDone))if(this._virtual){for(var e=this._updateCounter+this.frameByFrameRenderNum>this.displayItemNum?this.displayItemNum:this._updateCounter+this.frameByFrameRenderNum,t=this._updateCounter;t<e;t++){var o=this.displayData[t];o&&this._createOrUpdateItem(o)}this._updateCounter>=this.displayItemNum-1?this._doneAfterUpdate?(this._updateCounter=0,this._updateDone=!1,this._doneAfterUpdate=!1):(this._updateDone=!0,this._delRedundantItem(),this._forceUpdate=!1,this._calcNearestItem(),this.slideMode==s.PAGE&&(this.curPageNum=this.nearestListId)):this._updateCounter+=this.frameByFrameRenderNum}else if(this._updateCounter<this._numItems){for(e=this._updateCounter+this.frameByFrameRenderNum>this._numItems?this._numItems:this._updateCounter+this.frameByFrameRenderNum,t=this._updateCounter;t<e;t++)this._createOrUpdateItem2(t);this._updateCounter+=this.frameByFrameRenderNum}else this._updateDone=!0,this._calcNearestItem(),this.slideMode==s.PAGE&&(this.curPageNum=this.nearestListId)},t.prototype._createOrUpdateItem=function(e){var t=this.getItemByListId(e.id);if(t)this._forceUpdate&&this.renderEvent&&(t.setPosition(cc.v2(e.x,e.y)),this._resetItemSize(t),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],t,e.id%this._actualNumItems));else{var o=this._pool.size()>0;if((t=o?this._pool.get():cc.instantiate(this._itemTmp))._listId!=e.id&&(t._listId=e.id,t.setContentSize(this._itemSize)),t.setPosition(cc.v2(e.x,e.y)),this._resetItemSize(t),this.content.addChild(t),o&&this._needUpdateWidget){var i=t.getComponent(cc.Widget);i&&i.updateAlignment()}t.setSiblingIndex(this.content.childrenCount-1);var n=t.getComponent(m.default);t.listItem=n,n&&(n.listId=e.id,n.list=this,n._registerEvent()),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],t,e.id%this._actualNumItems)}this._resetItemSize(t),this._updateListItem(t.listItem),this._lastDisplayData.indexOf(e.id)<0&&this._lastDisplayData.push(e.id)},t.prototype._createOrUpdateItem2=function(e){var t,o=this.content.children[e];o?this._forceUpdate&&this.renderEvent&&(o._listId=e,t&&(t.listId=e),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],o,e)):((o=cc.instantiate(this._itemTmp))._listId=e,this.content.addChild(o),t=o.getComponent(m.default),o.listItem=t,t&&(t.listId=e,t.list=this,t._registerEvent()),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],o,e)),this._updateListItem(t),this._lastDisplayData.indexOf(e)<0&&this._lastDisplayData.push(e)},t.prototype._updateListItem=function(e){if(e&&this.selectedMode>l.NONE){var t=e.node;switch(this.selectedMode){case l.SINGLE:e.selected=this.selectedId==t._listId;break;case l.MULT:e.selected=this.multSelected.indexOf(t._listId)>=0}}},t.prototype._resetItemSize=function(){},t.prototype._updateItemPos=function(e){var t=isNaN(e)?e:this.getItemByListId(e),o=this.getItemPos(t._listId);t.setPosition(o.x,o.y)},t.prototype.setMultSelected=function(e,t){var o=this;if(o.checkInited()){if(Array.isArray(e)||(e=[e]),null==t)o.multSelected=e;else{var i=void 0,n=void 0;if(t)for(var r=e.length-1;r>=0;r--)i=e[r],(n=o.multSelected.indexOf(i))<0&&o.multSelected.push(i);else for(r=e.length-1;r>=0;r--)i=e[r],(n=o.multSelected.indexOf(i))>=0&&o.multSelected.splice(n,1)}o._forceUpdate=!0,o._onScrolling()}},t.prototype.updateItem=function(e){if(this.checkInited()){Array.isArray(e)||(e=[e]);for(var t=0,o=e.length;t<o;t++){var i=e[t],n=this.getItemByListId(i);n&&cc.Component.EventHandler.emitEvents([this.renderEvent],n,i%this._actualNumItems)}}},t.prototype.updateAll=function(){this.checkInited()&&(this.numItems=this.numItems)},t.prototype.getItemByListId=function(e){for(var t=this.content.childrenCount-1;t>=0;t--){var o=this.content.children[t];if(o._listId==e)return o}},t.prototype._getOutsideItem=function(){for(var e,t=[],o=this.content.childrenCount-1;o>=0;o--)e=this.content.children[o],this.displayData.find(function(t){return t.id==e._listId})||t.push(e);return t},t.prototype._delRedundantItem=function(){if(this._virtual)for(var e=this._getOutsideItem(),t=e.length-1;t>=0;t--){var o=e[t];if(!this._scrollItem||o._listId!=this._scrollItem._listId){this._pool.put(o);for(var i=this._lastDisplayData.length-1;i>=0;i--)if(this._lastDisplayData[i]==o._listId){this._lastDisplayData.splice(i,1);break}}}else for(;this.content.childrenCount>this._numItems;)this._delSingleItem(this.content.children[this.content.childrenCount-1])},t.prototype._delSingleItem=function(e){e.removeFromParent(),e.destroy&&e.destroy(),e=null},t.prototype.aniDelItem=function(e,t,o){var i=this;if(!i.checkInited()||i.cyclic||!i._virtual)return cc.error("This function is not allowed to be called!");if(i._aniDelRuning)return cc.warn("Please wait for the current deletion to finish!");var n,r=i.getItemByListId(e);if(r){n=r.getComponent(m.default),i._aniDelRuning=!0;var a=i.displayData[i.displayData.length-1].id,s=n.selected;n.showAni(o,function(){var o,n,c;if(a<i._numItems-2&&(o=a+1),null!=o){var p=i._calcItemPos(o);i.displayData.push(p),i._virtual?i._createOrUpdateItem(p):i._createOrUpdateItem2(o)}else i._numItems--;if(i.selectedMode==l.SINGLE)s?i._selectedId=-1:i._selectedId-1>=0&&i._selectedId--;else if(i.selectedMode==l.MULT&&i.multSelected.length){var h=i.multSelected.indexOf(e);h>=0&&i.multSelected.splice(h,1);for(var u=i.multSelected.length-1;u>=0;u--)(g=i.multSelected[u])>=e&&i.multSelected[u]--}if(i._customSize){i._customSize[e]&&delete i._customSize[e];var d={},f=void 0;for(var g in i._customSize){f=i._customSize[g];var m=parseInt(g);d[m-(m>=e?1:0)]=f}i._customSize=d}for(u=null!=o?o:a;u>=e+1;u--)if(r=i.getItemByListId(u)){var y=i._calcItemPos(u-1);n=[cc.moveTo(.2333,cc.v2(y.x,y.y))],u<=e+1&&(c=!0,n.push(cc.callFunc(function(){i._aniDelRuning=!1,t(e)}))),n.length>1?r.runAction(cc.sequence(n)):r.runAction(n[0])}c||(i._aniDelRuning=!1,t(e))},!0)}else t(e)},t.prototype.scrollTo=function(e,t,o,i){void 0===t&&(t=.5),void 0===o&&(o=null),void 0===i&&(i=!1);var n=this;if(n.checkInited(!1)){null==t?t=.5:t<0&&(t=0),e<0?e=0:e>=n._numItems&&(e=n._numItems-1),!n._virtual&&n._layout&&n._layout.enabled&&n._layout.updateLayout();var r,a,s=n.getItemPos(e);switch(n._alignCalcType){case 1:r=s.left,r-=null!=o?n.node.width*o:n._leftGap,s=cc.v2(r,0);break;case 2:r=s.right-n.node.width,r+=null!=o?n.node.width*o:n._rightGap,s=cc.v2(r+n.content.width,0);break;case 3:a=s.top,a+=null!=o?n.node.height*o:n._topGap,s=cc.v2(0,-a);break;case 4:a=s.bottom+n.node.height,a-=null!=o?n.node.height*o:n._bottomGap,s=cc.v2(0,-a+n.content.height)}var l=n.content.getPosition();l=Math.abs(n._sizeType?l.y:l.x);var c=n._sizeType?s.y:s.x;Math.abs((null!=n._scrollPos?n._scrollPos:l)-c)>.5&&(n._scrollView.scrollToOffset(s,t),n._scrollToListId=e,n._scrollToEndTime=(new Date).getTime()/1e3+t,n._scrollToSo=n.scheduleOnce(function(){if(n._adheringBarrier||(n.adhering=n._adheringBarrier=!1),n._scrollPos=n._scrollToListId=n._scrollToEndTime=n._scrollToSo=null,i){var t=n.getItemByListId(e);t&&t.runAction(cc.sequence(cc.scaleTo(.1,1.05),cc.scaleTo(.1,1)))}},t+.1),t<=0&&n._onScrolling())}},t.prototype._calcNearestItem=function(){var e,t,o,i,n,r,a=this;a.nearestListId=null,a._virtual&&a._calcViewPos(),o=a.viewTop,i=a.viewRight,n=a.viewBottom,r=a.viewLeft;for(var s=!1,l=0;l<a.content.childrenCount&&!s;l+=a._colLineNum)if(e=a._virtual?a.displayData[l]:a._calcExistItemPos(l))switch(t=a._sizeType?(e.top+e.bottom)/2:t=(e.left+e.right)/2,a._alignCalcType){case 1:e.right>=r&&(a.nearestListId=e.id,r>t&&(a.nearestListId+=a._colLineNum),s=!0);break;case 2:e.left<=i&&(a.nearestListId=e.id,i<t&&(a.nearestListId+=a._colLineNum),s=!0);break;case 3:e.bottom<=o&&(a.nearestListId=e.id,o<t&&(a.nearestListId+=a._colLineNum),s=!0);break;case 4:e.top>=n&&(a.nearestListId=e.id,n>t&&(a.nearestListId+=a._colLineNum),s=!0)}if((e=a._virtual?a.displayData[a.displayItemNum-1]:a._calcExistItemPos(a._numItems-1))&&e.id==a._numItems-1)switch(t=a._sizeType?(e.top+e.bottom)/2:t=(e.left+e.right)/2,a._alignCalcType){case 1:i>t&&(a.nearestListId=e.id);break;case 2:r<t&&(a.nearestListId=e.id);break;case 3:n<t&&(a.nearestListId=e.id);break;case 4:o>t&&(a.nearestListId=e.id)}},t.prototype.prePage=function(e){void 0===e&&(e=.5),this.checkInited()&&this.skipPage(this.curPageNum-1,e)},t.prototype.nextPage=function(e){void 0===e&&(e=.5),this.checkInited()&&this.skipPage(this.curPageNum+1,e)},t.prototype.skipPage=function(e,t){var o=this;if(o.checkInited())return o._slideMode!=s.PAGE?cc.error("This function is not allowed to be called, Must SlideMode = PAGE!"):void(e<0||e>=o._numItems||o.curPageNum!=e&&(o.curPageNum=e,o.pageChangeEvent&&cc.Component.EventHandler.emitEvents([o.pageChangeEvent],e),o.scrollTo(e,t)))},t.prototype.calcCustomSize=function(e){var t=this;if(t.checkInited()){if(!t._itemTmp)return cc.error("Unset template item!");if(!t.renderEvent)return cc.error("Unset Render-Event!");t._customSize={};var o=cc.instantiate(t._itemTmp);t.content.addChild(o);for(var i=0;i<e;i++)cc.Component.EventHandler.emitEvents([t.renderEvent],o,i),o.height==t._itemSize.height&&o.width==t._itemSize.width||(t._customSize[i]=t._sizeType?o.height:o.width);return Object.keys(t._customSize).length||(t._customSize=null),o.removeFromParent(),o.destroy&&o.destroy(),t._customSize}},r([h({type:cc.Enum(a),tooltip:!1})],t.prototype,"templateType",void 0),r([h({type:cc.Node,tooltip:!1,visible:function(){return this.templateType==a.NODE}})],t.prototype,"tmpNode",void 0),r([h({type:cc.Prefab,tooltip:!1,visible:function(){return this.templateType==a.PREFAB}})],t.prototype,"tmpPrefab",void 0),r([h()],t.prototype,"_slideMode",void 0),r([h({type:cc.Enum(s),tooltip:!1})],t.prototype,"slideMode",null),r([h({type:cc.Float,range:[0,1,.1],tooltip:!1,slide:!0,visible:function(){return this._slideMode==s.PAGE}})],t.prototype,"pageDistance",void 0),r([h({type:cc.Component.EventHandler,tooltip:!1,visible:function(){return this._slideMode==s.PAGE}})],t.prototype,"pageChangeEvent",void 0),r([h()],t.prototype,"_virtual",void 0),r([h({type:cc.Boolean,tooltip:!1})],t.prototype,"virtual",null),r([h({tooltip:!1,visible:function(){var e=this.virtual&&this.slideMode==s.NORMAL;return e||(this.cyclic=!1),e}})],t.prototype,"cyclic",void 0),r([h({tooltip:!1,visible:function(){return this.virtual}})],t.prototype,"lackCenter",void 0),r([h({tooltip:!1,visible:function(){var e=this.virtual&&!this.lackCenter;return e||(this.lackSlide=!1),e}})],t.prototype,"lackSlide",void 0),r([h({type:cc.Integer})],t.prototype,"_updateRate",void 0),r([h({type:cc.Integer,range:[0,6,1],tooltip:!1,slide:!0})],t.prototype,"updateRate",null),r([h({type:cc.Integer,range:[0,12,1],tooltip:!1,slide:!0})],t.prototype,"frameByFrameRenderNum",void 0),r([h({type:cc.Component.EventHandler,tooltip:!1})],t.prototype,"renderEvent",void 0),r([h({type:cc.Enum(l),tooltip:!1})],t.prototype,"selectedMode",void 0),r([h({tooltip:!1,visible:function(){return this.selectedMode==l.SINGLE}})],t.prototype,"repeatEventSingle",void 0),r([h({type:cc.Component.EventHandler,tooltip:!1,visible:function(){return this.selectedMode>l.NONE}})],t.prototype,"selectedEvent",void 0),r([h({serializable:!1})],t.prototype,"_numItems",void 0),r([p,u(),d("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/List"),g(cc.ScrollView),f(-5e3)],t)}(cc.Component);o.default=y,cc._RF.pop()},{"./ListItem":"ListItem"}],LoadingConst:[function(e,t,o){"use strict";cc._RF.push(t,"f493aVL379Kd5iqUDbb1HCY","LoadingConst"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function e(){}return e.START_UP="START_UP",e.LOADING_SCENE="LOADING_SCENE",e.CHECK_UPDATE="CHECK_UPDATE",e.SHOW_CHECK_LABEL="SHOW_CHECK_LABEL",e.SHOW_PROGRESS_LABEL="SHOW_PROGRESS_LABEL",e.SHOW_PROGRESS_BAR="SHOW_PROGRESS_BAR",e.LOAD_HALL_SCENE="LOAD_HALL_SCENE",e.UPDATE_LOADING_VERSION="UPDATE_LOADING_VERSION",e.UPDATE_APP_INFO="UPDATE_APP_INFO",e.INIT_LOADING_SCENE="INIT_LOADING_SCENE",e.CLEAR_LOADING_TIMER="CLEAR_LOADING_TIMER",e.DUN_INIT_FINISH="DUN_INIT_FINISH",e.CHCEK_HOTUPDATE_PROGRESS="CHCEK_HOTUPDATE_PROGRESS",e}();o.default=i,cc._RF.pop()},{}],LoadingFacade:[function(e,t,o){"use strict";cc._RF.push(t,"decd6zU5CNIBoJEyeDpmM5s","LoadingFacade");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./LoadingConst"),s=e("../Global"),l=e("../Game"),c=e("../game/ViewSet"),p=e("../../../framework/debug/Logger"),h=e("./LoadingMediator"),u=e("./PreLoadProxy"),d=e("../game/pvp/PvpSitHelper"),f=e("../game/pvp/PVPPlayerData"),g=e("../../../framework/event/EventDispatcher"),m=e("../net/hall/NetEvent"),y=e("../GlobalEvent"),b=e("../tool/AppHelper"),v=e("../tool/HeadTipsManager"),_=e("../tool/TaskManager"),S=e("./AppHotUpdateProxy"),C=cc._decorator,w=C.ccclass,I=(C.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onResume=function(){p.Logger.log("---------LoadingFacade----------onResume---------"),this.sendNotification(a.default.CHCEK_HOTUPDATE_PROGRESS)},t}var o;return n(t,e),o=t,t.prototype.initializeController=function(){e.prototype.initializeController.call(this),this.gameStartUp(),s.default.Event.on(y.default.DunInitFinish,this,this.onDunInitFinish),cc.game.on(cc.game.EVENT_SHOW,this.onResume,this)},t.initGlobal=function(){window.Global=s.default,window.Game=l.default,window.Logger=p.Logger,window.ViewSet=c.default,window.PVPSitHelper=d.default,window.PVPPlayerData=f.default,window.NetAppface=m.NetAppface,window.EventDispatcher=g.default,window.GlobalEvent=y.default,window.HeadTipsManager=v.default,window.TaskManager=_.default,s.default.setup(),l.default.setup(),b.default.init()},t.prototype.gameStartUp=function(){p.Logger.error("gameStartUp"),o.initGlobal(),s.default.UI.initUIRoot(),s.default.Persist.init(),s.default.ModuleManager.loadSkinModuleCfg(s.default.Setting.SkinConfig.moduleCfg),s.default.Language.registLanguage("hall/config/language"),cc.game.setFrameRate(s.default.Setting.FPSConfig)},t.prototype.startUp=function(e,t,o,i){s.default.NativeEvent.Init(),this.manifest=e,!0,s.default.Setting.isStartHotUpdate=!0,s.default.Setting.serverType=i,this.registerProxy(new u.default(this.manifest[this.manifest.length-1])),this.registerProxy(new S.default(this.manifest)),this.registerMediator(new h.default(t)),this.sendNotification(a.default.START_UP)},t.prototype.onDunInitFinish=function(){this.sendNotification(a.default.DUN_INIT_FINISH)},t.prototype.unregisterFacade=function(){this.removeCommand(a.default.START_UP),this.removeMediator(h.default.NAME),this.removeProxy(S.default.NAME),s.default.Event.off(y.default.DunInitFinish,this,this.onDunInitFinish),cc.game.off(cc.game.EVENT_SHOW,this.onResume,this)},t.releaseInstance=function(){var e=o.instanceMap[o.NAME];e&&(e.unregisterFacade(),o.removeCore(o.NAME))},Object.defineProperty(t,"Instance",{get:function(){return o.instanceMap[o.NAME]||(o.instanceMap[o.NAME]=new o(o.NAME)),o.instanceMap[o.NAME]},enumerable:!1,configurable:!0}),t.NAME="LoadingFacade",o=r([w],t)}(puremvc.Facade));o.default=I,cc._RF.pop()},{"../../../framework/debug/Logger":"Logger","../../../framework/event/EventDispatcher":"EventDispatcher","../Game":"Game","../Global":"Global","../GlobalEvent":"GlobalEvent","../game/ViewSet":"ViewSet","../game/pvp/PVPPlayerData":"PVPPlayerData","../game/pvp/PvpSitHelper":"PvpSitHelper","../net/hall/NetEvent":"NetEvent","../tool/AppHelper":"AppHelper","../tool/HeadTipsManager":"HeadTipsManager","../tool/TaskManager":"TaskManager","./AppHotUpdateProxy":"AppHotUpdateProxy","./LoadingConst":"LoadingConst","./LoadingMediator":"LoadingMediator","./PreLoadProxy":"PreLoadProxy"}],LoadingMediator:[function(e,t,o){"use strict";cc._RF.push(t,"4edb4KJ17RLd7cTgmCCvJ4x","LoadingMediator");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("./LoadingConst"),a=e("../../hallcommon/model/ServicerModel"),s=e("./AppHotUpdateProxy"),l=function(e){function t(o){var i=e.call(this,t.NAME,o)||this;return i.curPer=0,i.buttonTouch=!1,i.initNode(),i}return n(t,e),t.prototype.listNotificationInterests=function(){return e.prototype.listNotificationInterests.call(this),[r.default.CHECK_UPDATE,r.default.SHOW_CHECK_LABEL,r.default.SHOW_PROGRESS_LABEL,r.default.SHOW_PROGRESS_BAR,r.default.UPDATE_LOADING_VERSION,r.default.UPDATE_APP_INFO,r.default.DUN_INIT_FINISH,r.default.CHCEK_HOTUPDATE_PROGRESS,r.default.CLEAR_LOADING_TIMER]},t.prototype.handleNotification=function(e){var t=e.getName(),o=e.getBody();if(e.getType(),t==r.default.SHOW_CHECK_LABEL){var i=o.parm;this.setCheckLabelString(i)}else if(t==r.default.SHOW_PROGRESS_LABEL)i=o.parm,this.setProgressLabelString(i);else if(t==r.default.SHOW_PROGRESS_BAR){var n=o.parm;this.updateLoadingBar(n)}else t==r.default.UPDATE_LOADING_VERSION?this.setNativeVersion():t==r.default.UPDATE_APP_INFO?this.updateAppInfo():t==r.default.CLEAR_LOADING_TIMER?this.clearTimer():t==r.default.DUN_INIT_FINISH?this.onTDunInitFinish():t==r.default.CHCEK_HOTUPDATE_PROGRESS&&this.checkHotUpdateProgress()},t.prototype.initNode=function(){this.rootNode=cc.find("LoadingView",this.viewComponent.node),Global.UIHelper.addCommonClick(this.rootNode,"kefuNode",this.onKeFuBtnClick,this).active=!0,Global.UIHelper.addCommonClick(this.rootNode,"gnx_guanwang",this.onGuanwangClick,this),Global.UIHelper.addCommonClick(this.rootNode,"loadingNode/restore",this.onRestoreClick,this);var e=this.rootNode.getChildByName("loadingNode"),t=e.getChildByName("loadingBar");this.restoreNode=e.getChildByName("restore");var o=e.getChildByName("checkNode").getChildByName("infoLabel"),i=this.rootNode.getChildByName("versionLabel");this.restoreNode&&(this.restoreNode.active=!1),t.active=!1,this.progressLabel=t.getChildByName("img_dhg").getChildByName("lbPer").getComponent(cc.Label),this.infoLabel=o.getComponent(cc.Label),this.loadingBar=t,this.versionLabel=i.getComponent(cc.Label),this.setNativeVersion(),this.buttonTouch=!1},t.prototype.onGuanwangClick=function(){var e=Global.Setting.Urls.downLoadUrl;cc.sys.openURL(e)},t.prototype.onRestoreClick=function(){var e=this;0==this.buttonTouch&&(this.buttonTouch=!0,Global.UI.show("WndMessageBox","\u662f\u5426\u5f00\u59cb\u7248\u672c\u4fee\u590d\uff1f",1,function(){e.buttonTouch=!1,e.facade.retrieveProxy(s.default.NAME).restartCheckUpdate(!1)},function(){e.buttonTouch=!1}))},t.prototype.onKeFuBtnClick=function(){Global.ModelManager.getModel("ServicerModel").enterCustomerService(a.CustomerEntranceType.LoginService)},t.prototype.setCheckLabelString=function(e){this.infoLabel&&this.infoLabel.node&&this.infoLabel.node.isValid&&(this.infoLabel.string=e)},t.prototype.setProgressLabelString=function(e){this.progressLabel&&this.progressLabel.node&&this.progressLabel.node.isValid&&(this.progressLabel.string=e)},t.prototype.setNativeVersion=function(){var e=Global.Toolkit.genLoadingAppInfo();Logger.log("----------------version------------"+e),this.versionLabel&&cc.isValid(this.versionLabel.node)&&(this.versionLabel.string=e)},t.prototype.onTDunInitFinish=function(){this.setNativeVersion()},t.prototype.updateAppInfo=function(){var e=Global.Toolkit.genAppInfo();this.versionLabel&&this.versionLabel.node.isValid&&(this.versionLabel.string=e)},t.prototype.updateLoadingBar=function(e){if(null!=this.loadingBar&&this.loadingBar.isValid){var t=this.loadingBar.getChildByName("particle");if(e>0){this.loadingBar.active=!0,this.restoreNode&&0==this.restoreNode.active&&(this.restoreNode.active=!0);var o=this.loadingBar.getChildByName("bar_1_1");this.loadingBar.getChildByName("img_dhg").x=o.x+o.width*e,o.getComponent(cc.Sprite).fillRange=e,0==t.active&&(t.active=!0),this.curPer=e,this.checkHotUpdateProgress()}else t.active=!1,this.loadingBar.active=!1,this.restoreNode.active=!1}},t.prototype.checkHotUpdateProgress=function(){var e=this;this.clearTimer(),this.curPer>0&&this.curPer<1&&(this._timeOut=setTimeout(function(){Logger.error("updateLoadingBar----\u7f51\u7edc\u5f02\u5e38\uff0c\u8bf7\u91cd\u65b0\u52a0\u8f7d"),e.facade.retrieveProxy(s.default.NAME).restartCheckUpdate()},1e4))},t.prototype.clearTimer=function(){this._timeOut&&(clearTimeout(this._timeOut),this._timeOut=null)},t.NAME="LoadingViewMediator",t}(puremvc.Mediator);o.default=l,cc._RF.pop()},{"../../hallcommon/model/ServicerModel":"ServicerModel","./AppHotUpdateProxy":"AppHotUpdateProxy","./LoadingConst":"LoadingConst"}],LoadingModule:[function(e,t){"use strict";cc._RF.push(t,"0b5b23++n1MEZuOGKuHi13p","LoadingModule"),cc._RF.pop()},{}],Logger:[function(e,t,o){"use strict";var i;cc._RF.push(t,"783f3T/K3xNVqPVjtHI0UTU","Logger"),Object.defineProperty(o,"__esModule",{value:!0}),o.Logger=o.LogLevel=void 0,function(e){e[e.None=0]="None",e[e.Log=1]="Log",e[e.Warn=2]="Warn",e[e.Net=4]="Net",e[e.Error=8]="Error",e[e.All=255]="All"}(i=o.LogLevel||(o.LogLevel={}));var n=function(){function e(){}return e.logObj=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];var n=console.log||cc.log;this.logEnable&&this.logLevel&i.Log&&n.call(this,this.getLogContent(t),e)},e.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o=console.log||cc.log;this.logEnable&&this.logLevel&i.Log&&o.call(this,this.getLogContent(e))},e.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o=console.warn||cc.warn;this.logEnable&&this.logLevel&i.Warn&&o.call(this,this.getLogContent(e))},e.net=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o=console.log||cc.log;this.logEnable&&this.logLevel&i.Net&&o.call(this,this.getLogContent(e))},e.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o=console.error||cc.error;this.logEnable&&this.logLevel&i.Error&&o.call(this,this.getLogContent(e))},e.getLogContent=function(e){for(var t=e.length-1;t>=0;t--)"string"!=typeof e[t]&&"number"!=typeof e[t]&&(cc.error("getLogContent error !!! can not push object !!!"),e.splice(t,1));return this.getDateStr()+e.join("\t,")},e.getDateStr=function(){var e=new Date,t=e.getHours().toString(),o="";return o+=(1==t.length?"0"+t:t)+":",o+=(1==(t=e.getMinutes().toString()).length?"0"+t:t)+":",o+=(1==(t=e.getSeconds().toString()).length?"0"+t:t)+":",1==(t=e.getMilliseconds().toString()).length&&(t="00"+t),2==t.length&&(t="0"+t),"["+(o+=t)+"]"},e.logLevel=i.All,e.logEnable=!0,e}();o.Logger=n,cc._RF.pop()},{}],LoginModel:[function(e,t,o){"use strict";cc._RF.push(t,"a4449u+ZfNKAbbqz6w1utqH","LoginModel");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../framework/model/ModelBase"),a=e("../../core/net/hall/NetEvent"),s=e("../const/HallStorageKey"),l=e("../../core/setting/ServerRoutes"),c=e("../../hall/ui/msg/MsgEvent"),p=e("../../core/tool/AppHelper"),h=e("./PlayerInfoModel"),u=e("./HallModel"),d=e("../../hall/tool/HallPopMsgHelper"),f=e("../../hall/ui/hall/views/HallBtnHelper"),g=e("../../core/tool/ReportTool"),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.MANUAL_LOGIN=1,t.AUTO_LOGIN=2,t.reportParam=[],t.retryTimes=0,t.requestTime=0,t.CONFIG_MD5_KEY="CONFIG_MD5_KEY",t.CONFIG_KEY="CONFIG_KEY",t.firstLogin=!0,t}return n(t,e),Object.defineProperty(t.prototype,"Name",{get:function(){return"LoginModel"},enumerable:!1,configurable:!0}),t.prototype.onInit=function(){Global.HallServer.on(a.NetLogin.VisitorLogin,this,this.onLogin),Global.HallServer.on(a.NetLogin.UserPhoneLogin,this,this.onLogin),Global.HallServer.on(a.NetLogin.UserWxLogin,this,this.onLogin),this.loadLocalAccountInfo()},t.prototype.loadLocalAccountInfo=function(){this.localPhone=Global.Setting.storage.get(s.default.Phone),this.localPwd=Global.Setting.storage.get(s.default.Pwd),this.localAreaCode=Global.Setting.storage.get(s.default.AreaCode)},t.prototype.loadLocalMd5=function(){return Global.Setting.storage.get(this.CONFIG_MD5_KEY)},t.prototype.loadConfig=function(){var e=Global.Setting.storage.get(this.CONFIG_KEY);if(null!=e&&""!=e)try{return JSON.parse(e)}catch(t){return Logger.error("\u89e3\u6790config \u5931\u8d25"),null}return null},t.prototype.onLogin=function(e){var t=this,o=e;if(o.routes&&0!=o.routes.length){this.savePhoneInfo(),Global.AppUpdateHelper.showLoginUpdateDlg(),e&&e.merge_point&&d.default.Instance.addMsgList(d.PopWndName.MegePoint,function(){d.default.Instance.addLock(d.PopWndName.MegePoint),Global.UI.show("WndRebateGet",e.merge_point,d.BindAwardUIType.MegePoint)});var i=Global.Setting.Urls.hallRoutes;null==i&&(i=new l.default),i.parse(o.routes),Global.Setting.Urls.hallRoutes=i;var n=o.lroutes;if(n&&n.length>0){Logger.error("set lroutes");var r=new l.default;r.parse(n),r.getRouteLen()>0?Global.Setting.storage.setObject(s.default.LoginRoutes,n):Logger.error("lroutes is not valid")}else Logger.error("lroutes is null");var a=i.getRandRoute();null!=a?(Global.PlayerData.init(e),Global.Setting.Urls.initLoginInfo(a.getHttpUrl(),e.uid,e.token),Global.Event.event(GlobalEvent.SHOW_NET_WAITING,"requestLoginHosts",15,"",1,!1),Global.DNS.requestHosts(Global.Setting.Urls.hallRoutes.getRouteArr(),function(){Global.Event.event(GlobalEvent.HIDE_NET_WAITING,"requestLoginHosts"),t.doGetConfig(e)}),Global.HallServer.run(),this.requestTime=0,this.retryTimes=0,this.dealReportUrl(o),Global.ReportTool.ReportDevice(g.ReportTool.REPORT_TYPE_LOGIN)):Logger.error("\u83b7\u53d6serverRoute\u5931\u8d25")}else Logger.error("\u6ca1\u6709\u914d\u7f6eserver\u5730\u5740, \u68c0\u67e5key \u548c sign")},t.prototype.dealReportUrl=function(e){var t=e.t_url;if(t&&"string"==typeof t)if(this.requestTime<3){var o=new XMLHttpRequest,i=(new Date).getTime(),n=this;t+=cc.js.formatStr("?%s",i),o.open("GET",t,!0),o.onreadystatechange=function(){if(4===o.readyState)if(200==o.status){var r=(new Date).getTime()-i,a=o.getResponseHeader("content-length"),s=o.getResponseHeader("xips");n.reportParam[n.requestTime]={time:r,len:a,xip:s,test_url:t},n.requestTime++,n.dealReportUrl(e)}else Logger.error("\u62c9\u53d6\u5931\u8d25"),Logger.error("xhr.readyState",o.readyState,o.status),n.requestTime++,n.retryTimes++,n.dealReportUrl(e)}.bind(this),o.send()}else{var r={};r.content=this.reportParam,r.retryTimes=this.retryTimes;var a=g.ReportTool.REPORT_TYPE_TEST_ROUTE;Global.ReportTool.ReportPublicClientLog(a,r,!1),this.reportParam=[]}},t.prototype.doGetGamelist=function(){var e=this;Global.Event.event(GlobalEvent.SHOW_NET_WAITING,"doGetGamelist",15,"",1,!1);var t=this.loadLocalMd5(),o=null,i={};t&&""!=t&&(o=this.loadConfig()),null!=o&&o.length>0&&t&&(i.game_sum=t),Global.Toolkit.checkMegeServer()&&(i.old_app_id=parseInt(Global.Setting.SystemInfo.appID));var n=Global.Toolkit.genDeviceInfo();i.hall_skin=Global.Setting.SystemInfo.hallSkin,i.game_skin=Global.Setting.SystemInfo.gameSkin,i.device=n,i.app_version=Global.Setting.SystemInfo.appVersion,Global.HallServer.send(a.NetAppface.mod,a.NetAppface.GetGameList,i,function(t){if(Global.Event.event(GlobalEvent.HIDE_NET_WAITING,"doGetGamelist"),null!=t.game_list&&t.game_list.length>0){o=t.game_list;var i=t.game_sum;try{var n=JSON.stringify(t.game_list);i&&""!=i||(i=Global.Toolkit.md5(n)),Global.Setting.storage.set(e.CONFIG_MD5_KEY,i),Global.Setting.storage.set(e.CONFIG_KEY,n)}catch(r){}}Global.GameData.init(o)},null,!0)},t.prototype.doGetConfig=function(e){var t=this,o=this.loadLocalMd5(),i=null,n={};o&&""!=o&&(i=this.loadConfig()),null!=i&&i.length>0&&o&&(n.game_sum=o),Global.Toolkit.checkMegeServer()&&(n.old_app_id=parseInt(Global.Setting.SystemInfo.appID));var r=Global.Toolkit.genDeviceInfo();n.device=r,n.hall_skin=Global.Setting.SystemInfo.hallSkin,n.game_skin=Global.Setting.SystemInfo.gameSkin,n.app_version=Global.Setting.SystemInfo.appVersion,Global.HallServer.send(a.NetAppface.mod,a.NetAppface.GetConfig,n,function(n){null!=n.game_sum&&(o&&""!=o&&o==n.game_sum?null!=i&&i.length>0&&Global.GameData.init(i):t.doGetGamelist()),n.is_daily_gift_money&&Global.Event.event(GlobalEvent.ShowRedSpot,[!0,u.HallRedSpotType.DailyGift]),Global.Event.event(GlobalEvent.HIDE_NET_WAITING,"NetAppface.GetConfig"),Global.GongGaoData.init(n.lun_bo),Global.ActivityToggle.init(n.activity_list),Global.ModelManager.getModel("ServicerModel").initData(n.new_customer_service),Global.ModelManager.getModel("HallModel").recharge_red=n.recharge_red,Global.ModelManager.getModel("ShareModel").initData(n.share_get_point),Global.Setting.wxFirendShareTitle=n.app_name,Global.Setting.wxMomentShareTitle=n.app_name,Global.ModelManager.getModel("RechargeModel").initData(n.new_pay_info),Global.ModelManager.getModel("MsgModel").GetMsgList(c.MsgType.All,!0),h.default.instance.InitData(n.vip_cfg),h.default.instance.vip_reward=n.vip_reward,h.default.instance.is_vip_reward=n.is_vip_reward,h.default.instance.InitSubsidy(n.subsidy_point);var r=Global.ModelManager.getModel("BindingGiftModel");r&&(r.SetStatus(2!=e.user_type&&0!=n.give_cfg.bind_point),r.BindAwardNum=n.give_cfg.bind_point),Global.Setting.Urls.setInviteUrl(n.self_pack_url);var a=Global.ModelManager.getModel("SpreadModel");a.startRequestShortUrl(n.self_pack_url),a.RedFLag=n.per_cent_point>0,a.commiType=n.commi_type,a.Rate=n.percent_rate,a.SelfRate=n.self_rate,a.RankType=n.rank_type,n.back_point,n.back_point_status;var s=Global.ModelManager.getModel("RechargeGiftModel");n.limit_time_first_pay_activity&&(s.CountDown=n.limit_time_first_pay_activity.countdown,s.TimelimitedStatus=n.limit_time_first_pay_activity.status);var l=Global.ModelManager.getModel("CommisionModel");if(l&&(l.redSwitch=n.task_num>0),n.activity_list){var d=n.activity_list;if(d.length>0)for(var f=0;f<d.length;f++){var g=d[f];g.atype&&4==g.atype&&(s.Status=1==g.satus,s.Switch=!0)}}p.default.afterGetConfig(),t.CheckBaiduState(n),Global.SceneManager.goToHall()},null,!0)},t.prototype.CheckBaiduState=function(e){if(null!=e){var t=Global.ModelManager.getModel("BindingGiftModel");if(e.activity_list){var o=e.activity_list,i=Global.ModelManager.getModel("HallModel");o.length>0&&(i.isShowActivityCenter=!0,1==e.notify_popup&&d.default.Instance.addMsgList(d.PopWndName.ActivityCenter,function(){d.default.Instance.addLock(d.PopWndName.ActivityCenter),f.default.WndActivityOpen()}))}1==e.share_popup&&d.default.Instance.addMsgList(d.PopWndName.Spread,function(){d.default.Instance.addLock(d.PopWndName.Spread),f.default.WndSpreadCenterOpen()}),1==e.mail_popup&&d.default.Instance.addMsgList(d.PopWndName.Mail,function(){d.default.Instance.addLock(d.PopWndName.Mail),f.default.WndMailOpen()}),1==e.bind_popup&&t.Status&&d.default.Instance.addMsgList(d.PopWndName.BindGift,function(){d.default.Instance.addLock(d.PopWndName.BindGift),Global.UI.show("WndBindingGift")}),this.sortPopUp(e.activity_list)}},t.prototype.sortPopUp=function(e){if(e&&0!=e.length){e.sort(function(e,t){return e.sort-t.sort});for(var t=function(t){var o=e[t];o&&1===o.pop_ups&&o.atype&&d.default.Instance.addMsgList(o.atype,function(){d.default.Instance.addLock(o.atype),f.default.ShowActivity(o.atype)},o.sort+10)},o=0;o<e.length;o++)t(o)}},t.prototype.reqAutoLogin=function(e,t,o){this.clearTmpPhone();var i=this.getLoginParam(e,t,this.AUTO_LOGIN);Global.HallServer.sendLogin(a.NetLogin.VisitorLogin,i,null,o)},t.prototype.reqVisitorLogin=function(){this.clearTmpPhone();var e=this.getLoginParam("",null,this.MANUAL_LOGIN);Global.HallServer.sendLogin(a.NetLogin.VisitorLogin,e,null,null,!0)},t.prototype.reqPhoneLogin=function(e,t,o){var i=this.getLoginParam("",null,this.MANUAL_LOGIN);i.phone=Global.AESUtil.aesEncrypt(Global.Toolkit.cryptoKey,Global.Toolkit.cryptoIv,e),i.acode=o,i.pwd=t,Global.Toolkit.checkMegeServer()&&(i.old_app_id=parseInt(Global.Setting.SystemInfo.appID)),this.tmpArea=o,this.tmpPhone=e,this.tmpPwd=t,Global.HallServer.sendLogin(a.NetLogin.UserPhoneLogin,i,null,null,!0)},t.prototype.reqWxLogin=function(e,t){var o=this.getLoginParam("",null,this.MANUAL_LOGIN);o.sub_type=t,o.code=e,Global.HallServer.sendLogin(a.NetLogin.UserWxLogin,o,null,null,!0)},t.prototype.reqRegist=function(e,t,o,i,n){var r=this,s=this.getLoginParam("");s.phone=Global.AESUtil.aesEncrypt(Global.Toolkit.cryptoKey,Global.Toolkit.cryptoIv,e),s.pwd=t,s.code=i,s.acode=o,s.device=Global.Toolkit.genDeviceInfo(),null==n||""==n||isNaN(Number(n))||(s.invite_code=Number(n)),Global.HallServer.sendLogin(a.NetLogin.UserRegister,s,function(){Global.UI.close("WndRegist"),r.reqPhoneLogin(e,t,o)})},t.prototype.reqGetPhoneVerifyCode=function(e,t,o,i){var n={};n.acode=o,n.uid=Global.PlayerData.uid||0,n.phone=Global.AESUtil.aesEncrypt(Global.Toolkit.cryptoKey,Global.Toolkit.cryptoIv,e),n.appid=Global.Setting.appId,n.code_type=t,n.device=Global.Toolkit.genDeviceInfo(),Global.HallServer.sendVerifyCode(a.NetVerifyCode.GetPhoneVerifyCode,n,i)},t.prototype.reqChangePwd=function(e,t,o,i){var n={};n.acode=i,n.phone=Global.AESUtil.aesEncrypt(Global.Toolkit.cryptoKey,Global.Toolkit.cryptoIv,e),n.appid=Global.Setting.appId,n.pwd=t,n.code=o,Global.HallServer.sendVerifyCode(a.NetVerifyCode.ForgetPwd,n,function(){Global.UI.fastTip("\u5bc6\u7801\u4fee\u6539\u6210\u529f"),Global.UI.close("WndChangePwd"),Global.UI.close("WndForgetPwd")})},t.prototype.getLoginParam=function(e,t,o){void 0===t&&(t=null),void 0===o&&(o=this.MANUAL_LOGIN),isNaN(t)&&(t=null);var i={},n="0";return Global.Setting.SystemInfo&&Global.Setting.SystemInfo.udid&&(n=Global.Setting.SystemInfo.udid.toString()),i.udid=n,i.appid=Global.Setting.appId,t&&(i.uid=t),e&&(i.token=e),i.type=o,i.reg_info=Global.Toolkit.genRegInfo(),i.sign=Global.Setting.SystemInfo.loginSign,i.pack=Global.Setting.ChannelInfo.getRegistChannel(),i.invite_code=Global.Setting.ChannelInfo.getInviteId(),i.source_type=Global.Setting.ChannelInfo.sourceType,i.head_img=(Math.floor(Math.random()*Global.Setting.headNameRange)+1).toString(),i.device=Global.Toolkit.genDeviceInfo(),i},t.prototype.savePhoneInfo=function(){this.tmpPhone&&this.tmpPwd&&this.tmpArea&&(this.localPhone=this.tmpPhone,this.localPwd=this.tmpPwd,this.localAreaCode=this.tmpArea,Global.Setting.storage.set(s.default.Phone,this.localPhone),Global.Setting.storage.set(s.default.Pwd,this.tmpPwd),Global.Setting.storage.set(s.default.AreaCode,this.localAreaCode),this.clearTmpPhone())},t.prototype.clearTmpPhone=function(){this.tmpArea=null,this.tmpPhone=null,this.tmpPwd=null},t}(r.default);o.default=m,cc._RF.pop()},{"../../../framework/model/ModelBase":"ModelBase","../../core/net/hall/NetEvent":"NetEvent","../../core/setting/ServerRoutes":"ServerRoutes","../../core/tool/AppHelper":"AppHelper","../../core/tool/ReportTool":"ReportTool","../../hall/tool/HallPopMsgHelper":"HallPopMsgHelper","../../hall/ui/hall/views/HallBtnHelper":"HallBtnHelper","../../hall/ui/msg/MsgEvent":"MsgEvent","../const/HallStorageKey":"HallStorageKey","./HallModel":"HallModel","./PlayerInfoModel":"PlayerInfoModel"}],LoginModule:[function(e,t,o){"use strict";cc._RF.push(t,"e15ddSPa/pPJqsMrHiMVvs5","LoginModule");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.viewClass="WndLogin",t.modelClass="LoginModel",t.resPaths=[],t.prefabPaths=["hall/prefabs/ui/LoginUI"],t.children=[{viewClass:"WndPhoneLogin",modelClass:"",resPaths:[],prefabPaths:[],children:[]},{viewClass:"WndForgetPwd",modelClass:"",resPaths:[],prefabPaths:[],children:[]},{viewClass:"WndRegist",modelClass:"",resPaths:[],prefabPaths:[],children:[]}],t}return n(t,e),t}(e("../../../framework/module/ModuleBase").ModuleBase);o.default=r,cc._RF.pop()},{"../../../framework/module/ModuleBase":"ModuleBase"}],LoopPageView:[function(e,t){"use strict";cc._RF.push(t,"a8b2eKuyMtG1L1d1JveMRZN","LoopPageView"),cc.Class({extends:cc.PageView,editor:!1,ctor:function(){this._firstTempPage=null,this._firstPage=null,this._lastTempPage=null,this._lastPage=null,this._realPages=[],this.isTouched=!1,this.isAutoScroll=!1,this.autoScrollDelayTime=3,this.autoScrollTime=1,this._curAutoScrollCountDown=this.autoScrollDelayTime},onLoad:function(){this.node.on("scroll-ended",this._checkLoop,this),this._super()},_checkLoop:function(){var e=this._pages.length;this._curPageIdx==e-1?this._scrollToPage(1,!1):0==this._curPageIdx&&this._scrollToPage(e-2,!1)},_scrollToPage:function(e,t){e<0||e>=this._pages.length||(this.onScrollViewScroll(),t=void 0!==t?t:.3,this._curPageIdx=e,this.scrollToOffset(this._moveOffsetValue(e),t,!0),this.indicator&&this.indicator._changedState())},_delFirstTempPage:function(){0!=this._pages.length&&this._firstTempPage&&(this._firstTempPage==this._pages[0]&&this._pages.shift(),this._firstTempPage.active=!1,this._firstTempPage.setParent(null),this._firstTempPage.destroy(),this._firstTempPage=null)},_delLastTempPage:function(){0!=this._pages.length&&this._lastTempPage&&(this._lastTempPage==this._pages[this._pages.length-1]&&this._pages.pop(),this._lastTempPage.active=!1,this._lastTempPage.setParent(null),this._lastTempPage.destroy(),this._lastTempPage=null)},_addFirstTempPage:function(){this._lastPage&&(this._firstTempPage=cc.instantiate(this._lastPage),this.content.addChild(this._firstTempPage),this._pages.splice(0,0,this._firstTempPage))},_addLastTempPage:function(){this._firstPage&&(this._lastTempPage=cc.instantiate(this._firstPage),this.content.addChild(this._lastTempPage),this._pages.push(this._lastTempPage))},_updateFirstLastPage:function(){this._pages.length>0&&(this._firstPage=this._pages[0],this._lastPage=this._pages[this._pages.length-1])},_initPages:function(){if(this.content){this._delFirstTempPage(),this._delLastTempPage();for(var e=this.content.children,t=0;t<e.length;++t){var o=e[t];this._pages.indexOf(o)>=0||(this._pages.push(o),this._realPages.push(o))}this._updateFirstLastPage(),this._addFirstTempPage(),this._addLastTempPage(),this._syncScrollDirection(),this._syncSizeMode(),this._updatePageView()}},getCurrentPageIndex:function(){return 0==this._curPageIdx?this._realPages.length-1:this._curPageIdx==this._pages.length-1?0:this._curPageIdx-1},setCurrentPageIndex:function(e){e=Math.max(0,e),e=Math.min(this._realPages.length-1,e),this._scrollToPage(e+1,!0)},getPages:function(){return this._realPages},addPage:function(e){e&&-1===this._realPages.indexOf(e)&&this.content&&(this._delFirstTempPage(),this._delLastTempPage(),this.content.addChild(e),this._pages.push(e),this._realPages.push(e),this._updateFirstLastPage(),this._addFirstTempPage(),this._addLastTempPage(),this._updatePageView())},updatePage:function(e){e&&this._pages},insertPage:function(e,t){t<0||!e||-1!==this._realPages.indexOf(e)||!this.content||(t>=this._realPages.length?this.addPage(e):(this._delFirstTempPage(),this._delLastTempPage(),this._pages.splice(t,0,e),this._realPages.splice(t,0,e),this.content.addChild(e),this._updateFirstLastPage(),this._addFirstTempPage(),this._addLastTempPage(),this._updatePageView()))},onScrollViewScroll:function(){for(var e=[this.getPageIndex(this._curPageIdx-1),this.getPageIndex(this._curPageIdx),this.getPageIndex(this._curPageIdx+1)],t=e[0],o=e[1],i=e[2],n=0;n<this._pages.length;n++)this._pages[n].children[0].active=n==t||n==o||n==i},getPageIndex:function(e){return e>this._pages.length-1?1:e<0?this._realPages.length:e},removePage:function(e){if(e&&this.content){var t=this._realPages.indexOf(e);-1!==t?this.removePageAtIndex(t):cc.warnID(4300,e.name)}},removePageAtIndex:function(e){if(!(e<0||e>=this._realPages.length)){this._delFirstTempPage(),this._delLastTempPage();var t=this._realPages[e];t&&(this.content.removeChild(t),this._pages.splice(e,1),this._realPages.splice(e,1)),this._updateFirstLastPage(),this._addFirstTempPage(),this._addLastTempPage(),this._updatePageView()}},removeAllPages:function(){if(this.content){this.isAutoScroll=!1;for(var e=this._pages,t=0,o=e.length;t<o;t++)this.content.removeChild(e[t]);this._pages.length=0,this._realPages.length=0,this._delFirstTempPage(),this._delLastTempPage(),this._updatePageView()}},scrollToPage:function(e,t){e=Math.max(0,e),e=Math.min(this._realPages.length-1,e),e+=1,t=void 0!==t?t:.3,this._curPageIdx=e,this.scrollToOffset(this._moveOffsetValue(e),t,!0),this.indicator&&this.indicator._changedState()},_updatePageView:function(){this._super(),this._scrollToPage(1,!1)},_autoScrollToPage:function(){var e=this._startBounceBackIfNeeded(),t=this._touchBeganPosition.sub(this._touchEndPosition);if(e){var o=this._getDragDirection(t);if(0===o)return;this._curPageIdx=o>0?this._pages.length-1:0,this.indicator&&this.indicator._changedState()}else{var i=this._curPageIdx,n=i+this._getDragDirection(t),r=this.pageTurningSpeed*Math.abs(i-n);if(n<this._pages.length){if(this._isScrollable(t,i,n))return void this._scrollToPage(n,r);var a=this._calculateTouchMoveVelocity();if(this._isQuicklyScrollable(a))return void this._scrollToPage(n,r)}this._scrollToPage(i,r)}},_onTouchBegan:function(e,t){this._super(e,t),this.isTouched=!0,this._curAutoScrollCountDown=this.autoScrollDelayTime},_onTouchMoved:function(e,t){this._super(e,t),this.isTouched=!0,this._curAutoScrollCountDown=this.autoScrollDelayTime,this.onScrollViewScroll()},_onTouchEnded:function(e,t){this._super(e,t),this.isTouched=!1,this._curAutoScrollCountDown=this.autoScrollDelayTime,this.onScrollViewScroll()},_onTouchCancelled:function(e,t){this._super(e,t),this.isTouched=!1,this._curAutoScrollCountDown=this.autoScrollDelayTime,this.onScrollViewScroll()},update:function(e){if(this._super(e),!(this._pages.length<3)&&(this.isTouched||this._autoScrolling||this._checkLoop(),this.isAutoScroll&&!this.isTouched&&(this._curAutoScrollCountDown-=e,this._curAutoScrollCountDown<=0))){this._curAutoScrollCountDown+=this.autoScrollDelayTime;var t=this._curPageIdx+1;this._scrollToPage(t,this.autoScrollTime)}}}),cc._RF.pop()},{}],LuckyDrawModule:[function(e,t,o){"use strict";cc._RF.push(t,"b8c7fxIZt1HU79kRjCJJ+Ib","LuckyDrawModule");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.viewClass="WndTurntableView",t.modelClass="ZhuanpanModel",t.resPaths=[],t.prefabPaths=[""],t.children=[{viewClass:"WndTurntableRule",modelClass:"",resPaths:[],prefabPaths:[],children:[]}],t}return n(t,e),t}(e("../../../framework/module/ModuleBase").ModuleBase);o.default=r,cc._RF.pop()},{"../../../framework/module/ModuleBase":"ModuleBase"}],MD5:[function(e,t,o){"use strict";cc._RF.push(t,"2cb196cfahE3pXb1aNKy1Ls","MD5");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.MD5=void 0;for(var r=e("../lib/Hasher"),a=e("../lib/WordArray"),s=[],l=0;l<64;l++)s[l]=4294967296*Math.abs(Math.sin(l+1))|0;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.FF=function(e,t,o,i,n,r,a){var s=e+(t&o|~t&i)+n+a;return(s<<r|s>>>32-r)+t},t.GG=function(e,t,o,i,n,r,a){var s=e+(t&i|o&~i)+n+a;return(s<<r|s>>>32-r)+t},t.HH=function(e,t,o,i,n,r,a){var s=e+(t^o^i)+n+a;return(s<<r|s>>>32-r)+t},t.II=function(e,t,o,i,n,r,a){var s=e+(o^(t|~i))+n+a;return(s<<r|s>>>32-r)+t},t.prototype.reset=function(){e.prototype.reset.call(this),this._hash=new a.WordArray([1732584193,4023233417,2562383102,271733878])},t.prototype._doProcessBlock=function(e,o){for(var i=0;i<16;i++){var n=o+i,r=e[n];e[n]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var a=this._hash.words,l=e[o+0],c=e[o+1],p=e[o+2],h=e[o+3],u=e[o+4],d=e[o+5],f=e[o+6],g=e[o+7],m=e[o+8],y=e[o+9],b=e[o+10],v=e[o+11],_=e[o+12],S=e[o+13],C=e[o+14],w=e[o+15],I=a[0],T=a[1],P=a[2],k=a[3];I=t.FF(I,T,P,k,l,7,s[0]),k=t.FF(k,I,T,P,c,12,s[1]),P=t.FF(P,k,I,T,p,17,s[2]),T=t.FF(T,P,k,I,h,22,s[3]),I=t.FF(I,T,P,k,u,7,s[4]),k=t.FF(k,I,T,P,d,12,s[5]),P=t.FF(P,k,I,T,f,17,s[6]),T=t.FF(T,P,k,I,g,22,s[7]),I=t.FF(I,T,P,k,m,7,s[8]),k=t.FF(k,I,T,P,y,12,s[9]),P=t.FF(P,k,I,T,b,17,s[10]),T=t.FF(T,P,k,I,v,22,s[11]),I=t.FF(I,T,P,k,_,7,s[12]),k=t.FF(k,I,T,P,S,12,s[13]),P=t.FF(P,k,I,T,C,17,s[14]),T=t.FF(T,P,k,I,w,22,s[15]),I=t.GG(I,T,P,k,c,5,s[16]),k=t.GG(k,I,T,P,f,9,s[17]),P=t.GG(P,k,I,T,v,14,s[18]),T=t.GG(T,P,k,I,l,20,s[19]),I=t.GG(I,T,P,k,d,5,s[20]),k=t.GG(k,I,T,P,b,9,s[21]),P=t.GG(P,k,I,T,w,14,s[22]),T=t.GG(T,P,k,I,u,20,s[23]),I=t.GG(I,T,P,k,y,5,s[24]),k=t.GG(k,I,T,P,C,9,s[25]),P=t.GG(P,k,I,T,h,14,s[26]),T=t.GG(T,P,k,I,m,20,s[27]),I=t.GG(I,T,P,k,S,5,s[28]),k=t.GG(k,I,T,P,p,9,s[29]),P=t.GG(P,k,I,T,g,14,s[30]),T=t.GG(T,P,k,I,_,20,s[31]),I=t.HH(I,T,P,k,d,4,s[32]),k=t.HH(k,I,T,P,m,11,s[33]),P=t.HH(P,k,I,T,v,16,s[34]),T=t.HH(T,P,k,I,C,23,s[35]),I=t.HH(I,T,P,k,c,4,s[36]),k=t.HH(k,I,T,P,u,11,s[37]),P=t.HH(P,k,I,T,g,16,s[38]),T=t.HH(T,P,k,I,b,23,s[39]),I=t.HH(I,T,P,k,S,4,s[40]),k=t.HH(k,I,T,P,l,11,s[41]),P=t.HH(P,k,I,T,h,16,s[42]),T=t.HH(T,P,k,I,f,23,s[43]),I=t.HH(I,T,P,k,y,4,s[44]),k=t.HH(k,I,T,P,_,11,s[45]),P=t.HH(P,k,I,T,w,16,s[46]),T=t.HH(T,P,k,I,p,23,s[47]),I=t.II(I,T,P,k,l,6,s[48]),k=t.II(k,I,T,P,g,10,s[49]),P=t.II(P,k,I,T,C,15,s[50]),T=t.II(T,P,k,I,d,21,s[51]),I=t.II(I,T,P,k,_,6,s[52]),k=t.II(k,I,T,P,h,10,s[53]),P=t.II(P,k,I,T,b,15,s[54]),T=t.II(T,P,k,I,c,21,s[55]),I=t.II(I,T,P,k,m,6,s[56]),k=t.II(k,I,T,P,w,10,s[57]),P=t.II(P,k,I,T,f,15,s[58]),T=t.II(T,P,k,I,S,21,s[59]),I=t.II(I,T,P,k,u,6,s[60]),k=t.II(k,I,T,P,v,10,s[61]),P=t.II(P,k,I,T,p,15,s[62]),T=t.II(T,P,k,I,y,21,s[63]),a[0]=a[0]+I|0,a[1]=a[1]+T|0,a[2]=a[2]+P|0,a[3]=a[3]+k|0},t.prototype._doFinalize=function(){var e=this._data,t=e.words,o=8*this._nDataBytes,i=8*e.sigBytes;t[i>>>5]|=128<<24-i%32;var n=Math.floor(o/4294967296),r=o;t[15+(i+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),t[14+(i+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),e.sigBytes=4*(t.length+1),this._process();for(var a=this._hash,s=a.words,l=0;l<4;l++){var c=s[l];s[l]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}return a},t}(r.Hasher);o.MD5=c,cc._RF.pop()},{"../lib/Hasher":"Hasher","../lib/WordArray":"WordArray"}],MessageItem:[function(e,t,o){"use strict";cc._RF.push(t,"814fde3BR5DRpjYR0cTh0cx","MessageItem");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,l=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spriteList=[],t.stringList=[],t.iconSprite=null,t.iconName=null,t.messageLabel=null,t._isRechargePanel=!1,t._isMyself=!1,t._isOther=!1,t.holdTime=0,t.holdClick=!1,t}return n(t,e),Object.defineProperty(t.prototype,"isRechargePanel",{get:function(){return this._isRechargePanel},set:function(e){this._isRechargePanel=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMyself",{get:function(){return this._isMyself},set:function(e){this._isMyself=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isOther",{get:function(){return this._isOther},set:function(e){this._isOther=e},enumerable:!1,configurable:!0}),t.prototype.reset=function(){},t.prototype.onLoad=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this)},t.prototype.touchStart=function(){this.holdClick=!0,this.holdTime=0},t.prototype.touchEnd=function(){this.holdClick=!1,this.holdTime=0},t.prototype.onDestroy=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.off(cc.Node.EventType.TOUCH_END,this.touchEnd,this)},t.prototype.update=function(e){if(this.holdClick&&(this.holdTime+=e,this.holdTime>1500)){this.holdTime=1500;var t=this.messageLabel.string;t&&null!=t&&this.ServicerBtnFunc(t)}},t.prototype.setData=function(){},t.prototype.copyTextToClipboardCallBack=function(e){0==e.result?Global.UI.fastTip("\u5df2\u590d\u5236\u5230\u526a\u8d34\u677f"):Global.UI.fastTip("\u590d\u5236\u5931\u8d25")},t.prototype.ServicerBtnFunc=function(e){Global.NativeEvent.copyTextToClipboard(e,this.copyTextToClipboardCallBack.bind(this))},r([l([cc.SpriteFrame])],t.prototype,"spriteList",void 0),r([l([cc.String])],t.prototype,"stringList",void 0),r([l(cc.Sprite)],t.prototype,"iconSprite",void 0),r([l(cc.Label)],t.prototype,"iconName",void 0),r([l(cc.Label)],t.prototype,"messageLabel",void 0),r([s],t)}(cc.Component);o.default=c,cc._RF.pop()},{}],ModelBase:[function(e,t,o){"use strict";cc._RF.push(t,"e6350pwQBxI8oTDyTfeZo2K","ModelBase");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){var t=e.call(this)||this;return t.name="ModelBase",t.init(),Global.ModelManager.registerModel(t),t}return n(t,e),t.prototype.init=function(){this.onInit()},Object.defineProperty(t.prototype,"Name",{get:function(){return this.name},enumerable:!1,configurable:!0}),t.prototype.clear=function(){this.onClear()},t.prototype.destroy=function(){this.onDestroy()},t.prototype.onInit=function(){},t.prototype.onClear=function(){},t.prototype.onDestroy=function(){},t}(e("../event/EventDispatcher").default);o.default=r,cc._RF.pop()},{"../event/EventDispatcher":"EventDispatcher"}],ModelMananger:[function(e,t,o){"use strict";cc._RF.push(t,"96635gKJrJIipoo7oG+br39","ModelMananger"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function e(){this.modelMap={}}return Object.defineProperty(e,"Instance",{get:function(){return null==e._instance&&(e._instance=new e),e._instance},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.getModel=function(e){return null==this.modelMap[e]?(Logger.log("ModelManager::getModel() \u672a\u627e\u5230 "+e),null):this.modelMap[e]},e.prototype.getModelEx=function(e){return null==this.modelMap[e]?(Logger.log("ModelManager::getModelEx() \u672a\u627e\u5230 "+e),null):this.modelMap[e]},e.prototype.registerModel=function(e){null!=e?""!=e.Name&&"ModelBase"!=e.Name?this.modelMap.hasOwnProperty(e.Name)?Logger.log("ModelManager::registerModel() \u91cd\u590d\u6ce8\u518c "+e.Name):this.modelMap[e.Name]=e:Logger.error("ModelManager::registerModel() \u8bf7\u5728\u6784\u9020\u51fd\u6570\u4e2d\u7ed9model\u6a21\u5757\u6307\u5b9a\u540d\u5b57, return"):Logger.error("ModelManager::registerModel() model == null, return")},e.prototype.unRegisterModel=function(e){if(this.modelMap.hasOwnProperty(e)){var t=this.modelMap[e];null!=t&&t.clear(),this.modelMap[e]=null}},e.prototype.unRegisterAll=function(){this.clear(),this.modelMap={}},e.prototype.clear=function(){for(var e in this.modelMap){var t=this.modelMap[e];null!=t&&t.clear()}},e}();o.default=i,cc._RF.pop()},{}],ModuleBase:[function(e,t,o){"use strict";cc._RF.push(t,"a7846LW8O9EP5c8E1lkIBGI","ModuleBase"),Object.defineProperty(o,"__esModule",{value:!0}),o.ModuleBase=void 0;o.ModuleBase=function(){},cc._RF.pop()},{}],ModuleCfgBase:[function(e,t,o){"use strict";cc._RF.push(t,"038350XE7BA+p7r2k2VVEDJ","ModuleCfgBase"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function e(){this.cfg=[]}return e.prototype.checkModuleIsExist=function(){},e}();o.default=i,cc._RF.pop()},{}],ModuleManager:[function(e,t,o){"use strict";cc._RF.push(t,"6d7ae2VgCZFLKOYBCsw/TAj","ModuleManager"),Object.defineProperty(o,"__esModule",{value:!0}),o.ModuleManager=void 0;var i=e("../../logic/core/tool/JSUtil"),n=e("../../logic/core/ui/WndBase"),r=function(){function e(){}return e.prototype.loadSkinModuleCfg=function(e){var t=this;if(e&&0!=e.length)for(var o=0;o<e.length;o++){var n=e[o];i.JSUtil.importCls(n).then(function(e){t.loadModule(new e)})}else Logger.error("loadSkinModuleCfg cfg == null")},e.prototype.loadModule=function(e){var t=this,o=e.viewClass,r=e.modelClass,a=e.children;e.prefabPaths,r?i.JSUtil.importCls(r).then(function(e){return new e,i.JSUtil.importCls(o)}).then(function(e){i.JSUtil.isChildClassOf(e,n.default)&&(new e,a&&a.length>0&&t.loadSubViews(a,o))}):i.JSUtil.importCls(o).then(function(e){i.JSUtil.isChildClassOf(e,n.default)&&(new e,a&&a.length>0&&t.loadSubViews(a,o))})},e.prototype.loadSubViews=function(e,t){var o=this;if(void 0===t&&(t=""),e&&e.length>0)for(var r=function(r){var a=e[r],s=a.viewClass,l=a.modelClass,c=a.children;a.prefabPaths,l?i.JSUtil.importCls(l).then(function(e){return new e,i.JSUtil.importCls(s)}).then(function(e){if(i.JSUtil.isChildClassOf(e,n.default))new e;else{var r=Global.UI.getWindow(t);r.addView(s,r.node,e)}c&&c.length>0&&o.loadSubViews(c,s)}):i.JSUtil.importCls(s).then(function(e){if(i.JSUtil.isChildClassOf(e,n.default))new e;else{var r=Global.UI.getWindow(t);r.addView(s,r.node,e)}c&&c.length>0&&o.loadSubViews(c,s)})},a=0;a<e.length;a++)r(a)},e}();o.ModuleManager=r,cc._RF.pop()},{"../../logic/core/tool/JSUtil":"JSUtil","../../logic/core/ui/WndBase":"WndBase"}],MsgEvent:[function(e,t,o){"use strict";cc._RF.push(t,"c26e6evUu9KOZNJlmbdcyrm","MsgEvent"),Object.defineProperty(o,"__esModule",{value:!0}),o.MsgType=o.MsgEvent=void 0;var i=function(){function e(){}return e.ReadMsgCallBack="ReadMsgCallBack",e.DeleteMsgCallback="DeleteMsgCallback",e.MsgListCallback="MsgListCallback",e.NoticeListCallback="NoticeListCallback",e.ReadNoticeCallback="ReadNoticeCallback",e}();o.MsgEvent=i,function(e){e[e.All=0]="All",e[e.Notice=1]="Notice",e[e.Mail=2]="Mail"}(o.MsgType||(o.MsgType={})),cc._RF.pop()},{}],MsgItem:[function(e,t,o){"use strict";cc._RF.push(t,"e418bDKoyNJJavCNPOZXILN","MsgItem");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,l=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.BackgroundTxt=null,t.BackgroundTxt1=null,t.CheckTxt=null,t.CheckTxt1=null,t.Unread=null,t.CheckSprite=null,t.UnCheckSprite=null,t.toggle=null,t.maxCharCount=6,t.ColorStr1="<outline color=#445cb5 width=2><b>%s</b></outline>",t.ColorStr2="<outline color=#6C3DD8 width=2><b>%s</b></outline>",t.CheckColorStr1="<outline color=#B94E00 width= 1>%s</outline>",t.CheckColorStr2="<outline color=#D74D23 width=2><b>%s</b></outline>",t}return n(t,e),t.prototype.onLoad=function(){this.bgFontSize=this.BackgroundTxt.fontSize,this.checkFontSize=this.CheckTxt.fontSize,Global.Setting.SkinConfig.isPurple&&(this.bg1FontSize=this.BackgroundTxt1.fontSize,this.check1FontSize=this.CheckTxt1.fontSize)},t.prototype.close=function(){this.node.active=!1},t.prototype.getGameData=function(){return this.gameData},t.prototype.onInit=function(e){this.gameData=e,this.initView()},t.prototype.initView=function(){this.BackgroundTxt.fontSize=this.bgFontSize,this.CheckTxt.fontSize=this.checkFontSize,Global.Setting.SkinConfig.isPurple?(this.CheckTxt1.fontSize=this.check1FontSize,this.BackgroundTxt1.fontSize=this.bg1FontSize,this.BackgroundTxt.string=cc.js.formatStr(this.ColorStr1,Global.Toolkit.removeEmoji(this.gameData.title)),this.BackgroundTxt1.string=cc.js.formatStr(this.ColorStr2,Global.Toolkit.removeEmoji(this.gameData.title)),this.CheckTxt.string=cc.js.formatStr(this.CheckColorStr1,Global.Toolkit.removeEmoji(this.gameData.title)),this.CheckTxt1.string=cc.js.formatStr(this.CheckColorStr2,Global.Toolkit.removeEmoji(this.gameData.title))):Global.Setting.SkinConfig.isBlue?(this.BackgroundTxt.string=this.gameData.title,this.CheckTxt.string=this.gameData.title):(this.BackgroundTxt.string=Global.Toolkit.removeEmoji(this.gameData.title),this.CheckTxt.string=Global.Toolkit.removeEmoji(this.gameData.title)),this.toggle.isChecked=!1,this.toggle.uncheck(),this.SetUnReadActiveState(0===this.gameData.red_status)},t.prototype.adjustLabelLength=function(e,t){if(null!=e){var o=t*this.maxCharCount;e.node.width<=o||(e.fontSize=Math.floor(o/e.node.width*t))}},t.prototype.SetBackgroundChecked=function(e){this.CheckSprite.node.active=e,this.UnCheckSprite.node.active=!e},t.prototype.SetToggleChecked=function(){this.toggle.isChecked=!0,this.toggle.check()},t.prototype.SetUnReadActiveState=function(e){this.Unread.node.active=e},r([l(cc.Label)],t.prototype,"BackgroundTxt",void 0),r([l(cc.Label)],t.prototype,"BackgroundTxt1",void 0),r([l(cc.Label)],t.prototype,"CheckTxt",void 0),r([l(cc.Label)],t.prototype,"CheckTxt1",void 0),r([l(cc.Sprite)],t.prototype,"Unread",void 0),r([l(cc.Sprite)],t.prototype,"CheckSprite",void 0),r([l(cc.Sprite)],t.prototype,"UnCheckSprite",void 0),r([l(cc.Toggle)],t.prototype,"toggle",void 0),r([s],t)}(cc.Component);o.default=c,cc._RF.pop()},{}],MsgModel:[function(e,t,o){"use strict";cc._RF.push(t,"dfe481r9QFDAasIPFHGXmZ2","MsgModel");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../framework/model/ModelBase"),a=e("../../core/net/hall/NetEvent"),s=e("../../hall/ui/msg/MsgEvent"),l=e("./HallModel"),c=e("../../hall/tool/HallPopMsgHelper"),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.DataTabel={},t.MailContenTabel={},t.NoticeContenTabel={},t}return n(t,e),t.prototype.onInit=function(){Global.Event.on(GlobalEvent.ShowRedSpot,this,this.RefreshData)},t.prototype.RefreshData=function(e){var t=e[0]||!1,o=e[1];if(t)switch(o){case l.HallRedSpotType.Gonggao:this.RefreshDataByType(s.MsgType.Notice);break;case l.HallRedSpotType.Mail:this.RefreshDataByType(s.MsgType.Mail)}},t.prototype.GetDataByType=function(e){return this.DataTabel[e]&&!Global.Toolkit.isEmptyObject(this.DataTabel[e])?(this.Sort(),this.DataTabel[e]):null},Object.defineProperty(t.prototype,"Name",{get:function(){return"MsgModel"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Status",{get:function(){return this._Status},enumerable:!1,configurable:!0}),t.prototype.SetStatus=function(e){this._Status=null==e?0:e,e&&c.default.Instance.addMsgList(c.PopWndName.Notice,function(){Global.Event.event(GlobalEvent.POP_NOTICE)})},t.prototype.RefreshDataByType=function(e){this.ClearAllNetFaceCache(),this.GetMsgList(e,!1,!1,!1)},t.prototype.ClearAllNetFaceCache=function(){Global.HallServer.clearCache(a.NetAppface.mod,a.NetAppface.GetMsgList,{type:s.MsgType.All}),Global.HallServer.clearCache(a.NetAppface.mod,a.NetAppface.GetMsgList,{type:s.MsgType.Mail}),Global.HallServer.clearCache(a.NetAppface.mod,a.NetAppface.GetMsgList,{type:s.MsgType.Notice})},t.prototype.GetMsgList=function(e,t,o,i){var n=this;void 0===t&&(t=!1),void 0===o&&(o=!1),void 0===i&&(i=!1),Global.HallServer.send(a.NetAppface.mod,a.NetAppface.GetMsgList,{type:e},function(o){if(n.DataTabel[e]=o,t)n.CheckIsAnyMailNotRead(t)&&Global.Event.event(GlobalEvent.ShowRedSpot,[!1,l.HallRedSpotType.Mail]),n.CheckIsAnyNoticeNotRead(t)&&Global.Event.event(GlobalEvent.ShowRedSpot,[!1,l.HallRedSpotType.Gonggao]),n.AssemblyData(o);else{n.Sort();var i=n.DataTabel[e];e==s.MsgType.Notice?n.event(s.MsgEvent.NoticeListCallback,i):n.event(s.MsgEvent.MsgListCallback,i)}},this.SpreadErronFunc.bind(this),!1,o?0:180)},t.prototype.AssemblyData=function(e){var t;null==e||Global.Toolkit.isEmptyObject(e)||(this.DataTabel.hasOwnProperty(s.MsgType.Mail)||((t={}).mail_total=e.mail_total||-1,t.mail=e.mail||null,this.DataTabel[s.MsgType.Mail]=t||null),this.DataTabel.hasOwnProperty(s.MsgType.Notice)||((t={}).notice_tital=e.notice_tital||-1,t.notice=e.notice||null,this.DataTabel[s.MsgType.Notice]=t||null))},t.prototype.SpreadErronFunc=function(e){return null==e._errstr||(Global.UI.fastTip(e._errstr+""),!1)},t.prototype.DelMail=function(e){var t=this;Global.HallServer.send(a.NetAppface.mod,a.NetAppface.DelMail,{id:e},function(o){for(var i=s.MsgType.Mail,n=0;n<t.DataTabel[i].mail.length;n++)if(t.DataTabel[i].mail[n]&&t.DataTabel[i].mail[n].id===e){t.DataTabel[i].mail.splice(n,1);break}t.ClearAllNetFaceCache(),t.event(s.MsgEvent.DeleteMsgCallback,o)},this.SpreadErronFunc.bind(this))},t.prototype.ReadMsg=function(e,t,o){var i=this;Global.HallServer.send(a.NetAppface.mod,a.NetAppface.ReadMsg,{id:e,msg_type:t,red_status:o},function(o){var n=null;t==s.MsgType.Mail?n=i.DataTabel[t].mail:t==s.MsgType.Notice&&(n=i.DataTabel[t].notice);for(var r=0;r<n.length;r++)if(n[r]&&n[r].id===e){n[r].red_status=1;break}i.ClearAllNetFaceCache(),i.SaveContent(t,e,o),i.event(s.MsgEvent.ReadMsgCallBack,o)},this.SpreadErronFunc.bind(this),!1,1e4)},t.prototype.SaveContent=function(e,t,o){e==s.MsgType.Mail?this.MailContenTabel[t]=o:this.NoticeContenTabel[t]=o},t.prototype.GetContentByID=function(e,t){return e==s.MsgType.Mail?this.MailContenTabel.hasOwnProperty(t)?this.MailContenTabel[t]:null:this.NoticeContenTabel.hasOwnProperty(t)?this.NoticeContenTabel[t]:null},t.prototype.CheckIsAnyMailNotRead=function(e){if(void 0===e&&(e=!1),null!=this.DataTabel){var t=!1,o=e?this.DataTabel[s.MsgType.All]:this.DataTabel[s.MsgType.Mail];if(o)for(var i=0;i<o.mail.length;i++)if(o.mail[i]&&0==o.mail[i].red_status){t=!0;break}return t}},t.prototype.CheckIsAnyNoticeNotRead=function(e){if(void 0===e&&(e=!1),null!=this.DataTabel){var t=!1,o=e?this.DataTabel[s.MsgType.All]:this.DataTabel[s.MsgType.Notice];if(o)for(var i=0;i<o.notice.length;i++)if(o.notice[i]&&0==o.notice[i].red_status){t=!0;break}return t}},t.prototype.clear=function(){this.DataTabel=[],this.MailContenTabel=[],this.NoticeContenTabel=[]},t.prototype.Sort=function(){if(null==this.DataTabel||Global.Toolkit.isEmptyObject(this.DataTabel))cc.error("\u6ca1\u6709\u6570\u636e");else{if(this.DataTabel.hasOwnProperty(s.MsgType.Mail)){var e=this.DataTabel[s.MsgType.Mail].mail||null;e&&0!=e.length&&e.sort(this.SortByStatus)}if(this.DataTabel.hasOwnProperty(s.MsgType.Notice)){var t=this.DataTabel[s.MsgType.Notice].notice||null;t&&0!=t.length&&t.sort(this.SortByStatus)}}},t.prototype.SortByStatus=function(e,t){return 0==e.red_status&&1==t.red_status?-1:1==e.red_status&&0==t.red_status?1:t.id-e.id},t}(r.default);o.default=p,cc._RF.pop()},{"../../../framework/model/ModelBase":"ModelBase","../../core/net/hall/NetEvent":"NetEvent","../../hall/tool/HallPopMsgHelper":"HallPopMsgHelper","../../hall/ui/msg/MsgEvent":"MsgEvent","./HallModel":"HallModel"}],MsgModule:[function(e,t,o){"use strict";cc._RF.push(t,"1980aakn7FIw4636iftOSH4","MsgModule");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.viewClass="WndMsg",t.modelClass="MsgModel",t.resPaths=[],t.prefabPaths=["hall/prefabs/ui/msg/MsgUI"],t.children=[],t}return n(t,e),t}(e("../../../framework/module/ModuleBase").ModuleBase);o.default=r,cc._RF.pop()},{"../../../framework/module/ModuleBase":"ModuleBase"}],MsgView:[function(e,t,o){"use strict";cc._RF.push(t,"f79aeD6yQZCSLe3DVj1LTZZ","MsgView");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("./MsgEvent"),a=e("../../../core/tool/PoolBase"),s=e("../../../core/ui/ViewBase"),l=e("../waiting/WaitingView"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.deleteFlag=!0,t.nodeList=[],t}return n(t,e),t.prototype.onSubViewShow=function(){this.waitingNode.active=!0,this.MsgModel.on(r.MsgEvent.MsgListCallback,this,this.RefreshLeftPanel),this.MsgModel.on(r.MsgEvent.ReadMsgCallBack,this,this.RefreshInfoPanel),this.MsgModel.on(r.MsgEvent.DeleteMsgCallback,this,this.OnDeleteMail),this.flag=!0,this.InitData()},t.prototype.InitData=function(){var e=this.MsgModel.GetDataByType(this.msgType);e?this.RefreshLeftPanel(e):this.MsgModel.GetMsgList(this.msgType)},t.prototype.OnDeleteMail=function(){Global.UI.fastTip("\u5220\u9664\u6210\u529f"),this.ReSetRightPanel(),this.RefreshLeftPanel(this.MsgModel.GetDataByType(this.msgType))},t.prototype.initItemPool=function(){this.itemPool=new p(this.copyItem)},t.prototype.initView=function(){this.copyItem=this.getChild("LeftPanel/MsgItem"),this.leftPanel=this.getChild("LeftPanel"),this.rightPanel=this.getChild("RightPanel"),this.contentNode=this.getChild("LeftPanel/scrollview/view/content");var e=this.getChild("RightPanel/scrollview/view/content/Content");this.contentTxt=e.getComponent(cc.Label),this.contentTxt.string="";var t=this.getChild("RightPanel/from");this.fromTxt=t.getComponent(cc.Label),this.fromTxt.string="";var o=this.getChild("RightPanel/time");this.timeTxt=o.getComponent(cc.Label),this.timeTxt.string="",this.deleteBtn=this.getChild("RightPanel/DeleteButton"),this.deleteBtn.active=!1,this.addCommonClick("RightPanel/DeleteButton",this.DeleteMail,this),this.NoEmail=this.getChild("NoMail"),this.NoEmail.active=!1,this.MsgModel=Global.ModelManager.getModel("MsgModel"),this.msgType=r.MsgType.Mail,this.initItemPool(),this.waitingNode=l.default.initWaitingView(this.node,cc.v2(120,0))},t.prototype.DeleteMail=function(){var e=this;this.deleteFlag?(this.deleteFlag=!1,this.MsgModel.DelMail(this.selectId),this.deleteTimer=setTimeout(function(){e.deleteFlag=!0},1e3)):Global.UI.fastTip("\u60a8\u7684\u64cd\u4f5c\u592a\u9891\u7e41\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5")},t.prototype.onSubViewHide=function(){this.ReSetRightPanel(),this.MsgModel.off(r.MsgEvent.MsgListCallback,this,this.RefreshLeftPanel),this.MsgModel.off(r.MsgEvent.ReadMsgCallBack,this,this.RefreshInfoPanel),this.MsgModel.off(r.MsgEvent.DeleteMsgCallback,this,this.OnDeleteMail),this.selectId=0},t.prototype.RefreshLeftPanel=function(e){if(null==e)return this.waitingNode.active=!1,this.NoEmail.active=!0,this.leftPanel.active=!1,void(this.rightPanel.active=!1);if(this.recycle(),0===e.mail.length)return this.waitingNode.active=!1,this.NoEmail.active=!0,this.leftPanel.active=!1,void(this.rightPanel.active=!1);var t=e.mail||[],o=t.length;this.leftPanel.active=!0,this.rightPanel.active=!0,this.NoEmail.active=!1,this.deleteBtn.active=!0;for(var i=0;i<o;i++){var n=this.itemPool.getItem();n.name=String(t[i].id),n.setParent(this.contentNode),this.nodeList.push(n),0===i&&(n.getComponent("MsgItem").SetToggleChecked(!0),n.getComponent("MsgItem").node.name=String(t[i].id),this.selectId=t[i].id),n.active=!0,n.on(cc.Node.EventType.TOUCH_END,this.imageItemClick,this),n.getComponent("MsgItem").onInit(t[i])}var r=t[0];r&&this.MsgModel.ReadMsg(r.id,this.msgType,r.red_status)},t.prototype.imageItemClick=function(e){this.waitingNode.active=!0,Global.Audio.playBtnSound();var t=e.target.getComponent("MsgItem").getGameData();this.selectId=t.id;var o=this.MsgModel.GetContentByID(this.msgType,this.selectId);o?this.RefreshInfoPanel(o):this.MsgModel.ReadMsg(t.id,this.msgType,t.red_status)},t.prototype.RefreshInfoPanel=function(e){this.waitingNode.active=!1,this.contentTxt.string="\r\n"+Global.Toolkit.removeEmoji(e.content)||"",this.timeTxt.string=e.send_time||"",this.fromTxt.string=Global.Toolkit.substrEndWithElli(e.from,16)||"",this.RefreshLeftItem(e)},t.prototype.RefreshLeftItem=function(e){var t=cc.find(String(e.id),this.contentNode);t&&t.isValid&&t.getComponent("MsgItem").SetUnReadActiveState(!1)},t.prototype.ReSetRightPanel=function(){this.contentTxt.string="",this.timeTxt.string="",this.fromTxt.string=""},t.prototype.onDispose=function(){this.itemPool&&this.itemPool.resetPool(),this.nodeList=[],this.deleteTimer&&clearTimeout(this.deleteTimer)},t.prototype.recycle=function(){this.itemPool&&this.itemPool.recycleAll(this.nodeList),this.nodeList=[]},t}(s.default);o.default=c;var p=function(e){function t(t){var o=e.call(this)||this;return o.copyNode=t,o}return n(t,e),t.prototype.createItem=function(){return cc.instantiate(this.copyNode)},t.prototype.resetItem=function(e){e.active=!1,e.setParent(null)},t.prototype.recycleAll=function(t){var o=this;e.prototype.recycleAll.call(this,t),t.forEach(function(e){o.resetItem(e)})},t}(a.default);cc._RF.pop()},{"../../../core/tool/PoolBase":"PoolBase","../../../core/ui/ViewBase":"ViewBase","../waiting/WaitingView":"WaitingView","./MsgEvent":"MsgEvent"}],MusicLayerView:[function(e,t,o){"use strict";cc._RF.push(t,"e90c4kCQpJPA4ymbuSSolQe","MusicLayerView");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/ui/ViewBase"),a=e("../../../hallcommon/model/PlayerInfoModel"),s=e("./DiantaiItem"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scrollView=null,t.musicArr=[],t}return n(t,e),t.prototype.initView=function(){this.model=Global.ModelManager.getModel("PlayerInfoModel"),this.scrollView=this.getComponent("scrollview",cc.ScrollView),this.copyItem=this.getChild("scrollview/item"),this.copyItem&&(this.copyItem.active=!1),this.InitScrollViewObj(),this.initMusic()},t.prototype.initMusic=function(){var e=this,t=this.model.musicData;t?this.transMusicData(t):this.model.requestBgmList(function(t){console.log(t),e.transMusicData(t)})},t.prototype.transMusicData=function(e){if(e){var t=this.model.diantaiMusicArr[0];this.musicArr.push(t);for(var o=e.keys(),i=0;i<e.size;i++){var n=o.next().value,r=e.get(n);this.musicArr.push(r)}for(i=0;i<this.musicArr.length;i++){var a=this.musicArr[i];a.url=a.file,i==this.musicArr.length-1&&this.initItem()}}},t.prototype.initItem=function(){this.listView.allDatas=this.musicArr,this.listView.updateView()},t.prototype.InitScrollViewObj=function(){var e=this;this.listView=Global.UIHelper.addScrollViewCarmackComp(this.scrollView.node,this.copyItem,5,0,this,function(t,o){var i=e.listView.allDatas[o];t.getComponent(s.default).init(i)})},t.prototype.refreshUI=function(){this.listView.updateView()},t.prototype.onSubViewHide=function(){this.model.off(a.default.UpdateScrollView,this,this.refreshUI)},t.prototype.onSubViewShow=function(){this.refreshUI(),this.model.on(a.default.UpdateScrollView,this,this.refreshUI)},t}(r.default);o.default=l,cc._RF.pop()},{"../../../core/ui/ViewBase":"ViewBase","../../../hallcommon/model/PlayerInfoModel":"PlayerInfoModel","./DiantaiItem":"DiantaiItem"}],NativeJSBBridge:[function(e,t,o){"use strict";cc._RF.push(t,"52bdeY7N6hOa5vpMpRzphgL","NativeJSBBridge"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../logic/hallcommon/const/HallStorageKey"),n=function(){function e(){this.REPORT_CLICK_GAME_KEY="clickGame",this.clickGames=[]}return e.prototype.init=function(){cc.sys.isBrowser||Global.Toolkit.checkVersionSupport(20009)&&(cc.sys.os!=cc.sys.OS_ANDROID&&cc.sys.os!=cc.sys.OS_IOS||native&&native.JSBBridge&&(this.jsbBridge=native.JSBBridge.getInstance()))},e.prototype.addClickGames=function(e){e&&null!=e&&(this.clickGames[this.clickGames.length]=e);var t=Global.Setting.storage.get(i.default.Uid)||"guest";this.setBuglyUserID(t),this.addBuglyUserValue(this.REPORT_CLICK_GAME_KEY,JSON.stringify(this.clickGames))},e.prototype.log=function(e,t,o){this.jsbBridge&&this.jsbBridge.log&&this.jsbBridge.log(e,t,o)},e.prototype.setBuglyUserID=function(e){this.jsbBridge&&this.jsbBridge.setBuglyUserID&&this.jsbBridge.setBuglyUserID(e)},e.prototype.setBuglyTag=function(e){this.jsbBridge&&this.jsbBridge.setBuglyTag&&this.jsbBridge.setBuglyTag(e)},e.prototype.addBuglyUserValue=function(e,t){this.jsbBridge&&this.jsbBridge.addBuglyUserValue&&this.jsbBridge.addBuglyUserValue(e,t)},e.prototype.removeBuglyUserValue=function(e){this.jsbBridge&&this.jsbBridge.removeBuglyUserValue&&this.jsbBridge.removeBuglyUserValue(e)},e.prototype.reportException=function(e,t){this.jsbBridge&&this.jsbBridge.reportException&&this.jsbBridge.reportException(e,t)},e.prototype.setBuglyAppID=function(e){this.jsbBridge&&this.jsbBridge.setBuglyAppID&&this.jsbBridge.setBuglyAppID(e)},e.prototype.setBuglyAppChannel=function(e){this.jsbBridge&&this.jsbBridge.setBuglyAppChannel&&this.jsbBridge.setBuglyAppChannel(e)},e.prototype.setBuglyAppVersion=function(e){this.jsbBridge&&this.jsbBridge.setBuglyAppVersion&&this.jsbBridge.setBuglyAppVersion(e)},e.prototype.decryptData=function(e){if(this.jsbBridge&&this.jsbBridge.decryptData){var t=this.jsbBridge.decryptData(e);return t&&(t=Global.Toolkit.strReplaceCtrChar(t)),t}},e.prototype.getLoginSign=function(e,t){if(this.jsbBridge&&this.jsbBridge.getLoginSign)return this.jsbBridge.getLoginSign(e,t)},e.prototype.getTotalMem=function(){if(this.jsbBridge&&this.jsbBridge.getTotalMem){var e=this.jsbBridge.getTotalMem();return Logger.error("getTotalMem = "+e),e}},e.prototype.getFreeMem=function(){if(this.jsbBridge&&this.jsbBridge.getFreeMem){var e=this.jsbBridge.getFreeMem();return Logger.error("getFreeMem = "+e),e}},e.prototype.getUsedMem=function(){if(this.jsbBridge&&this.jsbBridge.getUsedMem){var e=this.jsbBridge.getUsedMem();return Logger.error("getUsedMem = "+e),e}},e}();o.default=n,cc._RF.pop()},{"../../logic/hallcommon/const/HallStorageKey":"HallStorageKey"}],NatvieEvent:[function(e,t,o){"use strict";cc._RF.push(t,"ce98f8SS65DW79vkzXhkiMl","NatvieEvent");var i=this&&this.__spreadArrays||function(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;var i=Array(e),n=0;for(t=0;t<o;t++)for(var r=arguments[t],a=0,s=r.length;a<s;a++,n++)i[n]=r[a];return i};Object.defineProperty(o,"__esModule",{value:!0});var n,r=e("../../logic/hallcommon/const/HallStorageKey"),a=e("../../logic/core/tool/AppHelper"),s=e("../libs/Base64Cls"),l=function(){function e(){this.JS_Native_Common_Java_Class="com.game.libs.JSbridge",this.JS_Native_Common_OC_Class="JSbridge",this.JS_Native_Common_SyncFunc="nativeCallSync",this.JS_Native_Common_AsyncFunc="nativeCallAsync",this.isBackground=!1,this.timer=null,this.callbackArray=[],this.jiamiKey="",this.jiamiType=0,this.jiamiKeep=0,this.jiamiFirstLetter="x",this.jiamiFilterClass="",this.jiamiOnlyClass="",this.jiamiOnlyFunc="",this.onResume=function(){this.isBackground=!1,this.timer&&clearTimeout(this.timer),Logger.log("---------NativeEvent----------onResume---------"),a.default.isBaiduPlatform()&&Global.Event.event(GlobalEvent.UPDATE_BAIDU_STATE)},this.onPause=function(){this.isBackground=!0,Logger.log("---------NativeEvent----------onPause---------")},cc.game.on(cc.game.EVENT_HIDE,this.onPause,this),cc.game.on(cc.game.EVENT_SHOW,this.onResume,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)}return e.prototype.onKeyDown=function(e){switch(e.keyCode){case cc.macro.KEY.back:Global.NativeEvent.onShowExitDialog()}},e.prototype.onShowExitDialog=function(){var e=this;Logger.log("cocos----------showExitDialog-----"),Global.UI.showYesNoBox("\u662f\u5426\u9000\u51fa\u6e38\u620f\uff1f",function(){e.onExitGame()},null)},e.prototype.nativeForAndroid=function(e,t,o){for(var n,r=[],a=3;a<arguments.length;a++)r[a-3]=arguments[a];var l=!1;if(""!=this.jiamiFilterClass&&e.indexOf(this.jiamiFilterClass)>=0&&(l=!0),!l){if(""!=this.jiamiOnlyClass&&""!=this.jiamiOnlyFunc){var c=e+"==="+t+"==="+o+"===";return r.forEach(function(e){c+=e+"==="}),e=this.jiamiOnlyClass,t=this.jiamiOnlyFunc,o="(Ljava/lang/String;)Ljava/lang/String;",jsb.reflection.callStaticMethod(e,t,o,c)}if(""!=this.jiamiKey){var p=e.split(".");p.length<=1&&(p=e.split("/")),e="";for(var h=0;h<p.length;h++){var u=this.jiamiKey+p[h],d=this.jiamiType%10;h==p.length-1&&2==d?u=p[h]:this.jiamiType>10?(u=Global.Toolkit.md5(u),this.jiamiKeep>0&&(u=u.substr(0,this.jiamiKeep)),u=this.jiamiFirstLetter+u):(u=s.default.encode(u),this.jiamiKeep>0&&(u=u.substr(0,this.jiamiKeep)),u=u.replace(/=/g,this.jiamiFirstLetter)),""!=e&&(e+="/"),e+=u}}}var f=(n=jsb.reflection).callStaticMethod.apply(n,i([e,t,o],r));return f},e.prototype.nativeForIOS=function(e,t,o){return jsb.reflection.callStaticMethod(e,t,o)},e.prototype.nativeForWeb=function(e){return Logger.log("-----------!!!Native call-----funcName = "+e),null},e.prototype.NativeCallNetWorkFailed=function(e){if(e){Logger.log("------------NativeCallNetWorkFailed return "+e);var t=void 0;try{t=JSON.parse(e)}catch(o){return Logger.error("\u89e3\u6790json\u5931\u8d25",e),void Global.ReportTool.ReportClientError("NativeCallNetWorkFailed",{des:"NativeCallNetWorkFailed",content:e})}t&&(t.errorCode,t.url)}},e.prototype.NativeCallBackAsync=function(e){if(e){Logger.log("------------native return "+e);var t=void 0;try{t=JSON.parse(e)}catch(a){return Logger.error("\u89e3\u6790json\u5931\u8d25",e),void Global.ReportTool.ReportClientError("nativeCallAsyncError",{des:"nativeCallAsyncError",content:e})}for(var o=void 0,i=0;i<this.callbackArray.length;i++){var n=this.callbackArray[i];if(t.funcName==n.funcName){o=i;var r=n.callback;r?r(t):Logger.log("call is null",n.funcName,"return name",t.funcName)}else Logger.log("element.funcName",n.funcName,"return name",t.funcName)}null!=o&&null!=o&&this.callbackArray.splice(o,1)}else Logger.log("-----------native has no return-----")},e.prototype.nativeCallAsync=function(e,t,o){this.callbackArray.push({funcName:e,callback:o}),this.nativeCall(e,"async",t)},e.prototype.nativeCallSync=function(e,t,o){var i=this.nativeCall(e,"sync",t);Logger.log("-----nativeCallSync------returnValue="+i);var n=null;if(i)try{n=JSON.parse(i),o&&o(n)}catch(r){Logger.error("nativeCallSync error"+r),Global.ReportTool.ReportClientError("nativeCallSyncError",{des:"nativeCallSyncError",content:r})}return n},e.prototype.nativeCall=function(e,t,o){if(e){if(cc.sys.isNative){o||(o={});var i="",n="";"sync"==t?(i=this.JS_Native_Common_SyncFunc,n="(Ljava/lang/String;)Ljava/lang/String;"):"async"==t&&(i=this.JS_Native_Common_AsyncFunc,n="(Ljava/lang/String;)V");var r={funcName:e,funcParam:JSON.stringify(o)},a=JSON.stringify(r);return(cc.sys.os===cc.sys.OS_ANDROID?this.nativeForAndroid(this.JS_Native_Common_Java_Class,i,n,a):cc.sys.os===cc.sys.OS_IOS?this.nativeForIOS(this.JS_Native_Common_OC_Class,i+":",a):this.nativeForWeb(e,o))||void 0}}else Logger.error("nativeCall funcName = null")},e.prototype.Init=function(){if(cc.sys.os==cc.sys.OS_ANDROID){var e=this.nativeForAndroid("initjscall.SyncCall","Init","(Ljava/lang/String;)Ljava/lang/String;","");if(e||(e=this.nativeForAndroid("org.cocos2dx.javascript.AppActivity","Init","(Ljava/lang/String;)Ljava/lang/String;","")),e){var t=JSON.parse(e),o=t.jiami,i=t.key;if(this.jiamiType=parseInt(o),this.jiamiType>0){this.jiamiKey=i;var n=t.keep;n&&(this.jiamiKeep=n);var r=t.first;r&&(this.jiamiFirstLetter=r);var a=t.filter;a&&(this.jiamiFilterClass=a);var s=t.onlyfunc;s&&(this.jiamiOnlyFunc=s);var l=t.onlyclass;l&&(this.jiamiOnlyClass=l)}}}},e.prototype.onInit=function(){if(this.nativeCallSync("onInit"),!cc.sys.isBrowser&&(cc.sys.os==cc.sys.OS_ANDROID||cc.sys.os==cc.sys.OS_IOS)){var e=Global.HotUpdateManager.updateHelper.genStoragePath("hall")+"/cer";if(jsb&&jsb.fileUtils.isDirectoryExist(e))(t=jsb.fileUtils.listFiles(e))&&t.length>0&&(Global.Setting.SystemInfo.cerDirFiles=t);else if(jsb&&jsb.fileUtils.isDirectoryExist("cer")){var t;(t=jsb.fileUtils.listFiles("cer"))&&t.length>0&&(Global.Setting.SystemInfo.cerDirFiles=t)}}},e.prototype.hideSplashView=function(){this.nativeCallSync("hideSplashView")},e.prototype.showSplashView=function(){this.nativeCallSync("showSplashView")},e.prototype.saveToAlbum=function(e,t){var o={};o.path=e,this.nativeCallAsync("saveToAlbum",o,function(e){t&&(t(e),t=null)})},e.prototype.getNativeParams=function(e){cc.sys.isNative&&this.nativeCallSync("getNativeParams",null,function(t){if(0==t.result){var o=JSON.parse(t.funcParam),i=Global.Setting.SystemInfo;if(i.deviceId=o.deviceId,o.firstInstallStatus){var n=Number(t.firstInstallStatus);i.firstInstallStatus=1===n}if(o.webglData&&(i.webglData=o.webglData),o.appChannel&&(i.packChannel=o.appChannel),o.appVersion&&(i.appVersion=o.appVersion),o.pkgVersion&&(i.pkgVersion=o.pkgVersion),o.gameUrlJsonCfg&&(i.gameUrlJsonCfg=o.gameUrlJsonCfg),o.clipboardText&&(i.clipboardText=o.clipboardText),o.screenWidth&&(i.nativeScreenWidth=o.screenWidth),o.screenHeight&&(i.nativeScreenHeight=o.screenHeight),o.screenDensity&&(i.nativeScreenDensity=o.screenDensity),o.screenDensityDpi&&(i.nativeScreenDensityDpi=o.screenDensityDpi),o.hostIp&&(i.hostIp=o.hostIp),o.osBuildModel&&(i.osBuildModel=o.osBuildModel),o.osBuildVersionSDK&&(i.osBuildVersionSDK=o.osBuildVersionSDK),o.osBuildVersionRelease&&(i.osBuildVersionRelease=o.osBuildVersionRelease),o.nativeLog){var a=Number(o.nativeLog);i.nativeLog=1===a}if(o.bundleName&&(i.bundleName=o.bundleName),o.platform){var s=o.platform;i.nativePlatform=s}if(o.isIphoneX){var l=o.isIphoneX;1===Number(l)&&(i.isIphoneX=!0)}if(o.appConstUrl&&(i.appConstUrl=o.appConstUrl),o.appConstBackupUrl&&(i.appConstBackupUrl=o.appConstBackupUrl),o.appConstBackupUrl1&&(i.appConstBackupUrl1=o.appConstBackupUrl1),o.appConstUrlArray){var c=JSON.parse(o.appConstUrlArray);c&&(i.appConstUrlArray=Global.UrlUtil.dealFullUrlWithMutiLinesSameHost(c))}if(o.appID&&(i.appID=o.appID),o.subPlatformID&&(i.subPlatformID=o.subPlatformID),o.appName&&(i.appName=o.appName),o.zipModel){var p=o.zipModel;1===Number(p)&&(i.zipModel=!0)}if(o.wxKey&&(i.wxKey=o.wxKey),o.jpushKey&&(i.jpushKey=o.jpushKey),o.appSign&&(i.appSign=o.appSign),o.simulator&&(i.simulator=o.simulator),o.hallSkin&&(i.hallSkin=o.hallSkin),o.gameSkin&&(i.gameSkin=o.gameSkin),o.packageTag&&(i.packageTag=o.packageTag),cc.sys.os===cc.sys.OS_ANDROID){o.deviceBrand&&(i.deviceBrand=o.deviceBrand);var h=Global.Setting.storage.get(r.default.Uid),u=Global.Setting.storage.get(r.default.ServerDeviceId);u&&(i.server_id=u),!h||null!=u&&""!=u&&0!=u||(i.server_id=o.deviceId)}else cc.sys.os===cc.sys.OS_IOS&&(i.deviceBrand="Apple")}e&&e(t)})},e.prototype.getOpenInstallData=function(e){this.nativeCallAsync("getOpenInstallData",null,function(t){if(0==t.result){var o=t.funcParam;e&&(e(o),e=null)}else Logger.error("getOpenInstallData\u5931\u8d25"),e&&(e(null),e=null)})},e.prototype.getSharetraceData=function(e){this.nativeCallAsync("getSharetraceData",null,function(t){if(0==t.result){var o=t.funcParam;e&&(e(o),e=null)}else e&&(e(null),e=null)})},e.prototype.startWXLogin=function(e){this.nativeCallAsync("startWXLogin",{wxAppKey:Global.Setting.WX_APP_ID},function(t){e&&(e(t),e=null)})},e.prototype.startFBLogin=function(e){this.nativeCallAsync("startFBLogin",null,function(t){e&&(e(t),e=null)})},e.prototype.startOpenAlbum=function(e){this.nativeCallAsync("openPhotos",null,function(t){e&&(e(t),e=null)})},e.prototype.startOpenCamera=function(e){this.nativeCallAsync("openTakePhoto",null,function(t){e&&(e(t),e=null)})},e.prototype.nstartOpenAlbum=function(e,t,o,i,n,r){void 0===e&&(e=2),void 0===t&&(t=51200),void 0===o&&(o=120),void 0===i&&(i=200),void 0===n&&(n=100);var a={uploadWay:e,videoMaxsize:t,videoDuration:o,imageMaxsize:i,thumbMaxsize:n,userid:Global.ChatServer.userid,token:Global.ChatServer.token,endpoint:Global.Setting.alioss_endpoint,stsserver:"https://"+Global.ChatServer.hurl+"/login/ossAuthority",bucket:Global.Setting.alioss_bucket};this.nativeCallAsync("openPhotos",a,function(e){r&&(r(e),r=null)})},e.prototype.nstartOpenCamera=function(e,t,o,i){void 0===t&&(t=200),void 0===o&&(o=100);var n={uploadWay:e,imageMaxsize:t,thumbMaxsize:o,userid:Global.ChatServer.userid,token:Global.ChatServer.token,endpoint:Global.Setting.alioss_endpoint,stsserver:"https://"+Global.ChatServer.hurl+"/login/ossAuthority",bucket:Global.Setting.alioss_bucket};this.nativeCallAsync("openTakePhoto",n,function(e){i&&(i(e),i=null)})},e.prototype.startImageCompress=function(e,t,o){var i={};i.imagePath=e,i.maxSize=t,this.nativeCallAsync("startImageCompress",i,function(e){o&&(o(e),o=null)})},e.prototype.getInfoPlistParam=function(e,t){var o={};o.key=e,this.nativeCallAsync("getInfoPlistParam",o,function(e){t(e),t=null})},e.prototype.getAndroidAppIds=function(e){this.nativeCallAsync("getAndroidAppIds",{},function(t){e&&(e(t),e=null)})},e.prototype.getLocalInstallInfo=function(e){Logger.error("========================getLocalInstallInfo"),this.nativeCallAsync("getLocalInstallInfo",null,function(t){e&&(e(t),e=null)})},e.prototype.copyTextToClipboard=function(e,t){var o={};o.txt=e,this.nativeCallSync("copyTextToClipboard",o,function(e){t&&(t(e),t=null)})},e.prototype.openAiteApp=function(e,t,o){var i={};i.atAppKey=e,i.atUid=t,this.nativeCallSync("openAiteApp",i,function(e){o&&(o(e),o=null)})},e.prototype.awakeWechatApp=function(e){a.default.checkPlatformWXEnable()&&this.nativeCallSync("awakeWechatApp",null,function(t){e&&(e(t),e=null)})},e.prototype.awakeQQApp=function(e){this.nativeCallSync("awakeQQApp",null,function(t){e&&(e(t),e=null)})},e.prototype.awakeALiPayApp=function(e){this.nativeCallSync("awakeALiPayApp",null,function(t){e&&(e(t),e=null)})},e.prototype.awakeFBApp=function(e){this.nativeCallSync("awakeFBApp",null,function(t){e&&(e(t),e=null)})},e.prototype.checkWXInstall=function(e){a.default.checkPlatformWXEnable()&&this.nativeCallSync("checkWXInstall",{wxAppKey:Global.Setting.WX_APP_ID},function(t){e&&(e(t),e=null)})},e.prototype.checkFBInstall=function(e){this.nativeCallSync("checkFBInstall",null,function(t){e&&(e(t),e=null)})},e.prototype.checkAliPayInstalled=function(e){0!=Global.Toolkit.checkIsPlatformShowZhifubao()?this.nativeCallSync("checkAliPayInstalled",null,function(t){e&&(e(t),e=null)}):e&&e({result:-1})},e.prototype.onExitGame=function(){this.nativeCallSync("onExitGame",null,null)},e.prototype.decryptData=function(e){var t=Global.NativeJSBBridge.decryptData(e);if(t){var o={result:0};return o.funcParam=t,o}},e.prototype.setWhiteHosts=function(e){var t={};return t.hosts=e,this.nativeCallSync("setWhiteHosts",t)},e.prototype.getLoginSign=function(e,t){var o=Global.NativeJSBBridge.getLoginSign(e,t);if(o){var i={result:0};return i.funcParam=o,i}var n={};return n.sign_key=e,n.deviceId=t,this.nativeCallSync("getLoginSign",n)},e.prototype.checkCanHotUpdate=function(e,t){var o={};o.appTemaId=e,this.nativeCallSync("checkCanHotUpdate",o,function(e){t&&(t(e),t=null)})},e.prototype.hotUpdateIPA=function(e,t){var o={};o.updateUrl=e,this.nativeCallSync("hotUpdateIPA",o,function(e){t&&(t(e),t=null)})},e.prototype.installApk=function(e,t){var o={};o.path=e,this.nativeCallSync("installApk",o,function(e){t&&(t(e),t=null)})},e.prototype.paymentAliPayOrder=function(e,t){if(0!=Global.Toolkit.checkIsPlatformShowZhifubao()){var o={};o.orderStr=e,o.packageName=Global.Setting.alipayReportPackageName,cc.sys.platform==cc.sys.IPHONE||Global.Toolkit.checkVersionSupport(50013)||this.checkTime(),this.nativeCallAsync("paymentAliPayOrder",o,function(e){t&&(t(e),t=null)})}else Global.UI.fastTip("\u5f53\u524d\u7248\u672c\u4e0d\u652f\u6301\u6b64\u652f\u4ed8\u65b9\u5f0f!")},e.prototype.checkTime=function(){var e=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){e.isBackground||Global.UI.showSingleBox("\u5f53\u524d\u7248\u672c\u8f83\u4f4e\uff0c\u8bf7\u60a8\u4e0b\u8f7d\u6700\u65b0\u7248\u672c\u540e\u5145\u503c\uff01\u70b9\u51fb\u201c\u786e\u5b9a\u201d\u4e0b\u8f7d\u6700\u65b0\u7248\u672c\uff0c\u53d6\u6d88\u8bf7\u5173\u95ed",function(){cc.sys.openURL(Global.Setting.Urls.downLoadUrl)})},2e3)},e.prototype.paymentWXPayOrder=function(e,t){var o={};o.orderStr=e,this.nativeCallAsync("paymentWXPayOrder",o,function(e){t&&(t(e),t=null)})},e.prototype.aliPayInterceptorWithUrl=function(e,t){var o={};o.payUrl=e,this.nativeCallAsync("payInterceptorWithUrl",o,function(e){t&&(t(e),t=null)})},e.prototype.hideAliPayWebView=function(e){this.nativeCallSync("hideAliPayWebView",{},function(t){e&&(e(t),e=null)})},e.prototype.aliPayAuthWithUrl=function(e,t,o,i){Logger.log("--------js aliPayAuthWithUrl called!!!! payUrl = "+e);var n=Global.HallServer.getHallSendUrl(NetAppface.mod,NetAppface.UserNewDownPayAttach),r=Global.UrlUtil.getHttpReffer(n),a={};a.payUrl=e,a.attach_param=t,a.sendUrl=n,a.httpSign=r,a.orderNo=o,this.nativeCallAsync("aliPayAuthWithUrl",a,function(e){i&&(i(e),i=null)})},e.prototype.aliPayAuthWithAppID=function(e,t,o){var i=Global.HallServer.getHallSendUrl(NetAppface.mod,NetAppface.UserNewDownPayAttach),n=Global.UrlUtil.getHttpReffer(i),r={};r.appid=e,r.orderNo=t,r.sendUrl=i,r.httpSign=n,this.nativeCallAsync("aliPayAuthWithAppID",r,function(e){o&&(o(e),o=null)})},e.prototype.aliPayAuthWithPayAuthInfo=function(e,t,o,i){var n=Global.HallServer.getHallSendUrl(NetAppface.mod,NetAppface.UserNewDownPayAttach),r=Global.UrlUtil.getHttpReffer(n),a={};a.payAuthInfo=e,a.payUrl=t,a.orderNo=o,a.sendUrl=n,a.httpSign=r,a.packageName=Global.Setting.alipayReportPackageName,this.nativeCallAsync("aliPayAuthWithPayAuthInfo",a,function(e){i&&(i(e),i=null)})},e.prototype.paymentDPayWithToken=function(e,t,o,i){var n={};n.orderNo=t,n.token=e,n.le_pay_url=o,this.nativeCallAsync("paymentDPayWithToken",n,function(e){i&&(i(e),i=null)})},e.prototype.paymentUPayWithToken=function(e,t,o,i){var n={};n.orderNo=t,n.token=e,n.le_pay_url=o,this.nativeCallAsync("paymentUPayWithToken",n,function(e){i&&(i(e),i=null)})},e.prototype.paymentSDKWithUrl=function(e,t){var o={};o.payStr=e,this.nativeCallAsync("paymentSDKWithUrl",o,function(e){t&&(t(e),t=null)})},e.prototype.payLibWithUrl=function(e,t){var o={};o.payStr=e,this.nativeCallAsync("payLibWithUrl",o,function(e){t&&(t(e),t=null)})},e.prototype.changeOrientationH=function(e){var t=e?"H":"V";cc.sys.os==cc.sys.OS_ANDROID?this.nativeForAndroid("org/cocos2dx/javascript/AppActivity","setOrientation","(Ljava/lang/String;)V",t):cc.sys.os==cc.sys.OS_IOS&&("appstore_sdktype"==Global.Setting.SystemInfo.nativePlatform?jsb.reflection.callStaticMethod("RootViewController","setOrientation:",t):jsb.reflection.callStaticMethod("AppController","setOrientation:",t));var o=cc.view.getFrameSize();console.log("frameSize: "+o.width+"   "+o.height),0==e?(cc.view.setOrientation(cc.macro.ORIENTATION_PORTRAIT),o.width>o.height&&cc.view.setFrameSize(o.height,o.width),cc.Canvas.instance.designResolution=cc.size(720,1280),Global.Setting.SystemInfo.orientationLandscape=!1):(cc.view.setOrientation(cc.macro.ORIENTATION_LANDSCAPE),o.height>o.width&&cc.view.setFrameSize(o.height,o.width),cc.Canvas.instance.designResolution=cc.size(1280,720),Global.Setting.SystemInfo.orientationLandscape=!0),window.jsb&&window.dispatchEvent(new cc.Event.EventCustom("resize",!0))},e.prototype.shareWX=function(e,t,o,i,n,r,s){var l=this;if(null!=e){var c=function(){5==t?l.copyTextToClipboard(n,function(e){0==e.result?(Global.UI.fastTip("\u590d\u5236\u6210\u529f\uff0c\u8bf7\u5fae\u4fe1\u624b\u52a8\u5206\u4eab\u7ed9\u597d\u53cb\u54e6\u3002"),Global.Component.scheduleOnce(function(){l.awakeWechatApp()},1),s&&(s(e),s=null)):Global.UI.fastTip("\u590d\u5236\u5931\u8d25")}):2==t&&Global.UI.fastTip("\u8bf7\u622a\u56fe\u540e\u5fae\u4fe1\u624b\u52a8\u5206\u4eab\u54e6!")};if(0!=a.default.checkWxkey(!1)){var p={shareType:e,type:t,title:o,filePath:i,url:n,description:r};this.nativeCallAsync("shareWX",p,function(e){var t=Number(e.result);-1e3==t||-1e3==t?c():s&&(s(e),s=null)})}else c()}else Logger.error("shareWX param is null")},e.prototype.openBS=function(e,t,o){var i={url:e,schema:t,actionViewHidden:o};this.nativeCallAsync("openBS",i)},e.prototype.closeBS=function(){this.nativeCallAsync("closeBS",{})},e.prototype.openExternalGame=function(e,t,o,i,n){void 0===i&&(i=2),void 0===n&&(n=-1);var r={url:e,schema:t,actionViewHidden:o,style:i,direction:n};this.nativeCallAsync("openExternalGame",r)},e.prototype.closeExternalGame=function(){this.nativeCallAsync("closeExternalGame",{})},e.prototype.phoneVibrates=function(e){if(void 0===e&&(e=400),cc.sys.os==cc.sys.OS_IOS||cc.sys.os==cc.sys.OS_ANDROID&&Global.Toolkit.checkVersionSupport(60002)){var t={milliseconds:e};this.nativeCallAsync("phoneVibrates",t)}},e.prototype.phoneVibratesCancel=function(){(cc.sys.os==cc.sys.OS_IOS||cc.sys.os==cc.sys.OS_ANDROID&&Global.Toolkit.checkVersionSupport(60002))&&this.nativeCallAsync("vibratesCancel",{})},e.prototype.webviewCallback=function(e,t){Logger.error("webviewCallback state = "+e+" url = "+t),Global.WebViewControl.native2JSCallback(e,t)},e.prototype.shixun=function(e,t){void 0===t&&(t=null),cc.sys.isNative?cc.sys.os===cc.sys.OS_ANDROID?this.nativeCallAsync("shixun",e,t):cc.sys.os===cc.sys.OS_IOS?this.nativeCallAsync("shixun",e,t):Logger.error("\u89c6\u8baf\u6682\u4e0d\u652f\u6301\u9664android\u548cios\u4ee5\u5916\u7684\u5176\u4ed6\u5e73\u53f0!!!"):Logger.error("\u89c6\u8baf\u6682\u65f6\u53ea\u652f\u6301android\u548cios\u539f\u751f\u5e73\u53f0!!!")},e.prototype.nativeLog=function(e){var t,o={};t=e?1:0,o.openlog=t,Logger.error("nativeLog========openLogTag "+t),this.nativeCallSync("nativeLog",o)},e.prototype.unzipHallPackage=function(){this.nativeCallSync("unzipHallPackage")},e.prototype.startRequest=function(e,t){var o=this;if(null!=e||0!=e.length){var i=e.join(";"),n={httpDns:"edge.wshttpdns.com"};n.domainUrl=i,this.nativeCallAsync("startRequest",n,function(e){if(0==e.result){var n=e.funcParam;Logger.error("startRequest funcParam = "+n),o.requestAgain("220.242.54.8",i),t&&t(n)}})}},e.prototype.requestAgain=function(e,t,o){Logger.error("requestAgain httpDNSUrl = "+e+" domainUrl = "+t);var i={httpDns:e,domainUrl:t};this.nativeCallAsync("requestAgain",i,function(e){if(0==e.result){var t=e.funcParam;Logger.error("requestAgain funcParam = "+t),o&&o(t)}})},e.prototype.stopHttpDNS=function(){this.nativeCallSync("stopHttpDNS")},e.prototype.addDomainHttpDNSIP=function(e,t,o){var i={domainName:e,ip:t};this.nativeCallSync("addDomainHttpDNSIP",i,function(e){0==e.result?o&&o():Logger.error("addDomainHttpDNSIP========result !=0 ")})},e.prototype.getHttpDnsIPsByDomainName=function(e,t){var o={domainName:e};this.nativeCallSync("getHttpDnsIPsByDomainName",o,function(e){t&&t(e)})},e.prototype.setHttpDnsIPsByDomainName=function(e,t,o){var i={domainName:e,ips:t};this.nativeCallSync("setHttpDnsIPsByDomainName",i,function(e){o&&o(e)})},e.prototype.setRequestProperty=function(e,t){var o={propertys:e};Logger.error("call setRequestProperty :",JSON.stringify(o)),this.nativeCallSync("setRequestProperty",o,function(e){t&&t(e)})},e.prototype.initAlicloudHttpDns=function(e,t){var o={accountID:e};Logger.error("call initAlicloudHttpDns :",JSON.stringify(o)),this.nativeCallSync("initAlicloudHttpDns",o,function(e){t&&t(e)})},e.prototype.setPreResolveHosts=function(e,t){var o={preResolveHosts:e};Logger.error("call setPreResolveHosts :",JSON.stringify(o)),this.nativeCallSync("setPreResolveHosts",o,function(e){t&&t(e)})},e.prototype.getIpByHostAsync=function(e,t){var o={host:e};Logger.error("call getIpByHostAsync :",JSON.stringify(o)),this.nativeCallSync("getIpByHostAsync",o,function(e){t&&t(e)})},e.prototype.getIpsByHostAsync=function(e,t){var o={host:e};Logger.error("call getIpsByHostAsync :",JSON.stringify(o)),this.nativeCallSync("getIpsByHostAsync",o,function(e){t&&t(e)})},e.prototype.initTDunSDK=function(e,t){var o={key:e,path:jsb.fileUtils.getWritablePath()};this.nativeCallAsync("initTDunSDK",o,function(e){t&&t(e)})},e.prototype.getTDunInitRet=function(){return cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod("dun","getInitRet"):cc.sys.os==cc.sys.OS_ANDROID?parseInt(this.nativeForAndroid("com.dun.cocos_api","getInitRet","()I")):-1},e.prototype.getTDunPort=function(e){var t=Number(e);return cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod("dun","oc_getport:",t):cc.sys.os==cc.sys.OS_ANDROID?parseInt(this.nativeForAndroid("com.dun.cocos_api","getport","(I)I",t)):0},e.prototype.initYunDunSDK=function(e,t,o){var i={accessKey:e,uuid:t};this.nativeCallAsync("initYunDunSDK",i,function(e){o&&o(e)})},e.prototype.initYunDunSDKSync=function(e,t){return cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod("YunDunApi","initSync:uuid:",e,t):cc.sys.os==cc.sys.OS_ANDROID?parseInt(this.nativeForAndroid("com.dun.YunDunApi","initSync","(Ljava/lang/String;Ljava/lang/String;)I")):-1},e.prototype.getYunDunInitRet=function(){if(!cc.sys.isBrowser)return cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod("YunDunApi","getInitRet"):cc.sys.os==cc.sys.OS_ANDROID?parseInt(this.nativeForAndroid("com.dun.YunDunApi","getInitRet","()I")):-1},e.prototype.getYunDunServerIPAndPort=function(e,t){var o=Number(t);return cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod("YunDunApi","getServerIPAndPort:port:","",o):cc.sys.os==cc.sys.OS_ANDROID?this.nativeForAndroid("com.dun.YunDunApi","getServerIPAndPort","(Ljava/lang/String;I)Ljava/lang/String;","",o):null},e.prototype.getYunDunClientIP=function(){return cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod("YunDunApi","getClientIP"):cc.sys.os==cc.sys.OS_ANDROID?this.nativeForAndroid("com.dun.YunDunApi","getClientIP","()Ljava/lang/String;"):""},e.prototype.initZADunSDK=function(e,t){var o={key:e};this.nativeCallAsync("initZADunSDK",o,function(e){t&&t(e)})},e.prototype.getZADunInitRet=function(){return cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod("ZAApi","getInitRet"):cc.sys.os==cc.sys.OS_ANDROID?parseInt(this.nativeForAndroid("com.dun.ZAApi","getInitRet","()I")):-1},e.prototype.getZADunPort=function(e){var t=Number(e);return cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod("ZAApi","getServerPort:",t):cc.sys.os==cc.sys.OS_ANDROID?parseInt(this.nativeForAndroid("com.dun.ZAApi","getServerPort","(I)I",t)):0},e.prototype.getZADunPortByAddr=function(e,t){var o=Number(t);return cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod("ZAApi","getServerPortByAddr:port:",e,o):cc.sys.os==cc.sys.OS_ANDROID?parseInt(this.nativeForAndroid("com.dun.ZAApi","getServerPortByAddr","(Ljava/lang/String;I)I",e,o)):0},e.prototype.initAliDunSDK=function(e,t,o){var i={appkey:e,token:t};this.nativeCallAsync("initAliDunSDK",i,function(e){o&&o(e)})},e.prototype.getAliDunInitRet=function(){return cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod("AliDunApi","getInitRet"):cc.sys.os==cc.sys.OS_ANDROID?parseInt(this.nativeForAndroid("com.dun.AliDunApi","getInitRet","()I")):-1},e.prototype.getAliDunPort=function(e,t){var o=t.toString(),i=e.token,n=e.groupName,r=e.domainName;return cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod("AliDunApi","getServerPort:group:domain:port:",i,n,r,o):cc.sys.os==cc.sys.OS_ANDROID?parseInt(this.nativeForAndroid("com.dun.AliDunApi","getServerPort","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;",i,n,r,o)):0},e.prototype.isSupportSDK=function(e,t,o){if(!cc.sys.isNative)return!0;var i=Global.Setting.SystemInfo.appVersion,n=(Number(i),e);t&&(n=n+"_"+t);var r={checkValue:n};this.nativeCallSync("isSupportSDK",r,function(e){o&&o(e)})},e.prototype.CheckSdkBundle=function(e){var t=!0;if(cc.sys.os===cc.sys.OS_ANDROID){t=null;var o={bundle:e};this.nativeCallSync("checkBundle",o,function(e){t=e.result>0})}return t},e}();o.default=l,function(e){e.ALIPAY="com.alipay.sdk.app.PayTask"}(n||(n={})),cc._RF.pop()},{"../../logic/core/tool/AppHelper":"AppHelper","../../logic/hallcommon/const/HallStorageKey":"HallStorageKey","../libs/Base64Cls":"Base64Cls"}],NetEvent:[function(e,t,o){"use strict";cc._RF.push(t,"feeb5TQD1ZMnovyOEmGXO6P","NetEvent"),Object.defineProperty(o,"__esModule",{value:!0}),o.NetClientLog=o.NetCheckVersion=o.NetAppface=o.NetOnline=o.NetVerifyCode=o.NetLogin=void 0;var i=function(){function e(){}return e.mod="login",e.UserPhoneLogin="UserPhoneLogin",e.UserWxLogin="UserWxLogin",e.UserFacebookLogin="UserFacebookLogin",e.VisitorLogin="VisitorLogin",e.UserRegister="UserRegister",e.GetFistConfig="GetFistConfig",e}();o.NetLogin=i;var n=function(){function e(){}return e.mod="verifycode",e.GetPhoneVerifyCode="GetPhoneVerifyCode",e.ForgetPwd="ForgetPwd",e}();o.NetVerifyCode=n;var r=function(){function e(){}return e.mod="online",e.HeartBeat="heart_beat",e}();o.NetOnline=r;var a=function(){function e(){}return e.mod="appface",e.gameAgent="gameAgent",e.GetUserInfo="GetUserInfo",e.GetUserPoint="GetUserPoint",e.GetGameDataMaquee="GetGameDataMaquee",e.GetRewardPackCount="GetRewardPackCount",e.ReceiveRewardPack="ReceiveRewardPack",e.DoRechargeRed="DoRechargeRed",e.ReciveDailyRedpack="ReciveDailyRedpack",e.BuyInsurance="BuyInsurance",e.ReciveInsurance="ReciveInsurance",e.SubsidyPoint="SubsidyPoint",e.GetSubsidyPoint="GetSubsidyPoint",e.EditUserInfo="EditUserInfo",e.EditPwd="EditPwd",e.BindPhone="BindPhone",e.SetSelfCfg="SetSelfCfg",e.CheckVipReward="CheckVipReward",e.ReciveVipReward="ReciveVipReward",e.NewCheckVipReward="NewCheckVipReward",e.NewReciveVipReward="NewReciveVipReward",e.GetGameRoute="GetGameRoute",e.QuaryState="QueryState",e.GetConfig="GetConfig",e.GetBankInfo="GetBankInfo",e.BindBankInfo="BindBankInfo",e.ApplyCash="ApplyCash",e.ApplyCashList="ApplyCashList",e.GetAllPutList="GetAllPutList",e.GetNewPayConfig="GetNewPayConfig",e.GetPayConfig="GetPayConfig",e.GetUserPayList="GetUserPayList",e.GetAllPayPutList="GetAllPayPutList",e.UserDownPay="UserNewDownPay",e.GetDownPayUrl="GetUserDownPayData",e.UserUnionPay="UserNewUnionPay",e.UserNewDownPayAttach="UserNewDownPayAttach",e.GetFlowBackCommi="GetFlowBackCommi",e.GetFlowBackRecord="GetFlowBackRecord",e.GetFlowBackPoint="GetFlowBackPoint",e.LoginBank="LoginBank",e.SetBankPwd="SetBankPwd",e.ForgetBankPwd="ForgetBankPwd",e.DealBankPoint="DealBankPoint",e.GetPointRank="GetPointRank",e.GetMsgList="GetMsgList",e.ReadMsg="ReadMsg",e.DelMail="DelMail",e.GetProblem="GetProblem",e.SetProblem="SetProblem",e.GetAgentShare="GetAgentShare",e.GetTeamInfo="GetTeamInfo",e.GetTeamInfoList="GetTeamInfoList",e.QueryTeamUser="QueryTeamUser",e.GetCommiInfo="GetCommiInfo",e.GetCommiInfoList="GetCommiInfoList",e.GetFlowInfoList="GetFlowInfoList",e.GetAgentCommi="GetAgentCommi",e.GetSelfShare="GetSelfShare",e.GetDayAgentShare="GetDayAgentShare",e.BindPid="BindPid",e.GetSelfReadRecord="GetSelfReadRecord",e.GetDayAgentCommi="GetDayAgentCommi",e.GetDayAgentRecord="GetDayAgentRecord",e.GetSelfRead="GetSelfRead",e.GetDayAgent="GetDayAgent",e.GetSelfTeam="GetSelfTeam",e.GetDayAgentTeamInfo="GetDayAgentTeamInfo",e.SeachSelfTeam="SeachSelfTeam",e.SeachSelfTeamUser="SeachSelfTeamUser",e.GetSendRecord="GetSendRecord",e.GetDayFlowInfoList="GetDayFlowInfoList",e.PostIpInfo="PostIpInfo",e.PostInstallGameInfo="PostInstallGameInfo",e.GetActivityCfg="GetActivityCfg",e.ReceiveActivityAward="ReceiveActivityAward",e.GetUserShareUrl="GetUserShareUrl",e.GetLimitTimeFirstPayActivityCfg="GetLimitTimeFirstPayActivityCfg",e.GetLimitTimeFirstPayActivityPointReq="GetLimitTimeFirstPayActivityPoint",e.dynamicSvr="dynamicSvr",e.GetPotPoint="GetPotPoint",e.GetPotRecord="GetPotRecord",e.GetDayFlowBackRecord="GetDayFlowBackRecord",e.GetDayFlowBack="GetDayFlowBack",e.GetDayFlowBackAll="GetDayFlowBackAll",e.PostInstallApp="PushAppInstall",e.GetGameList="GetGameList",e.GetGameTypeList="GetGameTypeList",e.GetTaskActivityAllList="GetTaskActivityAllList",e.GetMyTaskActivityInfo="GetMyTaskActivityInfo",e.GetMyTaskActivityReward="GetMyTaskActivityReward",e.ApplyEnterGame="ApplyEnterGame",e.ApplyTopPoint="ApplyTopPoint",e.ApplyDownPoint="ApplyDownPoint",e.EnterGame="EnterGame",e.TransferSave="TransferSave",e.TransferTake="TransferTake",e.GetDailyGiftMoneyCfg="GetDailyGiftMoneyCfg",e.DoDailyGiftMoney="DoDailyGiftMoney",e}();o.NetAppface=a;var s=function(){function e(){}return e.mod="root",e.checkversion="checkversion",e}();o.NetCheckVersion=s;var l=function(){function e(){}return e.mod="clientlog",e.ClientLogReq="ClientLogReq",e.DownloadAppInfo="DownloadAppInfo",e}();o.NetClientLog=l,cc._RF.pop()},{}],NetSocket:[function(e,t,o){"use strict";cc._RF.push(t,"4d2806/oElP2oUAye/G4BDD","NetSocket"),Object.defineProperty(o,"__esModule",{value:!0}),o.NetSocket=o.NetStatus=void 0;var i,n=e("../../../logic/core/tool/ReportTool");(function(e){e[e.close=0]="close",e[e.connecting=1]="connecting",e[e.connected=2]="connected"})(i=o.NetStatus||(o.NetStatus={}));var r=function(){function e(e,t,o){void 0===t&&(t=null),void 0===o&&(o=null),this._useBinary=!1,this._startTime=0,this._endTime=0,this._sendCount=0,this._resvCount=0,this._url=e,this._serverRoute=t,this._cerPath=o}return Object.defineProperty(e.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),e.prototype.init=function(e,t,o,i,n,r){void 0===r&&(r=!1),this._target=e,this._onMessage=t,this._onOpen=o,this._onError=i,this._onClose=n,this._useBinary=r},Object.defineProperty(e.prototype,"isConnected",{get:function(){return this.status==i.connected},enumerable:!1,configurable:!0}),e.prototype.send=function(e){Logger.log("Send Socket:",e),null!=this._socket&&this.isConnected&&(this._socket.send(e),this._sendCount++)},Object.defineProperty(e.prototype,"usePb",{get:function(){return this._useBinary},enumerable:!1,configurable:!0}),e.prototype.connect=function(){var e=this;this._startTime=(new Date).valueOf(),this._socket=new WebSocket(this._url),this._useBinary&&(this._socket.binaryType="arraybuffer"),this._socket.onopen=function(){e._status=i.connected,e._onOpen&&e._onOpen.call(e._target)},this._socket.onclose=function(t){e._endTime=(new Date).valueOf();var o=e._endTime-e._startTime;if(t&&t.reason){Logger.error("net socket is closed",t.reason);var r=e.getReportParam(0,t.reason,o),a=n.ReportTool.REPORT_TYPE_SOCKET_ERROR;Global.ReportTool.ReportClientError(a,r)}return Logger.error("net socket is closed"),e._status=i.close,e._onClose&&e._onClose.call(e._target),null},this._socket.onerror=function(t){e._endTime=(new Date).valueOf();var o=e._endTime-e._startTime;if(t)try{var r=e.getReportParam(-1,"",o),a=n.ReportTool.REPORT_TYPE_SOCKET_ERROR;Global.ReportTool.ReportClientError(a,r)}catch(s){r=e.getReportParam(-1,"no reason 1",o),a=n.ReportTool.REPORT_TYPE_SOCKET_ERROR,Global.ReportTool.ReportClientError(a,r)}else r=e.getReportParam(-1,"no reason 2",o),a=n.ReportTool.REPORT_TYPE_SOCKET_ERROR,Global.ReportTool.ReportClientError(a,r);Logger.error("net socket error reason"),e._status=i.close,e._onError&&e._onError.call(e._target)},this._socket.onmessage=function(t){t&&t.data&&e.onMessage(t.data)},this._status=i.connecting},e.prototype.getReportParam=function(e,t,o){var i={};return i.error_code=e,i.reason=t,i.url=this._url,i.htime=o,i.sCount=this._sendCount,i.rCount=this._resvCount,this._resvCount>0&&(i.error_code=-2),this._serverRoute&&(i.port=this._serverRoute.port,i.us_port=this._serverRoute.us_port,i.lo_port=this._serverRoute.lo_port,i.host=this._serverRoute.realHost,i.addr_host=this._serverRoute.host),i},e.prototype.onMessage=function(e){this._resvCount++,this._onMessage&&this._onMessage.call(this._target,e)},e.prototype.cleanSocket=function(){this.close(),this._socket&&(this._socket=null),this.cleanCallback()},e.prototype.cleanCallback=function(){this._useBinary=!1,this._onMessage=null,this._onClose=null,this._onMessage=null,this._onError=null},e.prototype.close=function(){if(cc.sys.isObjectValid(this._socket))try{this._socket.close()}catch(e){}},e}();o.NetSocket=r,cc._RF.pop()},{"../../../logic/core/tool/ReportTool":"ReportTool"}],NewBlueSkinModuleCfg:[function(e,t,o){"use strict";cc._RF.push(t,"2d2f5AWDnZOorXqutNGgaDe","NewBlueSkinModuleCfg");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cfg=["LoginModule","HallModule","PersonalInfoModule","PlayerInfoModule","BankModule","ActivityCenterModule","BackUpGameModule","BindingGiftModule","CashBackModule","GameLobbyShellModule","CommonModule","FeedbackModule","CommisionModule","MsgModule","RankModule","RechargeGiftModule","RechargeModule","ServicerModule","ShareModule","SpreadModule","VipQuickPayChatModule","ChooseHeadModule","TimeLimitedRechargeModule","LuckyDrawModule","SpreadGiftModule"],t}return n(t,e),t}(e("./ModuleCfgBase").default);o.default=r,cc._RF.pop()},{"./ModuleCfgBase":"ModuleCfgBase"}],NoPadding:[function(e,t,o){"use strict";cc._RF.push(t,"abd69n3lotGJ5L43j1dAHpZ","NoPadding"),Object.defineProperty(o,"__esModule",{value:!0}),o.NoPadding=void 0;var i=function(){function e(){}return e.pad=function(){},e.unpad=function(){},e}();o.NoPadding=i,cc._RF.pop()},{}],NoticeView:[function(e,t,o){"use strict";cc._RF.push(t,"b2be4Cy+YxKbZ4gSetWQI9P","NoticeView");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("./MsgEvent"),a=e("../../../core/tool/PoolBase"),s=e("../../tool/HallPopMsgHelper"),l=e("../../../core/ui/ViewBase"),c=e("../Activity/ActivityConstants"),p=e("../waiting/WaitingView"),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nodeList=[],t}return n(t,e),t.prototype.onSubViewShow=function(){this.waitingNode.active=!0,this.MsgModel.on(r.MsgEvent.NoticeListCallback,this,this.RefreshLeftPanel),this.MsgModel.on(r.MsgEvent.ReadMsgCallBack,this,this.RefreshInfoPanel),this.MsgModel.SetStatus(null),this.InitData()},t.prototype.InitData=function(){var e=this.MsgModel.GetDataByType(this.msgType);e?this.RefreshLeftPanel(e):this.MsgModel.GetMsgList(this.msgType)},t.prototype.initView=function(){this.copyItem=this.getChild("LeftPanel/MsgItem"),this.contentNode=this.getChild("LeftPanel/scrollview/view/content"),this.layout=this.contentNode.getComponent(cc.Layout);var e=this.getChild("RightPanel/scrollview/view/content/Content");this.contentTxt=e.getComponent(cc.Label),this.contentTxt.string="";var t=this.getChild("RightPanel/from");this.fromTxt=t.getComponent(cc.Label),this.fromTxt.string="";var o=this.getChild("RightPanel/time");this.timeTxt=o.getComponent(cc.Label),this.timeTxt.string="",this.Sprite=this.getChild("RightPanel/maskSprite/SpriteItem").getComponent(cc.Sprite),this.noMsgTips=this.getChild("noMsgTips"),this.noMsgTips.active=!1,this.MsgModel=Global.ModelManager.getModel("MsgModel"),this.msgType=r.MsgType.Notice,this.initItemPool(),this.waitingNode=p.default.initWaitingView(this.node,cc.v2(120,0))},t.prototype.initItemPool=function(){this.itemPool=new u(this.copyItem)},t.prototype.RefreshLeftPanel=function(e){if(null==e)return this.copyItem.active=!1,this.noMsgTips.active=!0,void(this.waitingNode.active=!1);if(this.recycle(),0===e.notice.length)return this.waitingNode.active=!1,this.copyItem.active=!1,void(this.noMsgTips.active=!0);var t=e.notice||[],o=t.length;this.noMsgTips.active=!1;for(var i=0;i<o;i++){var n=this.itemPool.getItem();n.name=String(t[i].id),n.setParent(this.contentNode),this.nodeList.push(n),0===i&&(n.getComponent("FeedbackLeftItem").SetToggleChecked(!0),n.getComponent("FeedbackLeftItem").node.name=String(t[i].id),this.selectId=t[i].id),n.active=!0,n.on(cc.Node.EventType.TOUCH_END,this.imageItemClick,this);var r=n.getComponent("FeedbackLeftItem");r.onInit(t[i].title),r.entityData=t[i]}var a=t[0];a&&this.MsgModel.ReadMsg(a.id,this.msgType,a.red_status)},t.prototype.imageItemClick=function(e){this.waitingNode.active=!0,Global.Audio.playBtnSound();var t=e.target.getComponent("FeedbackLeftItem").entityData;this.selectId=t.id,this.ReSetRightPanel();var o=this.MsgModel.GetContentByID(this.msgType,this.selectId);o?this.RefreshInfoPanel(o):this.MsgModel.ReadMsg(t.id,this.msgType,t.red_status)},t.prototype.RefreshInfoPanel=function(e){this.waitingNode.active=!1,this.ReSetRightPanel(),this.contentTxt.string="\r\n"+Global.Toolkit.removeEmoji(e.content)||"",this.timeTxt.string=e.send_time||"",this.fromTxt.string=e.from||"",this.Sprite.spriteFrame=null,Global.Event.event(c.ActivityConstants.SHOW_ACT_WAITTING,!1);var t=this;null==e.back_url||Global.Toolkit.isEmptyObject(e.back_url)||(this.contentTxt.string="",this.timeTxt.string="",this.fromTxt.string="",Global.Event.event(c.ActivityConstants.SHOW_ACT_WAITTING,!0),cc.assetManager.loadRemote(e.back_url,{ext:".png"},function(o,i){if(t.selectId==e.id&&t.node&&t.node.isValid){var n=new cc.SpriteFrame(i);t.Sprite.sizeMode=cc.Sprite.SizeMode.CUSTOM,t.Sprite.node.width=750,t.Sprite.node.height=480,t.Sprite.spriteFrame=n,Global.Event.event(c.ActivityConstants.SHOW_ACT_WAITTING,!1)}})),this.RefreshLeftItem(e)},t.prototype.onSubViewHide=function(){this.MsgModel.off(r.MsgEvent.NoticeListCallback,this,this.RefreshLeftPanel),this.MsgModel.off(r.MsgEvent.ReadMsgCallBack,this,this.RefreshInfoPanel),s.default.Instance.releaseLock(s.PopWndName.Notice),this.selectId=0,this.ReSetRightPanel()},t.prototype.RefreshLeftItem=function(e){var t=cc.find(String(e.id),this.contentNode);t&&t.isValid&&t.getComponent("FeedbackLeftItem").SetUnReadActiveState(!1)},t.prototype.ReSetRightPanel=function(){this.contentTxt.string="",this.timeTxt.string="",this.fromTxt.string=""},t.prototype.onDispose=function(){this.itemPool&&this.itemPool.resetPool(),this.nodeList=[]},t.prototype.recycle=function(){this.itemPool.recycleAll(this.nodeList),this.nodeList=[]},t}(l.default);o.default=h;var u=function(e){function t(t){var o=e.call(this)||this;return o.copyNode=t,o}return n(t,e),t.prototype.createItem=function(){return cc.instantiate(this.copyNode)},t.prototype.resetItem=function(e){e.active=!1,e.setParent(null)},t.prototype.recycleAll=function(t){var o=this;e.prototype.recycleAll.call(this,t),t.forEach(function(e){o.resetItem(e)})},t}(a.default);cc._RF.pop()},{"../../../core/tool/PoolBase":"PoolBase","../../../core/ui/ViewBase":"ViewBase","../../tool/HallPopMsgHelper":"HallPopMsgHelper","../Activity/ActivityConstants":"ActivityConstants","../waiting/WaitingView":"WaitingView","./MsgEvent":"MsgEvent"}],OlPayView:[function(e,t,o){"use strict";cc._RF.push(t,"004f3BAPcxB55PVrxtB3YD6","OlPayView");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/ui/ViewBase"),a=e("../../../hallcommon/model/RechargeModel"),s=e("../../../core/net/hall/NetEvent"),l=e("../../../core/tool/AppHelper"),c=e("./ScanCodeView"),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nView=a.default.PayType.Wechat,t.itemList=[],t.moneyArr=[],t.curBtnIndex=-1,t.curPayUrl="",t.orderNo="",t}return n(t,e),t.prototype.initView=function(){this.model=Global.ModelManager.getModel("RechargeModel"),this.payTipsLbl=this.getComponent("node/InputBox/moneyLbl",cc.Label),this.btnLayout=this.getComponent("btnLayout",cc.Layout),this.infoNode=this.getChild("Infonode"),this.infoNode.active=!1,this.bankAccountEditBox=this.getComponent("Infonode/unionAccountEditBox",cc.EditBox),this.nameEditBox=this.getComponent("Infonode/nameEditBox",cc.EditBox),this.btnLayout.node.active=!0,this.addCommonClick("goToPayBtn",this.goToPay,this),this.initToggleList(),this.scanCodeView=this.addView("ScanCodeView",this.getChild("ScanCodeView"),c.default,!1)},t.prototype.initToggleList=function(){for(var e=1;e<=8;e++){var t=this.getChild("btnLayout/toggle"+String(e)),o=new h(t,this.onItemClick,this);o.node.active=!1,this.itemList.push(o)}this.bankAccountEditBox.string="\u8bf7\u8f93\u5165\u94f6\u884c\u5361\u53f7",this.nameEditBox.string="\u8bf7\u8f93\u5165\u59d3\u540d"},t.prototype.showScanCodeView=function(e){this.scanCodeView&&(this.scanCodeView.data=e,this.scanCodeView.subViewState=!0)},t.prototype.onItemClick=function(e){if(this.payTipsLbl.string=String(this.moneyArr[e]),this.curBtnIndex!=e){var t=this.itemList[this.curBtnIndex];t&&(t.isChecked=!1),this.curBtnIndex=e}},t.prototype.initData=function(e,t){this.resetSelect(),this.data=t,this.nView=e,this.payKey=t.id,this.moneyArr=t.pay_num_list||[],this.moneyArr.sort(function(e,t){return e-t});for(var o=0;o<this.itemList.length;o++){var i=this.itemList[o];this.moneyArr[o]?(i.initItemData(o,this.moneyArr[o]),i.node.active=!0):i.node.active=!1}},t.prototype.goToPay=function(){var e=this.payTipsLbl.string;return""==e||isNaN(Number(e))?Global.UI.fastTip("\u8bf7\u9009\u62e9\u5145\u503c\u91d1\u989d"):(console.log(Global.PlayerData.phone),this.model.need_bind_phone&&""==Global.PlayerData.phone?Global.UI.fastTip("\u4e3a\u4e86\u60a8\u7684\u8d22\u4ea7\u5b89\u5168\uff0c\u8bf7\u5148\u7ed1\u5b9a\u624b\u673a\u53f7\u7801\u540e\u518d\u5145\u503c"):void(this.nView.indexOf(a.default.PayType.Union)>-1?Global.UI.show("WndRechangeBankInfo",e,this.data):(this.model.reqGetUserDownPay(this.nView,Number(e),this.payKey,JSON.stringify({name:"\u52a0\u85e4",card:"12542245542125"})),Logger.log("\u652f\u4ed8\u8bf7\u6c42\u4e2d----",this.payKey))))},t.prototype.checkTextEmptyAndShowTips=function(e,t){return!(e.length<=0&&(Global.UI.fastTip(t),1))},t.prototype.onSubViewShow=function(){Global.HallServer.on(s.NetAppface.UserDownPay,this,this.onReqOrder),this.model.on(a.default.GetPayUrlResult,this,this.onGetPayUrl)},t.prototype.onReqOrder=function(e){console.log(e);var t=e.order_id;t&&(this.model.event(a.default.ShowWaitingAnim,!0,this.nView),this.model.reqGetPayUrl(t))},t.prototype.reqGetBankInfo=function(e){void 0===e&&(e=!1),Global.HallServer.send(s.NetAppface.mod,s.NetAppface.GetBankInfo,{bind_type:0},this.onResGetBankInfo.bind(this),null,!0,60)},t.prototype.onResGetBankInfo=function(e){e&&(this.bankAccountEditBox.string=e.entrus_bank_account,this.nameEditBox.string=e.entrus_bank_user)},t.prototype.openPayUrlByH5=function(e){cc.sys.openURL(Global.Toolkit.DealWithUrl(e)),Global.UI.showSingleBox(Global.Language.getWord(1606)||"\u652f\u4ed8\u7b49\u5f85\u4e2d")},t.prototype.openAliSDKByOrder=function(e){var t=this;l.default.enableAliPaySDK?(Logger.log("SDK\u652f\u4ed8url\uff1a",e),Global.NativeEvent.checkAliPayInstalled(function(o){0==o.result?(Logger.error("AliPayInstalled true"),Global.NativeEvent.paymentAliPayOrder(e,t.paymentOrderCallBack.bind(t))):-1==o.result&&Global.UI.showSingleBox("\u8bf7\u5148\u5b89\u88c5\u652f\u4ed8\u5b9d",null)})):Global.UI.showSingleBox("\u5f53\u524d\u7248\u672c\u4e0d\u652f\u6301\u652f\u4ed8\u5b9d\uff0c\u8bf7\u66f4\u65b0\u5230\u6700\u65b0\u7248\u672c",null)},t.prototype.openDPayByOrder=function(e,t,o){l.default.enableSDKPay?Global.NativeEvent.paymentDPayWithToken(t,e,o,function(){}):Global.UI.showSingleBox("\u5f53\u524d\u7248\u672c\u4e0d\u652f\u6301Upay\u652f\u4ed8\u65b9\u5f0f",null)},t.prototype.openWXByOrder=function(e){var t=this;l.default.enableWXSDK?(Logger.log("\u5fae\u4fe1SDK\u652f\u4ed8url\uff1a",e),Global.NativeEvent.checkWXInstall(function(o){0==o.result?(Logger.error("WXInstalled true"),Global.NativeEvent.paymentWXPayOrder(e,t.paymentOrderCallBack.bind(t))):-1==o.result&&Global.UI.showSingleBox("\u8bf7\u5148\u5b89\u88c5\u5fae\u4fe1",null)})):Global.UI.showSingleBox("\u5f53\u524d\u7248\u672c\u4e0d\u652f\u6301\u5fae\u4fe1\u652f\u4ed8\uff0c\u8bf7\u66f4\u65b0\u5230\u6700\u65b0\u7248\u672c",null)},t.prototype.openUPayByOrder=function(e,t,o){l.default.enableUPay?Global.NativeEvent.paymentUPayWithToken(t,e,o,function(){}):Global.UI.showSingleBox("\u5f53\u524d\u7248\u672c\u4e0d\u652f\u6301Dpay\u652f\u4ed8\u65b9\u5f0f",null)},t.prototype.openSDKByOrder=function(e){var t=this;l.default.enableSDK?Global.NativeEvent.paymentSDKWithUrl(e,function(e){0==e.result?(Logger.error("openSDKByOrder true"),t.model.event(a.default.ShowWaitingAnim,!1)):(Global.UI.showSingleBox("\u8ba2\u5355\u83b7\u53d6\u5931\u8d25,\u8bf7\u7a0d\u540e\u518d\u8bd5",null),t.model.event(a.default.ShowWaitingAnim,!1))}):Global.UI.showSingleBox("\u5f53\u524d\u7248\u672c\u4e0d\u652f\u6301SDK\u652f\u4ed8\u65b9\u5f0f",null)},t.prototype.openLibByOrder=function(e){var t=this;Global.NativeEvent.payLibWithUrl(e,function(e){0==e.result?(Logger.error("openSDKByOrder true"),t.model.event(a.default.ShowWaitingAnim,!1)):(Global.UI.showSingleBox("\u8ba2\u5355\u83b7\u53d6\u5931\u8d25,\u8bf7\u7a0d\u540e\u518d\u8bd5",null),t.model.event(a.default.ShowWaitingAnim,!1))})},t.prototype.openAliSDKInterceptorWithUrl=function(e){var t=this;l.default.enableAliPaySDK?l.default.enableAliPayInterceptorWithUrl?l.default.enableAliPayCheckInstall?Global.NativeEvent.checkAliPayInstalled(function(o){0==o.result?(Logger.error("AliPayInstalled true"),Logger.log("openAliSDKInterceptorWithUrl url\uff1a",e),Global.NativeEvent.aliPayInterceptorWithUrl(e,t.aliPayInterceptorWithUrlCallBack.bind(t))):(Logger.error("AliPayInstalled false"),t.openPayUrlByH5(e))}):(Logger.error("enableAliPayCheckInstall false"),this.openPayUrlByH5(e)):(Logger.log("openAliSDKInterceptorWithUrl  enableAliPayInterceptorWithUrl = false url\uff1a",e),this.openPayUrlByH5(e)):(Logger.error("openAliSDKInterceptorWithUrl enableAliPaySDK = false open url"),this.openPayUrlByH5(e))},t.prototype.aliPayInterceptorWithUrlCallBack=function(e){e?0==Number(e.result)?Logger.error("aliPayInterceptorWithUrl success and wait money"):(Logger.error("aliPayInterceptorWithUrl failed"),this.openPayUrlByH5(this.curPayUrl)):Logger.error("aliPayInterceptorWithUrlCallBack retObj == null")},t.prototype.checkPayrUrlValid=function(e){return null!=e&&""!=e},t.prototype.openAliSDKAuthWithUrl=function(e,t){var o=this;void 0===t&&(t={}),l.default.enableAliPaySDK?l.default.enableAliPayAuthWithUrl?l.default.enableAliPayCheckInstall?Global.NativeEvent.checkAliPayInstalled(function(i){0==i.result?(Logger.error("AliPayInstalled true"),Logger.log("openAliSDKAuthWithUrl url\uff1a",e),Logger.log("openAliSDKAuthWithUrl orderNo",o.orderNo),Global.NativeEvent.aliPayAuthWithUrl(e,t,o.orderNo,o.aliPayAuthWithUrlCallBack.bind(o))):Logger.error("openAliSDKAuthWithUrl() AliPayInstalled false")}):Logger.error("openAliSDKAuthWithUrl() enableAliPayCheckInstall false"):Logger.error("openAliSDKAuthWithUrl()  enableAliPayAuthWithUrl = false url\uff1a",e):Logger.error("openAliSDKAuthWithUrl() enableAliPaySDK = false open url")},t.prototype.aliPayAuthWithUrlCallBack=function(e){e?0==Number(e.result)?Logger.error("aliPayAuthWithUrlCallBack success and wait money"):(Logger.error("aliPayAuthWithUrlCallBack failed"),this.openPayUrlByH5(this.curPayUrl)):Logger.error("aliPayAuthWithUrlCallBack retObj == null")},t.prototype.openAliSDKAuthWithAppID=function(e){var t=this;l.default.enableAliPaySDK?l.default.enableAliPayAuthWithUrl?l.default.enableAliPayCheckInstall?Global.NativeEvent.checkAliPayInstalled(function(o){0==o.result?(Logger.error("AliPayInstalled true"),Logger.log("openAliSDKAuthWithAppID appid:",e),Logger.log("openAliSDKAuthWithAppID order_no:",t.orderNo),Global.NativeEvent.aliPayAuthWithAppID(e,t.orderNo,t.aliPayAuthWithAppIDCallBack.bind(t))):(Logger.error("openAliSDKAuthWithAppID() AliPayInstalled false"),Global.UI.showSingleBox("\u8bf7\u5148\u5b89\u88c5\u652f\u4ed8\u5b9d!",null))}):Logger.error("openAliSDKAuthWithAppID() enableAliPayCheckInstall false"):Logger.error("openAliSDKAuthWithAppID()  enableAliPayAuthWithUrl = false url\uff1a",e):Logger.error("openAliSDKAuthWithAppID() enableAliPaySDK = false open url")},t.prototype.aliPayAuthWithAppIDCallBack=function(e){e?0==Number(e.result)?Logger.error("aliPayAuthWithAppIDCallBack success and wait money"):Logger.error("aliPayAuthWithAppIDCallBack failed"):Logger.error("aliPayAuthWithAppIDCallBack retObj == null")},t.prototype.openAliSDKAuthWithPayAuthInfo=function(e){var t=this;l.default.enableAliPaySDK?l.default.enableAliPayAuthWithPayAuthInfo?l.default.enableAliPayCheckInstall?Global.NativeEvent.checkAliPayInstalled(function(o){if(0==o.result){Logger.error("AliPayInstalled true");var i=JSON.parse(e),n=i.payAuthInfo,r=i.payUrl;n&&r?(Logger.log("openAliSDKAuthWithPayAuthInfo payAuthInfo:",n),Logger.log("openAliSDKAuthWithPayAuthInfo payUrl:",r),Logger.log("openAliSDKAuthWithPayAuthInfo order_no:",t.orderNo),Global.NativeEvent.aliPayAuthWithPayAuthInfo(n,r,t.orderNo,t.aliPayAuthWithPayAuthInfoCallBack.bind(t))):Logger.log("openAliSDKAuthWithPayAuthInfo payAuthInfo payUrl not invalid")}else Logger.error("openAliSDKAuthWithPayAuthInfo() AliPayInstalled false"),Global.UI.showSingleBox("\u8bf7\u5148\u5b89\u88c5\u652f\u4ed8\u5b9d!",null)}):Logger.error("openAliSDKAuthWithPayAuthInfo() enableAliPayCheckInstall false"):Logger.error("openAliSDKAuthWithPayAuthInfo()  enableAliPayAuthWithPayAuthInfo = false url\uff1a",e):Logger.error("openAliSDKAuthWithPayAuthInfo() enableAliPaySDK = false open url")},t.prototype.aliPayAuthWithPayAuthInfoCallBack=function(e){e?0==Number(e.result)?Logger.error("aliPayAuthWithPayAuthInfoCallBack success and wait money"):Logger.error("aliPayAuthWithPayAuthInfoCallBack failed"):Logger.error("aliPayAuthWithPayAuthInfoCallBack retObj == null")},t.prototype.oldPayUrlLogic=function(e){this.checkPayrUrlValid(e)?e.startsWith("http")?this.openPayUrlByH5(e):e.startsWith("weixin")?this.openWXByOrder(e):this.openAliSDKByOrder(e):Logger.error("pay_sdk_type = null invalid url ++++++")},t.prototype.onGetPayUrl=function(e,t){var o=t.pay_sdk_type;if(null!=o&&null!=o&&12!=o&&13!=o&&this.model.event(a.default.ShowWaitingAnim,!1),0==e){var i=t.url;this.curPayUrl=i;var n=t.order_no;if(this.orderNo=n,null!=o)if(this.checkPayrUrlValid(i))switch(o){case 0:this.oldPayUrlLogic(i);break;case 1:this.openPayUrlByH5(i);break;case 2:this.openAliSDKByOrder(i);break;case 3:this.openAliSDKInterceptorWithUrl(i);break;case 4:var r=t.attach_param||"{}",s=JSON.parse(r);this.openAliSDKAuthWithUrl(i,s);break;case 5:var l=i;this.openAliSDKAuthWithAppID(l);break;case 6:this.openAliSDKAuthWithPayAuthInfo(i);break;case 7:this.openDPayByOrder(i,t.token,t.le_pay_url);break;case 9:this.openUPayByOrder(i,t.token,t.le_pay_url);break;case 10:this.showScanCodeView(t);break;case 11:this.openWXByOrder(i);break;case 12:this.openSDKByOrder(i);break;case 13:this.openLibByOrder(i)}else Logger.error("pay_sdk_type = "+o+" invalid url ++++++");else this.oldPayUrlLogic(i)}else 2==e?t._errno&&Global.UI.fastTip(t._errstr):Global.UI.fastTip("\u652f\u4ed8\u5931\u8d25\uff0c\u8bf7\u5c1d\u8bd5\u5176\u4ed6\u5145\u503c\u65b9\u5f0f")},t.prototype.paymentOrderCallBack=function(e){Logger.log("\u652f\u4ed8\u8fd4\u56de\u7684\u53c2\u6570",e)},t.prototype.onSubViewHide=function(){Global.HallServer.off(s.NetAppface.UserDownPay,this,this.onReqOrder),this.model.off(a.default.GetPayUrlResult,this,this.onGetPayUrl)},t.prototype.resetSelect=function(){this.node&&(this.payTipsLbl&&(this.payTipsLbl.string="\u8bf7\u9009\u62e9\u5145\u503c\u91d1\u989d"),this.scanCodeView.subViewState=!1,this.itemList[this.curBtnIndex]&&(this.itemList[this.curBtnIndex].isChecked=!1))},t.prototype.hideAllItems=function(){for(var e=0;e<this.itemList.length;e++)this.itemList[e].active=!1},t}(r.default);o.default=p;var h=function(e){function t(t,o,i){var n=e.call(this)||this;return n.callback=o,n.target=i,n.valueLbl=[],n.checked=!1,n.setNode(t),n}return n(t,e),t.prototype.initView=function(){this.addCommonClick("",this.onToggleClick,this),this.valueLbl.push(this.getComponent("Background/valueLbl",cc.Label)),this.valueLbl.push(this.getComponent("checkmark/valueLbl",cc.Label)),this.bg=this.getChild("Background"),this.checkBg=this.getChild("checkmark")},t.prototype.initItemData=function(e,t){this.index=e,this.valueLbl[0].string=String(t),this.valueLbl[1].string=String(t)},Object.defineProperty(t.prototype,"isChecked",{get:function(){return this.checked},set:function(e){this.checked!=e&&(this.checked=e),this.setItemStyle()},enumerable:!1,configurable:!0}),t.prototype.onToggleClick=function(){this.callback&&this.callback.call(this.target,this.index),this.isChecked=!0},t.prototype.setItemStyle=function(){this.bg.active=!this.isChecked,this.checkBg.active=this.isChecked},t}(r.default);cc._RF.pop()},{"../../../core/net/hall/NetEvent":"NetEvent","../../../core/tool/AppHelper":"AppHelper","../../../core/ui/ViewBase":"ViewBase","../../../hallcommon/model/RechargeModel":"RechargeModel","./ScanCodeView":"ScanCodeView"}],OldVersionDNS:[function(e,t,o){"use strict";cc._RF.push(t,"542361S4RhHjafCuEEH8ZvQ","OldVersionDNS"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function e(){}return e.prototype.init=function(){},e.prototype.requestHosts=function(e,t,o){(!o&&t||!Global.Setting.useHttpDNS)&&(t(),t=null),Global.Setting.useHttpDNS&&Global.NativeEvent.startRequest(e,t)},e.prototype.getHttpRequestDNSInfo=function(){return null},e.prototype.getHttpDNSInfo=function(){return null},e.prototype.getIp=function(){return null},e.prototype.update=function(){},e}();o.default=i,cc._RF.pop()},{}],OpenSSLKdf:[function(e,t,o){"use strict";cc._RF.push(t,"22c8ccQnJlGGKrzZmoRCI/O","OpenSSLKdf"),Object.defineProperty(o,"__esModule",{value:!0}),o.OpenSSLKdf=void 0;var i=e("../lib/WordArray"),n=e("../lib/CipherParams"),r=e("../algo/EvpKDF"),a=function(){function e(){}return e.execute=function(e,t,o,a){a||(a=i.WordArray.random(8));var s=new r.EvpKDF({keySize:t+o}).compute(e,a),l=new i.WordArray(s.words.slice(t),4*o);return s.sigBytes=4*t,new n.CipherParams({key:s,iv:l,salt:a})},e}();o.OpenSSLKdf=a,cc._RF.pop()},{"../algo/EvpKDF":"EvpKDF","../lib/CipherParams":"CipherParams","../lib/WordArray":"WordArray"}],OpenSSL:[function(e,t,o){"use strict";cc._RF.push(t,"11f09CdWepNz7y60SFiZhJz","OpenSSL"),Object.defineProperty(o,"__esModule",{value:!0}),o.OpenSSL=void 0;var i=e("../lib/CipherParams"),n=e("../lib/WordArray"),r=e("../enc/Base64"),a=function(){function e(){}return e.stringify=function(e){if(!e.ciphertext)throw new Error("missing ciphertext in params");var t,o=e.ciphertext,i=e.salt;if(i){if("string"==typeof i)throw new Error("salt is expected to be a WordArray");t=new n.WordArray([1398893684,1701076831]).concat(i).concat(o)}else t=o;return t.toString(r.Base64)},e.parse=function(e){var t,o=r.Base64.parse(e);return 1398893684===o.words[0]&&1701076831===o.words[1]&&(t=new n.WordArray(o.words.slice(2,4)),o.words.splice(0,4),o.sigBytes-=16),new i.CipherParams({ciphertext:o,salt:t})},e}();o.OpenSSL=a,cc._RF.pop()},{"../enc/Base64":"Base64","../lib/CipherParams":"CipherParams","../lib/WordArray":"WordArray"}],OuterServicer:[function(e,t,o){"use strict";cc._RF.push(t,"88cc0LcloZP85C68P94Iuru","OuterServicer");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.OnlineServicer=o.WxServicer=o.QqServicer=void 0;var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.acceptService=function(e){this.jumpOrOpen(this.serviceDatas[e])},t}(e("./AbsServicer").default);o.default=r;var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.jumpOrOpen=function(e){var t=this;Global.NativeEvent.copyTextToClipboard(e.info,function(e){0==e.result?(Global.UI.fastTip("\u590d\u5236\u6210\u529f"),Global.NativeEvent.awakeQQApp(t.awakeQQCallBack.bind(t))):Global.UI.fastTip("\u590d\u5236\u5931\u8d25")})},t.prototype.awakeQQCallBack=function(e){0==e.result||(-1==e.result?(Logger.log("\u8bf7\u5148\u5b89\u88c5QQ"),Global.UI.showSingleBox("\u8bf7\u5148\u5b89\u88c5QQ",null)):(Logger.log("\u6253\u5f00QQ\u5931\u8d25"),Global.UI.showSingleBox("\u6253\u5f00QQ\u5931\u8d25",null)))},t}(r);o.QqServicer=a;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.jumpOrOpen=function(e){var t=this;Global.NativeEvent.copyTextToClipboard(e.info,function(e){0==e.result?(Global.UI.fastTip("\u590d\u5236\u6210\u529f"),Global.NativeEvent.awakeWechatApp(t.awakeWeChatCallBack.bind(t))):Global.UI.fastTip("\u590d\u5236\u5931\u8d25")})},t.prototype.awakeWeChatCallBack=function(e){0==e.result||(-1==e.result?(Logger.log("\u8bf7\u5148\u5b89\u88c5\u5fae\u4fe1"),Global.UI.showSingleBox("\u8bf7\u5148\u5b89\u88c5\u5fae\u4fe1",null)):(Logger.log("\u6253\u5f00\u5fae\u4fe1\u5931\u8d25"),Global.UI.showSingleBox("\u6253\u5f00\u5fae\u4fe1\u5931\u8d25",null)))},t}(r);o.WxServicer=s;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.jumpOrOpen=function(e){cc.sys.openURL(Global.Toolkit.DealWithUrl(e.info))},t}(r);o.OnlineServicer=l,cc._RF.pop()},{"./AbsServicer":"AbsServicer"}],PBHelper:[function(e,t,o){"use strict";cc._RF.push(t,"128a2y27D9LaZSsRqqPKOe9","PBHelper"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../tool/Toolkit"),n=function(){function e(){this.prePath="hall/prefabs/Dlgs/",this.nodeName="",this.lock=!0,this.Paths={DlgSetting:this.prePath+"DlgSetting",DlgGameNeedDownload:this.prePath+"DlgGameNeedDownload"},this.ComPaths={DlgSetting:this.prePath+"DlgSetting"}}return e.prototype.initHelper=function(e){var t=0,o=i.default.underscore,n=Global.HotUpdateManager.ccLoaderHelper,r=this;o.each(this.ComPaths,function(i,a){Logger.log("-----------------------------getComPaths res---------"),n.getRes(i,cc.Prefab,function(){Logger.log("PBHelper : "+a+" is loaded"),++t>=o.size(r.ComPaths)&&e&&e()})})},e.prototype.addNode=function(e,t,o,i){var n=this;void 0===t&&(t=null),void 0===o&&(o=null),void 0===i&&(i=9999),e==this.nodeName&&this.lock||(Logger.log("PBHelper ----------- addNode-------"+e),this.lock=!0,this.nodeName=e,this.getNode(e,function(e){null===t&&(t=cc.director.getScene().getChildByName("Canvas")),t.getChildByName("popup9999")&&t.getChildByName("popup9999").destroy(),t.addChild(e,i,"popup9999"),n.lock=!1,o&&o(e)}))},e.prototype.getNode=function(e,t,o){void 0===t&&(t=null),void 0===o&&(o=null);var i=t,n=this;Logger.log("--------getNode-----------"+this.Paths[e]),Global.HotUpdateManager.ccLoaderHelper.getRes(this.Paths[e],cc.Prefab,function(){var t=cc.instantiate(cc.loader.getRes(n.Paths[e]));return i&&i(t),t})},e.prototype.releaseNode=function(e){void 0===e&&(e=null);var t=function(e){Logger.log("@Release:"+e);var t=cc.loader.getDependsRecursively(this.Paths[e]);cc.loader.release(t)};if(null===e)for(var o in this.Paths)t(o);else t(e)},e}();o.default=n,cc._RF.pop()},{"../tool/Toolkit":"Toolkit"}],PKCS7:[function(e,t,o){"use strict";cc._RF.push(t,"31893fRag5P47nJUvu/hG5a","PKCS7"),Object.defineProperty(o,"__esModule",{value:!0}),o.PKCS7=void 0;var i=e("../lib/WordArray"),n=function(){function e(){}return e.pad=function(e,t){for(var o=4*t,n=o-e.sigBytes%o,r=n<<24|n<<16|n<<8|n,a=[],s=0;s<n;s+=4)a.push(r);var l=new i.WordArray(a,n);e.concat(l)},e.unpad=function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t},e}();o.PKCS7=n,cc._RF.pop()},{"../lib/WordArray":"WordArray"}],PVPPlayerData:[function(e,t,o){"use strict";cc._RF.push(t,"7ac8cuPAVVOHYgHoZSk2PPq","PVPPlayerData"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function e(e){this.in_game=!1,this.isEmpty=!0,this.nickname="",this.point=0,this.headimg="",this.sit=e,this.in_game=!1,this.isEmpty=!0,this.headkuang=0,this.enterPoint=0,this.vip=0}return e.prototype.setInfo=function(e){this.nickname=e.nickname||"",this.headimg=e.headimg||"",this.point=e.point||0,e._chair&&(this.chair=e._chair),this.in_game=e.in_game,this.area=e.area,this.headkuang=e.a_box||0,null!=this.area&&""!=this.area||(this.area="\u672a\u77e5\u5730\u70b9"),this.isEmpty=!1,this.enterPoint=null==e.EnterPoint?this.point:e.EnterPoint,this.vip=e.vip||0},e.prototype.refresh=function(e){this.point=e.point,this.chair=e._chair,this.in_game=e.in_game,this.enterPoint=null==e.EnterPoint?this.point:e.EnterPoint,this.vip=e.vip},e.prototype.clear=function(){this.nickname="",this.point=0,this.headimg="",this.chair=-1,this.in_game=!1,this.isEmpty=!0,this.enterPoint=0,this.vip=0},e}();o.default=i,cc._RF.pop()},{}],Padding:[function(e,t,o){"use strict";cc._RF.push(t,"3e29919tWZJzZy0pBLsjDDB","Padding"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],PageViewIndicatorPlus:[function(e,t){"use strict";cc._RF.push(t,"15f24pUcA1HgqDpwYLC6tw0","PageViewIndicatorPlus"),cc.Class({extends:cc.PageViewIndicator,editor:!1,properties:{spriteFrame:{default:null,type:cc.SpriteFrame,tooltip:!1,override:!0},unSpriteFrame:{default:null,type:cc.SpriteFrame,tooltip:!1}},_changedState:function(){var e=this._indicators;if(0!==e.length){var t=this._pageView.getCurrentPageIndex();if(!(t>=e.length)){for(var o=0;o<e.length;++o){var i=e[o].getComponent(cc.Sprite);i.spriteFrame=this.unSpriteFrame,i.sizeMode=cc.Sprite.SizeMode.RAW}var n=e[t].getComponent(cc.Sprite);n.spriteFrame=this.spriteFrame,n.sizeMode=cc.Sprite.SizeMode.RAW}}}}),cc._RF.pop()},{}],PaoMaDengBaseView:[function(e,t,o){"use strict";cc._RF.push(t,"bb88e7CmrtDYY4/tZ4skde7","PaoMaDengBaseView");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.itemPrefab=null,t.itemList=new Array,t.itemPool=new Array,t.showCountLimit=4,t.curShowCount=0,t.checkTimer=null,t.lastMsgItem=null,t.msgDataCacheList=[],t.listLengthLimit=8,t.boxLength=590,t.baseTime=3,t.baseSpeed=1,t}return n(t,e),t.prototype.getItem=function(){var e=null;return this.itemPool.length>0?(e=this.itemPool.pop()).node.setSiblingIndex(-1):(e=cc.instantiate(this.itemPrefab).getComponent(cc.RichText)).node.setParent(this.listNode),e.node.active=!0,e.node.x=0,this.itemList.push(e),e},t.prototype.recoveryItem=function(e){for(var t=0;t<this.itemList.length;t++){var o=this.itemList[t];if(o==e){o.string="",o.node.active=!1,o.node.stopAllActions(),this.itemPool.push(o),this.itemList.splice(t,1);break}}},t.prototype.clearRecord=function(){for(var e=0;e<this.itemList.length;e++){var t=this.itemList[e];t.string="",t.node.active=!1,t.node.stopAllActions(),this.itemPool.push(t)}this.itemList=[]},t.prototype.initView=function(){this.listNode=this.getChild("MsgBox"),this.itemPrefab=this.getChild("MsgBox/PMDMsgItem"),this.boxLength=this.listNode.width,this.baseSpeed=this.boxLength/this.baseTime},t.prototype.onSubViewShow=function(){this.startTimer()},t.prototype.onSubViewHide=function(){this.stopTimer(),this.clearRecord()},t.prototype.onDispose=function(){this.stopTimer()},t.prototype.startTimer=function(){null==this.checkTimer&&(this.checkTimer=setInterval(this.checkMsgList.bind(this),100))},t.prototype.stopTimer=function(){this.checkTimer&&(clearInterval(this.checkTimer),this.checkTimer=null)},t.prototype.playAnim=function(e){var t=(e.node.x+e.node.width+this.boxLength)/this.baseSpeed,o=cc.moveTo(t,-(e.node.width+this.boxLength),0),i=cc.callFunc(function(){this.recoveryItem(e),this.curShowCount--},this);e.node.runAction(cc.sequence(o,i)),this.curShowCount++},t.prototype.checkMsgList=function(){try{if(null==this.node||!this.node.isValid)return;if(0==this.msgDataCacheList.length||this.curShowCount>=this.showCountLimit)return;var e=this.msgDataCacheList.shift(),t=0;null!=this.lastMsgItem&&(t=this.lastMsgItem.node.x+this.lastMsgItem.node.width+100,t=Math.max(0,t));var o;o=null!=e.nickname?cc.js.formatStr("<color=#ffffff>\u9e3f\u8fd0\u5f53\u5934\uff0c\u606d\u559c\u73a9\u5bb6</color><color=#00ff00>%s,</color><color=#ffffff>\u5728</color><color=#00d2ff>%s</color><color=#ffffff>\u4e2d\u8d62\u5f97</color><color=#fff100>%s</color><color=#ffffff>\u5143</color>",e.nickname,e.game_id,Global.Toolkit.GetMoneyFormat(e.hitPoint)):e.msg,this.lastMsgItem=this.getItem(),this.lastMsgItem.string=o,this.lastMsgItem.node.x=t,this.playAnim(this.lastMsgItem)}catch(i){this.stopTimer(),Logger.error(i)}},t.prototype.dataSortFunc=function(e,t){return e.type-t.type},t.prototype.addMsgItem=function(e){for(this.msgDataCacheList.push(e);this.msgDataCacheList.length>this.listLengthLimit;)this.msgDataCacheList.shift();this.msgDataCacheList.sort(this.dataSortFunc),this.startTimer()},t}(e("../../../core/ui/ViewBase").default);o.default=r,cc._RF.pop()},{"../../../core/ui/ViewBase":"ViewBase"}],PaoMaDengCompNew:[function(e,t,o){"use strict";cc._RF.push(t,"709ffQ/cDdJybGP/Fjf1HoE","PaoMaDengCompNew");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.PaoMaDengMsgTemp=void 0;var a=e("../tool/PoolBase"),s=e("./PaoMaDengItem"),l=cc._decorator,c=l.ccclass,p=(l.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rootNode=null,t.itemPool=null,t.nodeList=[],t.nodePoolLen=3,t.startPos=cc.v2(1170,260),t.currentUsedPaoMaDeng=[],t.checkTimer=null,t.msgDataCacheList=[],t.listLengthLimit=8,t.totalLenghLimit=10,t.boxLength=600,t.baseSpeed=120,t}return n(t,e),t.prototype.initNode=function(e){if(this.nodePoolLen=e,this.copyNode=this.node.getChildByName("PaoMaDengBoxItem"),this.poolNode=this.node.getChildByName("poolNode"),cc.isValid(this.copyNode)){this.copyNode.active=!1,this.itemPool=new u(this.copyNode);for(var t=0;t<this.nodePoolLen;t++){var o=this.itemPool.getItem();cc.isValid(o)&&(o.setPosition(this.startPos),this.poolNode.addChild(o),this.nodeList.push(o))}this.itemPool.recycleAll(this.nodeList)}},t.prototype.onLoad=function(){cc.game.on(cc.game.EVENT_HIDE,this.onHide,this),cc.game.on(cc.game.EVENT_SHOW,this.onResume,this)},t.prototype.onHide=function(){this.stopTimer(),this.pause()},t.prototype.onResume=function(){this.startTimer(),this.resume()},t.prototype.run=function(e){e&&this.addDefautMsg(),this.startTimer()},t.prototype.getPaoMaDengItem=function(e){var t=this,o=this.itemPool.getItem();if(cc.isValid(o)){var i=o.getComponent(s.default);this.currentUsedPaoMaDeng.push(i);var n=function(){var e=t.currentUsedPaoMaDeng.shift();e.recoveryItem(e.playNode),t.itemPool.recycleItem(e.node)};if(i){var r=this.getCurrentRunning();this.currentUsedPaoMaDeng.forEach(function(e){e.isPlaying&&r>=t.nodePoolLen-1&&e.moveUp(n)}),i.node.active=!0,i.run(e,r,this.nodePoolLen-1)}}},t.prototype.getCurrentRunning=function(){var e=0;return this.currentUsedPaoMaDeng.forEach(function(t){t.isPlaying&&(e+=1)}),e},t.prototype.onDestroy=function(){this.stopTimer(),this.itemPool&&this.itemPool.resetPool(),this.nodeList=[],this.currentUsedPaoMaDeng=[],cc.game.off(cc.game.EVENT_HIDE,this.onHide,this),cc.game.off(cc.game.EVENT_SHOW,this.onResume,this)},t.prototype.onEnable=function(){this.startTimer()},t.prototype.onDisable=function(){this.reset(),this.stopTimer()},t.prototype.startTimer=function(){null==this.checkTimer&&(this.checkTimer=setInterval(this.checkMsgList.bind(this),1e3),Global.Event.on(GlobalEvent.MARQUEESCROLL_COMMON,this,this.addMsgData),Global.Event.on(GlobalEvent.MARQUEESCROLL_BIGWINNER,this,this.addMsgData),Global.Event.on(GlobalEvent.MARQUEESCROLL_VIP,this,this.addPriorityMsgData),Global.Event.on(GlobalEvent.MARQUEESCROLL_COMMI,this,this.addPriorityMsgData))},t.prototype.stopTimer=function(){this.checkTimer&&(Global.Event.off(GlobalEvent.MARQUEESCROLL_COMMON,this,this.addMsgData),Global.Event.off(GlobalEvent.MARQUEESCROLL_BIGWINNER,this,this.addMsgData),Global.Event.off(GlobalEvent.MARQUEESCROLL_VIP,this,this.addPriorityMsgData),Global.Event.off(GlobalEvent.MARQUEESCROLL_COMMI,this,this.addPriorityMsgData),clearInterval(this.checkTimer),this.checkTimer=null)},t.prototype.addPriorityMsgData=function(e){if(null!=this.node&&this.node.isValid)return this.msgDataCacheList.length>=this.totalLenghLimit?(this.msgDataCacheList.pop(),void this.msgDataCacheList.unshift(e.data)):void this.msgDataCacheList.unshift(e.data);this.stopTimer()},t.prototype.checkMsgList=function(){try{if(!this.node||!this.node.isValid)return;if(0==this.msgDataCacheList.length)return;var e=this.msgDataCacheList.shift();this.getPaoMaDengItem(e)}catch(t){Logger.error(t)}},t.prototype.pause=function(){this.nodeList.forEach(function(e){var t=e.getComponent(s.default);t&&cc.isValid(t.node)&&t.node.pauseAllActions()})},t.prototype.resume=function(){this.nodeList.forEach(function(e){var t=e.getComponent(s.default);t&&cc.isValid(t.node)&&t.node.resumeAllActions()})},t.prototype.reset=function(){var e=this;this.currentUsedPaoMaDeng=[],this.nodeList.forEach(function(t){var o=t.getComponent(s.default);o&&(o.recoveryItem(o.playNode),e.itemPool.recycleItem(o.node))})},t.prototype.dataSortFunc=function(e,t){return e.type-t.type},t.prototype.addMsgItem=function(e){null!=this.node&&this.node.isValid?this.msgDataCacheList.length>=this.totalLenghLimit||this.msgDataCacheList.length>=this.listLengthLimit&&null!=e.clientPriority&&0==e.clientPriority&&null!=e.nickname||this.msgDataCacheList.push(e):this.stopTimer()},t.prototype.addDefautMsg=function(){for(var e=[{msg:h.Welcome,type:1},{msg:h.TipBadGame,type:1},{msg:h.NoWallow,type:1}],t=0;t<e.length;t++){var o=e[t];this.addMsgItem(o)}},t.prototype.addMsgData=function(e){if(e.data.game_id){var t=Global.GameData.getGameInfo(e.data.game_id);if(1!=t.status)return;if(!t||null==t.name)return void Logger.error("\u627e\u4e0d\u5230gameid",e.data.game_id)}this.addMsgItem(e.data)},r([c],t)}(cc.Component));o.default=p;var h,u=function(e){function t(t){var o=e.call(this)||this;return o.copyNode=t,o}return n(t,e),t.prototype.createItem=function(){return cc.instantiate(this.copyNode)},t.prototype.resetItem=function(e){e.stopAllActions(),e.active=!1},t.prototype.recycleAll=function(t){var o=this;e.prototype.recycleAll.call(this,t),t.forEach(function(e){o.resetItem(e)})},t}(a.default);(function(e){e.Welcome="\u5c0a\u656c\u7684\u73a9\u5bb6\uff0c\u6b22\u8fce\u8fdb\u5165\u6e38\u620f\u5927\u5385\uff01",e.TipBadGame="\u62b5\u5236\u4e0d\u826f\u6e38\u620f\uff0c\u62d2\u7edd\u76d7\u7248\u6e38\u620f\uff0c\u6ce8\u610f\u81ea\u8eab\u4fdd\u62a4\uff0c\u8c28\u9632\u4e0a\u5f53\u53d7\u9a97",e.NoWallow="\u9002\u5ea6\u6e38\u620f\u76ca\u8111\uff0c\u6c89\u8ff7\u6e38\u620f\u4f24\u8eab\uff0c\u5408\u7406\u5b89\u6392\u65f6\u95f4\uff0c\u4eab\u53d7\u5065\u5eb7\u751f\u6d3b"})(h=o.PaoMaDengMsgTemp||(o.PaoMaDengMsgTemp={})),cc._RF.pop()},{"../tool/PoolBase":"PoolBase","./PaoMaDengItem":"PaoMaDengItem"}],PaoMaDengComp:[function(e,t,o){"use strict";cc._RF.push(t,"f0311RLb9tCX6EoJ3TzyM1M","PaoMaDengComp");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.PaoMaDengIdiom=o.PaoMaDengMsgTemp=o.CommiType=o.PayType=void 0;var a,s,l,c,p=e("../tool/AppHelper"),h=cc._decorator,u=h.ccclass,d=(h.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.playNode=null,t.isPlaying=!1,t.rootNode=null,t.checkTimer=null,t.msgDataCacheList=[],t.listLengthLimit=8,t.totalLenghLimit=10,t.boxLength=600,t.baseSpeed=120,t}return n(t,e),t.prototype.getItem=function(){if(null==this.playNode){var e=new cc.Node("richtextNode");this.playNode=e.addComponent(cc.RichText),this.playNode.node.setParent(this.node),this.playNode.node.anchorX=0,this.playNode.node.anchorY=this.node.anchorY,this.playNode.horizontalAlign=cc.macro.TextAlignment.LEFT,this.playNode.fontSize=24,this.playNode.useSystemFont=!0,this.playNode.fontFamily="Microsoft Yahei",this.playNode.maxWidth=0,this.playNode.lineHeight=this.node.height,this.playNode.handleTouchEvent=!0}return this.playNode.node.active=!0,this.playNode.node.x=0,this.playNode},t.prototype.recoveryItem=function(e){this.isPlaying=!1,e.string="",e.node.active=!1,e.node.stopAllActions()},t.prototype.clearRecord=function(){this.playNode=null},t.prototype.init=function(){this.boxLength=this.node.width,this.startTimer()},t.prototype.onDestroy=function(){this.stopTimer()},t.prototype.onEnable=function(){this.isPlaying=!1,this.reset(),this.startTimer()},t.prototype.onDisable=function(){this.stopTimer()},t.prototype.startTimer=function(){null==this.checkTimer&&(this.checkTimer=setInterval(this.checkMsgList.bind(this),100),Global.Event.on(GlobalEvent.MARQUEESCROLL_COMMON,this,this.addMsgData),Global.Event.on(GlobalEvent.MARQUEESCROLL_BIGWINNER,this,this.addMsgData),Global.Event.on(GlobalEvent.MARQUEESCROLL_VIP,this,this.addPriorityMsgData),Global.Event.on(GlobalEvent.MARQUEESCROLL_COMMI,this,this.addPriorityMsgData))},t.prototype.stopTimer=function(){this.checkTimer&&(Global.Event.off(GlobalEvent.MARQUEESCROLL_COMMON,this,this.addMsgData),Global.Event.off(GlobalEvent.MARQUEESCROLL_BIGWINNER,this,this.addMsgData),Global.Event.off(GlobalEvent.MARQUEESCROLL_VIP,this,this.addPriorityMsgData),Global.Event.off(GlobalEvent.MARQUEESCROLL_COMMI,this,this.addPriorityMsgData),clearInterval(this.checkTimer),this.checkTimer=null)},t.prototype.addPriorityMsgData=function(e){if(null!=this.node&&this.node.isValid)return this.msgDataCacheList.length>=this.totalLenghLimit?(this.msgDataCacheList.pop(),void this.msgDataCacheList.unshift(e.data)):void this.msgDataCacheList.unshift(e.data);this.stopTimer()},t.prototype.playAnim=function(e){e.node.isValid||Logger.error("!item.node.isValid");var t=(e.node.x+e.node.width+this.boxLength)/this.baseSpeed,o=cc.moveTo(t,-(e.node.width+this.boxLength),0),i=cc.callFunc(function(){this.recoveryItem(e)},this);this.isPlaying=!0,e.node.runAction(cc.sequence(o,i)),this.rootNode&&(this.rootNode.opacity=255)},t.prototype.checkMsgList=function(){try{if(!this.node||!this.node.isValid)return;if(this.isPlaying)return;if(null==this.playNode&&this.rootNode&&(this.rootNode.opacity=0),0==this.msgDataCacheList.length)return;var e=this.msgDataCacheList.shift(),t="";if(null!=e.nickname)if(e.game_id){var o=Global.GameData.getGameInfo(e.game_id);if(!o||null==o.name)return void Logger.error("\u627e\u4e0d\u5230gameid",e.game_id);if(1!=o.status)return;var i=o.marqueeStrType,n=e.nickname,r=o.name,a=e.hitPoint;t=this.GetMarQueeStr(i,n,r,a)}else{var s=e.pay_type?e.pay_type:e.type,l=e.nickname;a=Global.Toolkit.formatPoint(e.point),t=this.GetPriorityMsg(s,l,a)}else t=e.msg;p.default.isBaiduSpecialState()&&(t=t.replace(new RegExp("\u5143","g"),"")),this.playNode=this.getItem(),this.playNode.string=t,this.playAnim(this.playNode)}catch(c){}},t.prototype.reset=function(){var e=this.getItem();e.node.x=0,e.node.stopAllActions(),this.isPlaying=!1},t.prototype.GetPriorityMsg=function(e,t,o){var i="";switch(e){case s.Group:i=cc.js.formatStr(l.Commission,c.CommissionGroup,t,o);break;case s.SelfCommi:i=cc.js.formatStr(l.Commission,c.CommissionSelfCommi,t,o);break;case s.Unlimited:i=cc.js.formatStr(l.Commission,c.CommissionUnlimited,t,o);break;case a.SysPayTypeVip:i=cc.js.formatStr(l.Rebate,c.RebateSysPayTypeVip,t,o);break;case a.SysPayTypeUnion:i=cc.js.formatStr(l.Rebate,c.RebateSysSysPayTypeUnion,t,o)}return i},t.prototype.dataSortFunc=function(e,t){return e.type-t.type},t.prototype.addMsgItem=function(e){null!=this.node&&this.node.isValid?this.msgDataCacheList.length>=this.totalLenghLimit||this.msgDataCacheList.length>=this.listLengthLimit&&null!=e.clientPriority&&0==e.clientPriority&&null!=e.nickname||this.msgDataCacheList.push(e):this.stopTimer()},t.prototype.addDefautMsg=function(){for(var e=[{msg:l.Welcome,type:1},{msg:l.TipBadGame,type:1},{msg:l.NoWallow,type:1}],t=0;t<e.length;t++){var o=e[t];this.addMsgItem(o)}},t.prototype.addMsgData=function(e){this.addMsgItem(e.data)},t.prototype.GetMarQueeStr=function(e,t,o,i){var n="",r=Global.Toolkit.formatPoint(i),a=Global.Toolkit.GetMoneyFormat(i);switch(e){case 1:return 500<=r&&r<=1e3?cc.js.formatStr(l.GamesWin,c.Type1Level1,t,o,a):1001<=r&&r<=2e3?cc.js.formatStr(l.GamesWin,c.Type1Level2,t,o,a):2001<=r&&r<=3e3?cc.js.formatStr(l.GamesWin,c.Type1Level3,t,o,a):r>=3001?cc.js.formatStr(l.GamesWin,c.Type1Level4,t,o,a):cc.js.formatStr(l.GamesWin,c.Type1Level0,t,o,a);case 2:if(100<=r)return cc.js.formatStr(l.GamesWin,c.Type2Level0,t,o,a);break;case 3:if(10<=r)return cc.js.formatStr(l.GamesWin,c.Type3Level0,t,o,a);break;case 4:if(100<=r&&r<=200)return cc.js.formatStr(l.GamesWin,c.Type4Level0,t,o,a);if(201<=r&&r<=500)return cc.js.formatStr(l.GamesWin,c.Type4Level1,t,o,a);if(501<=r&&r<=1e3)return cc.js.formatStr(l.GamesWin,c.Type4Level2,t,o,a);if(r>1e3)return cc.js.formatStr(l.GamesWin,c.Type4Level3,t,o,a);break;case 5:return cc.js.formatStr(l.BuyuType,c.Type5Level0,t,o,a);case 6:return cc.js.formatStr(l.BuyuType,c.Type6Level0,t,o,a);case 7:return cc.js.formatStr(l.BuyuType,c.Type7Level0,t,o,a);default:return n}},r([u],t)}(cc.Component));o.default=d,function(e){e[e.SysPayTypeVip=1]="SysPayTypeVip",e[e.SysPayTypeDown=2]="SysPayTypeDown",e[e.SysPayTypeUnion=3]="SysPayTypeUnion",e[e.SysPayTypeGive=4]="SysPayTypeGive",e[e.SysPayTypeSmall=5]="SysPayTypeSmall"}(a=o.PayType||(o.PayType={})),function(e){e[e.Group=20]="Group",e[e.SelfCommi=25]="SelfCommi",e[e.Unlimited=26]="Unlimited"}(s=o.CommiType||(o.CommiType={})),function(e){e.Welcome="<color=#00d2FF>\u5c0a\u656c\u7684\u73a9\u5bb6\uff0c\u6b22\u8fce\u8fdb\u5165\u6e38\u620f\u5927\u5385\uff01</color>",e.TipBadGame="<color=#f9a314>\u62b5\u5236\u4e0d\u826f\u6e38\u620f\uff0c\u62d2\u7edd\u76d7\u7248\u6e38\u620f\uff0c\u6ce8\u610f\u81ea\u8eab\u4fdd\u62a4\uff0c\u8c28\u9632\u4e0a\u5f53\u53d7\u9a97</color>",e.NoWallow="<color=#f9a314>\u9002\u5ea6\u6e38\u620f\u76ca\u8111\uff0c\u6c89\u8ff7\u6e38\u620f\u4f24\u8eab\uff0c\u5408\u7406\u5b89\u6392\u65f6\u95f4\uff0c\u4eab\u53d7\u5065\u5eb7\u751f\u6d3b</color>",e.GamesWin="<color=#ffffff>%s\uff01\u606d\u559c\u73a9\u5bb6</color><color=#00ff00>%s</color><color=#ffffff>\u5728</color><color=#00d2ff>%s</color><color=#ffffff>\u4e2d\u8d62\u5f97</color><color=#fff100>%s</color><color=#ffffff>\u5143\uff01</color><color=#ffffff>\u5feb\u6765\u56f4\u89c2\u5427\uff01</color>",e.Rebate="<color=#ffffff>%s\uff01\u73a9\u5bb6</color><color=#00ff00>%s</color><color=#ffffff>\u901a\u8fc7\u516c\u53f8\u5165\u6b3e\u5145\u503c\u83b7\u5f97</color><color=#fff100>%s</color><color=#ffffff>\u5143</color><color=#ffffff>\u8fd4\u5229\uff01</color>",e.Commission="<color=#ffffff>%s\uff01\u73a9\u5bb6</color><color=#00ff00>%s</color><color=#ffffff>\u9886\u53d6\u4e86</color><color=#fff100>%s</color><color=#ffffff>\u5143</color><color=#ffffff>\u4ee3\u7406\u4f63\u91d1\uff01</color>",e.BuyuType="<color=#ffffff>%s\uff01\u606d\u559c\u73a9\u5bb6</color><color=#00ff00>%s</color><color=#ffffff>\u5728</color><color=#00d2ff>%s</color><color=#ffffff>\u6e38\u620f\u4e2d\u51fb\u6740BOSS\u8d62\u5f97</color><color=#fff100>%s</color><color=#ffffff>\u5143\uff01</color>"}(l=o.PaoMaDengMsgTemp||(o.PaoMaDengMsgTemp={})),function(e){e.CommissionGroup="\u5929\u9053\u916c\u52e4",e.CommissionSelfCommi="\u5929\u9053\u916c\u52e4",e.CommissionUnlimited="\u559c\u4ece\u5929\u964d",e.RebateSysPayTypeVip="\u5929\u964d\u6a2a\u8d22",e.RebateSysSysPayTypeUnion="\u5b98\u65b9\u9001\u91d1",e.Type1Level0="\u606d\u559c\u53d1\u8d22",e.Type1Level1="\u9e3f\u8fd0\u5f53\u5934",e.Type1Level2="\u5927\u5409\u5927\u5229",e.Type1Level3="\u8d22\u6e90\u5e7f\u8fdb",e.Type1Level4="\u516b\u65b9\u6765\u8d22",e.Type2Level0="\u4e00\u53d1\u5165\u9b42",e.Type3Level0="\u9e3f\u8fd0\u5f53\u5934",e.Type4Level0="\u521d\u5165\u6c5f\u6e56",e.Type4Level1="\u5c0f\u8bd5\u725b\u5200",e.Type4Level2="\u5927\u6740\u56db\u65b9",e.Type4Level3="\u72ec\u5b64\u6c42\u8d25",e.Type5Level0="\u4e00\u51fb\u5373\u4e2d",e.Type6Level0="\u4e00\u9a6c\u5f53\u5148",e.Type7Level0="\u6d2a\u798f\u9f50\u5929"}(c=o.PaoMaDengIdiom||(o.PaoMaDengIdiom={})),cc._RF.pop()},{"../tool/AppHelper":"AppHelper"}],PaoMaDengItem:[function(e,t,o){"use strict";cc._RF.push(t,"e91f9beUndNu5XhwpgVKILa","PaoMaDengItem");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./PaoMaDengComp"),s=cc._decorator,l=s.ccclass,c=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.playNode=null,t.isPlaying=!1,t.vipStr={content1:"\u606d\u559c\u73a9\u5bb6",content2:"\u901a\u8fc7\u516c\u53f8\u5165\u6b3e\u5145\u503c\u83b7\u5f97",content3:"",content4:"\u5143\u8fd4\u5229\uff01"},t.delegeteStr={content1:"\u606d\u559c\u73a9\u5bb6",content2:"\u9886\u53d6\u4e86",content3:"",content4:"\u4ee3\u7406\u4f63\u91d1!"},t.gameStr={content1:"\u54c7!\u73a9\u5bb6",content2:"\u592a\u68d2\u4e86,\u5728",content3:"\u6e38\u620f\u4e2d\u4e00\u628a\u8d62\u4e86",content4:"\u5143!"},t.greenNode=null,t.blueNode=null,t.yellowNode=null,t.nameLabel=null,t.nameLabel1=null,t.gameLabel=null,t.pointLabel=null,t.pointLabel1=null,t.content1=null,t.content2=null,t.content3=null,t.content4=null,t.content5=null,t.content6=null,t.content7=null,t.content8=null,t.runType=-1,t.boxLength=669,t.baseSpeed=120,t.checkTimer=null,t.defautLabel=null,t.combineNode1=null,t.combineNode2=null,t.startPos=cc.v2(1170,340),t.bottmStartPos=cc.v2(1170,260),t.centerPos=cc.v2(270,260),t.endPos=cc.v2(270,360),t}return n(t,e),t.prototype.onLoad=function(){this.playNode=cc.find("MsgBox/itemLayOut",this.node),this.defautLabel=cc.find("defautLabel",this.playNode).getComponent(cc.Label),this.combineNode1=cc.find("combineNode1",this.playNode),this.greenNode=cc.find("greenNode",this.playNode),this.blueNode=cc.find("blueNode",this.playNode),this.yellowNode=cc.find("yellowNode",this.playNode),this.content1=cc.find("content1",this.combineNode1).getComponent(cc.Label),this.content2=cc.find("content2",this.combineNode1).getComponent(cc.Label),this.content3=cc.find("content3",this.combineNode1).getComponent(cc.Label),this.content4=cc.find("content4",this.combineNode1).getComponent(cc.Label),this.gameLabel=cc.find("game",this.combineNode1).getComponent(cc.Label),this.nameLabel=cc.find("name",this.combineNode1).getComponent(cc.Label),this.pointLabel=cc.find("point",this.combineNode1).getComponent(cc.Label),this.combineNode2=cc.find("combineNode2",this.playNode),this.content5=cc.find("content1",this.combineNode2).getComponent(cc.Label),this.content6=cc.find("content2",this.combineNode2).getComponent(cc.Label),this.content7=cc.find("content3",this.combineNode2).getComponent(cc.Label),this.content8=cc.find("content4",this.combineNode2).getComponent(cc.Label),this.nameLabel1=cc.find("name",this.combineNode2).getComponent(cc.Label),this.pointLabel1=cc.find("point",this.combineNode2).getComponent(cc.Label)},t.prototype.initComponent=function(){},t.prototype.init=function(e){var t=Global.GameData.getGameInfo(e.game_id),o=t.name,i=e.hitPoint,n=Global.Toolkit.GetMoneyFormat(i);if(null!=e.nickname)if(e.game_id){if(this.runType=0,!t||null==t.name)return void Logger.error("\u627e\u4e0d\u5230gameid",e.game_id);if(1!=t.status)return;if(this.defautLabel.node.active=!1,this.combineNode1.active=!0,this.combineNode2.active=!1,cc.isValid(this.combineNode1)){var r=0;cc.isValid(this.content1)&&(this.content1.string=this.gameStr.content1,this.content1._forceUpdateRenderData(),this.content1.node.setPosition(cc.v2(0,0)),r+=this.content1.node.width),cc.isValid(this.nameLabel)&&(this.nameLabel.string=e.nickname,this.nameLabel._forceUpdateRenderData(),this.nameLabel.node.setPosition(cc.v2(r,0)),r+=this.nameLabel.node.width),cc.isValid(this.content2)&&(this.content2.string=this.gameStr.content2,this.content2._forceUpdateRenderData(),this.content2.node.setPosition(cc.v2(r,0)),r+=this.content2.node.width),cc.isValid(this.gameLabel)&&(this.gameLabel.string=o,this.gameLabel._forceUpdateRenderData(),this.gameLabel.node.setPosition(cc.v2(r,0)),r+=this.gameLabel.node.width),cc.isValid(this.content3)&&(this.content3.string=this.gameStr.content3,this.content3._forceUpdateRenderData(),this.content3.node.setPosition(cc.v2(r,0)),r+=this.content3.node.width),cc.isValid(this.pointLabel)&&(this.pointLabel.string=n,this.pointLabel._forceUpdateRenderData(),this.pointLabel.node.setPosition(cc.v2(r,0)),r+=this.pointLabel.node.width),cc.isValid(this.content4)&&(this.content4.string=this.gameStr.content4,this.content4._forceUpdateRenderData(),this.content4.node.setPosition(cc.v2(r,0)),r+=this.content4.node.width)}}else{this.runType=1,n=Global.Toolkit.GetMoneyFormat(e.point),this.defautLabel.node.active=!1,this.combineNode1.active=!1,this.combineNode2.active=!0;var a=e.pay_type?e.pay_type:e.type,s=this.getContentStr(a);cc.isValid(this.combineNode2)&&(r=0,cc.isValid(this.content5)&&(this.content5.string=s.content1,this.content5._forceUpdateRenderData(),this.content5.node.setPosition(cc.v2(r,0)),r+=this.content5.node.width),cc.isValid(this.nameLabel1)&&(this.nameLabel1.string=e.nickname,this.nameLabel1._forceUpdateRenderData(),this.nameLabel1.node.setPosition(cc.v2(r,0)),r+=this.nameLabel1.node.width),cc.isValid(this.content6)&&(this.content6.string=s.content2,this.content6._forceUpdateRenderData(),this.content6.node.setPosition(cc.v2(r,0)),r+=this.content6.node.width),cc.isValid(this.content7)&&(this.content7.string=s.content3,this.content7._forceUpdateRenderData(),this.content7.node.setPosition(cc.v2(r,0)),r+=this.content7.node.width),cc.isValid(this.pointLabel1)&&(this.pointLabel1.string=n,this.pointLabel1._forceUpdateRenderData(),this.pointLabel1.node.setPosition(cc.v2(r,0)),r+=this.pointLabel1.node.width),cc.isValid(this.content8)&&(this.content8.string=s.content4,this.content8._forceUpdateRenderData(),this.content8.node.setPosition(cc.v2(r,0)),r+=this.content8.node.width))}else this.runType=2,this.defautLabel.node.active=!0,this.combineNode1.active=!1,this.combineNode2.active=!1,this.defautLabel.string=e.msg},t.prototype.getContentStr=function(e){var t=this.vipStr;switch(e){case a.CommiType.Group:case a.CommiType.SelfCommi:case a.CommiType.Unlimited:t=this.delegeteStr;break;case a.PayType.SysPayTypeVip:case a.PayType.SysPayTypeUnion:t=this.vipStr}return t},t.prototype.run=function(e,t,o){var i=this;void 0===o&&(o=2),cc.isValid(this.playNode)&&this.refreshContent(e),t>o-1&&(t=o-1);var n=cc.v2(this.startPos.x,this.startPos.y-40*t);this.node.setPosition(n),this.node.active=!0;var r=cc.v2(this.centerPos.x,n.y),a=cc.moveTo(.5,r);a.easing(cc.easeIn(.5)),this.playNode.setPosition(cc.v2(-600,0)),this.moveText();var s=cc.callFunc(function(){i.playAnim(i.playNode)});this.isPlaying=!0,this.node.runAction(cc.sequence(a,s))},t.prototype.moveText=function(){var e=this.getParentNode();if(cc.isValid(e)){var t=e==this.combineNode1?this.nameLabel:this.nameLabel1,o=e==this.combineNode1?this.gameLabel:null,i=e==this.combineNode1?this.pointLabel:this.pointLabel1;if(cc.isValid(t.node)){var n=t.node.position,r=Global.UIUtil.convertSameNodePos(e,this.greenNode,n);t.node.setParent(this.greenNode),t.node.setPosition(r)}o&&cc.isValid(o.node)&&(n=o.node.position,r=Global.UIUtil.convertSameNodePos(e,this.blueNode,n),o.node.setParent(this.blueNode),o.node.setPosition(r)),cc.isValid(i.node)&&(n=i.node.position,r=Global.UIUtil.convertSameNodePos(e,this.yellowNode,n),i.node.setParent(this.yellowNode),i.node.setPosition(r))}},t.prototype.getParentNode=function(){var e=null;switch(this.runType){case 0:e=this.combineNode1;break;case 1:e=this.combineNode2}return e},t.prototype.moveUp=function(e){var t=this,o=cc.callFunc(function(){t.checkPosition(e)}),i=cc.moveBy(.5,cc.v2(0,40));i.easing=cc.easeOut(.5),this.node.runAction(cc.sequence(i,o))},t.prototype.checkPosition=function(e){cc.isValid(this.node)&&this.node.y>this.endPos.y&&(this.isPlaying=!1,e&&e())},t.prototype.refreshContent=function(e){this.init(e)},t.prototype.playAnim=function(e){var t=this;if(cc.isValid(e)){e.active=!0;var o=e.parent.width,i=cc.find("defautLabel",e);if(!(i.width<=o||2!=this.runType)){var n=i.width,r=n/this.baseSpeed;n=e.x-n;var a=cc.v2(n,e.y),s=cc.moveTo(r,a),l=cc.callFunc(function(){e.setPosition(cc.v2(0,0)),e.stopAllActions();var o=i.width/t.baseSpeed,n=cc.v2(-i.width-t.boxLength,e.y),r=cc.moveTo(o,n);e.runAction(cc.sequence(r,l))});this.isPlaying=!0,e.runAction(cc.sequence(s,l))}}else Logger.error("!item.node.isValid")},t.prototype.recoveryItem=function(e){this.isPlaying=!1,this.reset(),this.node.setPosition(this.startPos),cc.isValid(e)&&(e.setPosition(cc.v2(0,0)),e.stopAllActions())},t.prototype.reset=function(){cc.isValid(this.node)&&(this.content1&&(this.content1.string=""),this.content2&&(this.content2.string=""),this.content3&&(this.content3.string=""),this.content4&&(this.content4.string=""),this.content5&&(this.content5.string=""),this.content6&&(this.content6.string=""),this.content7&&(this.content7.string=""),this.content8&&(this.content8.string=""),this.nameLabel1&&(this.nameLabel1.string=""),this.nameLabel&&(this.nameLabel.string=""),this.gameLabel&&(this.gameLabel.string=""),this.pointLabel&&(this.pointLabel.string=""),this.pointLabel1&&(this.pointLabel1.string=""),this.defautLabel&&(this.defautLabel.string=""),this.nameLabel1&&this.nameLabel1.node.setParent(this.combineNode2),this.nameLabel&&this.nameLabel.node.setParent(this.combineNode1),this.gameLabel&&this.gameLabel.node.setParent(this.combineNode1),this.pointLabel1&&this.pointLabel1.node.setParent(this.combineNode2),this.pointLabel&&this.pointLabel.node.setParent(this.combineNode1),this.runType=-1)},r([l],t)}(cc.Component));o.default=c,cc._RF.pop()},{"./PaoMaDengComp":"PaoMaDengComp"}],PasswordBasedCipher:[function(e,t,o){"use strict";cc._RF.push(t,"0007atd6eBKNazrJkQizznB","PasswordBasedCipher"),Object.defineProperty(o,"__esModule",{value:!0}),o.PasswordBasedCipher=void 0;var i=e("./SerializableCipher"),n=e("./WordArray"),r=e("../format/OpenSSL"),a=e("../kdf/OpenSSLKdf"),s=function(){function e(){}return e.encrypt=function(e,t,o,n){var r=Object.assign({},this.cfg,n);if(void 0===r.kdf)throw new Error("missing kdf in config");var a=r.kdf.execute(o,e.keySize,e.ivSize);return void 0!==a.iv&&(r.iv=a.iv),i.SerializableCipher.encrypt.call(this,e,t,a.key,r).extend(a)},e.decrypt=function(e,t,o,n){var r=Object.assign({},this.cfg,n);if(void 0===r.format)throw new Error("missing format in config");if(t=this._parse(t,r.format),void 0===r.kdf)throw new Error("the key derivation function must be set");var a=r.kdf.execute(o,e.keySize,e.ivSize,t.salt);return void 0!==a.iv&&(r.iv=a.iv),i.SerializableCipher.decrypt.call(this,e,t,a.key,r)},e._parse=function(e,t){return"string"==typeof e?t.parse(e):e},e.cfg={blockSize:4,iv:new n.WordArray([]),format:r.OpenSSL,kdf:a.OpenSSLKdf},e}();o.PasswordBasedCipher=s,cc._RF.pop()},{"../format/OpenSSL":"OpenSSL","../kdf/OpenSSLKdf":"OpenSSLKdf","./SerializableCipher":"SerializableCipher","./WordArray":"WordArray"}],PasswordShowToggle:[function(e,t){"use strict";cc._RF.push(t,"1152dQOBVJM3qK0d0/2LWDj","PasswordShowToggle");var o=cc.Enum({PASSWORD:0,SENSITIVE:1,INITIAL_CAPS_WORD:2,INITIAL_CAPS_SENTENCE:3,INITIAL_CAPS_ALL_CHARACTERS:4,DEFAULT:5});cc.Class({extends:e("SwitchNodeToggle"),editor:!1,properties:{normalType:{type:o,default:o.DEFAULT},passwordEditBox:cc.EditBox},onLoad:function(){this._super()},updateCheck:function(){this._super(),null!=this.passwordEditBox&&(this.toggle.isChecked?this.passwordEditBox.inputFlag=this.normalType:this.passwordEditBox.inputFlag=o.PASSWORD)}}),cc._RF.pop()},{SwitchNodeToggle:"SwitchNodeToggle"}],PersisitHelpper:[function(e,t,o){"use strict";cc._RF.push(t,"903b6ckrWdByaSOV68Tiywt","PersisitHelpper"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function e(){this.persistNodeMap={}}return e.prototype.init=function(){if(null==this.persistNode){this.persistNode=new cc.Node("persistNode");var e=cc.winSize;this.persistNode.position=cc.v3(e.width*this.persistNode.anchorX,e.height*this.persistNode.anchorY),cc.game.addPersistRootNode(this.persistNode),this.persistNode.active=!1,this.poolNode=new cc.Node("persistPoolNode"),this.persistNode.addChild(this.poolNode),this.poolNode.active=!1,this.showNode=new cc.Node("alwaysShowNode"),this.persistNode.addChild(this.showNode),this.showNode.active=!0}},e.prototype.saveToPool=function(e,t,o){void 0===o&&(o=!1),null!=this.persistNode&&this.persistNode.isValid?(null==this.persistNodeMap[e]&&(this.persistNodeMap[e]=[]),this.persistNodeMap[e].push(t),o?t.setParent(this.showNode):t.setParent(this.poolNode)):Logger.error("invalid persitNode!!!")},e.prototype.getFromPool=function(e){if(null!=this.persistNode&&this.persistNode.isValid){var t=this.persistNodeMap[e];if(null==t)return null;for(;t.length>0;){var o=t.pop();if(o&&o.isValid)return o}return null}Logger.error("invalid persitNode!!!")},e.prototype.getPersistNode=function(){return this.persistNode},e.prototype.setState=function(e){this.persistNode&&(this.persistNode.active=e)},e}();o.default=i,cc._RF.pop()},{}],PersistUIControl:[function(e,t,o){"use strict";cc._RF.push(t,"7ac385Hn7VG/ZFPJ3RX5P/u","PersistUIControl"),Object.defineProperty(o,"__esModule",{value:!0}),o.PersistUIControl=void 0;var i=e("../scene/SceneManager"),n=function(){function e(){}return e.prototype.selectPersistUI=function(e){for(var t in e){var o=e[t];1==o.active&&o.layer!=Global.UI.MainLayer&&(null==this.curPersistUI?this.curPersistUI=o:Logger.error("\u540c\u65f6\u663e\u793a\u591a\u4e2a\u6301\u4e45\u5316\u754c\u9762\uff01\uff01\uff01\uff01",o.name))}if(null==this.curPersistUI){var i=Global.UI.getWindow("WndHall");i&&i.putToPersistWhenVisible&&(this.curPersistUI=Global.UI.getWindow("WndHall"))}},e.prototype.savePersistUI=function(e){this.selectPersistUI(e),null!=this.curPersistUI&&Global.Persist.addUIToPersisitNode(this.curPersistUI.name,this.curPersistUI.node,!0)},e.prototype.removePersisUI=function(e){if(null==this.curPersistUI)return null;if(this.curPersistUI.name==e&&this.curPersistUI.node.isValid){var t=this.curPersistUI.node,o=t.cleanup;return t.cleanup=function(){},Global.Persist.removeUIFromPersisitNode(this.curPersistUI.name),t.cleanup=o,this.curPersistUI.node.active=this.curPersistUI.active,this.curPersistUI=null,t}return null},e.prototype.isPersistUI=function(e){return null!=this.curPersistUI&&this.curPersistUI.name==e},e.prototype.showPersistUI=function(){null!=this.curPersistUI&&Global.SceneManager.sceneType==i.SceneType.Hall&&(this.curPersistUI.activeInPersistNode=!0)},e.prototype.closePersistUI=function(){null!=this.curPersistUI&&Global.SceneManager.inGame()&&(this.curPersistUI.activeInPersistNode=!1)},e}();o.PersistUIControl=n,cc._RF.pop()},{"../scene/SceneManager":"SceneManager"}],PersonalInfoModel:[function(e,t,o){"use strict";cc._RF.push(t,"cadae9XJZVLDpiHhA3nUSaU","PersonalInfoModel");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../framework/model/ModelBase"),a=e("../../core/net/hall/NetEvent"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t.prototype,"Name",{get:function(){return"PersonalInfoModel"},enumerable:!1,configurable:!0}),t.prototype.reqGetUserInfo=function(){Global.HallServer.send(a.NetAppface.mod,a.NetAppface.GetUserInfo,{})},t.prototype.reqEditPwd=function(e,t,o,i,n){var r={phone:Global.AESUtil.aesEncrypt(Global.Toolkit.cryptoKey,Global.Toolkit.cryptoIv,e),code:t,acode:o,pwd:i};Global.HallServer.send(a.NetAppface.mod,a.NetAppface.EditPwd,r,n)},t.prototype.reqBindPhone=function(e,t,o,i,n){var r={phone:Global.AESUtil.aesEncrypt(Global.Toolkit.cryptoKey,Global.Toolkit.cryptoIv,e),code:t,acode:o,pwd:i};Global.HallServer.send(a.NetAppface.mod,a.NetAppface.BindPhone,r,n)},t.prototype.reqEditUserInfo=function(e,t){Global.HallServer.send(a.NetAppface.mod,a.NetAppface.EditUserInfo,e,t)},t}(r.default);o.default=s,cc._RF.pop()},{"../../../framework/model/ModelBase":"ModelBase","../../core/net/hall/NetEvent":"NetEvent"}],PersonalInfoModule:[function(e,t,o){"use strict";cc._RF.push(t,"ea2aaCEtaZLWbIwyW1RazmA","PersonalInfoModule");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.viewClass="WndBindPhone",t.modelClass="PersonalInfoModel",t.resPaths=[],t.prefabPaths=["hall/prefabs/ui/PersonalInfo/BindPhoneUI"],t.children=[{viewClass:"WndChangePwd",modelClass:"",resPaths:[],prefabPaths:["hall/prefabs/ui/PersonalInfo/ChangePwdUI"],children:[]},{viewClass:"WndEditName",modelClass:"",resPaths:[],prefabPaths:["hall/prefabs/ui/PersonalInfo/EditNameUI"],children:[]},{viewClass:"WndSetting",modelClass:"",resPaths:[],prefabPaths:["hall/prefabs/ui/PersonalInfo/SettingBox"],children:[]},{viewClass:"WndToggleAccount",modelClass:"",resPaths:[],prefabPaths:["hall/prefabs/ui/PersonalInfo/ToggleAccountUI"],children:[]}],t}return n(t,e),t}(e("../../../framework/module/ModuleBase").ModuleBase);o.default=r,cc._RF.pop()},{"../../../framework/module/ModuleBase":"ModuleBase"}],PersonalInfoView:[function(e,t,o){"use strict";cc._RF.push(t,"8599dwXxZVIYaGtfDzCAYnH","PersonalInfoView");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bindPhoneBtn=null,t.changePwdBtn=null,t.nameLbl=null,t.idLbl=null,t.userTypeLbl=null,t.phoneLbl=null,t.spriteHead=null,t.spriteHeadFrame=null,t.vipNode=null,t.activateBtn=null,t.activateTextNode=null,t.upgradeTextNode=null,t.vipNodeArr=[],t.labelVip=null,t.labelVip1=null,t.vipMoney=null,t.vipLevel=null,t.spriteVip=null,t.processVip=null,t.bindPhone=null,t}return n(t,e),t.prototype.initView=function(){this.model=Global.ModelManager.getModel("PlayerInfoModel"),Global.Event.on(GlobalEvent.PERSONALINFOUPDATE,this,this.refreshPanel),this.addCommonClick("editNameBtn",this.openEditNicknameUI,this),this.addCommonClick("copyIdBtn",this.copyIdAction,this),this.addCommonClick("exitBtn",this.exitAccountAction,this),this.addCommonClick("headImg",this.openEditAvaterUI,this),this.bindPhoneBtn=this.addCommonClick("bindPhoneBtn",this.openBindPhoneUI,this),this.changePwdBtn=this.addCommonClick("changePwdBtn",this.openEditPwdUI,this),this.nameLbl=this.getComponent("nameLbl",cc.Label),this.idLbl=this.getComponent("idLbl",cc.Label),this.userTypeLbl=this.getComponent("userTypeLbl",cc.Label),this.phoneLbl=this.getComponent("phoneLbl",cc.Label),this.spriteHead=this.getComponent("headImg/headFrame",cc.Sprite),this.spriteHeadFrame=this.getComponent("headImg/headbox",cc.Sprite),this.vipNode=this.getChild("vip"),this.activateBtn=Global.UIHelper.addCommonClick(this.vipNode,"jihuoBtn",this.activateBtnFunc,this),this.activateTextNode=cc.find("fnt_activate",this.activateBtn),this.upgradeTextNode=cc.find("upgradText",this.activateBtn),this.vipNodeArr[0]=cc.find("vip0",this.vipNode),this.vipNodeArr[1]=cc.find("vip1",this.vipNode),this.labelVip=cc.find("iconList/label_vip",this.vipNode).getComponent(cc.Label),this.labelVip1=cc.find("iconList/label_vip_to",this.vipNode).getComponent(cc.Label),this.vipMoney=cc.find("iconList/vip_money",this.vipNode).getComponent(cc.Label),this.vipLevel=cc.find("iconList/vip_level",this.vipNode).getComponent(cc.Label),this.spriteVip=cc.find("vip1/icon_vip",this.vipNode).getComponent(cc.Sprite),this.processVip=cc.find("vip1/process_di/progressBar",this.vipNode).getComponent(cc.ProgressBar)},t.prototype.openEditNicknameUI=function(){Global.UI.show("WndEditName")},t.prototype.copyIdAction=function(){Global.NativeEvent.copyTextToClipboard(String(Global.PlayerData.uid),this.copyTextToClipboardCallBack.bind(this))},t.prototype.copyTextToClipboardCallBack=function(e){0==e.result?Global.UI.fastTip("\u590d\u5236\u6210\u529f"):Global.UI.fastTip("\u590d\u5236\u5931\u8d25")},t.prototype.openSettingUI=function(){},t.prototype.openEditAvaterUI=function(){this.internalEvent.event("ChangeView",1)},t.prototype.exitAccountAction=function(){Global.UI.show("WndMessageBox","\u60a8\u786e\u5b9a\u9000\u51fa\u5f53\u524d\u8d26\u53f7\u8fd4\u56de\u767b\u5f55\u754c\u9762\uff1f",1,function(){Global.SceneManager.goToLogin()},function(){})},t.prototype.openBindPhoneUI=function(){Global.UI.show("WndBindPhone")},t.prototype.openEditPwdUI=function(){Global.UI.show("WndChangePwd")},t.prototype.activateBtnFunc=function(){Global.Event.event(GlobalEvent.SHOW_NET_WAITING,"WndVip3"),Global.UI.show("WndVip3")},t.prototype.onSubViewHide=function(){},t.prototype.onSubViewShow=function(){this.model.reqGetUserInfo(null,null),this.refreshPanel()},t.prototype.onDispose=function(){Global.Event.off(GlobalEvent.PERSONALINFOUPDATE,this,this.refreshPanel)},t.prototype.refreshPanel=function(){var e=Global.PlayerData;this.nameLbl.string=Global.Toolkit.removeEmoji(e.nickname),this.idLbl.string="ID:"+String(e.uid),this.userTypeLbl.string=1==e.type?"\u6e38\u5ba2\u7528\u6237":"\u6b63\u5f0f\u7528\u6237",Global.Setting.SkinConfig.isRed&&(this.userTypeLbl.node.color=1==e.type?this.userTypeLbl.node.color:cc.color(74,157,70,255));var t=e.phone.split(" ")[1];t=t||e.phone,this.phoneLbl.string=""==e.phone?"\u672a\u7ed1\u5b9a":Global.Toolkit.formateStrWithAsterisk(t,3,4),this.spriteHead.spriteFrame=Global.Toolkit.getLocalHeadSf(e.headimg),e.phone?(this.changePwdBtn.active=!0,this.bindPhoneBtn.active=!1):(this.changePwdBtn.active=!1,this.bindPhoneBtn.active=!0),e.vip>0?(this.vipNodeArr[0].active=!1,this.vipNodeArr[1].active=!0,this.activateTextNode.active=!1,this.upgradeTextNode.active=!0,Global.Toolkit.loadLocalVip(this.spriteVip,e.vip)):(this.vipNodeArr[0].active=!0,this.vipNodeArr[1].active=!1,this.activateTextNode.active=!0,this.upgradeTextNode.active=!1);var o=1,i=e.vip+1,n=this.model.GetVipUpgradeExp(i),r=n-e.vipExp;r>0?(this.vipMoney.string=r+"\u5143",this.vipLevel.string="VIP"+String(i),o=e.vipExp/n,this.activateBtn.active=!0,this.vipMoney.node.active=!0,this.vipLevel.node.active=!0,this.labelVip1.node.active=!0):(this.labelVip.string="\u606d\u559c\u60a8\u5df2\u6210\u4e3a\u81f3\u5c0aVIP"+e.vip,this.activateBtn.active=!1,this.vipMoney.node.active=!1,this.vipLevel.node.active=!1,this.labelVip1.node.active=!1),this.processVip.progress=o},t}(e("../../../core/ui/ViewBase").default);o.default=r,cc._RF.pop()},{"../../../core/ui/ViewBase":"ViewBase"}],PhoneInputView:[function(e,t,o){"use strict";cc._RF.push(t,"de658e7ZiVJK6ti9hDwFUH7","PhoneInputView");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../../core/ui/ViewBase"),a=e("../../../../../listview"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.showAreaView=!1,t}return n(t,e),t.prototype.initView=function(){this.codeIcon=this.getComponent("codeIcon",cc.Sprite),this.phoneInput=this.getComponent("phone",cc.EditBox),this.areaInput=this.getComponent("area",cc.EditBox),this.countryLabel=this.getComponent("countryName",cc.Label),this.addCommonClick("bg4",this.onCodeIconClick,this,null),this.addCommonClick("codeIcon",this.onCodeIconClick,this,null),this.addCommonClick("chooseAreaView/mask",this.onCodeIconClick,this,null),this.chooseCountryView=new l,this.chooseCountryView.onSelect=this.selectCountry.bind(this),this.chooseCountryView.setNode(this.getChild("chooseAreaView")),this.chooseCountryView.subViewState=!1,this.areaInput.node.on("editing-did-ended",this.onAreaEditEnd,this)},t.prototype.onAreaEditEnd=function(){this.countryLabel.string=this.chooseCountryView.searchArea(this.areaInput.string)},t.prototype.onCodeIconClick=function(){this.showAreaView=!this.showAreaView,this.updateCodeState()},t.prototype.updateCodeState=function(){this.chooseCountryView.active=this.showAreaView,this.codeIcon.node.angle=this.showAreaView?-180:0},t.prototype.selectCountry=function(e,t){this.areaInput.string=e,this.countryLabel.string=t,this.onCodeIconClick()},Object.defineProperty(t.prototype,"phone",{get:function(){return this.phoneInput.string},set:function(e){this.phoneInput.string=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"area",{get:function(){return this.areaInput.string},set:function(e){this.areaInput.string=e,this.countryLabel.string=this.chooseCountryView.searchArea(e)},enumerable:!1,configurable:!0}),t.prototype.onSubViewShow=function(){this.chooseCountryView.onSubViewShow(),this.showAreaView=!1,this.updateCodeState()},t.prototype.isAreaVaild=function(){return this.chooseCountryView.isAreaVaild(this.area)},t}(r.default);o.default=s;var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.itemList=[],t}return n(t,e),t.prototype.initView=function(){var e=this;this.item=this.getChild("scroll/view/content/item"),this.contentRoot=this.getChild("scroll/view/content"),this.item.active=!1,this.scroll=this.getComponent("scroll",cc.ScrollView),this.countryCfg=Global.ResourceManager.getRes("hall/config/countrycode",cc.JsonAsset).json;var t={};t.scrollview=this.scroll,t.mask=this.getChild("scroll/view"),t.content=this.getChild("scroll/view/content"),t.item_tpl=this.getChild("scroll/view/content/item"),t.direction=1,t.item_setter=function(t,o,i){var n=e.countryCfg[i],r=t.getChildByName("code").getComponent(cc.Label),a=t.getChildByName("country").getComponent(cc.Label);r.string=n.phone_code,a.string=n.cn},t.select_cb=function(t,o){var i=e.countryCfg[o];e.onSelect&&e.onSelect(i.phone_code.replace("+",""),i.cn)},this.listView=new a.ListView(t),this.listView.set_data(this.countryCfg)},t.prototype.onSubViewShow=function(){this.scroll.scrollToTop(0),this.listView.set_data(this.countryCfg)},t.prototype.initItems=function(){for(var e=this,t=function(t){var i=o.countryCfg[t],n=cc.instantiate(o.item);n.active=!0;var r=n.getChildByName("code").getComponent(cc.Label),a=n.getChildByName("country").getComponent(cc.Label);r.string=i.phone_code,a.string=i.cn,o.contentRoot.addChild(n);var s=t;n.on(cc.Node.EventType.TOUCH_END,function(){e.onItemClick(s)},o),o.itemList.push(n)},o=this,i=0;i<this.countryCfg.length;i++)t(i)},t.prototype.onItemClick=function(e){if(this.countryCfg[e]){var t=this.countryCfg[e];this.onSelect&&this.onSelect(t.phone_code.replace("+",""),t.cn)}},t.prototype.searchArea=function(e){if(""==e)return"\u8bf7\u4ece\u5217\u8868\u4e2d\u9009\u62e9";for(var t="+"+e,o=0;o<this.countryCfg.length;o++)if(this.countryCfg[o].phone_code==t)return this.countryCfg[o].cn;return"\u56fd\u5bb6/\u5730\u533a\u4ee3\u7801\u65e0\u6548"},t.prototype.isAreaVaild=function(e){if(""==e)return!1;for(var t="+"+e,o=0;o<this.countryCfg.length;o++)if(this.countryCfg[o].phone_code==t)return!0;return!1},t}(r.default);cc._RF.pop()},{"../../../../../listview":"listview","../../../../core/ui/ViewBase":"ViewBase"}],PlayerData:[function(e,t,o){"use strict";cc._RF.push(t,"7391eu57gdLZIjaVjBFvPvL","PlayerData"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../const/HallStorageKey"),n=e("../../core/GlobalEvent"),r=e("../../core/net/hall/NetEvent"),a=function(){function e(){this.merge_type="",this._headkuang="0"}return Object.defineProperty(e.prototype,"vip",{get:function(){return this._vip?this._vip:0},set:function(e){this._vip!=e&&(this._vip=e,Global.Event.event(n.default.PERSONALINFOUPDATE),Global.Event.event(n.default.CHANGEVIP),this.changeVip())},enumerable:!1,configurable:!0}),e.prototype.changeVip=function(){var e=Global.ModelManager.getModel("PlayerInfoModel"),t={};t.head=Global.PlayerData.vip,e.reqSetSelfCfg(t,function(){Global.PlayerData.headkuang=Global.PlayerData.vip.toString()})},Object.defineProperty(e.prototype,"type",{get:function(){return this._type},set:function(e){this._type!=e&&(this._type=e,Global.Event.event(n.default.PERSONALINFOUPDATE))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"phone",{get:function(){return this._phone},set:function(e){this._phone!=e&&(this._phone=e,Global.Event.event(n.default.PERSONALINFOUPDATE))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nickname",{get:function(){return this._nickname},set:function(e){this._nickname!=e&&(this._nickname=e,Global.Event.event(n.default.PERSONALINFOUPDATE))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"headimg",{get:function(){return this._headimg},set:function(e){this.headimg!=e&&(this._headimg=e,Global.Event.event(n.default.PERSONALINFOUPDATE))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"headkuang",{get:function(){return this._headkuang},set:function(e){""==e&&(e="0"),this.headkuang!=e&&(this._headkuang=e,Global.Event.event(n.default.PERSONALINFOUPDATE))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"point",{get:function(){return this._point},set:function(e){this._point!=e&&(this._point=e,Global.Event.event(n.default.PERSONALINFOUPDATE))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bank_point",{get:function(){return this._bank_point},set:function(e){this._bank_point!=e&&(this._bank_point=e,Global.Event.event(n.default.PERSONALINFOUPDATE))},enumerable:!1,configurable:!0}),e.prototype.clear=function(){this.uid=0,this._vip=0,this.vipExp=0,this.headkuang="0",this.buyuPaotai="0",this.token="",this.nickname="",this.headimg="",this.point=0,this.type=0,this.phone="",this.pack=0,this.pid=null,this.open_id="",this.accesstoken=""},e.prototype.init=function(e){this.clear(),this.uid=e.uid,this.token=e.token,this.pack=e.pack_no?e.pack_no:0,this.pid=e.pid?e.pid:0,this.open_id=e.open_id,this.accesstoken=e.accesstoken,this.ip=e.list_ip||"",e&&""!==e.merge_type&&(this.merge_type=e.merge_type.toString()),Global.Setting.ChannelInfo.playerChannel=this.pack,0==Global.Toolkit.checkNumValid(this.pid)&&(this.pid=0),Global.Setting.ChannelInfo.playerInviteCode=this.pid,null!=this.pack&&0!=this.pack&&Global.Setting.storage.set(i.default.Channel,this.pack),this.pid&&0!=this.pid&&Global.Setting.storage.set(i.default.InviteCode,this.pid.toString()),Global.Setting.storage.set(i.default.Token,this.token),Global.Setting.storage.set(i.default.Uid,this.uid.toString()),this.update(e),Global.HallServer.on(r.NetAppface.GetUserInfo,this,this.update),Global.HallServer.on(r.NetAppface.GetUserPoint,this,this.updateMoney),this.urlSign=Global.UrlUtil.getPlatformSign(this.uid+this.token+Global.Setting.SystemInfo.deviceId,Global.Setting.signKey)},e.prototype.updateMoney=function(e){this.point=e.point,this.bank_point=e.bank_point},e.prototype.update=function(e){this.uid=e.uid,e.self_cfg&&(this.vip=e.vip_level,this.vipExp=e.vip_coin,this.headkuang=""+e.self_cfg.head,this.buyuPaotai=""+e.self_cfg.pao);var t=Global.Setting.storage.get(i.default.VIPLevel);!t&&this._vip?Global.Setting.storage.set(i.default.VIPLevel,Number(this._vip)):t&&t<this.vip&&Global.Setting.storage.set(i.default.VIPLevel,Number(this._vip)),e&&""!==e.merge_type&&(this.merge_type=e.merge_type.toString()),this.nickname=Global.Toolkit.substrEndWithElli(e.nickname,14,!0),this.headimg=e.headimg,this.point=e.point?e.point:0,this.bank_point=e.bank_point?e.bank_point:0,this.type=e.user_type,e.phone?-1==e.phone.indexOf(" ")?(this.phone=Global.AESUtil.decodeMsg(e.phone),this.phone=this.functionSw(this.phone)):this.phone=e.phone:this.phone=""},e.prototype.functionSw=function(e){return e.replace(/(^\s*)|(\s*$)/g,"")},e}();o.default=a,cc._RF.pop()},{"../../core/GlobalEvent":"GlobalEvent","../../core/net/hall/NetEvent":"NetEvent","../const/HallStorageKey":"HallStorageKey"}],PlayerHeadView:[function(e,t,o){"use strict";cc._RF.push(t,"b1363z76F9C/L8q31e5psQ3","PlayerHeadView");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../../core/GlobalEvent"),a=e("../../../../core/ui/ViewBase"),s=e("../../../../hallcommon/model/PlayerInfoModel"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.headKuang=null,t.spriteVip=null,t}return n(t,e),t.prototype.initView=function(){this.playerModel=Global.ModelManager.getModel("PlayerInfoModel"),this.nameLabel=this.getComponent("nameLabel",cc.Label),this.idLabel=this.getComponent("playerID",cc.Label),this.headSprite=this.getComponent("headImg",cc.Sprite),this.headKuang=this.getComponent("headFrame",cc.Sprite),this.spriteVip=this.getComponent("vip_icon",cc.Sprite),this.hongdian=this.node.getChildByName("hongdian"),this.spriteVipHongdian=this.getChild("vip_icon/hongdian"),this.vipEffect=this.getChild("vip_icon/vipEffect"),this.vipEffect&&(this.vipEffect.active=!1),this.addCommonClick("vip_icon",this.onVipBtnFunc,this),this.spriteVip&&(this.spriteVip.node.active=!Global.Setting.vipDisable),this.addCommonClick("head",this.onHeadClick,this,null)},t.prototype.onHeadClick=function(){Global.UI.show("WndPlayerInfo")},t.prototype.onSubViewShow=function(){this.updateUserInfo(),this.onShowVipReward(),Global.Event.on(r.default.PERSONALINFOUPDATE,this,this.updateUserInfo),Global.Event.on(r.default.VIPREWARD,this,this.onShowVipReward)},t.prototype.onSubViewHide=function(){Global.Event.off(r.default.PERSONALINFOUPDATE,this,this.updateUserInfo),Global.Event.off(r.default.VIPREWARD,this,this.onShowVipReward)},t.prototype.onDispose=function(){Global.Event.off(r.default.PERSONALINFOUPDATE,this,this.updateUserInfo),Global.Event.off(r.default.VIPREWARD,this,this.onShowVipReward)},t.prototype.updateUserHead=function(){var e=Global.PlayerData,t=this.headSprite;if(t.node){var o=t.node.width,i=t.node.height;t.spriteFrame=Global.Toolkit.getLocalHeadSf(e.headimg),t.node.width=o,t.node.height=i}this.headKuang&&this.headKuang.node&&this.headKuang.node.isValid&&Global.Toolkit.loadLocalHeadFrameByVip(this.headKuang,e.headkuang,!1,!0),this.spriteVip&&this.spriteVip.node&&this.spriteVip.node.isValid&&Global.Toolkit.loadVipIcon(this.spriteVip,e.vip),this.hongdian&&(""!=e.phone?this.hongdian.active=!1:this.hongdian.active=!0)},t.prototype.updateUserName=function(){var e=Global.PlayerData;this.nameLabel.node&&(this.nameLabel.string=Global.Toolkit.removeEmoji(e.nickname))},t.prototype.updateUserInfo=function(){var e=Global.PlayerData;this.idLabel.node&&(this.idLabel.string=""+e.uid.toString()),this.updateUserHead(),this.updateUserName()},t.prototype.onVipBtnFunc=function(){Global.Event.event(r.default.SHOW_NET_WAITING,"WndVip3"),Global.UI.show("WndVip3")},t.prototype.clearTimeOut=function(){this.timer&&clearInterval(this.timer),this.vipEffect&&cc.isValid(this.vipEffect)&&(this.vipEffect.active=!1),this.timer=null},t.prototype.onShowVipReward=function(){if(!s.default.instance.vip_reward)return this.spriteVipHongdian&&(this.spriteVipHongdian.active=!1),void(this.vipEffect&&(this.vipEffect.active=!1));if(this.spriteVipHongdian){var e=s.default.instance.is_vip_reward>0,t=s.default.instance.is_week_reward>0,o=s.default.instance.is_month_reward>0;this.vipEffect&&this.setTimer(),this.spriteVipHongdian.active=!!(e||t||o)}},t.prototype.setTimer=function(){var e=this;this.clearTimeOut(),this.timer=setInterval(function(){var t=s.default.instance.is_vip_reward>0,o=s.default.instance.is_week_reward>0,i=s.default.instance.is_month_reward>0;t||i||o?e.vipEffect&&cc.isValid(e.vipEffect)&&(e.vipEffect.active=!0,setTimeout(function(){e.vipEffect&&cc.isValid(e.vipEffect)&&(e.vipEffect.active=!1)},5e3)):e.vipEffect&&cc.isValid(e.vipEffect)&&(e.vipEffect.active=!1,e.clearTimeOut())},1e4)},t}(a.default);o.default=l,cc._RF.pop()},{"../../../../core/GlobalEvent":"GlobalEvent","../../../../core/ui/ViewBase":"ViewBase","../../../../hallcommon/model/PlayerInfoModel":"PlayerInfoModel"}],PlayerInfoModel:[function(e,t,o){"use strict";cc._RF.push(t,"bf7e6+NcpBKA4L56xfzSPm1","PlayerInfoModel");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.BgmEntity=void 0;var r=e("../../../framework/model/ModelBase"),a=e("../../core/net/hall/NetEvent"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.vipSubsidy={},t.vipSubsidyStatus=0,t.vipSubsidyCount=0,t.vip_reward=0,t.vip_cfg=[],t.is_vip_reward=0,t.is_week_reward=0,t.is_month_reward=0,t.musicData=null,t.diantaiMusicArr=[{name:"\u9ed8\u8ba4\u80cc\u666f\u97f3\u4e50",singer:"",file:"",url:"",surl:"",download:!0}],t.vipExpArr=[100,200,300,400,500,600,700,800,900,1e3,1100,1200,1300,1400,1500],t}return n(t,e),t.prototype.onClear=function(){this.is_vip_reward=0,this.is_week_reward=0,this.is_month_reward=0},t.prototype.InitBgm=function(){var e=this;""==this.diantaiMusicArr[0].url&&(this.diantaiMusicArr[0].url=Global.Setting.hallBGM,this.diantaiMusicArr[0].surl=Global.Setting.hallBGM,this.diantaiMusicArr[0].file=Global.Setting.hallBGM);var t=!1,o=Global.Setting.storage.get("bgm");if(!o)return this.requestBgmList(),void this.playBgm(t,this.getLocalFileName(Global.Setting.hallBGM));if(this.musicData){for(var i=this.musicData.keys(),n=0;n<this.musicData.size;n++){var r=i.next().value,a=this.musicData.get(r);if(this.getLocalFileName(a.file)==o)return t=!0,void this.playBgm(t,o)}0!=this.musicData.size&&t||this.playBgm(t,this.getLocalFileName(Global.Setting.hallBGM))}else this.requestBgmList(function(i){for(var n=i.keys(),r=0;r<i.size;r++){var a=n.next().value,s=i.get(a);if(e.getLocalFileName(s.file)==o)return t=!0,void e.playBgm(t,o)}0!=i.size&&t||e.playBgm(t,e.getLocalFileName(Global.Setting.hallBGM))})},t.prototype.playBgm=function(e,t){if(!e)return Global.Setting.storage.set("bgm",t),void Global.Audio.playHallBGM();Global.Audio.playMusic(t)},t.prototype.requestBgmList=function(e){void 0===e&&(e=null);var t=this;Global.HallServer.send(a.NetAppface.mod,"GetBgmList",{},function(o){var i=new Map;if(o.length>0){for(var n=0;n<o.length;n++){var r=o[n],a=new l;if(a.name=r.name,a.file=r.file,a.singer=r.singer,i.set(a.name,a),!Global.Setting.resServerUrl){var s=r.file.split("//");if(s.length>0){var c=s[0],p=s[1].split("/")[0];Global.Setting.resServerUrl=c+"//"+p,Logger.error("Global.Setting.resServerUrl = "+Global.Setting.resServerUrl)}}}t.musicData=i}e&&e(i)}.bind(this),function(){Logger.error("PlayerInfoModel requestBgmList failed")}.bind(this),!1,30)},t.prototype.getLocalFileName=function(e){var t=e,o=t.lastIndexOf("."),i=t.slice(0,o),n=t.substring(o);return jsb.fileUtils.getWritablePath()+Global.Toolkit.md5(i)+n},t.prototype.onInit=function(){t.instance=this},t.prototype.onDestroy=function(){t.instance=null},Object.defineProperty(t.prototype,"Name",{get:function(){return"PlayerInfoModel"},enumerable:!1,configurable:!0}),t.prototype.InitData=function(e){if(e){this.vip_cfg=e;for(var t=0;t<e.length;t++){var o=e[t];this.vipExpArr[o.vip-1]=o.vip_coin}}},t.prototype.InitSubsidy=function(e){e&&(this.vipSubsidy=e.user_vip,this.vipSubsidyStatus=e.status,this.vipSubsidyCount=e.self_times)},t.prototype.reqGetUserInfo=function(e,t){Global.HallServer.send(a.NetAppface.mod,a.NetAppface.GetUserInfo,{},e,t)},t.prototype.reqEditUserInfo=function(e,t){Global.HallServer.send(a.NetAppface.mod,a.NetAppface.EditUserInfo,e,t,null,!1)},t.prototype.reqSetSelfCfg=function(e,t){Global.HallServer.send(a.NetAppface.mod,a.NetAppface.SetSelfCfg,e,t,null,!1)},t.prototype.GetVipUpgradeExp=function(e){var t=0,o=e-1;return o>=0&&o<this.vipExpArr.length&&(t=this.vipExpArr[o]),t},t.instance=null,t.UpdateScrollView="UpdateScrollView",t.playingObj=null,t}(r.default);o.default=s;var l=function(){function e(){this._name="",this._file="",this._singer=""}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(e){this._name=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"file",{get:function(){return this._file},set:function(e){this._file=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"singer",{get:function(){return this._singer},set:function(e){this._singer=e},enumerable:!1,configurable:!0}),e}();o.BgmEntity=l,cc._RF.pop()},{"../../../framework/model/ModelBase":"ModelBase","../../core/net/hall/NetEvent":"NetEvent"}],PlayerInfoModule:[function(e,t,o){"use strict";cc._RF.push(t,"270e8pBwiZDIY877b/OOdeU","PlayerInfoModule");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.viewClass="WndPlayerInfo",t.modelClass="PlayerInfoModel",t.resPaths=[],t.prefabPaths=["hall/prefabs/ui/PlayerInfo/NewPlayerInfoUI"],t.children=[{viewClass:"WndVip3",modelClass:"",resPaths:[],prefabPaths:["hall/prefabs/ui/PlayerInfo/VipUI3"],children:[]},{viewClass:"WndVipRule",modelClass:"",resPaths:[],prefabPaths:["hall/prefabs/ui/PlayerInfo/vipRule"],children:[]}],t}return n(t,e),t}(e("../../../framework/module/ModuleBase").ModuleBase);o.default=r,cc._RF.pop()},{"../../../framework/module/ModuleBase":"ModuleBase"}],PlayerWallet:[function(e,t,o){"use strict";cc._RF.push(t,"66490iHSFdGNoX/H3XBe39K","PlayerWallet");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../ui/ViewBase"),a=e("../GlobalEvent"),s=e("../../hall/ui/hall/views/HallBtnHelper"),l=e("../../hallcommon/model/PlayerInfoModel"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.jbLabel=null,t.SpineNode=null,t.getTime=0,t.img_shuaxin=null,t}return n(t,e),t.prototype.initView=function(){this.img_shuaxin=this.getChild("img_shuaxin"),Global.UIHelper.addCommonClick(this.node,"img_shuaxin",this.refreshCoinBtnClick,this),this.jbLabel=this.getComponent("jbLabel",cc.Label),this.SpineNode=this.getComponent("refreshSkeleton",sp.Skeleton),Global.UIHelper.addCommonClick(this.node,"icon_yinhang",this.onBankClick,this)},t.prototype.onBankClick=function(){s.default.WndBankOpen(),Global.Audio.playAudioSource("hall/sound/bank")},t.prototype.refreshAction=function(){},t.prototype.rechargeAction=function(){this.addCommonClick("jbBox",this.jbBtnClickFunc,this,null)},t.prototype.onSubViewShow=function(){this.playerPointChange(),Global.Event.on(a.default.PERSONALINFOUPDATE,this,this.playerPointChange)},t.prototype.onSubViewHide=function(){Global.Event.off(a.default.PERSONALINFOUPDATE,this,this.playerPointChange)},t.prototype.onDispose=function(){Global.Event.off(a.default.PERSONALINFOUPDATE,this,this.playerPointChange)},t.prototype.playerPointChange=function(){this.jbLabel.string=Global.Toolkit.formatPointStr(Global.PlayerData.point,!0).toString()},t.prototype.jbBtnClickFunc=function(){s.default.WndRechargeOpen()},t.prototype.yhBtnClickFunc=function(){s.default.WndBankOpen()},t.prototype.sendLoadingTime=function(){clearTimeout(this.hearttime);var e=this;this.hearttime=setTimeout(function(){e.getTime++,e.getTime>3?e.getTime=0:e.sendLoadingTime()},1e3)},t.prototype.refreshCoinBtnClick=function(){var e=this;cc.tween(this.img_shuaxin).to(2,{rotation:720}).call(function(){e.img_shuaxin.rotation=0}).start(),0==this.getTime?(this.getTime++,this.sendLoadingTime(),l.default.instance.reqGetUserInfo(function(e){Global.HallServer.event(NetAppface.GetUserInfo,e)},function(){})):Logger.error("\u5012\u8ba1\u65f6\u672a\u7ed3\u675f ==== "+this.getTime)},t}(r.default);o.default=c,cc._RF.pop()},{"../../hall/ui/hall/views/HallBtnHelper":"HallBtnHelper","../../hallcommon/model/PlayerInfoModel":"PlayerInfoModel","../GlobalEvent":"GlobalEvent","../ui/ViewBase":"ViewBase"}],PolygonBtnHit:[function(e,t){"use strict";cc._RF.push(t,"0b0a07KlLNPzqz6iMs5gKo8","PolygonBtnHit"),cc.Class({extends:cc.Component,editor:!1,properties:{},onLoad:function(){this.node._oldHitTest=this.node._hitTest.bind(this.node),this.node._hitTest=this.polygonHitTest.bind(this.node)},polygonHitTest:function(e,t){var o=this.getComponent(cc.PolygonCollider),i=!1;if(o){if(t&&t.mask){for(var n=t.mask,r=this,a=0;r&&a<n.index;++a,r=r.parent);if(r===n.node){var s=r.getComponent(cc.Mask);i=!s||!s.enabledInHierarchy||s._hitTest(e)}else t.mask=null,i=!0}else i=!0;return!!i&&((e=this.convertToNodeSpaceAR(e)).x-=this.getContentSize().width/2,e.y-=this.getContentSize().height/2,cc.Intersection.pointInPolygon(e,o.points))}return this._oldHitTest(e,t)}}),cc._RF.pop()},{}],PolygonButtonHit:[function(e,t){"use strict";cc._RF.push(t,"007675WT/ZAkIgGX0sRxda1","PolygonButtonHit"),cc.Class({extends:cc.Component,editor:!1,properties:{},onLoad:function(){this.node._oldHitTest=this.node._hitTest.bind(this.node),this.node._hitTest=this.polygonHitTest.bind(this.node)},polygonHitTest:function(e,t){var o=this.getComponent(cc.PolygonCollider),i=!1;if(o){if(t&&t.mask){for(var n=t.mask,r=this,a=0;r&&a<n.index;++a,r=r.parent);if(r===n.node){var s=r.getComponent(cc.Mask);i=!s||!s.enabledInHierarchy||s._hitTest(e)}else t.mask=null,i=!0}else i=!0;return!!i&&((e=this.convertToNodeSpaceAR(e)).x-=this.getContentSize().width/2,e.y-=this.getContentSize().height/2,cc.Intersection.pointInPolygon(e,o.points))}return this._oldHitTest(e,t)}}),cc._RF.pop()},{}],PoolBase:[function(e,t,o){"use strict";cc._RF.push(t,"0ff61xhvmNFRaz9Hv1gwNbi","PoolBase"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function e(){this.itemPool=[]}return e.prototype.createItem=function(){},e.prototype.resetItem=function(){},e.prototype.getItem=function(){return this.itemPool.length>0?this.itemPool.pop():this.createItem()},e.prototype.recycleItem=function(e){this.resetItem(e),this.itemPool.push(e)},e.prototype.recycleAll=function(e){var t=this;e.forEach(function(e){t.recycleItem(e)})},e.prototype.resetPool=function(){this.itemPool=[]},e}();o.default=i,cc._RF.pop()},{}],PreLoadProxy:[function(e,t,o){"use strict";cc._RF.push(t,"dbcb05WHmBIhbasuzpJ1C0Z","PreLoadProxy");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("./LoadingConst"),a=e("../../hallcommon/const/HallStorageKey"),s=e("../net/hall/NetEvent"),l=e("./LoadingFacade"),c=e("../tool/AppHelper"),p=e("../tool/ReportTool"),h=e("./AppHotUpdateProxy"),u=function(e){function t(o){var i=e.call(this)||this;return i.urlIndex=0,i._startTime=-1,i.reportParam={},i._intervalTimer=null,i.manifestNativeUrl=o.nativeUrl,i.proxyName=t.NAME,i}return n(t,e),t.prototype.onRegister=function(){Global.NativeEvent.onInit(),Global.NativeEvent.getNativeParams(this.onloadPackChannelInfo.bind(this)),Global.NativeJSBBridge.init(),this.initDataUrls(),c.default.init(),Global.DNS.init(),Global.AppDun.init(),this.requestAppUrl()},t.prototype.onloadPackChannelInfo=function(){l.default.Instance.sendNotification(r.default.UPDATE_LOADING_VERSION);var e=Global.Setting.SystemInfo.packChannel;null==e||""==e||isNaN(Number(e))||(Global.Setting.ChannelInfo.packageChannel=Number(e))},t.prototype.initDataUrls=function(){if(cc.sys.isBrowser){Global.Setting.dataUrlsList=[];var e=Global.Setting.Urls.dataUrls;if(e&&e.length>0)for(var t=0;t<e.length;t++){var o=e[t];o+=cc.js.formatStr("/%s?",Global.Toolkit.md5("\u7eff\u8272\u5927\u5385")),Logger.error("constDataUrl = "+o),Global.Setting.dataUrlsList.push(o)}}else{Global.Setting.dataUrlsList=[];var i=Global.Setting.loadDataUrls();if(i&&i.length>0)for(t=0;t<i.length;t++){var n=this.repackUrl(i[t]);Global.Setting.dataUrlsList.push(n)}else for(i=Global.Setting.SystemInfo.appConstUrlArray,t=0;t<i.length;t++)n=this.repackUrl(i[t]),Global.Setting.dataUrlsList.push(n)}},t.prototype.repackUrl=function(e){if(e.indexOf("?")>-1)return e.startsWith("http")||(e="https://"+e),e;var t="https:",o=e.split("//");o.length>1&&(t=o[0],e=o[1]);var i=Global.UrlUtil.getHostFromUrl(e),n=Global.Setting.SystemInfo.appID;null!=n&&""!=n||(n=Global.Setting.getConstUrlDataName());var r=Global.Setting.SystemInfo.subPlatformID,a="";return a="intest"==r?n+(r?"_"+r:""):r,t+"//"+i+"/c/"+(a=Global.Toolkit.md5(a))+"?"},t.prototype.requestAppUrl=function(){Global.NativeEvent.hideSplashView(),this.sendNotification(r.default.SHOW_CHECK_LABEL,{parm:"\u6b63\u5728\u83b7\u53d6\u914d\u7f6e\u6570\u636e..."}),this.loadLocalAppConfig()?this.reqVerifyServerAppConfig():this.reqServerAppConfig()},t.prototype.reqServerAppConfig=function(){this._startTime=(new Date).valueOf();var e=this.getConfigUrl();e+="uid="+(Number(Global.Setting.storage.get(a.default.Uid))||0)+"&appver="+Global.Setting.SystemInfo.appVersion+"&os="+Global.Toolkit.getOsType()+"&n="+Date.now(),Global.Setting.dataUrlIndex=this.urlIndex,e=Global.UrlUtil.refreshSuffixOperTime(e),e=Global.UrlUtil.refreshSuffixRetryTime(e,this.urlIndex),Global.Setting.curDataUrl=e,Global.Event.event(GlobalEvent.SHOW_NET_WAITING,"reqServerAppConfig",15,"",1,!1),Logger.error("\u53d1\u9001\u4e86\u6d88\u606f"+e+"========="),Global.Http.getWithRetry(e,this.handleAppConfig.bind(this),this.handleCfgReqeustError.bind(this),null,0,!1)},t.prototype.reqVerifyServerAppConfig=function(){this._startTime=(new Date).valueOf();var e=this.getConfigUrl();e+="uid="+(Number(Global.Setting.storage.get(a.default.Uid))||0)+"&appver="+Global.Setting.SystemInfo.appVersion+"&os="+Global.Toolkit.getOsType()+"&n="+Date.now(),e=Global.UrlUtil.refreshSuffixOperTime(e),e=Global.UrlUtil.refreshSuffixRetryTime(e,this.urlIndex),Global.Setting.dataUrlIndex=this.urlIndex,Global.Setting.curDataUrl=e,Global.Http.get(e,this.verifyServerCfg.bind(this),this.verifyServerCfgError.bind(this))},t.prototype.verifyServerCfgError=function(){this.urlIndex++,this.urlIndex<Global.Setting.dataUrlsList.length&&(Logger.error("use back up verify"),this.reqVerifyServerAppConfig())},t.prototype.handleCfgReqeustError=function(){this.reportParam={},Global.Event.event(GlobalEvent.HIDE_NET_WAITING,"reqServerAppConfig"),this.reportDataUrlSpeed(0),this.urlIndex++,this.urlIndex<Global.Setting.dataUrlsList.length?this.reqServerAppConfig():(this.urlIndex=0,Global.UI.showSingleBox("\u914d\u7f6e\u6587\u4ef6\u62c9\u53d6\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\u8fde\u63a5",this.reqServerAppConfig.bind(this),this.reqServerAppConfig.bind(this)))},t.prototype.loadLocalAppConfig=function(){var e=Global.Setting.storage.get(a.default.AppConfigContent);return null!=e&&""!=e&&(this.cachedServerContent=e,this._startTime=-1,this.handleAppConfig(e,!1),Logger.log("\u52a0\u8f7d\u672c\u5730\u7f13\u5b58\u76f4\u63a5\u8fdb\u6e38\u620f"),!0)},t.prototype.getConfigUrl=function(){var e=Global.Setting.dataUrlsList[this.urlIndex];return null==e&&(e=Global.Setting.dataUrlsList[0],this.urlIndex=0),e},t.prototype.handleAppConfig=function(e,t){var o=this;void 0===t&&(t=!0),Global.Event.event(GlobalEvent.HIDE_NET_WAITING,"reqServerAppConfig"),this.reportParam={};try{var i=Global.AESUtil.decodeMsg(e),n=JSON.parse(i),s=this.getReportUrl(n.dataUrls);if(Global.Setting.storage.set(a.default.ReportUrl,JSON.stringify(s)),null==n.routes||null==n.routes.length||0==n.routes.length)return this.handleCfgReqeustError(),Logger.error("\u6ca1\u6709\u914d\u7f6eroutes"),void Global.ReportTool.ReportClientError("AppConfigError",{des:"AppConfig",content:e,fromLocal:!t});Logger.log("-------appconfig------",i),Logger.error("\u6536\u5230\u670d\u52a1\u5668\u7684\u56de\u590d ="+JSON.stringify(n)),Global.Setting.parseServerInfo(n),this.sendNotification(r.default.UPDATE_APP_INFO)}catch(u){return this.handleCfgReqeustError(),Logger.error("\u52a0\u8f7dappCfg\u5931\u8d25",e),void Global.ReportTool.ReportClientError("AppConfigError",{des:"AppConfig",content:e,fromLocal:!t})}t&&Global.Setting.storage.set(a.default.AppConfigContent,e),Global.Setting.dataUrlIndex=this.urlIndex,Global.Setting.curDataUrl=this.getConfigUrl(),Global.ChannelUtil.decodeCliptext(),Global.ChannelUtil.getUuid(),Global.ChannelUtil.getEntryType(),Global.ChannelUtil.getSignType(),Global.ChannelUtil.initOpeninstall(),Global.ReportTool.reportRequestRecord(),Global.ReportTool.ReportLastLoginLogCache(),this.reportDataUrlSpeed(1);var l=function(){Global.DNS.requestHosts(Global.Setting.Urls.globalRoutes.getRouteArr(),function(){cc.sys.isNative?Global.Setting.SystemInfo.firstInstallStatus?setTimeout(function(){o.reqCheckVersion()},500):o.reqCheckVersion():Global.SceneManager.goToLogin()})},c=cc.sys.localStorage.getItem("errorReStartTimes");if(null!=c&&""!=c){var p=Number(c);if(p&&p%3==0){Logger.error("errorReStartTimes = "+c+" \u7f51\u7edc\u5f02\u5e38\uff0c\u8bf7\u91cd\u65b0\u52a0\u8f7d ");var h=function(){l()};Global.UI.show("WndGameRestoreUI",h,h)}else Logger.error("errorReStartTimes = num % 3 != 0 "+c),l()}else Logger.error("errorReStartTimes = null  "),l()},t.prototype.verifyServerCfg=function(e){var t=this.checkServerCfg(e,this.cachedServerContent);if(Logger.error("verifyServerCfg checkServerCfg result = "+t),4!=t){if(this.reportDataUrlSpeed(1),Global.Setting.dataUrlIndex=this.urlIndex,Global.Setting.curDataUrl=this.getConfigUrl(),0!=t){Logger.log("\u670d\u52a1\u5668\u914d\u7f6e\u66f4\u65b0"),Global.Setting.storage.set(a.default.AppConfigContent,e);var o=Global.AESUtil.decodeMsg(e),i=JSON.parse(o);Logger.log("-------appconfig------",o),Global.Setting.parseServerInfo(i)}}else this.verifyServerCfgError()},t.prototype.reportDataUrlSpeed=function(e){var t=(new Date).valueOf()-this._startTime;if(-1!==this._startTime){this.reportParam={time:t,data_url:this.getConfigUrl(),reportType:e};var o=p.ReportTool.REPORT_TYPE_DATA_ROUTE;Global.ReportTool.ReportPublicClientLog(o,this.reportParam,!1)}},t.prototype.checkServerCfg=function(e,t){if(Global.Toolkit.md5(e)==Global.Toolkit.md5(t))return 0;var o=this.safeDecode(e);if(null==o)return 4;var i=this.safeDecode(t);if(null==i)return 2;try{var n=JSON.stringify(i.routes),r=JSON.stringify(o.routes);if(Global.Toolkit.md5(n)!=Global.Toolkit.md5(r))return 5}catch(a){return 2}return 3},t.prototype.safeDecode=function(e){var t=null;try{var o=Global.AESUtil.decodeMsg(e);null!=(t=JSON.parse(o)).routes&&t.routes.length&&0!=t.routes.length||(t=null,Logger.error("data routes is null "))}catch(i){Logger.error("load app error",e),t=null}return t},t.prototype.reqCheckVersion=function(){var e=this,t={};t.appid=Global.Setting.appId,Global.Setting.checkVersionApp=t.appid,Global.Toolkit.checkMegeServer()&&(t.old_app_id=Number(Global.Setting.SystemInfo.appID)),t.edition=Global.HotUpdateManager.getNativeHotUpdateVersion("hall",!0,this.manifestNativeUrl),t.pack=Global.Setting.ChannelInfo.getRegistChannel(),t.uid=Number(Global.Setting.storage.get(a.default.Uid))||0,t.app_source=Global.Setting.SystemInfo.appConstUrl,t.app_independent_tag=Global.Setting.SystemInfo.packageTag,t.hall_skin=Global.Setting.SystemInfo.hallSkin,t.device=Global.Toolkit.genDeviceInfo(),Global.Toolkit.getFirstOpenTime(),Logger.log("begin check version"),this.sendNotification(r.default.SHOW_CHECK_LABEL,{parm:"\u6b63\u5728\u83b7\u53d6\u70ed\u66f4\u914d\u7f6e..."});var o=function(){Global.HallServer.sendCheckVersion(s.NetCheckVersion.checkversion,t,e.respCheckVersion.bind(e),e.respCheckVersionError.bind(e),!0),Global.ReportTool.ReportDevice(p.ReportTool.REPORT_TYPE_START_CHECKVERSION)};this.clearIntervalTimer();var i=Global.Setting.Urls.globalRoutes;if(i&&i.getCurRoute())Logger.error("\u6709\u53ef\u7528\u7ebf\u8def"),o();else{Logger.error("\u65e0\u53ef\u7528\u7ebf\u8def");var n=0;Global.Event.event(GlobalEvent.SHOW_NET_WAITING,"startRequestCheckversion",15,"",1,!1),this._intervalTimer=setInterval(function(){n++;var t=Global.Setting.Urls.globalRoutes;t&&t.getCurRoute()?(e.clearIntervalTimer(),o()):n>=10&&(e.clearIntervalTimer(),Global.UI.showSingleBox("\u7f51\u7edc\u8fde\u63a5\u8d85\u65f6\uff0c\u8bf7\u68c0\u67e5\u540e\u91cd\u8bd5-D",e.reqCheckVersion.bind(e),e.reqCheckVersion.bind(e)))},1e3)}},t.prototype.clearIntervalTimer=function(){Global.Event.event(GlobalEvent.FORCE_HIDE_WAITING),this._intervalTimer&&(clearInterval(this._intervalTimer),this._intervalTimer=null)},t.prototype.respCheckVersionError=function(e){var t=this,o=function(){setTimeout(function(){t.reqCheckVersion()},1e3)};e&&e._errstr?Global.UI.showSingleBox(e._errstr,o.bind(this),o.bind(this)):Global.UI.showSingleBox("\u68c0\u67e5\u7248\u672c\u66f4\u65b0\u5931\u8d25",o.bind(this),o.bind(this)),cc.sys.localStorage.setItem("needRestart",2)},t.prototype.respCheckVersion=function(e){if(cc.sys.localStorage.setItem("needRestart",2),this.sendNotification(r.default.SHOW_CHECK_LABEL,{parm:"\u68c0\u67e5\u66f4\u65b0\u4e2d..."}),e&&!Global.Toolkit.isEmptyObject(e)){Global.AppUpdateHelper.checkVersionData=e;var t=e.force_update_url,o=e.official_url;if(null!=o&&""!=o&&(Global.Setting.Urls.downLoadUrl=o),Global.Setting.Urls.forceUpateUrl=t,e.server_id&&(Global.Setting.storage.set(a.default.ServerDeviceId,e.server_id.trim()),Global.Setting.SystemInfo.server_id=e.server_id),Global.Setting.parseCheckVersionCfg(e),Global.ReportTool.ParseDebugConfig(e,Number(Global.Setting.storage.get(a.default.Uid))||0),!this.startGameMaintainLogic(e)){var i=e.app_hit_hall.url,n=e.app_hit_hall.new_url;n&&0!=n.length||(n=Global.UrlUtil.transferUrlArrayToRoutes(i)),Global.DunHotUpdateUrlSetting.hotUpdateRouteCfg=n,this.startHotUpdateLogic(e)}}else Global.UI.fastTip("\u670d\u52a1\u5668\u7ef4\u62a4\u4e2d\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5!")},t.prototype.startGameMaintainLogic=function(e){var t=e.update_notice;return!!this.checkIsShowUpdateNoticeWnd(t)&&(this.showUpdateNoticeWnd(t),!0)},t.prototype.startHotUpdateLogic=function(e){var t=e.app_hit_hall,o="",i="",n="";if(t&&t.version&&(i=t.version,o=e.hall_update_url,t.param)){var r=t.url,s=t.new_url;n=t.param,Global.Setting.Urls.hallHotUpdateUrlArray=s,s&&0!=s.length||(Global.Setting.Urls.hallHotUpdateUrlArray=r);var l=0,c=cc.sys.localStorage.getItem("errorReStartTimes");if(null!=c&&""!=c){var p=Global.Setting.storage.getObject(a.default.HotUpdateHosts);p&&(Global.Toolkit.compareArraySort(p,Global.Setting.Urls.hallHotUpdateUrlArray)?r=p:(Global.Setting.storage.setObject(a.default.HotUpdateHosts,Global.Setting.Urls.hallHotUpdateUrlArray),l=0));var u=Number(c),d=Global.Setting.Urls.hallHotUpdateUrlArray.length;u&&d>0&&(Logger.error("startHotUpdateLogic errorReStartTimes = "+c),l=u%d)}o=Global.Setting.Urls.hallHotUpdateUrlArray[l],Global.Setting.Urls.hallHotUpdateUrlArray[0]&&Global.Setting.Urls.hallHotUpdateUrlArray[0].host&&(l>0&&Global.DunHotUpdateUrlSetting.switchRoute(),o=Global.DunHotUpdateUrlSetting.hotUpdateUrl),Logger.error("startHotUpdateLogic hall_update_url = "+o)}Global.Setting.Urls.hallHotUpdateUrl=o,Global.HotUpdateManager.hallNewVersion=i,Global.HotUpdateManager.hallUpdatePath=n,this.facade.retrieveProxy(h.default.NAME).preUpdate(o,i,n)},t.prototype.showUpdateNoticeWnd=function(e){var t=this,o=e.content,i=(e.on_time,e.down_time);Global.UI.show("WndGameMaintainUI",o,i,function(){cc.sys.openURL(Global.Toolkit.DealWithUrl(Global.Setting.Urls.onlineService))},function(){var e=Global.Setting.Urls.downLoadUrl;cc.sys.openURL(e)},function(){t.reqCheckVersion()})},t.prototype.checkIsShowUpdateNoticeWnd=function(e){var t=Math.round((new Date).getTime()/1e3);return!!(e&&null!=e.down_time&&e.down_time>0&&e.down_time-t>0)},t.prototype.getReportUrl=function(e){if(e)return e[this.urlIndex]},t.prototype.onRemove=function(){},t.NAME="PreLoadProxy",t}(puremvc.Proxy);o.default=u,cc._RF.pop()},{"../../hallcommon/const/HallStorageKey":"HallStorageKey","../net/hall/NetEvent":"NetEvent","../tool/AppHelper":"AppHelper","../tool/ReportTool":"ReportTool","./AppHotUpdateProxy":"AppHotUpdateProxy","./LoadingConst":"LoadingConst","./LoadingFacade":"LoadingFacade"}],PreModelCommand:[function(e,t,o){"use strict";cc._RF.push(t,"4bc38NwAjVHyLsZvx7pGq9X","PreModelCommand");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../model/proxy/AppConfigProxy"),a=function(e){function t(){return e.call(this)||this}return n(t,e),t.prototype.execute=function(t){e.prototype.execute.call(this,t),this.facade.registerProxy(new r.default)},t}(puremvc.SimpleCommand);o.default=a,cc._RF.pop()},{"../model/proxy/AppConfigProxy":"AppConfigProxy"}],PreViewCommand:[function(e,t,o){"use strict";cc._RF.push(t,"240b02BN/5E94Gw3m5XyuXk","PreViewCommand");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../mediator/ViewMediator"),a=function(e){function t(){return e.call(this)||this}return n(t,e),t.prototype.execute=function(t){e.prototype.execute.call(this,t),this.facade.registerMediator(new r.default)},t}(puremvc.SimpleCommand);o.default=a,cc._RF.pop()},{"../mediator/ViewMediator":"ViewMediator"}],PrivateMarqueeComp:[function(e,t,o){"use strict";cc._RF.push(t,"3fb97ds3EZGNJSp3gNPxkcu","PrivateMarqueeComp");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a},a=this&&this.__awaiter||function(e,t,o,i){return new(o||(o=Promise))(function(n,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,s)}l((i=i.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var o,i,n,r,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(e){return function(t){return l([e,t])}}function l(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,i&&(n=2&r[0]?i.return:r[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,r[1])).done)return n;switch(i=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){a.label=r[1];break}if(6===r[0]&&a.label<n[1]){a.label=n[1],n=r;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(r);break}n[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(s){r=[6,s],i=0}finally{o=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var l=cc._decorator,c=l.ccclass,p=(l.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gameid=0,t}return n(t,e),t.prototype.onLoad=function(){this.textNode=cc.find("text",this.node).getComponent(cc.RichText),cc.find("tuwan_03",this.node).on(cc.Node.EventType.TOUCH_END,this.onOpenGame,this),this.updateUseInfo(null)},t.prototype.updateUseInfo=function(e){if(e&&0!=e.gid){var t=Global.GameData.getGameInfo(e.gid);if(!t||null==t.name)return void Logger.error("\u627e\u4e0d\u5230gameid",e.gid);this.gameid=e.gid;var o=Global.Toolkit.formatPoint(e.point),i=cc.js.formatStr("<outline color=#791e02 width=1>\u54c7\uff01\u73a9\u5bb6<color=#70f0f6>%s</color>\u592a\u68d2\u4e86\uff0c\u5728<color=#ed0353>%s</color>\u6e38\u620f\u4e2d\u4e00\u628a\u8d62\u5f97\u4e86<color=#fbed7b>%s</color>\u5143\uff01</outline>",e.nickname,e.gname,o);this.textNode.string=i}},t.prototype.onDestroy=function(){},t.prototype.onOpenGame=function(){var e=this,t=this.gameid;if(this.gameData=Global.GameData.getGameInfo(t),Global.HotUpdateManager.CurrentGame=this.gameData.game_id,Game.Control.GAME_DDZ_HJ_ARR.indexOf(t)>=0&&(Global.HotUpdateManager.CurrentGame=""+Game.Control.GAME_DDZ_HJ_ARR[0],Game.Control.curGid=t),!Global.SceneManager.inGame())if(8!==this.gameData.gtype)if(9===this.gameData.gameType&&Global.ModelManager.getModel("HallModel").requestApplyEnterGame(this.gameData.game_id),Global.HotUpdateManager.checkIsGameDownload(t)||!cc.sys.isNative){if(Global.HotUpdateManager.checkIsGameNewest(t)||!cc.sys.isNative){var o=this,i=function(){return a(e,void 0,void 0,function(){var e;return s(this,function(i){switch(i.label){case 0:return Global.Setting.needHallChooseRoom&&1==o.gameData.levels.length&&1!=o.gameData.gameType?(e=o.gameData.levels[0].level||"l0",Global.Toolkit.checkMoney(e,o.gameData)?(Global.Event.event(GlobalEvent.RecordGameListOffsetX),Game.Control.curLv=e,1==o.gameData.levelType?Game.Control.connnectAndEnterGame(o.gameData.game_id,"l0"):Global.SceneManager.loadGameScene(),[2]):[2]):(Game.GamePreloadTool.setup(t),Game.GamePreloadTool.checkPreloadBundleExist(t)?[4,Game.GamePreloadTool.preloadBundle()]:[3,3]);case 1:return i.sent(),[4,Game.GamePreloadTool.preloadPrefab(Game.GamePreloadTool.lobbyUIPath)];case 2:return i.sent(),Global.UI.show("WndGameLobbyShell",t),[2];case 3:return Global.Event.event(GlobalEvent.RecordGameListOffsetX),1==o.gameData.levelType?Game.Control.connnectAndEnterGame(o.gameData.game_id,"l0"):Global.SceneManager.loadGameScene(),[2]}})})};this.checkGameCfg()?this.checkMoney()&&this.checkVersion()&&(o.gameData.portraitModel?Global.UI.showPortraitScreenNotice(i):i()):Global.UI.showSingleBox("\u6e38\u620f\u914d\u7f6e\u6ca1\u6709\u62c9\u5230\uff0c\u8bf7\u7a0d\u7b49~")}}else Global.UI.fastTip("\u672a\u4e0b\u8f7d\u6e38\u620f");else this.checkVersion()&&Global.ModelManager.getModel("HallModel").requestApplyEnterGame(this.gameData.game_id)},t.prototype.onDisable=function(){},t.prototype.hideNode=function(){var e=this;if(this.node.active){this.node.stopAllActions(),this.node.opacity=255;var t=cc.fadeOut(.5),o=cc.callFunc(function(){e.node.active=!1,e.node.opacity=255}),i=cc.sequence(t,o);this.node.runAction(i)}},t.prototype.showNode=function(e){var t=this;if(this.updateUseInfo(e),this.node.y=-500,this.node){this.node.stopAllActions(),this.node.opacity=255;var o=cc.moveTo(.2,0,-200),i=cc.callFunc(function(){t.node.active=!0,t.node.opacity=255}),n=cc.sequence(o,i);return this.node.runAction(n),void Global.Component.scheduleOnce(function(){t.hideNode()},10)}},t.prototype.checkMoney=function(){if(this.gameData.checkMoney&&this.gameData.levels&&1==this.gameData.levels.length){var e=this.gameData.levels[0].PointLow;if(Global.PlayerData.point<e){var t="\u6e38\u620f\u51c6\u5165"+Global.Toolkit.formatPointStr(e)+"\u91d1\u5e01\uff0c\u8bf7\u60a8\u5145\u503c\u54e6\uff01";return Global.Toolkit.showMoneyNotEnough(t),!1}}return!0},t.prototype.checkVersion=function(){return!(this.gameData.supportVersion&&this.gameData.supportVersion>0&&!Global.Toolkit.checkVersionSupport(this.gameData.supportVersion,this.gameData.supportIosVersion)&&(Global.UI.showYesNoBox("\u7248\u672c\u8fc7\u65e7\uff0c\u8bf7\u4e0b\u8f7d\u65b0\u5305\u4f7f\u7528\u8be5\u529f\u80fd",function(){cc.sys.openURL(Global.Setting.Urls.downLoadUrl)}),1))},t.prototype.checkGameCfg=function(){return!!(this.gameData&&this.gameData.levels&&this.gameData.levels.length>0)},r([c],t)}(cc.Component));o.default=p,cc._RF.pop()},{}],ProxyWin:[function(e,t,o){"use strict";cc._RF.push(t,"4e71fd8AOVB9Y89OVdWljfY","ProxyWin");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/ui/ViewBase"),a=e("../../../hallcommon/model/ServicerModel"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.show_img="",t.servicerNode=[],t.servicerType={1:"icon_kfwx",2:"icon_kfqq",3:"icon_kfwx",4:"icon_kfat",5:"img_llgf",6:"img_llgf"},t.servicerName={1:"\u5ba2\u670d\u5fae\u4fe1",2:"\u5ba2\u670dQQ",3:"\u516c\u4f17\u53f7",4:"\u827e\u7279\u5ba2\u670d",5:"\u5728\u7ebf\u5ba2\u670d",6:"\u5728\u7ebf\u5ba2\u670d"},t}return n(t,e),t.prototype.onInit=function(){},t.prototype.initView=function(){this.serviceModel=Global.ModelManager.getModel("ServicerModel"),this.SpreadModel=Global.ModelManager.getModel("SpreadModel"),this.centerImg=this.getChild("mask/centerImg"),this.contentSprite=this.centerImg.getComponent(cc.Sprite),this.delegateNode=this.getChild("ServerNode");var e=this.getChild("ServerNode/leftNode");this.servicerNode.push(e),Global.UIHelper.addCommonClick(this.node,"ServerNode/leftNode/btn_leftkefu",this.openServicerApp,this)},t.prototype.onSubViewShow=function(){this.waitingNode&&(this.waitingNode.active=!0);var e=Global.Setting.Urls.getinviteUrl();this.SpreadModel.GetDayAgentShare(e),this.showProxy(),this.InitCenterImg()},t.prototype.InitCenterImg=function(){if(this.show_img){this.contentSprite.spriteFrame=null;var e=this;null==e.show_img||Global.Toolkit.isEmptyObject(e.show_img)||cc.loader.load(Global.Toolkit.DealWithUrl(e.show_img),function(t,o){if(null==t&&e.centerImg&&e.centerImg.isValid){var i=new cc.SpriteFrame(o);e.contentSprite.spriteFrame=i}})}},t.prototype.CheckKefu=function(){var e=null,t=Global.ModelManager.getModel("ServicerModel");t&&(e=t.getServiceInfo(a.CustomerEntranceType.SpreadService)),e&&e.status?this.delegateNode.active=!0:this.delegateNode.active=!1},t.prototype.showProxy=function(){var e=this.serviceModel.getServiceInfo(a.CustomerEntranceType.SpreadService);if(e){if(this.show_img=e.show_img,e&&0!==e.arr.length)for(var t=e.arr,o=0;o<t.length;o++){if(o>this.servicerNode.length-1)return;var i=this.servicerNode[o],n=t[o];if(0!==n.type&&i&&cc.isValid(i)){i.active=!0;var r=cc.find("lb_kefu",i).getComponent(cc.Label),s=cc.find("img_qq",i).getComponent(cc.Sprite);cc.find("btn_leftkefu",i).data=n,r.string=Global.Toolkit.substrEndWithElli(n.data,10),Global.ResourceManager.loadAutoAtlas(s,"hall/texture/Proxy/Proxy",this.servicerType[n.type])}}}else Global.UI.fastTip("\u5ba2\u670d\u6570\u636e\u672a\u914d\u7f6e\uff01")},t.prototype.openServicerApp=function(e){var t=this;e&&e.node&&e.node.data&&Global.NativeEvent.copyTextToClipboard(e.node.data.data,function(o){0==o.result&&(e.node.data.type==a.PopItemType.QQ?(Global.UI.fastTip("\u590d\u5236\u6210\u529f"),Global.NativeEvent.awakeQQApp(t.awakeQQCallBack.bind(t))):e.node.data.type==a.PopItemType.WX||e.node.data.type==a.PopItemType.WXPUBLIC?(Global.UI.fastTip("\u590d\u5236\u6210\u529f"),Global.NativeEvent.awakeWechatApp(t.awakeWeChatCallBack.bind(t))):e.node.data.type==a.PopItemType.AtWnd?(Global.ChatServer.serverType=a.CustomerEntranceType.HallService,Global.ChatServer.userSetting(null,e.node.data.data)):e.node.data.type==a.PopItemType.Link?cc.sys.openURL(Global.Toolkit.DealWithUrl(e.node.data.data)):e.node.data.type==a.PopItemType.AtLink?cc.sys.openURL(Global.Toolkit.DealWithUrl(e.node.data.data)):Global.UI.fastTip("\u590d\u5236\u5931\u8d25"))})},t.prototype.awakeQQCallBack=function(e){0==e.result||(-1==e.result?(Logger.log("\u8bf7\u5148\u5b89\u88c5QQ"),Global.UI.showSingleBox("\u8bf7\u5148\u5b89\u88c5QQ",null)):(Logger.log("\u6253\u5f00QQ\u5931\u8d25"),Global.UI.showSingleBox("\u6253\u5f00QQ\u5931\u8d25",null)))},t.prototype.awakeWeChatCallBack=function(e){0==e.result||(-1==e.result?(Logger.log("\u8bf7\u5148\u5b89\u88c5\u5fae\u4fe1"),Global.UI.showSingleBox("\u8bf7\u5148\u5b89\u88c5\u5fae\u4fe1",null)):(Logger.log("\u6253\u5f00\u5fae\u4fe1\u5931\u8d25"),Global.UI.showSingleBox("\u6253\u5f00\u5fae\u4fe1\u5931\u8d25",null)))},t}(r.default);o.default=s,cc._RF.pop()},{"../../../core/ui/ViewBase":"ViewBase","../../../hallcommon/model/ServicerModel":"ServicerModel"}],PurpleSkinModuleCfg:[function(e,t,o){"use strict";cc._RF.push(t,"db04apGFfRNNZtukAGjQETS","PurpleSkinModuleCfg");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cfg=["LoginModule","HallModule","PersonalInfoModule","PlayerInfoModule","BankModule","ActivityCenterModule","BackUpGameModule","BindingGiftModule","CashBackModule","GameLobbyShellModule","CommisionModule","CommonModule","FeedbackModule","MsgModule","RankModule","RechargeGiftModule","RechargeModule","ServicerModule","ShareModule","SpreadModule","VipQuickPayChatModule"],t}return n(t,e),t}(e("./ModuleCfgBase").default);o.default=r,cc._RF.pop()},{"./ModuleCfgBase":"ModuleCfgBase"}],PvpSitHelper:[function(e,t,o){"use strict";cc._RF.push(t,"40e00tt30BPTZAZXYybi+FK","PvpSitHelper"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function e(){this.localSitToViewSitMap={}}return e.prototype.init=function(e,t,o){void 0===o&&(o={}),this.selfSvrSit=e,this.maxPlayerNum=t,this.localSitToViewSitMap=o},e.prototype.clear=function(){this.localSitToViewSitMap={},this.selfSvrSit=0,this.maxPlayerNum=0},e.prototype.getSelfServerSeat=function(){return this.selfSvrSit},e.prototype.getSelfServerSeatS=function(){return"p"+this.selfSvrSit},e.prototype.serverToLocal=function(e){if(!this.selfSvrSit||-1==this.selfSvrSit)return e;var t=this.getSelfViewSeat(),o=((e-this.selfSvrSit+this.maxPlayerNum)%this.maxPlayerNum+t)%this.maxPlayerNum;return this.localToView(o)},e.prototype.localToView=function(e){return null==this.localSitToViewSitMap||Global.Toolkit.isEmptyObject(this.localSitToViewSitMap)?e:this.localSitToViewSitMap[e]},e.prototype.viewToLocal=function(e){if(null==this.localSitToViewSitMap||Global.Toolkit.isEmptyObject(this.localSitToViewSitMap))return e;for(var t in this.localSitToViewSitMap)if(this.localSitToViewSitMap[t]==e)return t},e.prototype.localToServer=function(e){if(!this.selfSvrSit||-1==this.selfSvrSit)return e;var t=this.viewToLocal(e)-this.getSelfViewSeat()+this.selfSvrSit;return t==this.maxPlayerNum?this.maxPlayerNum:t%this.maxPlayerNum},e.prototype.serverSToLocalN=function(e){return this.serverToLocal(e)},e.prototype.localNToServerS=function(e){return this.localToServer(e)},e.prototype.serverSeatStrToNum=function(e){return e},e.prototype.getSelfViewSeat=function(){return 0},e}();o.default=i,cc._RF.pop()},{}],PvpWaitMatchHandler:[function(e,t,o){"use strict";cc._RF.push(t,"f7c50kH2WND3Ycd1oKALZpd","PvpWaitMatchHandler"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function e(){}return e.prototype.Handle=function(e){var t;t=e,Game.Control.setSession(t),Global.HallServer.setSession(t),Game.Control.stopCheckMsgTimer(),Game.Event.event(Game.EVENT_MATCH_PLAYER,e),Game.Control.curGid!=t._para._gid&&(Logger.error("Game.Control.curGid  !== session._para._gid"),Game.Event.event(Game.EVENT_FORCE_LEAVE_GAME))},e.prototype.checkInQueue=function(){return!1},e}();o.default=i,cc._RF.pop()},{}],PwdInputView:[function(e,t,o){"use strict";cc._RF.push(t,"f5e36MHxhNF5aR01OMbSPvz","PwdInputView");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pwdVisible=!1,t}return n(t,e),t.prototype.initView=function(){this.pwdInput=this.getComponent("pwd",cc.EditBox),this.pwdInput.placeholder="\u8bf7\u8f93\u51656~10\u4f4d\u6570\u5b57\u548c\u5b57\u6bcd\u5bc6\u7801",this.pwdInput.maxLength=16,this.visibleIcon=this.getChild("visibleIcon"),this.inVisibleIcon=this.getChild("inVisibleIcon"),this.addCommonClick("visibleIcon",this.onVisibleClick,this,null),this.addCommonClick("inVisibleIcon",this.onVisibleClick,this,null)},t.prototype.onVisibleClick=function(){this.pwdVisible=!this.pwdVisible,this.pwdVisible?this.pwdInput.inputFlag=cc.EditBox.InputFlag.DEFAULT:this.pwdInput.inputFlag=cc.EditBox.InputFlag.PASSWORD,this.updateVisible()},Object.defineProperty(t.prototype,"pwd",{get:function(){return this.pwdInput.string},set:function(e){this.pwdInput.string=e},enumerable:!1,configurable:!0}),t.prototype.onSubViewShow=function(){this.pwdVisible=!1,this.updateVisible()},t.prototype.updateVisible=function(){this.visibleIcon.active=this.pwdVisible,this.inVisibleIcon.active=!this.pwdVisible},t}(e("../../../../core/ui/ViewBase").default);o.default=r,cc._RF.pop()},{"../../../../core/ui/ViewBase":"ViewBase"}],RankItem:[function(e,t,o){"use strict";cc._RF.push(t,"ac3d4Sx6W9Nup6Y7JFabOx+","RankItem");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,l=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.LabelName=null,t.LabelID=null,t.LabelCount=null,t.selfRankLab=null,t.headImg=null,t.selfRankSprite=null,t}return n(t,e),t.prototype.onLoad=function(){this.headImg.on(cc.Node.EventType.TOUCH_END,this.onHeadClick,this)},t.prototype.Init=function(e){if(Number(e.headimg)){var t=this.headImg.getComponent(cc.Sprite),o=Global.Toolkit.getLocalHeadSf(e.headimg);t.spriteFrame=o}else Global.Toolkit.loadWebPic(this.headImg,e.headimg);var i=e.uid+"";this.LabelID.string=Global.Toolkit.formateStrWithAsterisk(i,i.length-4,1),this.LabelName.string=Global.Toolkit.substrEndWithElli(e.name,8),this.LabelCount.string=Global.Toolkit.GetText(e.point),this.selfRankLab.string=null==e.rank?"W":e.rank,this.selfRankLab.node.active=!1;var n="hall/texture/rank/rankAtlas";if(e.rank>3)Global.Setting.SkinConfig.isPurple?Global.ResourceManager.loadAutoAtlas(this.selfRankSprite,n,"rank_04",null,!1):this.selfRankSprite.spriteFrame=null,this.selfRankLab.node.active=!0;else switch(Global.Setting.SkinConfig.isRed&&(this.selfRankLab.node.active=!0),e.rank){case 1:Global.ResourceManager.loadAutoAtlas(this.selfRankSprite,n,"rank_01",null,!1);break;case 2:Global.ResourceManager.loadAutoAtlas(this.selfRankSprite,n,"rank_02",null,!1);break;case 3:Global.ResourceManager.loadAutoAtlas(this.selfRankSprite,n,"rank_03",null,!1)}},t.prototype.onHeadClick=function(){},r([l(cc.Label)],t.prototype,"LabelName",void 0),r([l(cc.Label)],t.prototype,"LabelID",void 0),r([l(cc.Label)],t.prototype,"LabelCount",void 0),r([l(cc.Label)],t.prototype,"selfRankLab",void 0),r([l(cc.Node)],t.prototype,"headImg",void 0),r([l(cc.Sprite)],t.prototype,"selfRankSprite",void 0),r([s],t)}(cc.Component);o.default=c,cc._RF.pop()},{}],RankModel:[function(e,t,o){"use strict";cc._RF.push(t,"edacb3RPj9AAqexsC5Jw1Tl","RankModel");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../framework/model/ModelBase"),a=e("../../core/net/hall/NetEvent"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dataMap={},t}return n(t,e),t.prototype.onInit=function(){},t.prototype.reqRankInfo=function(e,o){var i=this;if(o||!this.dataMap.hasOwnProperty(e)){if(this.dataMap.hasOwnProperty(e)||(this.dataMap[e]=new l),o){var n=this.dataMap[e].data||{};if(n.pointRankList&&n.pointRankList.length>=this.dataMap[e].total)return void Global.UI.fastTip("\u65e0\u66f4\u591a\u4fe1\u606f");this.dataMap[e].page++}else this.dataMap[e].page=0;var r={page:this.dataMap[e].page,type:e};Global.HallServer.send(a.NetAppface.mod,a.NetAppface.GetPointRank,r,function(o){i.dataMap[e].total=o.total||100;var n=o.page,r=o.pointRankList||[];if(r)if(0==n)i.dataMap[e].data=o,i.event(t.RefreshScrollview,o);else{if(i.dataMap[e].page>n)return;i.dataMap[e].data.pointRankList=i.dataMap[e].data.pointRankList.concat(r),i.event(t.UpdateRankData,i.dataMap[e].data.pointRankList)}},null,!1,60)}else this.event(t.RefreshScrollview,this.dataMap[e].data)},Object.defineProperty(t.prototype,"Name",{get:function(){return"RankModel"},enumerable:!1,configurable:!0}),t.prototype.clear=function(){this.dataMap={}},t.UpdateRankData="UpdateRankData",t.RefreshScrollview="RefreshScrollview",t}(r.default);o.default=s;var l=function(){this.page=0,this.total=0,this.data=null};cc._RF.pop()},{"../../../framework/model/ModelBase":"ModelBase","../../core/net/hall/NetEvent":"NetEvent"}],RankModule:[function(e,t,o){"use strict";cc._RF.push(t,"1480a+TV1pF573Jkdji6LmS","RankModule");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.viewClass="WndRank",t.modelClass="RankModel",t.resPaths=[],t.prefabPaths=["hall/prefabs/ui/RankUI"],t.children=[],t}return n(t,e),t}(e("../../../framework/module/ModuleBase").ModuleBase);o.default=r,cc._RF.pop()},{"../../../framework/module/ModuleBase":"ModuleBase"}],RechagreTipModel:[function(e,t,o){"use strict";cc._RF.push(t,"e53f4Wm5BdOZo9NyDRiGxFo","RechagreTipModel");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../const/HallStorageKey"),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.flag=!1,t}return n(t,e),t.prototype.onInit=function(){this.name="RechagreTipModel"},t.prototype.setRechagreTipModel=function(){var e=Global.Setting.storage.get(r.default.Sale),t=(new Date).getTime();null==e||""==e?(e=(new Date).getTime(),Global.Setting.storage.set(r.default.Sale,e),this._RechagreTipModel=!0):this.salenum>0&&(this._RechagreTipModel=this.SetTimeData(e,t)),Global.Setting.storage.set(r.default.Sale,t)},Object.defineProperty(t.prototype,"RechagreTipModel",{get:function(){var e=Global.Setting.storage.get(r.default.Sale),t=(new Date).getTime();return null==e||""==e?this._RechagreTipModel=!0:this.salenum>0&&(this._RechagreTipModel=this.SetTimeData(e,t)),this._RechagreTipModel},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Salenum",{get:function(){return this.salenum},enumerable:!1,configurable:!0}),t.prototype.initData=function(e){this.salenum=e||0},t.prototype.SetTimeData=function(e,t){var o=new Date(Number(e)),i=new Date(t),n=o.getFullYear(),r=i.getFullYear(),a=o.getMonth(),s=i.getMonth(),l=o.getDate(),c=i.getDate();return r>n||s>a||c>l},t}(e("../../../framework/model/ModelBase").default);o.default=a,cc._RF.pop()},{"../../../framework/model/ModelBase":"ModelBase","../const/HallStorageKey":"HallStorageKey"}],RechangeView:[function(e,t,o){"use strict";cc._RF.push(t,"03e60/qecVHZaBxUySWxWWW","RechangeView");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/ui/ViewBase"),a=e("../../../hallcommon/model/RechargeModel"),s=e("./RechargePayView"),l=e("../waiting/WaitingView"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.curPayType="",t.toggleList=[],t}return n(t,e),t.prototype.onSubViewShow=function(){this.waitingNode&&(this.waitingNode.active=!0),this.rechargePayView.subViewState=!0,this.model.reqGetPayConfig()},t.prototype.initView=function(){this.node.width=cc.Canvas.instance.node.width,this.node.height=cc.Canvas.instance.node.height,this.model=Global.ModelManager.getModel("RechargeModel"),this.model.on(a.default.ReadyForConfig,this,this.show),this.rechargePayView=this.addView("RechargePayView",this.getChild("payView"),s.default),this.copyToggle=this.getChild("leftBtns/toggle_1"),this.btnLayout=this.getComponent("leftBtns/toggleSv/view/btnLayout",cc.Layout),this.copyToggle.active=!1,this.fanliIconNode=this.getChild("leftBtns/fanli"),this.fanliIconNode.active=!1,null!=this.waitingNode&&null!=this.waitingNode||(this.waitingNode=l.default.initWaitingView(this.node,cc.v2(138,0)))},t.prototype.initToggleList=function(){var e=this,t=this.model.getPayListData();this.recycleToggleList();for(var o=!0,i=0;i<t.length;i++){var n=this.toggleList[i];if(!n){var r=cc.instantiate(this.copyToggle);r.setParent(this.btnLayout.node),n=new p(r,this.onToggleClick,this),this.toggleList.push(n)}n.active=!0,n.setItemStyle(t[i].pay_key),1===t[i].tip_status&&n.addFanliIcon(this.fanliIconNode,t[i].tip),this.curPayType===t[i].pay_key&&(o=!1,n.setToggleChecked(!0),n.moveFanli(!0))}if(!Global.Toolkit.isEmptyObject(t)&&o){this.curPayType=t[0].pay_key;var a=this.toggleList.find(function(t){return t.itemkey==e.curPayType});a&&a.moveFanli(!0)}},t.prototype.ShowVip=function(){"vippay"!=this.curPayType&&(this.curPayType="vippay",this.toggleList.forEach(function(e){"vippay"==e.itemkey&&(e.setToggleChecked(!0),e.moveFanli(!0))}),this.rechargePayView.showView("vippay"))},t.prototype.recycleToggleList=function(){this.toggleList.forEach(function(e){if(e){e.active=!1;var t=cc.find("Fanli",e.node);t&&(t.active=!1)}})},t.prototype.onToggleClick=function(e){var t=e;t!=this.curPayType&&(this.curPayType=t,this.rechargePayView.showView(t),this.toggleList.forEach(function(t){t.itemkey==e?(t.moveFanli(!0),t.toggleChecked(!1)):(t.moveFanli(!1),t.toggleChecked(!0))}))},t.prototype.show=function(){if(this.waitingNode&&(this.waitingNode.active=!1),this.initToggleList(),this.Tipmodel=Global.ModelManager.getModel("RechagreTipModel"),this.Tipmodel.RechagreTipModel&&this.Tipmodel.Salenum&&this.Tipmodel.Salenum>0){if(this.Tipmodel.flag)return void cc.error(this.Tipmodel.flag);this.Tipmodel.flag=!0,Global.UI.show("WndRechangeTip",this.Tipmodel.Salenum)}this.rechargePayView.showView(this.curPayType)},t.prototype.onSubViewHide=function(){},t.prototype.onDispose=function(){this.curPayType="",this.toggleList=[],this.model&&(this.model.clearReqTimeout(),this.model.off(a.default.ReadyForConfig,this,this.show))},t}(r.default);o.default=c;var p=function(e){function t(t,o,i){var n=e.call(this)||this;return n.callback=o,n.target=i,n.itemkey="",n.isVipItem=!1,n.setNode(t),n}return n(t,e),t.prototype.initView=function(){this.typeSprite=this.getComponent("typeSprite",cc.Sprite),this.addCommonClick("",this.onItemClick,this),this.toggleComp=this.getComponent("",cc.Toggle),this.vipSpine=this.getChild("vipSpine"),this.vipSprite=this.getComponent("vipSprite",cc.Sprite),this.vipFanli=this.getComponent("vipFanli",cc.Sprite),this.vipFanliLabel=this.getComponent("vipFanli/label",cc.Label)},t.prototype.onItemClick=function(){this.callback&&this.callback.call(this.target,this.itemkey)},t.prototype.setVipItemStyle=function(){this.vipSprite.node.active=!0,this.vipSpine.active=!0,this.isVipItem=!0},t.prototype.setVipItemFanli=function(e){this.vipFanli.node.active=!0,this.vipFanliLabel.string=parseFloat(e).toString()},t.prototype.setItemStyle=function(e){if(this.itemkey=e,e!=a.default.PayType.Vip){var t=Global.Setting.SkinConfig.rechargeIconsCfg[e];if(!t)return Logger.error("\u672a\u914d\u7f6ekey",e);var o=t[0],i=t[1];if(Global.Setting.SkinConfig.isPurple){var n=this.getComponent("check_close/btnLayout/bg",cc.Sprite),r=this.getComponent("check_open/btnLayout/bg",cc.Sprite),s=this.getComponent("check_close/btnLayout/bg1",cc.Sprite),l=this.getComponent("check_open/btnLayout/bg1",cc.Sprite),c=this.getComponent("check_close/btnLayout",cc.Layout),p=this.getComponent("check_open/btnLayout",cc.Layout),h=this.getComponent("check_close/typeNode",cc.Sprite),u=this.getComponent("check_open/typeNode",cc.Sprite);Global.ResourceManager.loadAutoAtlas(n,"hall/texture/hall/rechargeCash/rechargeCash",o),Global.ResourceManager.loadAutoAtlas(r,"hall/texture/hall/rechargeCash/rechargeCash",i),Global.Setting.SkinConfig.rechargeIconsCfg[e][3]?(Global.ResourceManager.loadAutoAtlas(h,"hall/texture/hall/rechargeCash/rechargeCash",Global.Setting.SkinConfig.rechargeIconsCfg[e][3]),h.node.active=!0,c.node.x=18):(h.node.active=!1,c.node.x=6),Global.Setting.SkinConfig.rechargeIconsCfg[e][4]?(Global.ResourceManager.loadAutoAtlas(u,"hall/texture/hall/rechargeCash/rechargeCash",Global.Setting.SkinConfig.rechargeIconsCfg[e][4]),u.node.active=!0,p.node.x=18):(u.node.active=!1,p.node.x=6);var d,f=e.indexOf("_");if(f>-1)d=e.substring(f+1),Global.ResourceManager.loadAutoAtlas(s,"hall/texture/hall/rechargeCash/rechargeCash","img_"+d),Global.ResourceManager.loadAutoAtlas(l,"hall/texture/hall/rechargeCash/rechargeCash","img_"+d),s.node.active=!0,l.node.active=!0;else s.node.active=!1,l.node.active=!1}else n=this.getComponent("check_close/bg",cc.Label),r=this.getComponent("check_open/bg",cc.Label),n.string=o,r.string=i,Global.Setting.SkinConfig.rechargeIconsCfg[e][3]&&(Global.ResourceManager.loadAutoAtlas(this.typeSprite,"hall/texture/hall/rechargeCash/rechargeCash",Global.Setting.SkinConfig.rechargeIconsCfg[e][3]),this.typeSprite.node.active=!0)}else this.setVipItemStyle()},t.prototype.addFanliIcon=function(e,t){if(this.isVipItem)this.setVipItemFanli(t);else{var o=cc.find("Fanli",this.node);o&&o.removeFromParent(!1);var i=cc.instantiate(e);i.name="Fanli",cc.find("content",i).getComponent(cc.Label).string=t,i.setParent(this.node),i.active=!0,i.setPosition(44,30)}},t.prototype.moveFanli=function(){var e=cc.find("Fanli",this.node);e&&e.setPosition(44,30)},t.prototype.toggleChecked=function(e){cc.find("check_close",this.node).active=e,cc.find("check_open",this.node).active=!e},t.prototype.setToggleChecked=function(e){e?this.toggleComp.check():this.toggleComp.uncheck()},t}(r.default);cc._RF.pop()},{"../../../core/ui/ViewBase":"ViewBase","../../../hallcommon/model/RechargeModel":"RechargeModel","../waiting/WaitingView":"WaitingView","./RechargePayView":"RechargePayView"}],RechargeGiftModel:[function(e,t,o){"use strict";cc._RF.push(t,"5e6f6fbAKxAKYQNGePy+ENO","RechargeGiftModel");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../framework/model/ModelBase"),a=e("../../core/net/hall/NetEvent"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.activityId=4,t.safeData=null,t._switch=!1,t._countDown=0,t._timeLimitedStatus=-1,t}return n(t,e),t.prototype.onInit=function(){},Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Status",{get:function(){return this._Status},set:function(e){this._Status=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"TimelimitedStatus",{get:function(){return this._timeLimitedStatus},set:function(e){this._timeLimitedStatus=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"CountDown",{get:function(){return this._countDown},set:function(e){this._countDown=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Switch",{get:function(){return this._switch},set:function(e){this._switch=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Name",{get:function(){return"RechargeGiftModel"},enumerable:!1,configurable:!0}),t.prototype.reqReceiveActivityAward=function(e,o){var i=this,n={};n.atype=e,n.key=o,Global.HallServer.send(a.NetAppface.mod,a.NetAppface.ReceiveActivityAward,n,function(e){i.event(t.GetAward,e)},null,!0,0)},t.prototype.reqGetActivityCfg=function(e){var o=this;void 0===e&&(e=!1),Global.HallServer.send(a.NetAppface.mod,a.NetAppface.GetActivityCfg,{},function(e){o.event(t.GetCfg,e)},null,e,0)},t.prototype.reqGetLimitTimeFirstPayActivityCfg=function(){var e=this;Global.HallServer.send(a.NetAppface.mod,a.NetAppface.GetLimitTimeFirstPayActivityCfg,{},function(o){e.event(t.GetLimitTimeFirstPayActivityCfg,o)},null,!0,0)},t.prototype.reqGetLimitTimeFirstPayActivityPointReq=function(e){var o=this,i={};i.key=e,Global.HallServer.send(a.NetAppface.mod,a.NetAppface.GetLimitTimeFirstPayActivityPointReq,i,function(e){o.event(t.GetLimitTimeFirstPayActivityPointReq,e)},null,!0,0)},t.GetAward="GetAward",t.GetCfg="GetCfg",t.GetLimitTimeFirstPayActivityCfg="GetLimitTimeFirstPayActivityCfg",t.GetLimitTimeFirstPayActivityPointReq="GetLimitTimeFirstPayActivityPointReq",t.GetDailyRechargeAward="GetAward",t}(r.default);o.default=s,cc._RF.pop()},{"../../../framework/model/ModelBase":"ModelBase","../../core/net/hall/NetEvent":"NetEvent"}],RechargeGiftModule:[function(e,t,o){"use strict";cc._RF.push(t,"53a1d5hOodLAYHZzqWgOK4g","RechargeGiftModule");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.viewClass="WndDailyRechargeGift",t.modelClass="RechargeGiftModel",t.resPaths=[],t.prefabPaths=[""],t.children=[],t}return n(t,e),t}(e("../../../framework/module/ModuleBase").ModuleBase);o.default=r,cc._RF.pop()},{"../../../framework/module/ModuleBase":"ModuleBase"}],RechargeGiftView:[function(e,t,o){"use strict";cc._RF.push(t,"a9b96xPj+FG4a5xQD0lLuX1","RechargeGiftView");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../../core/ui/ViewBase"),a=e("../../../../hallcommon/model/RechargeGiftModel"),s=e("../ActivityConstants"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.finished=!0,t.formatStr="<i><color=#FFF799>\u8d62\u53d6\u8fdb\u5ea6: </c></i><i><color=#FFF100>%s</c></i>",t}return n(t,e),t.prototype.initView=function(){this.model=Global.ModelManager.getModel("RechargeGiftModel"),this.model.on(a.default.GetAward,this,this.onGetAward),this.model.on(a.default.GetCfg,this,this.onGetCfg),this.timeLabel=this.getComponent("spinenNode/panel/content/timeLabel",cc.Label),this.processLabel=this.getComponent("spinenNode/panel/awardContent/progress",cc.RichText),this.progressBarMask=cc.find("spinenNode/panel/awardContent/progressBarMask",this.node),this.progressBarSprite=cc.find("spinenNode/panel/awardContent/progressBarMask/bar",this.node),this.joinConditionLabel=this.getComponent("spinenNode/panel/content/contionLabel",cc.Label),this.getAwardConditionLabel=this.getComponent("spinenNode/panel/content/AwardTips",cc.Label),this.panel=this.getChild("spinenNode/panel"),this.progressLabel1=this.getComponent("spinenNode/panel/awardContent/NumLabel1",cc.Label),this.progressLabel2=this.getComponent("spinenNode/panel/awardContent/NumLabel2",cc.Label),this.progressLabel3=this.getComponent("spinenNode/panel/awardContent/NumLabel3",cc.Label),this.progressLabel4=this.getComponent("spinenNode/panel/awardContent/NumLabel4",cc.Label),this.rewardLabel=this.getComponent("spinenNode/panel/TipSp/award",cc.Label),this.minRechargeLabel=this.getComponent("spinenNode/panel/TipSp/min",cc.Label),this.finishSprite=cc.find("spinenNode/panel/awardContent/finishSprite",this.node),this.addCommonClick("spinenNode/panel/getAward",this.reqGetAward,this),Global.Setting.SkinConfig.isPurple||Global.Setting.SkinConfig.isBlue?this.boxSpine=this.getComponent("spinenNode/panel/box",sp.Skeleton):(this.boxOpen=this.getChild("spinenNode/panel/box/bx_open"),this.boxOpen&&(this.boxOpen.active=!1),this.boxClose=this.getChild("spinenNode/panel/box/bx_close"),this.boxClose&&(this.boxClose.active=!1))},t.prototype.showPanel=function(){this.panel.active=!0},t.prototype.onSubViewShow=function(){this.model.reqGetActivityCfg(!1),this.showPanel()},t.prototype.onGetCfg=function(e){var t=this;if(null!=e){Global.Event.event(s.ActivityConstants.SHOW_ACT_WAITTING,!1);var o=e.data;if(null!=o)for(var i=0;i<o.length;i++)if(o[i].atype==s.ActivityType.rechargeGift){this.SetAwardLabel(o[i].cfg),this.SetBtnState(o[i].cfg);var n=Global.Toolkit.formatPoint(o[i].cfg.loss_sum)/Global.Toolkit.formatPoint(o[i].cfg.loss_mix);if(n>=1)n=1,this.processLabel&&(this.processLabel.string="\u5df2\u5b8c\u6210\u6d3b\u52a8\uff0c\u8bf7\u9886\u53d6\u5956\u52b1",this.processLabel.node.active=!1),this.finishSprite&&(this.finishSprite.active=!0),this.SetBoxSprite(!0);else{if(this.processLabel){var r=Global.Toolkit.formatPoint(o[i].cfg.loss_sum)+"/"+Global.Toolkit.formatPoint(o[i].cfg.loss_mix).toString();this.processLabel.string=cc.js.formatStr(this.formatStr,r),this.processLabel.node.active=!0}this.finishSprite&&(this.finishSprite.active=!1),Global.Setting.SkinConfig.isPurple&&this.boxSpine?this.boxSpine.setCompleteListener(function(){t.boxSpine.setAnimation(0,"idle_AppearLoop",!0)}):(this.boxClose&&(this.boxClose.active=!0),this.boxOpen&&(this.boxOpen.active=!1))}this.progressBarMask.width=this.progressBarSprite.width*n,0===o[i].cfg.end_time.length?this.timeLabel.string="\u957f\u671f\u6709\u6548":this.timeLabel.string=o[i].cfg.start_time+"~"+o[i].cfg.end_time,this.joinConditionLabel.string=Global.Toolkit.formatPoint(o[i].cfg.pay_mix)+"y",this.getAwardConditionLabel.string=Global.Toolkit.formatPoint(o[i].cfg.loss_mix)+"y"}}},t.prototype.SetAwardLabel=function(e){var t=Global.Toolkit.formatPoint(e.loss_mix),o=Math.floor(t/3e3);this.progressLabel1.string="0",this.progressLabel2.string=(1e3*o).toString(),this.progressLabel3.string=(2e3*o).toString(),this.progressLabel4.string=t.toString(),this.minRechargeLabel.string=Global.Toolkit.formatPoint(e.pay_mix).toString(),this.rewardLabel.string=Global.Toolkit.formatPoint(e.point).toString()},t.prototype.SetBtnState=function(e){e.pay_sum<e.pay_mix||e.loss_sum<e.loss_mix?this.finished=!1:this.finished=!0},t.prototype.SetBoxSprite=function(e){var t=this;e&&(Global.Setting.SkinConfig.isPurple&&this.boxSpine?this.boxSpine.setCompleteListener(function(){t.boxSpine.clearTrack(0),t.boxSpine.setAnimation(0,"idle_ONLoop",!0)}):(this.boxClose&&(this.boxClose.active=!1),this.boxOpen&&(this.boxOpen.active=!0)))},t.prototype.reqGetAward=function(){this.finished?this.model.reqReceiveActivityAward(s.ActivityType.rechargeGift):Global.UI.fastTip("\u5956\u52b1\u5728\u60a8\u5b8c\u6210\u4efb\u52a1\u540e\u624d\u80fd\u9886\u53d6\u54e6\uff01")},t.prototype.onGetAward=function(e){e&&e.atype!=s.ActivityType.rechargeGift||(this.model.Switch=!1,Global.UI.getWindow("WndActivityCenter").close(),Global.UI.show("WndRebateGet",e.award),Global.Event.event(s.ActivityConstants.HIDE_RED_PORT,e.atype))},t.prototype.onDispose=function(){this.model.off(a.default.GetAward,this,this.onGetAward),this.model.off(a.default.GetCfg,this,this.onGetCfg)},t}(r.default);o.default=l,cc._RF.pop()},{"../../../../core/ui/ViewBase":"ViewBase","../../../../hallcommon/model/RechargeGiftModel":"RechargeGiftModel","../ActivityConstants":"ActivityConstants"}],RechargeListView:[function(e,t,o){"use strict";cc._RF.push(t,"554698tEwVLtK1ZjX0ba+b2","RechargeListView");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/ui/ViewBase"),a=e("../../../core/tool/PoolBase"),s=e("../../../hallcommon/model/RechargeModel"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nodeList=[],t.limit=6,t}return n(t,e),t.prototype.initView=function(){this.Rechagemodel=Global.ModelManager.getModel("RechargeModel"),this.Rechagemodel.on(s.default.UpdateHistory,this,this.InitTeamListView),Global.UIHelper.addCommonClick(this.node,"nexPage",this.OnNextPagePageBtnClick,this),Global.UIHelper.addCommonClick(this.node,"upPage",this.OnLastPageBtnClick,this),this.contentNode=this.getChild("scrollview/view/content"),this.copyItem=this.getChild("scrollview/view/content/Item"),this.pageLabel=this.getChild("pageLabel").getComponent(cc.Label),this.nothingNode=this.getChild("Nothing"),this.nothingNode.active=!1,this.nextBtn=this.getChild("nexPage"),this.lastBtn=this.getChild("upPage"),this.copyItem.active=!1,this.initItemPool()},t.prototype.onOpenRecharge=function(e){void 0===e&&(e=!1),this.isRecharge=e,this.Rechagemodel.reqGetUserPayList()},t.prototype.onDispose=function(){this.itemPool.resetPool(),this.Rechagemodel.off(s.default.UpdateHistory,this,this.InitTeamListView)},t.prototype.OnNextPagePageBtnClick=function(){Global.Audio.playBtnSound(),this.arrList.length>this.Rechagemodel.hisListPage*this.limit?(this.Rechagemodel.hisListPage++,this.InitTeamListView()):this.Rechagemodel.reqGetUserPayList(!0)},t.prototype.OnLastPageBtnClick=function(){if(Global.Audio.playBtnSound(),this.Rechagemodel.hisListPage--,this.Rechagemodel.hisListPage<=0)return this.Rechagemodel.hisListPage=1,void Global.UI.fastTip("\u5df2\u7ecf\u662f\u7b2c\u4e00\u9875\u4e86");this.InitTeamListView()},t.prototype.initItemPool=function(){this.itemPool=new c(this.copyItem)},t.prototype.recycle=function(){this.itemPool.recycleAll(this.nodeList),this.nodeList=[]},t.prototype.InitTeamListView=function(){this.arrList=this.Rechagemodel.getHisListData()||[];var e=this.arrList.length;if(e<1?(this.nothingNode.active=!0,this.pageLabel.node.active=!1,this.nextBtn.active=!1,this.lastBtn.active=!1):(this.nothingNode.active=!1,this.pageLabel.node.active=!0,this.nextBtn.active=!0,this.lastBtn.active=!0),0!=e){var t=e-(this.Rechagemodel.hisListPage-1)*this.limit>this.limit?this.limit:e-(this.Rechagemodel.hisListPage-1)*this.limit;this.recycle();for(var o=0;o<t;o++){var i=this.itemPool.getItem();this.nodeList.push(i),i.active=!0,i.setParent(this.contentNode),i.getComponent("RecordingItem").Init(this.arrList[(this.Rechagemodel.hisListPage-1)*this.limit+o],o,this.isRecharge)}this.pageLabel.string=cc.js.formatStr("\u5171%s\u6761",this.Rechagemodel.hisTotal)+cc.js.formatStr("\u7b2c%s\u9875",this.Rechagemodel.hisListPage)}},t}(r.default);o.default=l;var c=function(e){function t(t){var o=e.call(this)||this;return o.copyNode=t,o}return n(t,e),t.prototype.createItem=function(){return cc.instantiate(this.copyNode)},t.prototype.resetItem=function(e){e.active=!1,e.setParent(null)},t.prototype.recycleAll=function(t){var o=this;e.prototype.recycleAll.call(this,t),t.forEach(function(e){o.resetItem(e)})},t}(a.default);cc._RF.pop()},{"../../../core/tool/PoolBase":"PoolBase","../../../core/ui/ViewBase":"ViewBase","../../../hallcommon/model/RechargeModel":"RechargeModel"}],RechargeModel:[function(e,t,o){"use strict";cc._RF.push(t,"4896aM0oVJBo7TgGwYNk9wx","RechargeModel");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../framework/model/ModelBase"),a=e("../../core/net/hall/NetEvent"),s=e("./HallModel"),l=e("./ServicerModel"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.chatSpot=!1,t.kefuSpot=!1,t.reqCount=7,t.payCfgList=[],t.payCfgMap={},t.hisListPage=1,t.hisListData=[],t.hisTotal=0,t.need_bind_phone=!1,t}return n(t,e),t.prototype.onInit=function(){this.name="RechargeModel",Global.Event.on(GlobalEvent.ShowRedSpot,this,this.showRedSpot),Global.Event.on(GlobalEvent.CloseRedSpot,this,this.closeRedSpot)},t.prototype.showRedSpot=function(e){var t=e[1];switch(t){case s.HallRedSpotType.YunPalyKefu:Global.ChatServer.serverType==l.CustomerEntranceType.QuickPayService?this.chatSpot=!0:this.kefuSpot=!0}this.event("UpdateResSpot",t)},t.prototype.closeRedSpot=function(e){switch(e){case s.HallRedSpotType.YunPalyKefu:Global.ChatServer.serverType==l.CustomerEntranceType.QuickPayService?this.chatSpot=!1:this.kefuSpot=!1}this.event("UpdateResSpot",e)},t.prototype.reqGetPayConfig=function(){var e=this,o={device:Global.Toolkit.genDeviceInfo()};Global.HallServer.send(a.NetAppface.mod,a.NetAppface.GetNewPayConfig,o,function(o){e.initData(o.new_pay_info),e.need_bind_phone=o.need_bind_phone,e.event(t.ReadyForConfig)},null,!1,0)},t.prototype.reqGetUserDownPay=function(e,t,o,i){if(void 0===i&&(i=""),!Global.Toolkit.checkRechargeLimited()){var n=e.indexOf("_"),r={pay_key:n>-1?e.substring(0,n):e,price:t,pay_type_id:o,device:Global.Toolkit.genDeviceInfo(),attach:i};Global.HallServer.send(a.NetAppface.mod,a.NetAppface.UserDownPay,r)}},t.prototype.reqGetPayUrl=function(e){if(!Global.Toolkit.checkRechargeLimited()){var t={order_id:e};this.reqGetUrlTimes(t,this.reqCount)}},t.prototype.reqGetUrlTimes=function(e,o){var i=this;Global.HallServer.send(a.NetAppface.mod,a.NetAppface.GetDownPayUrl,e,function(n){o--;var r=n.url,a=n.tServer;if(r.startsWith("/notice")&&a&&a.length>0){Global.DunHotUpdateUrlSetting.payRouteCfg=n.tServer;var s=Global.DunHotUpdateUrlSetting.payeUrl;s&&(n.url=s+r)}return r?i.event(t.GetPayUrlResult,0,n):0==o?i.event(t.GetPayUrlResult,1,n):void(i.timeOut=setTimeout(function(){i.reqGetUrlTimes(e,o)},1500))},function(e){i.event(t.GetPayUrlResult,2,e)},!1)},t.prototype.reqGetUserPayList=function(e){var o=this;if(void 0===e&&(e=!1),e){if(this.hisListData.length>=this.hisTotal)return void Global.UI.fastTip("\u65e0\u66f4\u591a\u4fe1\u606f");this.hisListPage++}else this.hisListPage=1;var i=this.hisTotal-6*(this.hisListPage-1)>6?6:this.hisTotal-6*(this.hisListPage-1),n={page:this.hisListPage,limit:0==i?6:i};Global.Event.event(GlobalEvent.SHOW_NET_WAITING,"reqGetUserPayList",3),Global.HallServer.send(a.NetAppface.mod,a.NetAppface.GetUserPayList,n,function(e){Global.Event.event(GlobalEvent.HIDE_NET_WAITING,"reqGetUserPayList"),e.list.length<6?(o.hisTotal=6*(o.hisListPage-1)+e.list.length,0==e.list.length&&(o.hisListPage--,o.hisTotal=o.hisListData.length)):o.hisTotal=e.total;var i=e.list||[];if(i){if(1==o.hisListPage)o.hisListData=i;else{if(o.hisListData.length>o.hisTotal)return;o.hisListData=o.hisListData.concat(i)}o.event(t.UpdateHistory)}})},t.prototype.getHisListData=function(){return this.hisListData},t.prototype.reqGetAllPayList=function(){Global.HallServer.send(a.NetAppface.mod,a.NetAppface.GetAllPayPutList,{},null,null,!1)},t.prototype.initData=function(e){var t=this;if(this.payCfgMap={},this.payCfgList=[],e&&!Global.Toolkit.isEmptyObject(e)){var o=!1;e.forEach(function(e){t.payCfgMap[e.pay_key]||(t.payCfgMap[e.pay_key]=[],t.payCfgList.push(e)),"vippay"==e.pay_key&&(o=!0,Global.ModelManager.getModel("RechagreTipModel").initData(e.sale_num)),t.payCfgMap[e.pay_key].push(e)}),o||Global.ModelManager.getModel("RechagreTipModel").initData(0)}},t.prototype.getPayListData=function(){var e=this.payCfgList;return!e||Global.Toolkit.isEmptyObject(e)?(Logger.error("\u652f\u4ed8\u914d\u7f6e\u4e3a\u7a7a"),[]):e},t.prototype.getPayMapData=function(e){var t=this.payCfgMap;return e&&t[e]?t[e]:t},t.prototype.onClear=function(){this.clearReqTimeout()},t.prototype.clearReqTimeout=function(){this.timeOut&&clearTimeout(this.timeOut)},t.prototype.reqUserUnionPay=function(e,t,o){if(!Global.Toolkit.checkRechargeLimited()){var i={type:e,point:t,name:o};Global.HallServer.send(a.NetAppface.mod,a.NetAppface.UserUnionPay,i,null,null,!0)}},t.UpdateHistory="UpdateHistory",t.GetPayUrlResult="GetPayUrlResult",t.ShowWaitingAnim="ShowWaitingAnim",t.ReadyForConfig="ReadyForConfig",t.ShowScanCodeView="ShowScanCodeView",t.PayType={Vip:"vippay",VipQuickPay:"vipQuickPay",Wechat:"wxpay",Ali:"alipay",Union:"unionpay",Qq:"qqpay",YunPay:"yunpay",OnlinePay:"onlineCash",UnionFast:"unionFast",RechargeList:"rechargelist",Dpay:"digpay",ScanCode:"scanCode",USDT:"usdtPay",JDPay:"jdPay",International:"international"},t}(r.default);o.default=c,cc._RF.pop()},{"../../../framework/model/ModelBase":"ModelBase","../../core/net/hall/NetEvent":"NetEvent","./HallModel":"HallModel","./ServicerModel":"ServicerModel"}],RechargeModule:[function(e,t,o){"use strict";cc._RF.push(t,"352dfbYhBFAKLfdyO+gFz5t","RechargeModule");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.viewClass="WndRecharge",t.modelClass="RechargeModel",t.resPaths=[],t.prefabPaths=[""],t.children=[{viewClass:"WndRechangeBankInfo",modelClass:"ExtractModel",resPaths:[],prefabPaths:[""],children:[]},{viewClass:"WndaliBandConfirm",modelClass:"",resPaths:[],prefabPaths:["hall/prefabs/ui/money/extractCash/aliBandConfirmUI"],children:[]},{viewClass:"WndRechargeVipShow",modelClass:"",resPaths:[],prefabPaths:[""],children:[]},{viewClass:"WndRechangeTip",modelClass:"RechagreTipModel",resPaths:[],prefabPaths:[""],children:[]},{viewClass:"WndChooseProvince",modelClass:"",resPaths:[],prefabPaths:["hall/prefabs/ui/Recharge/subView/cash/chooseProvince"],children:[]},{viewClass:"WndChooseBank",modelClass:"",resPaths:[],prefabPaths:["hall/prefabs/ui/Recharge/subView/cash/chooseBank"],children:[]},{viewClass:"WndChooseCity",modelClass:"",resPaths:[],prefabPaths:["hall/prefabs/ui/Recharge/subView/cash/chooseCity"],children:[]}],t}return n(t,e),t}(e("../../../framework/module/ModuleBase").ModuleBase);o.default=r,cc._RF.pop()},{"../../../framework/module/ModuleBase":"ModuleBase"}],RechargeOnlineView:[function(e,t,o){"use strict";cc._RF.push(t,"fb64bcIy21GprUIFsYZeeZi","RechargeOnlineView");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/ui/ViewBase"),a=e("../../../hallcommon/model/RechargeModel"),s=e("../../../core/net/hall/NetEvent"),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.initView=function(){this.model=Global.ModelManager.getModel("RechargeModel"),this.btnLayout=this.getComponent("btnLayout",cc.Layout),this.addCommonClick("goToPayBtn",this.goToPay,this),this.addCommonClick("btnLayout",this.goToPay,this,cc.Button.Transition.NONE)},t.prototype.goToPay=function(){Logger.log("\u652f\u4ed8\u8bf7\u6c42\u4e2d----",this.payKey)},t.prototype.initData=function(e){this.payKey=e.pay_key},t.prototype.onSubViewShow=function(){Global.HallServer.on(s.NetAppface.UserDownPay,this,this.onReqOrder),this.model.on(a.default.GetPayUrlResult,this,this.onGetPayUrl)},t.prototype.onReqOrder=function(e){var t=e.order_id;t&&(this.model.event(a.default.ShowWaitingAnim,!0,this.payKey),this.model.reqGetPayUrl(t))},t.prototype.onGetPayUrl=function(e,t){if(this.model.event(a.default.ShowWaitingAnim,!1),0==e){var o=t.url;o&&(cc.sys.openURL(Global.Toolkit.DealWithUrl(o)),Global.UI.showSingleBox(Global.Language.getWord(1606)||"\u652f\u4ed8\u7b49\u5f85\u4e2d"))}else 2==e?t._errno&&Global.UI.fastTip(t._errstr):Global.UI.fastTip("\u652f\u4ed8\u5931\u8d25\uff0c\u8bf7\u5c1d\u8bd5\u5176\u4ed6\u5145\u503c\u65b9\u5f0f")},t.prototype.onSubViewHide=function(){Global.HallServer.off(s.NetAppface.UserDownPay,this,this.onReqOrder),this.model.off(a.default.GetPayUrlResult,this,this.onGetPayUrl)},t}(r.default);o.default=l,cc._RF.pop()},{"../../../core/net/hall/NetEvent":"NetEvent","../../../core/ui/ViewBase":"ViewBase","../../../hallcommon/model/RechargeModel":"RechargeModel"}],RechargePayView:[function(e,t,o){"use strict";cc._RF.push(t,"1f0d0NiQTJBJ4W0qDF7TjLv","RechargePayView");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__awaiter||function(e,t,o,i){return new(o||(o=Promise))(function(n,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,s)}l((i=i.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var o,i,n,r,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(e){return function(t){return l([e,t])}}function l(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,i&&(n=2&r[0]?i.return:r[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,r[1])).done)return n;switch(i=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){a.label=r[1];break}if(6===r[0]&&a.label<n[1]){a.label=n[1],n=r;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(r);break}n[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(s){r=[6,s],i=0}finally{o=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0}),o.ToggleItem=void 0;var s=e("../../../core/ui/ViewBase"),l=e("../../../hallcommon/model/RechargeModel"),c=e("./VipPayView"),p=e("./OlPayView"),h=e("../../../hallcommon/model/ServicerModel"),u=e("./RechargeOnlineView"),d=e("../../../hallcommon/model/HallModel"),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.headKuang=null,t.toggleList=[],t.payCfgMap={},t.subViewPath={vipPayView:"hall/prefabs/ui/Recharge/subView/pay/vipPayView",olPayView:"hall/prefabs/ui/Recharge/subView/pay/olPayView",rechargeOnlineView:"hall/prefabs/ui/Recharge/subView/pay/onlinePayView"},t.viewKeyTypeMap={vipPayView:c.default,olPayView:p.default,rechargeOnlineView:u.default},t.curPaynum=0,t.payCfgList=[],t}return n(t,e),t.prototype.initView=function(){this.model=Global.ModelManager.getModel("RechargeModel"),this.subViewParentNode=this.getChild("descLayout"),this.idLbl=this.getComponent("descLayout/payDesc/userInfo/idRoot/idLbl",cc.Label),this.idLbl.string=String(Global.PlayerData.uid),this.headSprite=this.getComponent("descLayout/payDesc/headImg",cc.Sprite),this.headKuang=this.getComponent("descLayout/payDesc/headImg/headFrame",cc.Sprite),this.copyBtn=this.getChild("descLayout/payDesc/userInfo/idRoot/copyBtn"),this.addCommonClick("descLayout/payDesc/userInfo/idRoot/copyBtn",this.copyIDClick,this),this.tipsLbl=this.getComponent("descLayout/payDesc/userInfo/tipsRoot/tipsLbl",cc.Label),this.tipSprite=this.getComponent("descLayout/payDesc/userInfo/tipsRoot/tipSprite",cc.Sprite),this.bgBig=this.getChild("bg1"),console.log(this.bgBig),console.log("1111111111111"),this.downloadBtn=this.getChild("descLayout/payDesc/userInfo/downloadBtn"),this.kefuSpot=this.getChild("descLayout/payDesc/userInfo/downloadBtn/hongdian"),this.kefuSpot.active=!1,this.downloadBtn.active=!1,this.addCommonClick("descLayout/payDesc/userInfo/downloadBtn",this.gotoDownload,this),this.chatBtn=this.getChild("descLayout/payDesc/userInfo/chatBtn"),this.chatSpot=this.getChild("descLayout/payDesc/userInfo/chatBtn/hongdian"),this.chatSpot.active=!1,this.chatBtn.active=!1,this.addCommonClick("descLayout/payDesc/userInfo/chatBtn",this.gotoAiteChat,this),this.uploadBtn=this.getChild("descLayout/payDesc/uploadBtn"),this.uploadBtn&&(this.uploadBtn.active=!1),this.addCommonClick("descLayout/payDesc/uploadBtn",this.OnUploadBtnClicked,this),this.tabView=this.getChild("descLayout/toggleSv").getComponent(cc.ScrollView),this.tabView.node.active=!0,this.copyToggle=this.getChild("descLayout/toggleSv/view/btnLayout/toggle_1"),this.btnLayout=this.getComponent("descLayout/toggleSv/view/btnLayout",cc.Layout),this.btnLayout.node.active=!0,this.copyToggle.active=!1,this.initSubViewClass(this.viewKeyTypeMap),this.InitScripts()},t.prototype.InitScripts=function(){return r(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,this.initSubView(this.subViewPath,this.viewKeyTypeMap,this.subViewParentNode)];case 1:return e.sent(),[2]}})})},t.prototype.OnUploadBtnClicked=function(){var e=Global.ModelManager.getModel("ServicerModel");e&&e.enterCustomerService(h.CustomerEntranceType.HallService)},t.prototype.onSubViewShow=function(){this.idLbl.string=String(Global.PlayerData.uid),this.updateUserHead(),this.model.on("UpdateResSpot",this,this.updateResSpot)},t.prototype.updateResSpot=function(e){switch(e){case d.HallRedSpotType.YunPalyKefu:Global.ChatServer.serverType==h.CustomerEntranceType.QuickPayService?this.chatSpot.active=this.model.chatSpot:this.kefuSpot.active=this.model.kefuSpot}},t.prototype.updateUserHead=function(){var e=Global.PlayerData,t=this.headSprite;if(t.node){var o=t.node.width,i=t.node.height;t.spriteFrame=Global.Toolkit.getLocalHeadSf(e.headimg),t.node.width=o,t.node.height=i}},t.prototype.onSubViewHide=function(){this.model.off("UpdateResSpot",this,this.updateResSpot)},t.prototype.onDispose=function(){this.model.off("UpdateResSpot",this,this.updateResSpot)},t.prototype.showView=function(e){if(this.payCfgMap=this.model.getPayMapData(),this.payCfgMap&&!Global.Toolkit.isEmptyObject(this.payCfgMap)){if(e&&(this.curViewStr=e),this.uploadBtn.active=!1,this.setCurDescStyle(e),this.curViewStr==l.default.PayType.Vip||this.curViewStr==l.default.PayType.VipQuickPay||this.curViewStr==l.default.PayType.Dpay)this.vipPayView.subViewState=!0,this.olPayView.subViewState=!1,this.rechargeOnlineView.subViewState=!1,this.vipPayView.updateScrollView(this.payCfgMap[this.curViewStr][0].data),this.copyBtn.active=!0,this.downloadBtn.active=!1,this.chatBtn.active=!1,this.curViewStr==l.default.PayType.VipQuickPay&&(this.chatBtn.active=!0,this.chatSpot.active=this.model.chatSpot);else if(this.curViewStr==l.default.PayType.OnlinePay)this.vipPayView.subViewState=!1,this.olPayView.subViewState=!1,this.rechargeOnlineView.subViewState=!0,this.rechargeOnlineView.initData(this.payCfgMap[this.curViewStr][0]),this.copyBtn.active=!0,this.downloadBtn.active=!1,this.chatBtn.active=!1;else switch(this.rechargeOnlineView.subViewState=!1,this.vipPayView.subViewState=!1,this.olPayView.subViewState=!0,this.chatBtn.active=!1,this.curViewStr==l.default.PayType.ScanCode&&(this.uploadBtn.active=!0),this.curViewStr){case l.default.PayType.Union:this.copyBtn.active=!0,this.downloadBtn.active=!1;break;case l.default.PayType.YunPay:this.copyBtn.active=!1,this.downloadBtn.active=!0,this.kefuSpot.active=this.model.kefuSpot;break;default:this.copyBtn.active=!1,this.downloadBtn.active=!1}this.showBankPayTab()}},t.prototype.setCurDescStyle=function(e){this.tipSprite.node.active=!1,this.tipsLbl.node.active=!0,e==l.default.PayType.International&&(this.tipsLbl.string="",this.tipsLbl.node.active=!1,this.tipSprite.node.active=!0),null==this.payCfgMap[e][0].dest||null==this.payCfgMap[e][0].dest?this.tipsLbl.string="":this.tipsLbl.string=this.payCfgMap[e][0].dest},t.prototype.showBankPayTab=function(){this.curViewStr!==l.default.PayType.Vip&&this.curViewStr!==l.default.PayType.VipQuickPay&&this.curViewStr!==l.default.PayType.OnlinePay&&this.curViewStr!==l.default.PayType.Dpay?(this.tabView.node.active=!0,this.initToggleList(),this.bgBig.active=!1):(this.tabView.node.active=!1,this.bgBig.active=!0)},t.prototype.copyIDClick=function(){Global.NativeEvent.copyTextToClipboard(String(Global.PlayerData.uid),this.copyTextToClipboardCallBack.bind(this))},t.prototype.copyTextToClipboardCallBack=function(e){0==e.result?Global.UI.fastTip("\u5df2\u590d\u5236\u5230\u526a\u8d34\u677f"):Global.UI.fastTip("\u590d\u5236\u5931\u8d25")},t.prototype.gotoDownload=function(){},t.prototype.gotoAiteChat=function(){if(Global.ChatServer.serverType=h.CustomerEntranceType.QuickPayService,Global.ChatServer.QuickData)Global.ChatServer.userSetting(Global.ChatServer.QuickData);else{for(var e=this.payCfgMap[this.curViewStr][0].data,t={pay_type:[]},o=0;o<e.length;o++){var i=e[o];i.pay_type.length>t.pay_type.length&&(t=i)}Global.ChatServer.userSetting(t)}},t.prototype.initToggleList=function(){this.payCfgList=this.payCfgMap[this.curViewStr][0].data,0===this.payCfgMap[this.curViewStr][0].rand_sort&&(this.payCfgList=Global.Toolkit.getOutOrderArray(this.payCfgList)),this.recycleToggleList(),this.curPaynum=0;var e=!0;if(this.olPayView.hideAllItems(),this.payCfgList){for(var t=0;t<this.payCfgList.length;t++){var o=this.toggleList[t];if(!o){var i=cc.instantiate(this.copyToggle);i.setParent(this.btnLayout.node),o=new g(i,this.onToggleClick,this),this.toggleList.push(o)}o.bg.string=this.payCfgList[t].name,o.checkBg.string=this.payCfgList[t].name,o.active=!0,o.setItemStyle(t),this.curPaynum==t&&(e=!1,o.setToggleChecked(!0),this.olPayView.initData(this.curViewStr,this.payCfgList[this.curPaynum]),""!=this.payCfgList[this.curPaynum].tip&&(this.tipsLbl.string=this.payCfgList[this.curPaynum].tip))}!Global.Toolkit.isEmptyObject(this.payCfgList)&&e&&(this.curPaynum=0),this.tabView.scrollToLeft()}},t.prototype.onToggleClick=function(e){var t=e;t!=this.curPaynum&&(this.curPaynum=t,this.olPayView.initData(this.curViewStr,this.payCfgList[this.curPaynum]),""!=this.payCfgList[this.curPaynum].tip&&(this.tipsLbl.string=this.payCfgList[this.curPaynum].tip))},t.prototype.recycleToggleList=function(){this.toggleList.forEach(function(e){e.active=!1})},t}(s.default);o.default=f;var g=function(e){function t(t,o,i){var n=e.call(this)||this;return n.callback=o,n.target=i,n.itemkey=0,n.setNode(t),n}return n(t,e),t.prototype.initView=function(){this.bg=this.getComponent("check_close/bg",cc.Label),this.checkBg=this.getComponent("check_open/bg",cc.Label),this.addCommonClick("",this.onItemClick,this,null),this.toggleComp=this.getComponent("",cc.Toggle)},t.prototype.onItemClick=function(){this.callback&&this.callback.call(this.target,this.itemkey)},t.prototype.setItemStyle=function(e){this.itemkey=e},t.prototype.setToggleChecked=function(e){e?this.toggleComp.check():this.toggleComp.uncheck()},t}(s.default);o.ToggleItem=g,cc._RF.pop()},{"../../../core/ui/ViewBase":"ViewBase","../../../hallcommon/model/HallModel":"HallModel","../../../hallcommon/model/RechargeModel":"RechargeModel","../../../hallcommon/model/ServicerModel":"ServicerModel","./OlPayView":"OlPayView","./RechargeOnlineView":"RechargeOnlineView","./VipPayView":"VipPayView"}],ReconnectHelper:[function(e,t,o){"use strict";cc._RF.push(t,"281acohEmZGCIMT37TEFndO","ReconnectHelper");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("./BaseServerHelper"),a=e("../GameServer"),s=e("../../GlobalEvent"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.needReconnect=!1,t.lastReceiveTime=0,t.reconnectCount=0,t.socketOpened=!1,t.reconnectLock=!1,t.nextReconnectTime=0,t.lastPauseTime=0,t.inBackground=!1,t}return n(t,e),t.prototype.onInit=function(){},t.prototype.run=function(){Game.Event.on(Game.EVENT_CALL_RECONNECT,this,this.setReconnect),this.server.on(a.default.Event_GameSocketOpen,this,this.onSocketOpen),this.server.on(a.default.Event_GameSocketClose,this,this.onSocketClose),this.server.on(a.default.Event_GameSocketMsg,this,this.updateReceiveTime),cc.game.on(cc.game.EVENT_SHOW,this.onResume,this),cc.game.on(cc.game.EVENT_HIDE,this.onPause,this)},t.prototype.clear=function(){this.server.off(a.default.Event_GameSocketOpen,this,this.onSocketOpen),this.server.off(a.default.Event_GameSocketClose,this,this.onSocketClose),this.server.off(a.default.Event_GameSocketMsg,this,this.updateReceiveTime),Game.Event.off(Game.EVENT_CALL_RECONNECT,this,this.setReconnect),cc.game.off(cc.game.EVENT_SHOW,this.onResume,this),cc.game.off(cc.game.EVENT_HIDE,this.onPause,this),this.needReconnect=!1,this.socketOpened=!1,this.reconnectLock=!1,this.lastReceiveTime=0,this.reconnectCount=0},t.prototype.onSocketOpen=function(){1==this.needReconnect&&(Logger.log("socket reconnect finish"),Game.Event.event(Game.EVENT_SOCKET_RECONNECT)),Global.UI.close("WndNetReconnect"),this.needReconnect=!1,this.reconnectLock=!1,this.socketOpened=!0,this.lastReceiveTime=0,this.reconnectCount=0},t.prototype.updateReceiveTime=function(){this.lastReceiveTime=Date.now()},t.prototype.onSocketClose=function(){Logger.error("socket close !!!!"),this.setReconnect(),this.socketOpened=!1,this.reconnectLock=!1},t.prototype.onPause=function(){this.lastPauseTime=Date.now(),this.inBackground=!0,Logger.error("on pause",this.lastPauseTime)},t.prototype.onResume=function(){var e=this;if(this.inBackground||(this.lastPauseTime=0),this.inBackground=!1,Logger.error("on Resume",this.lastPauseTime,Date.now(),Date.now()-this.lastPauseTime),0!=this.lastPauseTime){var t=(Date.now()-this.lastPauseTime)/1e3;Game.Event.event(Game.EVENT_SOCKET_RESUME,t),Date.now()-this.lastPauseTime>1e3*Global.Setting.backgroundReconnectTime&&(Global.HallServer.heartbeatHelper.sendHeartBeat("&s=0"),Game.Component.scheduleOnce(function(){e.setReconnect()},.1))}},t.prototype.reconnect=function(){var e=this;if(Global.UI.show("WndNetReconnect"),this.reconnectLock=!0,this.reconnectCount++,this.nextReconnectTime=Date.now()+1e3*Global.Setting.socketReconnectInterval,this.reconnectCount>Global.Setting.socketReconnectTimes){Global.UI.close("WndNetReconnect");var t=function(){e.reconnectCount=0,Game.Event.event(Game.EVENT_FORCE_LEAVE_GAME)};Global.UI.showSingleBox("\u7f51\u7edc\u8fde\u63a5\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5",t.bind(this),t.bind(this))}else Logger.error("ReconnectHelper  reconnect !!"),Global.Event.event(s.default.UPDATE_RECONNECT_COUNT,this.reconnectCount),Global.Event.event(s.default.FORCE_HIDE_WAITING),this.server.event(a.default.Event_GameSocketCallReconnect)},t.prototype.setReconnect=function(){this.server.isRunning&&(this.reconnectLock=!1,this.needReconnect=!0)},t.prototype.onUpdate=function(){this.server.isRunning&&(this.needReconnect&&!this.reconnectLock&&Date.now()>this.nextReconnectTime&&!this.inBackground?this.reconnect():this.socketOpened&&0!=this.lastReceiveTime&&Date.now()-this.lastReceiveTime>1e3*Global.Setting.socketReconnectReceiveCheckInteval&&(this.needReconnect=!0,this.lastReceiveTime=0,this.socketOpened=!1))},t}(r.default);o.default=l,cc._RF.pop()},{"../../GlobalEvent":"GlobalEvent","../GameServer":"GameServer","./BaseServerHelper":"BaseServerHelper"}],RecordingItem:[function(e,t,o){"use strict";cc._RF.push(t,"0d399S5nItBS7Ym1PfDEcqH","RecordingItem");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../../hallcommon/model/RechargeModel"),s=cc._decorator,l=s.ccclass,c=s.property,p=function(e){function t(){var t,o=null!==e&&e.apply(this,arguments)||this;return o.bgIcon=null,o.dateLabel=null,o.payTypeLabel=null,o.tyLable=null,o.moneyLabel=null,o.typeIcon=null,o.typeDefine=["VIP\u5145\u503c","\u7ebf\u4e0a\u5145\u503c","\u94f6\u884c\u5361\u5145\u503c","\u540e\u53f0\u8d60\u9001","\u5c0f\u989d\u5145\u503c"],o.onlinePay=((t={})[a.default.PayType.Vip]="VIP\u5145\u503c",t[a.default.PayType.VipQuickPay]="\u4e13\u4eab\u95ea\u4ed8",t[a.default.PayType.Ali]="\u652f\u4ed8\u5b9d\u5145\u503c",t[a.default.PayType.Wechat]="\u5fae\u4fe1\u5145\u503c",t[a.default.PayType.Qq]="QQ\u5145\u503c",t[a.default.PayType.YunPay]="\u4e91\u95ea\u4ed8",t[a.default.PayType.Union]="\u94f6\u884c\u5361\u8f6c\u8d26",t[a.default.PayType.OnlinePay]="\u6536\u94f6\u53f0",t),o}return n(t,e),t.prototype.Init=function(e,t,o){var i=Global.Setting.SkinConfig.recordingItemColors;if(this.bgIcon.node.active=t%2!=0,o){this.dateLabel.string=String(e.ctime),2==e.ctype?this.payTypeLabel.string=String(this.onlinePay[e.pay_name]):this.payTypeLabel.string=String(this.typeDefine[e.ctype-1]),2==e.status?(this.typeIcon.node.active=!1,this.tyLable.string="\u5145\u503c\u6210\u529f"):(this.typeIcon.node.active=!0,this.tyLable.string="\u5145\u503c\u5931\u8d25"),this.moneyLabel.string=""+e.point/Global.Setting.glodRatio,this.tyLable.string=1==e.status?"\u5904\u7406\u4e2d":2==e.status?"\u5145\u503c\u6210\u529f":"\u5145\u503c\u5931\u8d25";var n=new cc.Color;this.tyLable.node.color=1==e.status?n.fromHEX(i[0]):2==e.status?n.fromHEX(i[1]):n.fromHEX(i[2])}else this.dateLabel.string=String(e.create_date),this.payTypeLabel.string=1==e.type?"\u94f6\u884c\u5361\u63d0\u73b0":"\u652f\u4ed8\u5b9d\u63d0\u73b0",this.moneyLabel.string=""+e.point/Global.Setting.glodRatio,-1==e.status?this.typeIcon.node.active=!0:this.typeIcon.node.active=!1,this.tyLable.string=3==e.status?"\u63d0\u73b0\u6210\u529f":-1==e.status?"\u63d0\u73b0\u5931\u8d25":"\u5904\u7406\u4e2d",n=new cc.Color,this.tyLable.node.color=3==e.status?n.fromHEX(i[3]):-1==e.status?n.fromHEX(i[4]):n.fromHEX(i[5]),this.moneyLabel.string=Global.Toolkit.formatPointStr(e.point)},r([c(cc.Sprite)],t.prototype,"bgIcon",void 0),r([c(cc.Label)],t.prototype,"dateLabel",void 0),r([c(cc.Label)],t.prototype,"payTypeLabel",void 0),r([c(cc.Label)],t.prototype,"tyLable",void 0),r([c(cc.Label)],t.prototype,"moneyLabel",void 0),r([c(cc.Sprite)],t.prototype,"typeIcon",void 0),r([l],t)}(cc.Component);o.default=p,cc._RF.pop()},{"../../../hallcommon/model/RechargeModel":"RechargeModel"}],RedSkinModuleCfg:[function(e,t,o){"use strict";cc._RF.push(t,"3f65970+S1HcJa21E4oL4Hn","RedSkinModuleCfg");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cfg=["LoginModule","HallModule","PersonalInfoModule","PlayerInfoModule","BankModule","ActivityCenterModule","BackUpGameModule","BindingGiftModule","CashBackModule","GameLobbyShellModule","CommisionModule","CommonModule","FeedbackModule","MsgModule","RankModule","RechargeGiftModule","RechargeModule","ServicerModule","ShareModule","SpreadModule","SignActivityModule","VipQuickPayChatModule"],t}return n(t,e),t}(e("./ModuleCfgBase").default);o.default=r,cc._RF.pop()},{"./ModuleCfgBase":"ModuleCfgBase"}],ReleaseHelper:[function(e,t,o){"use strict";cc._RF.push(t,"d1484r0NeFMBI+12aFg9Eua","ReleaseHelper"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function e(){this._unusedSet=new Set,this._unusedTypeMap=new Map}return e.prototype.addBundleRelease=function(){},e.prototype.releaseBundle=function(e){var t=cc.assetManager.getBundle(e);t&&(t.releaseUnusedAssets(),cc.assetManager.removeBundle(t))},e.prototype.releaseBundleRes=function(e,t,o){if(e)if(t){var i=cc.assetManager.getBundle(e);i?i.release(t,o):Logger.error("releaseBundleRes bundle is null ",e)}else Logger.error("releaseBundleRes path is null");else Logger.error("releaseBundleRes bundleName is null ")},e.prototype.recordUnusedAsset=function(e,t){void 0===t&&(t=null);for(var o=0;o<e.length;o++)this._unusedSet.add(e[o]),null!=t&&this._unusedTypeMap.set(e[o],t)},e.prototype.markUsed=function(e){this._unusedSet.delete(e),this._unusedTypeMap.delete(e)},e.prototype.clearUnuseAssets=function(){var e=this;this._unusedSet.forEach(function(t){var o=e._unusedTypeMap[t];Global.ResourceManager.releaseCache(t,o)}),this._unusedSet.clear(),this._unusedTypeMap.clear()},e.prototype.adjustByIphone6=function(){Global.Toolkit.isIphone6()&&(Logger.error("is iphone 6"),Global.Setting.cachedGameItemCount=0)},e}();o.default=i,cc._RF.pop()},{}],ReleaseItem:[function(e,t,o){"use strict";cc._RF.push(t,"335d6kEvBtF2o2UQBbOiWQn","ReleaseItem"),Object.defineProperty(o,"__esModule",{value:!0});o.default=function(){},cc._RF.pop()},{}],ReportTool:[function(e,t,o){"use strict";cc._RF.push(t,"176d1DzNgNF77+KcXLiSK1k","ReportTool"),Object.defineProperty(o,"__esModule",{value:!0}),o.ReportTool=void 0;var i=e("../../hallcommon/const/HallStorageKey"),n=e("../setting/ServerRoutes"),r=function(){function e(){this.logUrlsList=[],this.reportUrl="",this.debugEnable=!1,this.debugUid=0,this.curIndex=0,this.reportTimes=0,this.merge=!0,this.maxLogCount=5,this.maxLogCacheInterval=300,this.LogCache=new Array,this.logCacheInterval=0,this.hotUpdateReport={},this.RECODE_TIME=60,this.REQUEST_SUCCESS="sCount",this.REQUEST_FAILED="fCount",this.interval=0,this.requestResultMap={},this.socketResultMap={},this.recordTab={},this.canRecord=!1}return e.prototype.init=function(){Global.Event.off(GlobalEvent.RefreshHallNetCost,this,this.onRefreshHallCostTime),Global.Event.on(GlobalEvent.RefreshHallNetCost,this,this.onRefreshHallCostTime),this.reportTimes=0,this.loadLocalLogUrls(),this.initReportUrl()},e.prototype.getReportUrl=function(){var e=Global.Setting.storage.get(i.default.ReportUrl);if(""!=e){var t=JSON.parse(e);if(t){var o=t.split("/c")[0];this.logUrlsList=[o],this.reportUrl=o+"/logCenter/"}}else Logger.error("reportUrl = null")},e.prototype.isReportUrl=function(e){for(var t=e.realHost,o=!1,i=0;i<this.logUrlsList.length;i++)this.logUrlsList[i].indexOf(t)>-1&&(o=!0);return o},e.prototype.loadLocalLogUrls=function(){var e=Global.Setting.storage.get(i.default.ReportUrl),t=[];try{if(null!=e&&""!=e){var o=JSON.parse(e);t.push(o)}}catch(r){Logger.error("\u89e3\u6790ReportUrl\u5931\u8d25",e)}if(null!=t&&0!=t.length){for(var n=t.length-1;n>=0;n--)-1==t[n].indexOf("http")&&(Logger.error("\u8fc7\u6ee4\u65e0\u6548\u57df\u540d:",t[n]),t.splice(n,1));t.length>0&&(this.logUrlsList=t),this.logUrlsList=Global.UrlUtil.dealFullUrlWithMutiLinesSameHost(this.logUrlsList)}},e.prototype.initReportUrl=function(){var e=this.logUrlsList.length;0!=e?(this.curIndex=Global.Toolkit.getRoundInteger(e,0),this.refreshReportUrl()):Logger.error("Report URL is null")},e.prototype.refreshReportUrl=function(){if(this.curIndex>=this.logUrlsList.length||!this.logUrlsList[this.curIndex])return this.curIndex=0,void Logger.error("curIndex is null !! , curIndex ="+this.curIndex);this.logUrlsList[this.curIndex].indexOf("http")>-1?this.reportUrl=this.logUrlsList[this.curIndex]+"/logCenter/":this.reportUrl="https://"+this.logUrlsList[this.curIndex]+"/logCenter/"},e.prototype.changeReportUrl=function(){this.curIndex=(this.curIndex+1)%this.logUrlsList.length,this.refreshReportUrl()},e.prototype.ParseDebugConfig=function(e,t){e.debug&&1==e.debug&&(Global.ReportTool.debugEnable=!0,this.debugUid=t)},e.prototype.ReportPublicDebugLog=function(t,o){this.debugEnable&&this.debugUid==this.uid&&this.ReportLogMixing(e.DEBUG_LOG,t,o)},e.prototype.ReportPublicClientLog=function(t,o,i){void 0===i&&(i=!1),this.ReportLogMixing(e.DEBUG_LOG,t,o)},e.prototype.genHallKey=function(e){return"Hall_"+e},e.prototype.genGameKey=function(e){return"Game_"+Game.Control.curGid+"_"+e},e.prototype.ReportClientError=function(t,o){if(t==e.REPORT_TYPE_HOT_UPDATE_ERROR){var i=o.game;if(!i)return;if(this.hotUpdateReport[i])return;this.hotUpdateReport[i]=1}this.reportTimes++,this.ReportLogMixing(e.ERROR_LOG,t,o)},e.prototype.ReportDevice=function(e){var t=this;if(this.getReportUrl(),""!=this.reportUrl){var o=this.reportUrl+"basic?",i=this.genDeviceParam();i._param.stype=e;var r=new n.ServerUrl;r.parse(o),cc.sys.os==cc.sys.OS_IOS?Logger.log("ReportDevice ios param:"+i):cc.sys.os==cc.sys.OS_ANDROID&&Logger.log("ReportDevice android param:"+i),Global.Http.send(r,i,function(){},function(){t.changeReportUrl()})}},e.prototype.GetReportTimes=function(){return this.reportTimes},Object.defineProperty(e.prototype,"phoneCode",{get:function(){return Global.Setting.storage.get(i.default.AreaCode)||""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loginIp",{get:function(){return Global.PlayerData&&Global.PlayerData.ip?Global.PlayerData.ip:""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uid",{get:function(){return Global.PlayerData&&Global.PlayerData.uid?Global.PlayerData.uid:Number(Global.Setting.storage.get(i.default.Uid))||0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vip",{get:function(){return Global.PlayerData&&Global.PlayerData.vip?Global.PlayerData.vip:Number(Global.Setting.storage.get(i.default.VIPLevel))||0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"packId",{get:function(){return Global.PlayerData&&Global.PlayerData.pack?Global.PlayerData.pack:Number(Global.Setting.storage.get(i.default.Channel))||0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hallSkin",{get:function(){return Global.Setting.SystemInfo&&Global.Setting.SystemInfo.hallSkin?Global.Setting.SystemInfo.hallSkin:""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gameSkin",{get:function(){return Global.Setting.SystemInfo&&Global.Setting.SystemInfo.gameSkin?Global.Setting.SystemInfo.gameSkin:""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"packageTag",{get:function(){return Global.Setting.SystemInfo&&Global.Setting.SystemInfo.packageTag?Global.Setting.SystemInfo.packageTag:""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pid",{get:function(){return Global.PlayerData&&Global.PlayerData.pid?Global.PlayerData.pid:Number(Global.Setting.storage.get(i.default.InviteCode))||0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userType",{get:function(){return Global.PlayerData&&Global.PlayerData.type?Global.PlayerData.type:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"udid",{get:function(){return Global.Setting.SystemInfo&&Global.Setting.SystemInfo.udid?Global.Setting.SystemInfo.udid.toString():"0"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"entry",{get:function(){return Global.Setting.SystemInfo&&Global.Setting.SystemInfo.entry?Global.Setting.SystemInfo.entry.toString():""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sign_type",{get:function(){return Global.Setting.SystemInfo&&Global.Setting.SystemInfo.sign_type?Global.Setting.SystemInfo.sign_type.toString():""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"appId",{get:function(){return Global.Setting.appId?Global.Setting.appId:Global.Setting.SystemInfo.appID},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"osType",{get:function(){return cc.sys.isNative?cc.sys.os==cc.sys.OS_ANDROID?1:cc.sys.os==cc.sys.OS_IOS?2:0:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"phone",{get:function(){return Global.PlayerData&&Global.PlayerData.phone?Global.PlayerData.phone:Global.Setting.storage.get(i.default.Phone)||""},enumerable:!1,configurable:!0}),e.prototype.ReportLogInternal=function(e,t,o,i){var r=this;if(void 0===i&&(i=!1),this.getReportUrl(),""!=this.reportUrl&&(null==o&&(o={}),null!=Global.Setting.SystemInfo)){var a="clis?";i&&(a="batchclis?");var s=this.reportUrl+a,l={_mod:"logAgent",_func:"clientLog"},c={};c.class=e,c.sub_class=t;var p="";try{p=JSON.stringify(o)}catch(u){p=""}c.content=p,o.error_code&&(c.error_code=o.error_code),(o.htime||o.hTime)&&(o.htime&&(c.htime=o.htime),o.hTime&&(c.htime=o.hTime)),this.packLogParam(c),l._param=c;var h=new n.ServerUrl;h.parse(s),Global.Http.send(h,l,function(){},function(){r.changeReportUrl()})}},e.prototype.ReportLogMergeInternal=function(e){var t=this;if(this.getReportUrl(),""!=this.reportUrl&&(null==e&&(e={}),null!=Global.Setting.SystemInfo)){var o={_mod:"logAgent",_func:"clientLog"};o._param=e;var i=this.reportUrl+"batchclis?",r=new n.ServerUrl;r.parse(i),Global.Http.send(r,o,function(){},function(){t.changeReportUrl()})}},e.prototype.packLogParam=function(e){e.client_time=Date.now(),e.os_type=this.osType,e.device_id=Global.Setting.SystemInfo.deviceId,e.os_version=cc.sys.osVersion,e.tagInfo=cc.js.formatStr("%s|%s|%s",this.hallSkin,this.gameSkin,this.packageTag),e.phone_model=Global.Setting.SystemInfo.osBuildModel,e.mobile_brand=Global.Setting.SystemInfo.deviceBrand,e.app_id=this.appId,e.app_version=Global.Setting.SystemInfo.appVersion,e.app_name=Global.Setting.SystemInfo.bundleName,e.copy_pack_type=Global.Setting.SystemInfo.nativePlatform,e.is_first=Global.Setting.SystemInfo.firstInstallStatus?1:0,e.uid=this.uid,e.udid=this.udid,e.sign_type=this.sign_type,e.entry=this.entry,e.ios_type=Global.Toolkit.getIosSignType(),e.vip=this.vip,e.mobile=Global.AESUtil.aesEncrypt(Global.Toolkit.cryptoKey,Global.Toolkit.cryptoIv,this.phone),e.server_id=Global.Setting.SystemInfo.server_id||"",e.hall_version=Global.Toolkit.genLoadingAppInfo(),e.platform_id=Global.Setting.appDataPlatformId||0,Global.SceneManager.inGame()?e.gid=Game.Control.curGid:e.gid=0},e.prototype.genDeviceParam=function(){var e={_mod:"logAgent",_func:"clientLog"},t={},o=Global.Setting.SystemInfo;if(null!=o)return t.ios_sign=o.appSign,t.wx_key=o.wxKey,t.jpush_key=o.jpushKey,t.data_urls=Global.Setting.dataUrlsList,t.data_url=Global.Setting.curDataUrl,o.packChannel&&!isNaN(Number(o.packChannel))&&(t.channel_id=Number(o.packChannel)||0),t.app_data_channel_id=Global.Setting.ChannelInfo.configChannel,t.pack_name=o.bundleName,t.pack_id=this.packId,t.pid=this.pid,t.user_type=this.userType,t.phone_model=Global.Setting.SystemInfo.osBuildModel,t.mobile=Global.AESUtil.aesEncrypt(Global.Toolkit.cryptoKey,Global.Toolkit.cryptoIv,this.phone),t.mobile_form=this.phoneCode,t.login_ip=this.loginIp,t.platform_id=Global.Setting.appDataPlatformId||0,t.hall_version=Global.Toolkit.genLoadingAppInfo(),t.udid=this.udid,t.sign_type=this.sign_type,t.entry=this.entry,t.ios_type=Global.Toolkit.getIosSignType(),Global.ChannelUtil.isCliptextVaild()&&(t.clipboardContent=Global.Setting.ChannelInfo.clipboardContent||""),t.simulator=o.simulator,this.packLogParam(t),e._param=t,e;Logger.error("sysInfo is null !!!!")},e.prototype.enableRecord=function(){this.canRecord=!0},e.prototype.markSuccess=function(e){e&&this.recordRequestResult(e,this.REQUEST_SUCCESS)},e.prototype.markFailed=function(e,t){e&&this.recordRequestResult(e,this.REQUEST_FAILED,t)},e.prototype.markSocketFailed=function(e,t){e&&this.recordSocketResult(e,this.REQUEST_FAILED,t)},e.prototype.markSocketSuccess=function(e){e&&this.recordSocketResult(e,this.REQUEST_SUCCESS)},e.prototype.recordRequestResult=function(e,t,o){void 0===o&&(o=0);var i=e.realHost;if(i){null==this.requestResultMap[i]&&(this.requestResultMap[i]=s.create(e));var n=this.requestResultMap[i];null!=n&&(t==this.REQUEST_FAILED?(n.fCount++,null==n.errCodeMap[o]&&(n.errCodeMap[o]=0),n.errCodeMap[o]++):n.sCount++,n.addr=e.address)}},e.prototype.recordSocketResult=function(e,t,o){if(void 0===o&&(o=0),-2!=o){var i=e.realHost;if(i){null==this.socketResultMap[i]&&(this.socketResultMap[i]=a.create(e));var n=this.socketResultMap[i];null!=n&&(t==this.REQUEST_FAILED?n.fCount++:n.sCount++,n.addr=e.address)}}},e.prototype.reportRequestRecord=function(){var t=Global.Setting.storage.get(i.default.RequestRecord);if(null!=t&&""!=t){try{var o=Global.AESUtil.aesDcryptWithPKC27(t),n=JSON.parse(o);this.ReportLogInternal(e.DEBUG_LOG,e.REPORT_TYPE_REQUEST_RECORD,n)}catch(r){Logger.error("decode RequestRecord failed!!!",t)}Global.Setting.storage.set(i.default.RequestRecord,"")}},e.prototype.onRefreshHallCostTime=function(e,t,o){if(t&&this.requestResultMap[o.realHost]){var i=this.requestResultMap[o.realHost];i.totalHBCount++,i.totalHBTime+=e,i.maxHBTime<e&&(i.maxHBTime=e)}},e.prototype.saveRecord=function(){try{for(var e in this.recordTab.reqMap=this.requestResultMap,this.recordTab.sockMap=this.socketResultMap,this.requestResultMap)s.deleteEmpty(this.requestResultMap[e]);for(var e in this.socketResultMap)a.deleteEmpty(this.socketResultMap[e]);var t=JSON.stringify(this.recordTab),o=Global.AESUtil.aesEncrypt(Global.Toolkit.cryptoKey,Global.Toolkit.cryptoIv,t);Global.Setting.storage.set(i.default.RequestRecord,o)}catch(n){Logger.error("JSON.stringify(this.successRequestMap) error !!!"),this.requestResultMap={},this.socketResultMap={}}},e.prototype.ReportCacheTimeout=function(){if(null!=this.LogCache&&0!=this.LogCache.length){try{var e={};e.data=this.LogCache,this.ReportLogMergeInternal(e)}catch(t){Logger.error("ReportCacheTimeout:\u8d85\u8fc7\u65f6\u9650\u4e0a\u62a5\u65e5\u5fd7\u9519\u8bef",t)}this.clearLogCacheAll()}},e.prototype.ReportLastLoginLogCache=function(){var e=Global.Setting.storage.get(i.default.PostLogCache);if(null!=e&&""!=e){try{var t=Global.AESUtil.aesDcryptWithPKC27(e),o=JSON.parse(t),n={};n.data=o,this.ReportLogMergeInternal(n)}catch(r){Logger.error("decode RequestRecord failed!!!",e)}this.clearLogCacheAll()}},e.prototype.ReportLogMixing=function(e,t,o){if(this.merge){var i=this.newLogParams(e,t,o);if(this.LogCache.push(i),this.LogCache.length>=this.maxLogCount){var n={};n.data=this.LogCache,this.ReportLogMergeInternal(n),this.clearLogCacheAll()}else this.saveLogCacheToStorage()}else this.ReportLogInternal(e,t,o)},e.prototype.newLogParams=function(e,t,o){var i={};i.client_time=Date.now(),i.os_type=this.osType,i.device_id=Global.Setting.SystemInfo.deviceId,i.os_version=cc.sys.osVersion,i.mobile_brand=Global.Setting.SystemInfo.deviceBrand,i.tagInfo=cc.js.formatStr("%s|%s|%s",this.hallSkin,this.gameSkin,this.packageTag),i.phone_model=Global.Setting.SystemInfo.osBuildModel,i.udid=this.udid,i.sign_type=this.sign_type,i.entry=this.entry,i.ios_type=Global.Toolkit.getIosSignType(),i.app_id=this.appId,i.app_version=Global.Setting.SystemInfo.appVersion,i.app_name=Global.Setting.SystemInfo.bundleName,i.copy_pack_type=Global.Setting.SystemInfo.nativePlatform,i.is_first=Global.Setting.SystemInfo.firstInstallStatus?1:0,i.uid=this.uid,i.vip=this.vip,i.mobile=Global.AESUtil.aesEncrypt(Global.Toolkit.cryptoKey,Global.Toolkit.cryptoIv,this.phone),i.server_id=Global.Setting.SystemInfo.server_id||"",i.hall_version=Global.Toolkit.genLoadingAppInfo(),i.platform_id=Global.Setting.appDataPlatformId||0,i.class=e,i.sub_class=t;var n="";try{n=JSON.stringify(o)}catch(r){n=""}return i.content=n,o.error_code&&(i.error_code=o.error_code),(o.htime||o.hTime)&&(o.htime&&(i.htime=o.htime),o.hTime&&(i.htime=o.hTime)),Global.SceneManager.inGame()?i.gid=Game.Control.curGid:i.gid=0,i},e.prototype.saveLogCacheToStorage=function(){try{var e=JSON.stringify(this.LogCache),t=Global.AESUtil.aesEncrypt(Global.Toolkit.cryptoKey,Global.Toolkit.cryptoIv,e);Global.Setting.storage.set(i.default.PostLogCache,t)}catch(o){Logger.error("saveLogCacheToStorage:\u65e5\u5fd7\u5199\u7f13\u5b58\u5931\u8d25",o)}},e.prototype.clearLogCacheAll=function(){this.LogCache=null,this.LogCache=new Array,Global.Setting.storage.set(i.default.PostLogCache,"")},e.prototype.onUpdate=function(e){this.canRecord&&(this.interval+=e,this.interval>=this.RECODE_TIME&&(this.interval=0,this.saveRecord()),this.logCacheInterval+=e,this.logCacheInterval>=this.maxLogCacheInterval&&(this.logCacheInterval=0,this.ReportCacheTimeout()))},e.REPORT_TYPE_OPEN=1,e.REPORT_TYPE_START_CHECKVERSION=2,e.REPORT_TYPE_LOGIN=3,e.REPORT_TYPE_HTTP_ERROR="HTTP_ERROR",e.REPORT_TYPE_DATA_ERROR="DATA_ERROR",e.REPORT_TYPE_CHECKVERSION_ERROR="CHECKVERSION_ERROR",e.REPORT_TYPE_LOGIN_ERROR="LOGIN_ERROR",e.REPORT_TYPE_HTTPDNS_ERROR="HTTPDNS_ERROR",e.REPORT_TYPE_HOT_UPDATE_ERROR="HOTUPDATE_ERROR",e.REPORT_TYPE_JSON_ERROR="JSON_ERROR",e.REPORT_TYPE_INIT_DUN_ERROR="INIT_DUN_ERROR",e.REPORT_TYPE_SOCKET_ERROR="SOCKET_ERROR",e.REPORT_TYPE_TEST_ROUTE="TEST_ROUTE",e.REPORT_TYPE_INIT_DUN_OK="INIT_DUN_OK",e.REPORT_TYPE_REQUEST_RECORD="REQUEST_RECORD",e.REPORT_TYPE_DATA_ROUTE="REPORT_TYPE_DATA_ROUTE",e.REPORT_TYPE_CHANNEL_SOURCE="CHANNEL_SOURCE",e.REPORT_TYPE_HOTUPDATE_HOST_ERROR="HOTUPDATE_HOST_ERROR",e.REPORT_TYPE_DOWNLOADSUBGAME_RESULT="REPORT_TYPE_DOWNLOADSUBGAME_RESULT",e.REPORT_TYPE_DOWNLOADSUBGAME_FAILED="REPORT_TYPE_DOWNLOADSUBGAME_FAILED",e.REPORT_TYPE_PARALLEL_REQ="PARALLEL_REQ",e.DEBUG_LOG="debug",e.ERROR_LOG="error",e}();o.ReportTool=r;var a=function(){function e(){this.lo_type=0,this.port=0,this.sCount=0,this.fCount=0}return e.create=function(t){if(null!=t){var o=new e;return o.addrHost=t.addressHost,o.host=t.realHost,o.port=t.port,o.lo_type=t.lo_type,o}},e.deleteEmpty=function(e){for(var t in e)0==e[t]&&"fCount"!=t&&"sCount"!=t&&delete e[t];e.addrHost==e.host&&delete e.addrHost,e.addr==e.host&&delete e.addr},e}(),s=function(){function e(){this.port=0,this.lo_type=0,this.totalHBTime=0,this.totalHBCount=0,this.maxHBTime=0,this.sCount=0,this.fCount=0,this.errCodeMap={}}return e.create=function(t){if(null!=t){var o=new e;return o.addrHost=t.addressHost,o.host=t.realHost,o.port=t.port,o.lo_type=t.lo_type,o}},e.deleteEmpty=function(e){for(var t in e)0==e[t]&&"fCount"!=t&&"sCount"!=t&&delete e[t];e.addrHost==e.host&&delete e.addrHost,e.addr==e.host&&delete e.addr},e}();cc._RF.pop()},{"../../hallcommon/const/HallStorageKey":"HallStorageKey","../setting/ServerRoutes":"ServerRoutes"}],ResourceManager:[function(e,t,o){"use strict";cc._RF.push(t,"05b79sxp1NGpb267DBquwCr","ResourceManager"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../logic/core/tool/ReleaseHelper"),n=function(){function e(){this._resMap=new Map,this._useSet=new Set,this.releaseHelper=new i.default,this.atlasMap={}}return Object.defineProperty(e.prototype,"gameBundle",{get:function(){return this._gameBundle},set:function(e){this._gameBundle=e},enumerable:!1,configurable:!0}),e.prototype._getResItem=function(){},e.prototype.addDependKey=function(e,t){if(e&&e.dependKeys&&Array.isArray(e.dependKeys))for(var o=0,i=e.dependKeys;o<i.length;o++){var n=i[o];this.getCacheInfo(n).refs.add(t);var r=cc.loader._cache[n];this.addDependKey(r,t)}},e.prototype.getCacheInfo=function(e){return this._resMap.has(e)||this._resMap.set(e,{refs:new Set,uses:new Set}),this._resMap.get(e)},e.prototype.print=function(e){for(var t in this._resMap)t.indexOf(e)&&Logger.error(this._resMap[e])},e.prototype.loadRes=function(e,t,o,i,n,r){var a=this;void 0===r&&(r=!1);var s=function(o,i){r&&(a._useSet.has(e)||a._useSet.add(e)),t&&t(o,i)};if(e.indexOf("@")>0){var l=e.split("@");if(l&&l.length>0){var c=l[0],p=l[1];c&&p?"hall"==c?this.loadBundleRes(Global.customApp.getHallBundleName(),p,s):Logger.error("bundleName not exist"):s&&((h=new Error).message="res load error",s(h,null))}else{var h;s&&((h=new Error).message="res load error",s(h,null))}}else cc.loader.loadRes(e,o,i,s)},e.prototype.loadResArr=function(e,t,o,i,n,r){var a=this;void 0===r&&(r=!1);var s=this;cc.loader.loadResArray(e,o,i,function(i,l){if(!l)return Logger.error("resource == null",JSON.stringify(e));l.forEach(function(t,i){if(r){var n=e[i];a._useSet.has(n)||a._useSet.add(n);var s=a._getResItem(n,o);s&&s.id&&a.addDependKey(s,s.id),s&&a.getCacheInfo(s.id).refs.add(s.id)}}),n&&!i&&l.forEach(function(e){s.setAutoReleaseRecursively(e,!0)}),t&&t(i,l)})},e.prototype.loadResDir=function(e,t,o,i,n){var r=this;cc.loader.loadResDir(e,o,i,function(e,o){n&&!e&&o.forEach(function(e){r.setAutoReleaseRecursively(e,!0)}),t&&t(e,o)})},e.prototype.setAutoRelease=function(e,t){cc.loader.setAutoRelease(e,t)},e.prototype.setAutoReleaseRecursively=function(e,t){cc.loader.setAutoReleaseRecursively(e,t)},e.prototype.loadAutoAtlas=function(e,t,o,i,n){var r=this,a=this.getRes(t,cc.SpriteAtlas);if(a){var s=a.getSpriteFrame(o);if(null==s)return void Logger.error("\u627e\u4e0d\u5230sprite",o);if(!e.isValid)return;e.spriteFrame=s,i&&i()}else this.loadRes(t,function(t,a){if(null!=t&&Logger.error(t.message),null!=a){null!=n&&null!=n&&r.setAutoReleaseRecursively(a,n);var s=a.getSpriteFrame(o);null!=s?e.isValid&&(e.spriteFrame=s,i&&i()):Logger.error("\u627e\u4e0d\u5230sprite",o)}},cc.SpriteAtlas)},e.prototype.load=function(e,t,o){cc.loader.load(e,o,t)},e.prototype.loadResSprite=function(e,t,o){Global.ResourceManager.loadRes(t,function(t,i){null!=t&&Logger.error("\u52a0\u8f7d\u56fe\u96c6\u9519\u8bef",t.message),null!=i&&i.getSpriteFrame(o)?e.spriteFrame=i.getSpriteFrame(o):Logger.error("\u627e\u4e0d\u5230\u8d44\u6e90",i,o)},cc.SpriteAtlas)},e.prototype.getRes=function(e,t){return cc.loader.getRes(e,t)},e.prototype.loadAtlasArr=function(e,t){var o=this;this.loadResArr(e,function(i,n){null!=i&&Logger.error("\u52a0\u8f7d\u56fe\u96c6\u5f02\u5e38",i.message);for(var r=0;r<e.length;r++){var a=o.getRes(e[r],cc.SpriteAtlas);null!=a&&(o.atlasMap[e[r]]=a)}t&&t(i,n)},cc.SpriteAtlas,null,!1,!0)},e.prototype.getAtlas=function(e){var t=this.atlasMap[e];return null==t&&Logger.error("\u83b7\u53d6\u56fe\u96c6\u4e3a\u7a7a\uff0c\u9700\u8981\u81ea\u884c\u9884\u52a0\u8f7d\u56fe\u96c6  \u6216\u8005\u9002\u7528ResLoad \u624b\u52a8\u52a0\u8f7d\u56fe\u96c6",e),cc.isValid(t)||(Logger.error("\u56fe\u96c6\u5df2\u7ecf\u9500\u6bc1\uff0c\u4e0d\u5e94\u8be5\u518d\u9002\u7528\uff0c\u9700\u68c0\u67e5\u539f\u56e0",e),t=null),t},e.prototype.getSprite=function(e,t){var o=this.getAtlas(e);return null==o?null:o.getSpriteFrame(t)},e.prototype.releaseRes=function(e,t){cc.resources.release(e,t)},e.prototype.releaseAsset=function(e){cc.assetManager.releaseAsset(e)},e.prototype.releaseDir=function(e,t){cc.resources.release(e,t)},e.prototype.release=function(e){cc.resources.release(e)},e.prototype.releaseCache=function(e,t){cc.resources.release(e,t)},e.prototype._release=function(e,t){var o=this;if(e){var i=this.getCacheInfo(e.id);i.refs.delete(t),function(e,t){if(e&&e.dependKeys&&Array.isArray(e.dependKeys))for(var i=0,n=e.dependKeys;i<n.length;i++){var r=n[i],a=cc.loader._cache[r];o._release(a,t)}}(e,t),0==i.uses.size&&0==i.refs.size&&(e.uuid?cc.loader.release(e.uuid):cc.loader.release(e.id),this._resMap.delete(e.id))}},e.prototype.releaseWithDepend=function(e){Logger.warn("\u91ca\u653e\u8d44\u6e90\u548c\u5b83\u5f15\u7528\u7684\u8d44\u6e90",e);var t=cc.loader.getDependsRecursively(e);cc.loader.release(e),cc.loader.release(t)},e.prototype.loadBundle=function(e,t,o){cc.assetManager.loadBundle(e,o,function(e,o){t&&t(e,o)})},e.prototype.checkBundleValid=function(e){return cc.assetManager.getBundle(e.toString())},e.prototype.loadGameBundleRes=function(e,t,o){var i=Global.ResourceManager.gameBundle;i?this.loadBundleRes(i,e,t,o):Logger.error("loadGameBundleRes bundleName null")},e.prototype.loadBundleRes=function(e,t,o,i){var n=this,r=cc.assetManager.getBundle(e.toString());r&&r.load(t,i,function(r,a){if(!r&&a)if("string"==typeof t)n.releaseHelper.addBundleRelease(e,t,i);else if("object"==typeof t)for(var s=0;s<t.length;s++){var l=t[s];n.releaseHelper.addBundleRelease(e,l,i)}o&&o(r,a)})},e.prototype.getGameBundleRes=function(e,t){var o=Global.ResourceManager.gameBundle;if(o){var i=this.getBundleRes(o,e,t);if(i)return i;Logger.error("getGameBundleRes getBundleRes null")}else Logger.error("getGameBundleRes bundleName null")},e.prototype.getBundleRes=function(e,t,o){var i=cc.assetManager.getBundle(e.toString());if(i)return i.get(t,o)},e.prototype.loadGameBundleDir=function(e,t,o){var i=Global.ResourceManager.gameBundle;i?this.loadBundleDir(i,e,t,o):Logger.error("loadGameBundleDir bundleName null")},e.prototype.loadBundleDir=function(e,t,o,i){var n=this,r=cc.assetManager.getBundle(e.toString());r&&r.loadDir(t,i,function(r,a){!r&&a&&n.releaseHelper.addBundleRelease(e,t,i),o&&o(r,a)})},e.prototype.loadGameBundleAutoAtlas=function(e,t,o,i,n,r){void 0===r&&(r=!0);var a=Global.ResourceManager.gameBundle;a?this.loadBundleAutoAtlas(a,e,t,o,i,n,r):Logger.error("loadGameBundleAutoAtlas bundleName null")},e.prototype.loadBundleAutoAtlas=function(e,t,o,i,n,r,a){void 0===a&&(a=!0);var s=this,l=this.getBundleRes(e,o,cc.SpriteAtlas);if(l){var c=l.getSpriteFrame(i);if(null==c)return void Logger.error("\u627e\u4e0d\u5230sprite",i);if(!t.isValid)return;t.spriteFrame=c,n&&n()}else this.loadBundleRes(e,o,function(e,o){if(null!=e&&Logger.error(e.message),null!=o){null!=r&&null!=r&&s.setAutoReleaseRecursively(o,r);var a=o.getSpriteFrame(i);null!=a?t.isValid&&(t.spriteFrame=a,n&&n()):Logger.error("\u627e\u4e0d\u5230sprite",i)}})},e.prototype.lazyLoadBundleRes=function(e,t,o){var i=cc.assetManager.getBundle(e.toString());i&&i.preload(t,o)},e.prototype.dumpAssets=function(){if(!cc.sys.isNative){var e=cc.assetManager.assets._map,t="",o=0;for(var i in e){var n=e[i];(n._name||n.nativeUrl)&&(t+="["+n._name+","+n.nativeUrl+","+n.refCount+","+String(n.isValid)+"]; /n"),o+=1}Logger.log(o,t)}},e}();o.default=n,cc._RF.pop()},{"../../logic/core/tool/ReleaseHelper":"ReleaseHelper"}],RightPanelView:[function(e,t,o){"use strict";cc._RF.push(t,"c3869UiwGBEBZ7vpopWH549","RightPanelView");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/ui/ViewBase"),a=e("./ServiceView"),s=e("./FeedbackConstants"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rightPage=[],t}return n(t,e),t.prototype.initView=function(){var e=this.getChild("onlineService"),t=this.getChild("wxService"),o=this.getChild("qqService");this.node5=this.getChild("FQA");var i=this.getChild("atService");this.view2=this.addView("onlineService",e,a.default),this.view3=this.addView("wxService",t,a.default),this.view4=this.addView("qqService",o,a.default),this.view7=this.addView("atService",i,a.default),this.noMsgTips=this.getChild("noMsgTips"),this.rightPage.push(this.view2),this.rightPage.push(this.view3),this.rightPage.push(this.view4),this.rightPage.push(this.node5),this.rightPage.push(this.view7),this.rightPage.push(this.noMsgTips)},t.prototype.changeView=function(e){switch(this.rightPage.forEach(function(e){e&&(e.subViewState=!1,e.active=!1)}),e){case s.RightViewType.onlineService:this.view2.subViewState=!0;break;case s.RightViewType.wxService:this.view3.subViewState=!0;break;case s.RightViewType.qqService:this.view4.subViewState=!0;break;case s.RightViewType.FQA:this.node5.active=!0;break;case s.RightViewType.atService:this.view7.subViewState=!0;break;case s.RightViewType.noMsgTips:this.noMsgTips.active=!0}},t.prototype.showNotips=function(e){this.noMsgTips.active=e},t.prototype.onSubViewHide=function(){this.rightPage.forEach(function(e){e.active=!1})},t}(r.default);o.default=l,cc._RF.pop()},{"../../../core/ui/ViewBase":"ViewBase","./FeedbackConstants":"FeedbackConstants","./ServiceView":"ServiceView"}],SHA256:[function(e,t,o){"use strict";cc._RF.push(t,"ada42ZIWb5Hi5JD4NmZOtHC","SHA256");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.SHA256=void 0;var r=e("../lib/Hasher"),a=e("../lib/WordArray"),s=[],l=[],c=[],p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.reset=function(){e.prototype.reset.call(this),this._hash=new a.WordArray(s.slice(0))},t.prototype._doProcessBlock=function(e,t){for(var o=this._hash.words,i=o[0],n=o[1],r=o[2],a=o[3],s=o[4],p=o[5],h=o[6],u=o[7],d=0;d<64;d++){if(d<16)c[d]=0|e[t+d];else{var f=c[d-15],g=(f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3,m=c[d-2],y=(m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10;c[d]=g+c[d-7]+y+c[d-16]}var b=i&n^i&r^n&r,v=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),_=u+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&p^~s&h)+l[d]+c[d];u=h,h=p,p=s,s=a+_|0,a=r,r=n,n=i,i=_+(v+b)|0}o[0]=o[0]+i|0,o[1]=o[1]+n|0,o[2]=o[2]+r|0,o[3]=o[3]+a|0,o[4]=o[4]+s|0,o[5]=o[5]+p|0,o[6]=o[6]+h|0,o[7]=o[7]+u|0},t.prototype._doFinalize=function(){var e=8*this._nDataBytes,t=8*this._data.sigBytes;return this._data.words[t>>>5]|=128<<24-t%32,this._data.words[14+(t+64>>>9<<4)]=Math.floor(e/4294967296),this._data.words[15+(t+64>>>9<<4)]=e,this._data.sigBytes=4*this._data.words.length,this._process(),this._hash},t}(r.Hasher);o.SHA256=p,cc._RF.pop()},{"../lib/Hasher":"Hasher","../lib/WordArray":"WordArray"}],SafeModule:[function(e,t,o){"use strict";cc._RF.push(t,"d1e61akjEFIdZCHBJheFDVr","SafeModule");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.viewClass="WndBuySafeUI",t.modelClass="SafeModule",t.resPaths=[],t.prefabPaths=[""],t.children=[{viewClass:"WndSafeRuleUI",modelClass:"",resPaths:[],prefabPaths:[""],children:[]},{viewClass:"WndDailyGiftMoneyUI",modelClass:"",resPaths:[],prefabPaths:[""],children:[]},{viewClass:"WndGiftMoneyListUI",modelClass:"",resPaths:[],prefabPaths:[""],children:[]}],t}return n(t,e),t}(e("../../../framework/module/ModuleBase").ModuleBase);o.default=r,cc._RF.pop()},{"../../../framework/module/ModuleBase":"ModuleBase"}],ScanCodeView:[function(e,t,o){"use strict";cc._RF.push(t,"15084ihSlRMvYzKpKWOYZT3","ScanCodeView");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/ui/ViewBase"),a=e("../../../core/tool/AppHelper"),s=e("../Spread/CaptureTool"),l=e("../../../hallcommon/model/ServicerModel"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.timeID=null,t.intervalTime=180,t.checkInerval=1e3,t.amount="",t.data=null,t.formastr="<color=#CCE198>\u4ed8\u6b3e\u5012\u8ba1\u65f6</c><color=#FFF100>%s</color><color=#CCE198>\u79d2</c>",t}return n(t,e),t.prototype.initView=function(){this.qrNode=this.getComponent("sewm_t/qrnode",cc.Sprite),this.timerLabel=this.getComponent("sewm_t/countDown",cc.RichText),this.timerLabel.string="",this.moneyLabel=this.getComponent("sewm_t/money",cc.Label),this.moneyLabel.string="",this.CaptureTool=this.getComponent("sewm_t",s.default),this.addCommonClick("buttonGroup/saveToAlbum",this.onSavePicBtnClicked,this),this.addCommonClick("buttonGroup/openAli",this.onOpenAliBtnClicked,this),this.addCommonClick("buttonGroup/uploadBtn",this.onUploadBtnClicked,this)},t.prototype.initQrcode=function(e){var t=this;Global.Event.event(GlobalEvent.SHOW_NET_WAITING,"initQrcode"),cc.loader.load(e,function(e,o){if(Global.Event.event(GlobalEvent.HIDE_NET_WAITING,"initQrcode"),e)Global.UI.fastTip("\u62c9\u53d6\u4ed8\u6b3e\u7801\u5931\u8d25");else if(cc.isValid(t.qrNode.node)){var i=new cc.SpriteFrame(o);t.qrNode.spriteFrame=i,t.startTimer()}})},t.prototype.onSavePicBtnClicked=function(){var e=this.data.order_no,t=jsb.fileUtils.getWritablePath()+Global.Toolkit.md5(e)+"_capImage.png";this.CaptureTool&&this.CaptureTool.BeginCapture(e,function(){Global.NativeEvent.saveToAlbum(t,function(){Logger.log("\u4fdd\u5b58\u76f8\u518c\u6210\u529f")})},!1)},t.prototype.onOpenAliBtnClicked=function(){a.default.enableAliPaySDK&&Global.NativeEvent.checkAliPayInstalled(function(e){0==e.result?(Logger.error("AliPayInstalled true"),Global.NativeEvent.awakeALiPayApp()):-1==e.result&&Global.UI.showSingleBox("\u8bf7\u5148\u5b89\u88c5\u652f\u4ed8\u5b9d",null)})},t.prototype.onUploadBtnClicked=function(){var e=Global.ModelManager.getModel("ServicerModel");e&&e.enterCustomerService(l.CustomerEntranceType.HallService)},t.prototype.onSubViewShow=function(){if(this.reset(),this.data)try{var e=JSON.parse(this.data.url);this.initQrcode(e.url);var t=e.amount/100;this.moneyLabel.string=t.toString()}catch(o){Global.UI.fastTip("\u89e3\u6790\u8ba2\u5355\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5\uff01")}},t.prototype.reset=function(){this.moneyLabel.string="",this.intervalTime=180,this.qrNode.spriteFrame=null,this.timeID&&clearInterval(this.timeID)},t.prototype.startTimer=function(){var e=this;this.timeID&&clearInterval(this.timeID),this.timerLabel.string=cc.js.formatStr(this.formastr,this.intervalTime),this.timeID=setInterval(function(){e.intervalTime-=1,e.timerLabel.string=cc.js.formatStr(e.formastr,e.intervalTime),0==e.intervalTime&&(e.node.active=!1)},this.checkInerval)},t.prototype.onSubViewHide=function(){this.data=null,this.amount="",this.node.active=!1,this.timeID&&clearInterval(this.timeID)},t.prototype.onDispose=function(){this.amount="",this.data=null,this.timeID&&clearInterval(this.timeID)},t}(r.default);o.default=c,cc._RF.pop()},{"../../../core/tool/AppHelper":"AppHelper","../../../core/ui/ViewBase":"ViewBase","../../../hallcommon/model/ServicerModel":"ServicerModel","../Spread/CaptureTool":"CaptureTool"}],SceneManager:[function(e,t,o){"use strict";cc._RF.push(t,"052fb34CelPzLrKBDwoQ+wt","SceneManager");var i=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a},n=this&&this.__awaiter||function(e,t,o,i){return new(o||(o=Promise))(function(n,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,s)}l((i=i.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var o,i,n,r,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(e){return function(t){return l([e,t])}}function l(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,i&&(n=2&r[0]?i.return:r[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,r[1])).done)return n;switch(i=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){a.label=r[1];break}if(6===r[0]&&a.label<n[1]){a.label=n[1],n=r;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(r);break}n[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(s){r=[6,s],i=0}finally{o=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0}),o.SceneType=void 0;var a,s=e("../../hall/tool/HallPopMsgHelper"),l=cc._decorator,c=l.ccclass;l.property,function(e){e[e.None=0]="None",e[e.Login=1]="Login",e[e.Hall=2]="Hall",e[e.Game=3]="Game"}(a=o.SceneType||(o.SceneType={}));var p=function(){function e(){this.LOGIN_SCENE_ID=1,this.HALL_SCENE_ID=2,this.GAME_SCENE_ID=3,this.switchSceneTimer=null}return e.prototype.setup=function(){this.sceneType=a.None},e.prototype.inGame=function(){return this.sceneType==a.Game},Object.defineProperty(e.prototype,"sceneType",{get:function(){return this._sceneType},set:function(e){Logger.error("set sceneType from, to",a[this._sceneType],a[e]),this._sceneType=e},enumerable:!1,configurable:!0}),e.prototype.goToLogin=function(){Global.ModelManager.clear(),Global.UI.closeAllUIPrefab(),s.default.releaseInstance(),this.sceneType==a.None?(this.sceneType=a.Login,this.loadHallScene()):this.sceneType==a.Game?(Game.Event.event(Game.EVENT_FORCE_LEAVE_GAME,!0),Game.Control.shutDown(!0),Global.SceneManager.goToHall(),this.sceneType=a.Login):(this.sceneType=a.Login,cc.director.getScene()&&"LoadingScene"!=cc.director.getScene().name&&Global.UI.show("WndLogin"))},e.prototype.goToHall=function(){this.sceneType!=a.Hall&&(Global.NativeJSBBridge.addClickGames("hall"),Global.UI.closeAllUIPrefab(),this.sceneType==a.Game?(this.sceneType=a.Hall,Global.Setting.isStartHotUpdate?Global.SceneManager.onLoadHallScene():Global.SceneManager.loadHallScene()):(this.sceneType=a.Hall,Global.UI.show("WndHall"),1!==Global.PlayerData.type&&Global.Audio.playAudioSource("hall/sound/inithall"),Global.UI.closeHallLoading()))},e.prototype.onLoadHallScene=function(){var e=this;this.sceneType==a.Game&&(this.sceneType=a.Hall),Global.UI.closeAllUIPrefab();var t=Global.HotUpdateManager,o=t.updateHelper.gameType(),i=t.updateHelper.genStoragePath(o);Logger.log("onLoadHallScene -----------"+i);var n=Global.customApp.getHallBundleName();n?Global.ResourceManager.checkBundleValid(n)?this.doLoadHallScene(null):Global.customApp.loadHallBundle(function(t){t?Logger.error("onLoadHallScene load hall bundle error "+t.message):e.doLoadHallScene(null)}):this.doLoadHallScene(null)},e.prototype.loadHallScene=function(e){var t=this;this.sceneType==a.Game&&(this.sceneType=a.Hall),Logger.log("--------loadHallScene-------"),Global.UI.closeAllUIPrefab();var o=Global.customApp.getHallBundleName();o?Global.ResourceManager.checkBundleValid(o)?this.doLoadHallScene(e):Global.customApp.loadHallBundle(function(o){o?Logger.error("onLoadHallScene load hall bundle error "+o.message):t.doLoadHallScene(e)}):this.doLoadHallScene(e)},e.prototype.doLoadHallScene=function(e){var t=this;cc.director.loadScene("HallScene",function(){e&&e(),t.releaseCurGameBundle(),t.adjustRedMiUI12()})},e.prototype.adjustRedMiUI12=function(){var e=Global.Setting.SystemInfo.deviceBrand,t=cc.sys.osVersion;if(!e||"xiaomi"!=e.toLowerCase()||"11"!=t&&"11.0"!=t&&"11.0.0"!=t)Logger.error("adjustRedMiUI12 excute failed +++++++++++++ phone_device_brand "+e+" osVersion = "+t);else{var o=cc.find("Canvas"),i=o.getChildByName("CameraClearStencil"),n=null;cc.isValid(i)||(Logger.error("adjustRedMiUI12 camNode null"),n=(i=new cc.Node("CameraClearStencil")).addComponent(cc.Camera),o.addChild(i)),i.groupIndex=1,n.clearFlags=cc.Camera.ClearFlags.DEPTH|cc.Camera.ClearFlags.STENCIL,n.depth=10,n.cullingMask=0}},e.prototype.releaseCurGameBundle=function(){var e=Global.ResourceManager.releaseHelper,t=Global.ResourceManager.gameBundle;e.releaseBundle(t),Global.ResourceManager.gameBundle=""},e.prototype.loadGameScene=function(){if(this.sceneType!=a.Game){Global.UI.SetMessageBoxInGame(!1),this.sceneType=a.Game,Global.Audio.stopMusic(),Global.UI.closeAllUIPrefab(!0),Global.UI.RestorePersistNode();var e=Global.HotUpdateManager.CurrentGame;Global.ResourceManager.gameBundle=e,Global.NativeJSBBridge.addClickGames(e.toString()),this.setGameSearchPath(e),Logger.log("----------------------------currentGame ===="+e);var t=e.toString();this.loadGameSceneByGid(t)}else Logger.error("this.sceneType == SceneType.Game")},e.prototype.loadGameSceneByGid=function(e,t){var o=this,i=e;this.switchSceneTimer=setTimeout(function(){Global.Toolkit.removeDir(Number(i),"\u8fdb\u5165\u5b50\u6e38\u620f\u5931\u8d25")},5e3);var a=this;Global.ResourceManager.loadBundle(i,function(e,s){return n(o,void 0,void 0,function(){var o,n,l=this;return r(this,function(r){switch(r.label){case 0:if(this.clearTimer(),e)return Global.Toolkit.removeDir(Number(i),"\u52a0\u8f7d\u5b50\u6e38\u620fbundle\u5931\u8d25"),Logger.error("load failed "+i),[2];switch(o=Number(i),Game.Control.GAME_DDZ_HJ_ARR.indexOf(o)>=0&&Game.Control.curGid>0&&(o=Game.Control.curGid),n="",o.toString()){case"1002":n="BullPVEGame";break;case"1005":n="LongHuGame";break;case"1006":n="HongHeiGame";break;case"1007":n="BaccaratGame";break;case"1009":n="bzbw";break;case"1010":n="TuitongziGame";break;case"1011":n="HuanlezhizunGame";break;case"1014":n="WanRenGame";break;case"1015":n="WuxinghonghuiGame";break;case"1016":n="ErbagangGame";break;case"1017":n="BbwzGame";break;case"1018":n="JzwzGame";break;case"1019":n="FqzsGameScene";break;case"1020":n="YxxScene";break;case"1021":n="QhhwScene";break;case"1022":n="XyjGameScene";break;case"2001":n="BullPVPScene";break;case"2002":n="BullTwoScene";break;case"2003":n="ZJHScene";break;case"2004":n="ShisanshuiGame";break;case"2005":n="DDZPvpScene";break;case"2006":n="BullTBScene";break;case"2007":n="BullKPScene";break;case"2008":n="BlackJackScene";break;case"2009":n="FknnScene";break;case"2010":n="TexasHoldemScene";break;case"2011":n="OnePunchScene";break;case"2012":n="PdkScene";break;case"2013":n="DdzTwoScene";break;case"2014":n="BullHPScene";break;case"2101":n="ErmjScene";break;case"2102":n="XlmjScene";break;case"4001":n="RedPackScene";break;case"4002":n="HbjlGame";break;case"3001":n="main";break;case"3002":n="Fish3DGame";break;case"3003":n="DntgFishScene";break;case"3004":n="JcbyFishScene";break;case"3005":n="FishGameScene";break;case"3006":n="Fish3GameScene";break;case"1001":n="toubao";break;case"5001":n="CqbyScene";break;case"5002":n="DuofuduocaiGame";break;case"5003":n="shuiguoji";break;case"5004":n="AmfyGame";break;case"5005":n="GhzGameScene";break;case"5006":n="Qh97GameScene";break;case"6001":n="MK6Game";break;case"7005":n="ShixunLonghuGame";break;default:Logger.error("enter hall -----")}return Game.GamePreloadTool.setup(Number(i)),Game.GamePreloadTool.checkPreloadBundleExist(Number(i))?[4,Game.GamePreloadTool.preloadBundle()]:[3,3];case 1:return r.sent(),[4,Game.GamePreloadTool.preloadPrefab(Game.GamePreloadTool.lobbyUIPath)];case 2:r.sent(),r.label=3;case 3:this.switchSceneTimer=setTimeout(function(){Global.Toolkit.removeDir(Number(i),"\u52a0\u8f7d\u5b50\u6e38\u620f\u573a\u666f\u5931\u8d25")},5e3);try{s.loadScene(n,function(e){if(l.clearTimer(),e)return Logger.error("\u52a0\u8f7d\u5b50\u6e38\u620fbundle\u5931\u8d25--------------loadScene------"),Logger.error("bundle loadScene "+n+" error = "+e.message),void Global.Toolkit.removeDir(Number(i),e);cc.director.loadScene(n,function(){t&&t(),a.adjustRedMiUI12()})})}catch(c){Global.Toolkit.removeDir(Number(i),c)}return[2]}})})})},e.prototype.switchGameScene=function(e){if(this.sceneType===a.Game){var t=Global.HotUpdateManager.CurrentGame,o=Global.ResourceManager.gameBundle;Global.UI.SetMessageBoxInGame(!1),Global.UI.closeAllUIPrefab();var i=String(e);Global.HotUpdateManager.CurrentGame=i,Global.ResourceManager.gameBundle=i,Global.NativeJSBBridge.addClickGames(i),this.setGameSearchPath(i),Global.UI.close("WndGameLobbyShell"),this.loadGameSceneByGid(i,function(){i!=t&&Global.ResourceManager.releaseHelper.releaseBundle(o)})}else Logger.error("this.sceneType !== SceneType.Game")},e.prototype.setGameSearchPath=function(e){if(cc.sys.isNative){var t=Global.HotUpdateManager.updateHelper;t.init(e);var o=t.storagePath();Global.SearchPathHelper.addOneGamePath(o)}},e.prototype.removeGameSearchPath=function(e){if(cc.sys.isNative){var t=jsb.fileUtils.getWritablePath()+"gameUpdate/"+e;Global.SearchPathHelper.removeOnePath(t)}},e.prototype.removeStoragePathFromSearchPaths=function(e){var t=jsb.fileUtils.getSearchPaths();if(e&&t&&t.length>0){for(var o=-1,i=0;i<t.length;i++){var n=t[i];if(n&&(n==e||n==e+"/")){o=i;break}}t.splice(o,1)}else if(Logger.error("removeStoragePathFromSearchPaths searPaths or storagepath == null"),t&&0==t.length){Logger.error("removeStoragePathFromSearchPaths add Hall SearchPath");var r=Global.HotUpdateManager.getNativeHotUpdatePath("hall");t.unshift(r)}return t},e.prototype.clearTimer=function(){this.switchSceneTimer&&(clearTimeout(this.switchSceneTimer),this.switchSceneTimer=null)},i([c],e)}();o.default=p,cc._RF.pop()},{"../../hall/tool/HallPopMsgHelper":"HallPopMsgHelper"}],ScreenShakeAction:[function(e,t,o){"use strict";cc._RF.push(t,"b67b3dWvWpKXI0GLEqNazSe","ScreenShakeAction");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(t,o,i){var n=e.call(this)||this;return n.nodeInitialPos=null,n.nodeShakeStrengthX=0,n.nodeShakeStrengthY=0,n.duration=0,n.duration=t,n.initWithDuration(t,o,i),n}return n(t,e),t.prototype.initWithDuration=function(t,o,i){e.prototype.initWithDuration.call(this),this.setDuration(t),this.nodeShakeStrengthX=o,this.nodeShakeStrengthY=i},t.prototype.getRandomStrength=function(e,t){return Math.random()*(t-e+1)+e},t.prototype.update=function(e){var t=this.getRandomStrength(-this.nodeShakeStrengthX,this.nodeShakeStrengthX)*e,o=this.getRandomStrength(-this.nodeShakeStrengthY,this.nodeShakeStrengthY)*e;this.getTarget().setPosition(this.nodeInitialPos.add(cc.v2(t,o)))},t.prototype.startWithTarget=function(t){e.prototype.startWithTarget.call(this,t),this.nodeInitialPos=t.getPosition()},t.prototype.stop=function(){this.getTarget().setPosition(this.nodeInitialPos)},t}(cc.ActionInterval);o.default=r,cc._RF.pop()},{}],ScrollViewCarmack:[function(e,t,o){"use strict";cc._RF.push(t,"34f015q8PlCPqGuRWHH6qWB","ScrollViewCarmack");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,l=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.itemPrefab=null,t.content=null,t.itemNodePadding=3,t.itemOffset=64,t.contentExtraSize=0,t.scrollView=null,t.itemNodeSize=127,t.itemAllCount=5,t.currStartIndex=-1,t.itemNodeArr=[],t.allDatas=[],t.item_setter_caller=null,t.bVertical=!0,t}return n(t,e),t.prototype.init=function(){this.scrollView=this.node.getComponent(cc.ScrollView),this.scrollView.horizontal?this.bVertical=!1:this.scrollView.vertical&&(this.bVertical=!0),this.content=this.scrollView.content,this.itemNodeSize=this.bVertical?this.itemPrefab.height:this.itemPrefab.width;var e=this.bVertical?this.node.height:this.node.width;this.itemAllCount=Math.ceil(e/(this.itemNodeSize+this.itemNodePadding))+2,this.itemNodeArr=[];for(var t=0;t<this.itemAllCount;t++){var o=cc.instantiate(this.itemPrefab);o.setParent(this.content),this.itemNodeArr.push(o)}this.node.on("scrolling",this.on_scrolling,this),this.node.on(cc.Node.EventType.SIZE_CHANGED,this.onSizeChange,this)},t.prototype.updateView=function(e){void 0===e&&(e=!1);var t=this.allDatas.length*(this.itemNodeSize+this.itemNodePadding)+this.contentExtraSize,o=this.content.getContentSize();if(this.bVertical)if(o.height=t,this.content.setContentSize(o),e)this.scrollView.scrollToBottom(),this.currStartIndex=this.allDatas.length-this.itemAllCount;else if(this.allDatas.length<this.itemAllCount-2)this.scrollView.scrollToTop(),this.currStartIndex=0;else{var i=this.content.height-this.node.height,n=(r=this.scrollView.getScrollOffset()).y>=i?cc.v2(r.x,i):r;this.scrollView.scrollToOffset(n),this.currStartIndex=this.offsetToIndex(n)}else if(o.width=t,this.content.setContentSize(o),e)this.scrollView.scrollToRight(),this.currStartIndex=this.allDatas.length-this.itemAllCount;else if(this.allDatas.length<this.itemAllCount-2)this.scrollView.scrollToLeft(),this.currStartIndex=0;else{var r;n=(r=this.scrollView.getScrollOffset()).x<=this.scrollView.getMaxScrollOffset().x?this.scrollView.getMaxScrollOffset():r,this.scrollView.scrollToOffset(n),this.currStartIndex=this.offsetToIndex(n)}this.render_items()},t.prototype.offsetToIndex=function(e){var t=0,o=0;this.bVertical?(t=e.y,o=this.content.height-this.node.height):(t=-e.x,o=this.content.width-this.node.width),t<0&&(t=0),t>o&&(t=o);var i=Math.floor(t/(this.itemNodeSize+this.itemNodePadding))-2;return i<0&&(i=0),i},t.prototype.UpDateScrollData=function(){var e=this.allDatas.length*(this.itemNodeSize+this.itemNodePadding)+this.contentExtraSize,t=this.content.getContentSize();this.bVertical?t.height=e:t.width=e,this.content.setContentSize(t)},t.prototype.clearView=function(){this.currStartIndex=0,this.scrollView.scrollToLeft(),this.scrollView.scrollToTop(),this.content.children.forEach(function(e){e.active=!1})},t.prototype.on_scrolling=function(){var e=0,t=0;this.bVertical?(e=this.content.y,t=this.content.height-this.node.height):(e=-this.content.x,t=this.content.width-this.node.width),e<0&&(e=0),e>t&&(e=t);var o=Math.ceil(e/(this.itemNodeSize+this.itemNodePadding))-1;o<0&&(o=0),o<this.currStartIndex?this.bottomNodeToUp():o>this.currStartIndex&&this.UpNodeToBottom()},t.prototype.onSizeChange=function(){this.itemNodeSize=this.bVertical?this.itemPrefab.height:this.itemPrefab.width;for(var e=this.bVertical?this.node.height:this.node.width,t=Math.ceil(e/(this.itemNodeSize+this.itemNodePadding))+2,o=t-this.itemNodeArr.length,i=0;i<o;i++){var n=cc.instantiate(this.itemPrefab);n.setParent(this.content),this.itemNodeArr.push(n)}o>0&&(this.itemAllCount=t,this.updateView())},t.prototype.bottomNodeToUp=function(){var e=this.currStartIndex-1;if(!(e<0)){this.currStartIndex--;var t=this.itemNodeArr.pop();this.itemNodeArr.unshift(t);var o=e*(this.itemNodeSize+this.itemNodePadding);this.bVertical?t.y=-(o+this.itemOffset):t.x=o+this.itemOffset,this.item_setter.call(this.item_setter_caller,t,e,this.allDatas[e])}},t.prototype.UpNodeToBottom=function(){var e=this.currStartIndex+this.itemNodeArr.length;if(!(e>=this.allDatas.length)){this.currStartIndex++;var t=this.itemNodeArr.shift();this.itemNodeArr.push(t);var o=e*(this.itemNodeSize+this.itemNodePadding);this.bVertical?t.y=-(o+this.itemOffset):t.x=o+this.itemOffset,this.item_setter.call(this.item_setter_caller,t,e,this.allDatas[e])}},t.prototype.render_items=function(){for(var e=0;e<this.itemAllCount;e++){var t=this.itemNodeArr[e],o=this.currStartIndex+e;if(o<0)t.active=!1,t.setParent(this.node);else{var i=o*(this.itemNodeSize+this.itemNodePadding);this.bVertical?t.y=-(i+this.itemOffset):t.x=i+this.itemOffset,this.allDatas.length>o?(t.active=!0,t.setParent(this.content),this.item_setter.call(this.item_setter_caller,t,o,this.allDatas[o])):(t.active=!1,t.setParent(this.node))}}},r([l(cc.Node)],t.prototype,"itemPrefab",void 0),r([l(cc.Node)],t.prototype,"content",void 0),r([l],t.prototype,"itemNodePadding",void 0),r([l],t.prototype,"itemOffset",void 0),r([s],t)}(cc.Component);o.default=c,cc._RF.pop()},{}],ScrollViewPlus:[function(e,t,o){"use strict";cc._RF.push(t,"0bcf9rZfCZNQqSziXOz4znY","ScrollViewPlus");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a},a=this&&this.__spreadArrays||function(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;var i=Array(e),n=0;for(t=0;t<o;t++)for(var r=arguments[t],a=0,s=r.length;a<s;a++,n++)i[n]=r[a];return i};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,l=s.ccclass,c=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scrollView=null,t.itemsArr=[],t.Vertical=!1,t.gap_x=0,t.gap_y=0,t.content=null,t.scrView=null,t.height=0,t.width=0,t.items=[],t.start_index=-1,t.stop_index=-1,t.item_setter_caller=null,t}return n(t,e),t.prototype.init=function(){var e=this;this.scrView=this.scrollView.getComponent(cc.ScrollView),this.content=this.scrView.content,this.height=this.content.height,this.width=this.content.width,this.node_pools=new Map,this.item_templates=new Map,this.itemsArr.forEach(function(t,o){t.data.active=!1,e.item_templates.set(o,t.data)}),this.scrollView.on("scrolling",this.on_scrolling,this)},t.prototype.on_scrolling=function(){if(this.items&&this.items.length)if(this.Vertical){var e=this.content.y;e<0&&(e=0),e>this.content.height-this.height&&(e=this.content.height-this.height);for(var t=0,o=this.items.length-1,i=(n=-e)-this.height;this.items[t].y-this.items[t].height>n;)t++;for(;this.items[o].y<i;)o--;t!=this.start_index&&o!=this.stop_index&&(this.start_index=t,this.stop_index=o,this.render_items())}else{var n,r=this.content.x;for(r>0&&(r=0),r<this.width-this.content.width&&(r=this.width-this.content.width),t=0,o=this.items.length-1,i=(n=-r)+this.width;this.items[t].x+this.items[t].width<n;)t++;for(;this.items[o].x>i;)o--;t!=this.start_index&&o!=this.stop_index&&(this.start_index=t,this.stop_index=o,this.render_items())}},t.prototype.spawn_node=function(e){var t,o=this.node_pools.get(e);return o&&o.length>0?t=o.pop():(t=cc.instantiate(this.item_templates.get(e))).active=!0,t.parent=this.content,t},t.prototype.recycle_item=function(e){if(e.node&&cc.isValid(e.node)){var t=this.node_pools.get(e.data.key);t||(t=[],this.node_pools.set(e.data.key,t)),t.push(e.node),e.node.removeFromParent(),e.node=null}},t.prototype.clear_items=function(){var e=this;this.items&&this.items.forEach(function(t){e.recycle_item(t)})},t.prototype.render_items=function(){for(var e,t=0;t<this.start_index;t++)(e=this.items[t]).node&&this.recycle_item(e);for(t=this.items.length-1;t>this.stop_index;t--)(e=this.items[t]).node&&this.recycle_item(e);for(t=this.start_index;t<=this.stop_index+1;t++){if(!this.items[t])return;(e=this.items[t]).node||(e.node=this.spawn_node(e.data.key),this.item_setter.call(this.item_setter_caller,e.node,e.dataIndex,e.data)),e.node.setPosition(e.x,e.y)}},t.prototype.pack_item=function(e,t){var o=this.spawn_node(t.key),i=this.item_setter.call(this.item_setter_caller,o,e,t),n={x:0,y:0,width:i[0],height:i[1],data:t,node:o,dataIndex:e};return this.recycle_item(n),n},t.prototype.layout_items=function(e){if(!(this.items.length<=0)){var t=0;if(e>0){var o=this.items[e-1];t=this.Vertical?o.y-o.height-this.gap_y:o.x+o.width+this.gap_x}for(var i=e,n=this.items.length;i<n;i++){var r=this.items[i];this.Vertical?(r.x=0,r.y=t,t-=r.height+this.gap_y):(r.y=0,r.x=t,t+=r.width+this.gap_x)}}},t.prototype.resize_content=function(){if(this.items.length<=0)return this.content.width=0,void(this.content.height=0);var e=this.items[this.items.length-1];this.Vertical?this.content.height=Math.max(this.height,e.height-e.y):this.content.width=Math.max(this.width,e.x+e.width)},t.prototype.set_data=function(e){var t=this;this.clear_items(),this.items=[],e.forEach(function(e,o){var i=t.pack_item(o,e);t.items.push(i)}),this.layout_items(0),this.resize_content(),this.start_index=-1,this.stop_index=-1,this.Vertical?this.content.y=0:this.content.x=0,this.items.length>0&&this.on_scrolling()},t.prototype.insert_data=function(e,t){var o,i=this;if(0!=t.length&&(this.items||(this.items=[]),!(e<0||e>this.items.length))){var n=[];t.forEach(function(e,t){var o=i.pack_item(t,e);n.push(o)}),(o=this.items).splice.apply(o,a([e,0],n)),this.layout_items(e),this.resize_content(),this.start_index=-1,this.stop_index=-1,this.on_scrolling()}},t.prototype.append_data=function(e){this.items||(this.items=[]),this.insert_data(this.items.length,e)},t.prototype.scroll_to_end=function(){this.Vertical?this.scrView.getComponent(cc.ScrollView).scrollToBottom(2):this.scrView.getComponent(cc.ScrollView).scrollToRight(2)},t.prototype.destroy_items=function(){this.clear_items(),this.node_pools.forEach(function(e){e.forEach(function(e){e.destroy()})}),this.node_pools=null,this.items=null,cc.isValid(this.scrollView)&&this.scrollView.off("scrolling",this.on_scrolling,this)},r([c(cc.Node)],t.prototype,"scrollView",void 0),r([c([cc.Prefab])],t.prototype,"itemsArr",void 0),r([c],t.prototype,"Vertical",void 0),r([c],t.prototype,"gap_x",void 0),r([c],t.prototype,"gap_y",void 0),r([c(cc.Node)],t.prototype,"content",void 0),r([l],t)}(cc.Component);o.default=p,cc._RF.pop()},{}],SearchPathHelper:[function(e,t,o){"use strict";cc._RF.push(t,"4ea78/KIhJEgo+snWEnqH5o","SearchPathHelper"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function e(){if(this.pathSet=new Set,this.gameList=[],this.pathSet.clear(),this.gameList=[],cc.sys.isNative){var e=jsb.fileUtils.getSearchPaths();this.addPathList(e)}}return e.prototype.addOnePath=function(e){if(!this.pathSet.has(e)){var t=this.formatPath(e);this.pathSet.add(t),this.updateSystemSearchPath()}},e.prototype.addOneGamePath=function(e){if(!this.pathSet.has(e)){if(this.gameList.length>=5){var t=this.gameList.shift();this.pathSet.delete(t)}this.gameList.push(e),this.pathSet.add(e),this.updateSystemSearchPath()}},e.prototype.addPathList=function(e){var t=this;void 0===e&&(e=[]),e.forEach(function(e){var o=t.formatPath(e);t.pathSet.add(o)}),this.updateSystemSearchPath()},e.prototype.removeOnePath=function(e){var t=this.formatPath(e);this.pathSet.delete(t),this.updateSystemSearchPath()},e.prototype.removePathList=function(e){var t=this;void 0===e&&(e=[]),e.forEach(function(e){var o=t.formatPath(e);t.pathSet.delete(o)}),this.updateSystemSearchPath()},e.prototype.formatPath=function(e){void 0===e&&(e="");var t=e.length;return t<=0?"":("/"!=e[t-1]&&(e+="/"),e)},e.prototype.getGameSearchPath=function(e){return jsb.fileUtils.getWritablePath()+"gameUpdate/"+e+"/"},e.prototype.updateSystemSearchPath=function(){for(var e=Array.from(this.pathSet),t=0;t<e.length;t++)if(""==e[t]&&t!=e.length-1){e[t]=e[e.length-1],e[e.length-1]="";break}Logger.error("updateSystemSearchPath",JSON.stringify(e)),jsb.fileUtils.setSearchPaths(e)},e.prototype.getSystemSearchPath=function(){return jsb.fileUtils.getSearchPaths()},e.prototype.checkPathExist=function(e){return this.pathSet.has(e)},e}();o.default=i,cc._RF.pop()},{}],SectionBase:[function(e,t,o){"use strict";cc._RF.push(t,"2d32baiATxP8KZtznA982Uv","SectionBase"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function e(){this.name="",this.isInited=!1}return Object.defineProperty(e.prototype,"Name",{get:function(){return this.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"IsInited",{get:function(){return this.isInited},enumerable:!1,configurable:!0}),e.prototype.declare=function(){this.isInited||(this.isInited=!0,this.declareModel(),this.declareWnd())},e.prototype.declareModel=function(){},e.prototype.declareWnd=function(){},e.prototype.init=function(){this.declare(),this.onInit()},e.prototype.onInit=function(){},e}();o.default=i,cc._RF.pop()},{}],SectionManager:[function(e,t,o){"use strict";cc._RF.push(t,"a44b6T1yfZAjpyEILDr1g77","SectionManager"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function e(){this.sctionMap={}}return Object.defineProperty(e,"Instance",{get:function(){return null==e._instance&&(e._instance=new e),e._instance},enumerable:!1,configurable:!0}),e.prototype.hasSection=function(e){return null==e&&e.length<1?(Logger.error("SectionManager::getSection() sectionName == null || sectionName.length < 1"),null):null!=this.sctionMap[e]},e.prototype.callSectionInit=function(e){var t=this.sctionMap[e];t.isInit||(t.declareModel(),t.declareWnd(),t.loadLanguage(),t.isInit=!0),t.init()},e.prototype.register=function(e,t){return null==t?(Logger.error("SectionManager::register() section == null, return!!!!"),!1):(this.sctionMap[e]=t,!0)},e.prototype.unregister=function(e){if(null==e&&e.length<1)return Logger.error("SectionManager::unregister() sectionName == null || sectionName.length < 1"),null;this.sctionMap[e]=null},e.prototype.unregisterAll=function(){for(var e in this.sctionMap)this.unregister(e);this.sctionMap={}},e}();o.default=i,cc._RF.pop()},{}],SerializableCipher:[function(e,t,o){"use strict";cc._RF.push(t,"304daQV5rJFZK4j7/CAxJ2m","SerializableCipher"),Object.defineProperty(o,"__esModule",{value:!0}),o.SerializableCipher=void 0;var i=e("./WordArray"),n=e("../format/OpenSSL"),r=e("./CipherParams"),a=function(){function e(){}return e.encrypt=function(e,t,o,i){var n=Object.assign({},this.cfg,i),a=e.createEncryptor(o,n),s=a.finalize(t);return new r.CipherParams({ciphertext:s,key:o,iv:a.cfg.iv,algorithm:e,mode:a.cfg.mode,padding:a.cfg.padding,blockSize:a.cfg.blockSize,formatter:n.format})},e.decrypt=function(e,t,o,i){var n=Object.assign({},this.cfg,i);if(!n.format)throw new Error("could not determine format");if(!(t=this._parse(t,n.format)).ciphertext)throw new Error("could not determine ciphertext");return e.createDecryptor(o,n).finalize(t.ciphertext)},e._parse=function(e,t){return"string"==typeof e?t.parse(e):e},e.cfg={blockSize:4,iv:new i.WordArray([]),format:n.OpenSSL},e}();o.SerializableCipher=a,cc._RF.pop()},{"../format/OpenSSL":"OpenSSL","./CipherParams":"CipherParams","./WordArray":"WordArray"}],ServerRoutes:[function(e,t,o){"use strict";cc._RF.push(t,"8692dh3w0NLxLTVEe0yIyXf","ServerRoutes"),Object.defineProperty(o,"__esModule",{value:!0}),o.ServerUrl=o.ServerRouteInfo=void 0;var i=function(){function e(){this.serverInfoList=[],this.curIndex=0}return e.prototype.parse=function(e){if(null!=e)for(var t=0;t<e.length;t++)if(this.checkRouteValid(e[t])){var o=e[t];if(Global.UrlUtil.checkIsMutiLinesSameHost(o.host)){var i=Global.UrlUtil.getMutiLinesSameHost(o.host);if(i&&i.length>0)for(var r=i.length,a=0;a<r;a++){var s=i[a],l=Global.JSUtil.copyObj(o);l.host=s,(c=new n).parse(l),c.checkSelfIsSupport()&&this.serverInfoList.push(c)}Logger.error("checkIsMutiLinesSameHost this.serverInfoList "+JSON.stringify(this.serverInfoList))}else{var c;(c=new n).parse(e[t]),c.checkSelfIsSupport()&&this.serverInfoList.push(c)}}},e.prototype.cleanRoutes=function(){this.serverInfoList=[]},e.prototype.parseWs=function(e){if(null!=e)for(var t=0;t<e.length;t++)if(this.checkWsRouteValid(e[t])){var o=new n;o.parseWs(e[t]),o.checkSelfIsSupport()&&this.serverInfoList.push(o)}},e.prototype.checkRouteValid=function(e){return null!=e.host},e.prototype.checkWsRouteValid=function(e){return null!=e.host&&null!=e.wsport&&""!=e.wsport&&0!=e.wsport},e.prototype.getRandRoute=function(){return this.getCurRoute()},e.prototype.getRouteArr=function(){for(var e=[],t=0;t<this.serverInfoList.length;t++)e.push(this.serverInfoList[t].host);return e},e.prototype.getRouteLen=function(){return this.serverInfoList?this.serverInfoList.length:0},e.prototype.changeToAnotherRoute=function(){this.serverInfoList.length<1||(this.curIndex=(this.curIndex+1)%this.serverInfoList.length)},e.prototype.getAnotherRoute=function(){return 0==this.serverInfoList.length?null:1==this.serverInfoList.length?this.serverInfoList[0]:(this.curIndex=(this.curIndex+1)%this.serverInfoList.length,this.serverInfoList[this.curIndex])},e.prototype.getCurRoute=function(){var e=null;if(null!=this.serverInfoList[this.curIndex])e=this.serverInfoList[this.curIndex];else{Logger.error("cur route is null !!!");for(var t=0;t<this.serverInfoList.length;t++)if(null!=this.serverInfoList[t]){this.curIndex=t,e=this.serverInfoList[t];break}}if(e){if(e.checkSelfIsOK())return Logger.warn("getCurRoute curRoute checkSelfIsOK !!!"),e;if(e=this.getCanUseRoute())return Logger.warn("getCurRoute curRoute getCanUseRoute !!!"),e;Logger.error("getCurRoute getCanUseRoute is null !!!")}else Logger.error("getCurRoute curRoute is null !!!");return null},e.prototype.sortRoutes=function(){if(0!=this.curIndex&&this.serverInfoList){var e=this.serverInfoList[this.curIndex],t=[e].concat(this.serverInfoList.filter(function(t){return t!=e}));this.serverInfoList=t,this.curIndex=0}},e.prototype.sortRoutesByIndex=function(e){if(null!=e&&null!=e&&this.curIndex!=e&&this.serverInfoList){var t=this.serverInfoList[e];if(t){var o=[t].concat(this.serverInfoList.filter(function(e){return e!=t}));this.serverInfoList=o,this.curIndex=0}}},e.prototype.getRouteByIndex=function(e){if(null!=e&&null!=e&&this.serverInfoList)return this.serverInfoList[e]},e.prototype.getCanUseRoute=function(){var e=null;if(this.serverInfoList){for(var t=0;t<this.serverInfoList.length;t++){var o=this.serverInfoList[t];if(null!=o){var i=o.lo_type;if(!i){this.curIndex=t,e=o;break}if(!(i>1)){this.curIndex=t,e=o;break}if(o.checkSelfIsOK()){this.curIndex=t,e=o;break}}}if(e)return e}},e}();o.default=i;var n=function(){function e(){this.port=0,this.us_port=0,this.lo_port=0,this.lo_type=0,this.url_type=0}return e.prototype.parse=function(e){this.realHost=e.host,this.port=e.port,this.us_port=e.us_port,this.lo_type=e.lo_type;var t=e.lo_port;this.lo_port=t,this.attr=e.attr,this.lo_type&&this.lo_type>1&&(Logger.error("ServerRouteInfo parse initDunSDK lo_type = "+this.lo_type),Global.AppDun.initDunSDK(this.lo_type),t&&t>0?this.lo_port=t:this.us_port&&this.us_port>0?this.lo_port=this.us_port:this.port&&this.port>0&&(this.lo_port=this.port));var o=e.sad;if(o){var i=o.split(".");if(i&&i.length<2){var n=Global.AESUtil.aesDecrptHost(o);n&&(this.host=n)}else this.host=o.trim()}else this.host=this.realHost;e.param&&(this.param=e.param),e.url_type&&(this.url_type=e.url_type)},e.prototype.getServerUrl=function(){var e=new r;return e.addressHost=this.host?this.host:this.realHost,e.realHost=this.realHost?this.realHost:this.host,e.address=e.realHost,e.attr=this.attr,e.lo_type=this.lo_type,e.param=this.param,e.url_type=this.url_type,1==this.lo_type?Global.UrlUtil.setRouteUrlCer(e):Logger.log("no self signed"),e},e.prototype.parseWs=function(e){this.realHost=e.host,this.port=e.wsport,this.us_port=e.us_port,this.lo_type=e.lo_type;var t=e.lo_port;this.lo_port=t,this.attr=e.attr,this.lo_type&&this.lo_type>1&&(Logger.error("ServerRouteInfo parse initDunSDK lo_type = "+this.lo_type),Global.AppDun.initDunSDK(this.lo_type),t&&t>0?this.lo_port=t:this.us_port&&this.us_port>0?this.lo_port=this.us_port:this.port&&this.port>0&&(this.lo_port=this.port));var o=e.sad;if(o){var i=o.split(".");if(i&&i.length<2){var n=Global.AESUtil.aesDecrptHost(o);n&&(this.host=n)}else this.host=o.trim()}else this.host=this.realHost;e.param&&(this.param=e.param),e.url_type&&(this.url_type=e.url_type)},e.prototype.getPbSocketUrl=function(e){for(var t=this.getSocketUrl(),o=e.split("."),i="",n=0;n<o.length;n++)i=i+o[n]+"/";return t.suffix=t.suffix+i,t},e.prototype.getHttpUrlWithMod=function(e){for(var t=this.getHttpUrl(),o=e.split("."),i="",n=0;n<o.length;n++)i=i+o[n]+"/";return t.suffix=t.suffix+i,t},e.prototype.getSocketUrl=function(){var e=this.getServerUrl();this.lo_type>1&&this.checkIsDunOK(this.realHost,this.lo_port,this.lo_type,this.attr)?(Global.DNS.dealDunRoute(e,this.lo_port,this.lo_type),e.protocol="ws"):null!=this.us_port&&0!=this.us_port?(e.protocol="ws",Global.DNS.dealSelfRoute(e),Global.UrlUtil.dealServerUrl(e,this.us_port)):null!=this.port&&0!=this.port?(e.protocol="wss",Global.DNS.dealSelfRoute(e),Global.UrlUtil.dealServerUrl(e,this.port)):Logger.error("Game Routes \u914d\u7f6e\u9519\u8bef");var t=Global.UrlUtil.getUrlParamCommonPrefex();return e.suffix="/dict/"+t,e},e.prototype.getHttpUrl=function(){var e=this.getUrl();if(1==this.url_type){if(this.param){var t=this.param;e.suffix=t}}else t=Global.UrlUtil.getUrlParamCommonPrefex(),e.suffix="/mini/"+t;return e},e.prototype.getUrl=function(){var e=this.getServerUrl();return this.lo_type>1&&this.checkIsDunOK(this.realHost,this.lo_port,this.lo_type,this.attr)?(Global.DNS.dealDunRoute(e,this.lo_port,this.lo_type),e.protocol="http"):null!=this.port&&0!=this.port?(e.protocol="https",Global.DNS.dealSelfRoute(e),Global.UrlUtil.dealServerUrl(e,this.port)):null!=this.us_port&&0!=this.us_port?(e.protocol="http",Global.DNS.dealSelfRoute(e),Global.UrlUtil.dealServerUrl(e,this.us_port)):(e.protocol="https",Global.DNS.dealSelfRoute(e),Global.UrlUtil.dealServerUrl(e,this.port)),e},e.prototype.checkIsDunOK=function(e,t,o,i){if(Global.AppDun.checkAppIsSupportDunByType(o)){var n=Global.AppDun.getDunIsInitByType(o),r=Global.AppDun.getServerIPAndPort(e,t,o,i);if(null!=t&&0!=t&&o&&n&&r&&r.port)return!0;Logger.error("lo_port lo_type  isDunInit ipPortInfo ipPortInfo.port  is null")}else Logger.error("checkAppIsSupportDunByType lo_type isSupport false",o);return!1},e.prototype.checkSelfIsOK=function(){if(this.lo_port&&this.lo_type&&this.host&&this.lo_type>1){var e=this.checkIsDunOK(this.host,this.lo_port,this.lo_type,this.attr);return Logger.error("checkSelfIsOk "+e+" host = "+this.host+" lo_port = "+this.lo_port+" lo_type = "+this.lo_type),e}return!0},e.prototype.checkSelfIsSupport=function(){var e=!1;return!this.lo_type||(e=1==this.lo_type?this.checkSelfIsSupportCer():Global.AppDun.checkAppIsSupportDunByType(this.lo_type),Logger.error("checkRouteIsSupport isSupport "+e),e)},e.prototype.checkSelfIsSupportCer=function(){if(!this.lo_type||!this.host)return!1;if(1!=this.lo_type)return!1;var e=!1,t=Global.Setting.SystemInfo.cerDirFiles;if(t&&t.length>0)for(var o=0;o<t.length;o++){var i=t[o];if(i&&i.indexOf(".cer")>-1||i.indexOf(".crt")>-1){var n=i.split("/"),r=n[n.length-1].replace(".cer",""),a=this.host.toLowerCase();if(r&&a.indexOf(r.toLowerCase())>-1){e=!0,Logger.log("checkSelfIsSupportCer addressHost "+a+"  contain cer host "+r);break}}}else Logger.log("checkSelfIsSupportCer cerDirFiles has no file");return e},e}();o.ServerRouteInfo=n;var r=function(){function e(){this._protocol="",this._address="",this._address_host="",this._real_host="",this._port=0,this._suffix="",this._isEncrptUrl=!1,this._isEncrptParam=!1,this._isHostNameVerfy=!1,this._cerName="",this._cerPath="",this._lo_type=0,this._isInnerRequest=!0,this._attr=null,this._parm="",this._url_type=0}return e.prototype.copyValue=function(e){this._protocol=e._protocol,this._address=e._address,this._address_host=e._address_host,this._real_host=e._real_host,this._port=e._port,this._suffix=e._suffix},e.prototype.parse=function(e){if(e){e.startsWith("https")?this._protocol="https":e.startsWith("http")?this._protocol="http":e.startsWith("wss")?this._protocol="wss":e.startsWith("ws")&&(this._protocol="ws");var t=e.split("//"),o=e;t.length>1&&(o=t[1]);var i=(t=o.split("/"))[0];if(i.indexOf(":")>-1){this._address=i.split(":")[0];var n=i.split(":")[1];n&&Number(n)&&(this._port=Number(n))}else this._address=i;if(this._address_host=this._address,this._real_host=this._address,Global.DNS.dealSelfRoute(this),Global.UrlUtil.setRouteUrlCer(this),t.length>1)for(var r=1;r<t.length;r++)this._suffix=this._suffix+"/"+t[r]}else Logger.error("ServerUrl parse url = null ")},e.prototype.getUrl=function(){var e="",t=this._protocol,o=this._address,i=this._address_host,n=this._real_host,r=this._port?":"+this._port:"",a=this._suffix;return e=("ws"==t||"wss"==t)&&this._address&&this._address_host&&this._address!=this._address_host?this.cerPath?o==n?i!=n?t+"://"+o+"..."+i+r+a:t+"://"+o+r+a:t+"://"+o+"..."+n+r+a:t+"://"+o+"..."+i+r+a:t+"://"+o+r+a,1!=this.url_type?(e.startsWith("https")||e.startsWith("wss"))&&(e.endsWith("?")?e+="p=s":e+="&p=s"):this.checkAddress(o)&&(e=o+r+a),e},e.prototype.printSelf=function(){return"protocol = "+this._protocol+" address = "+this._address+" port = "+this._port+" addressHost = "+this._address_host+" realHost = "+this._real_host+" attr = "+(this._attr?JSON.stringify(this._attr):"null")},e.prototype.checkAddress=function(e){return e&&e.startsWith("http")},Object.defineProperty(e.prototype,"protocol",{get:function(){return this._protocol},set:function(e){this._protocol=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"address",{get:function(){return this._address},set:function(e){this._address=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"addressHost",{get:function(){return this._address_host},set:function(e){this._address_host=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"realHost",{get:function(){return this._real_host},set:function(e){this._real_host=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"port",{get:function(){return this._port},set:function(e){this._port=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"suffix",{get:function(){return this._suffix},set:function(e){this._suffix=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lo_type",{get:function(){return this._lo_type},set:function(e){this._lo_type=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEncrptUrl",{get:function(){return this._isEncrptUrl},set:function(e){this._isEncrptUrl=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEncrptParam",{get:function(){return"https"==this._protocol||"wss"==this._protocol?this._isEncrptParam=!1:this._isEncrptParam=!0,this._isEncrptParam},set:function(e){this._isEncrptParam=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isHostNameVerfy",{get:function(){return this._isHostNameVerfy},set:function(e){this._isHostNameVerfy=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cerName",{get:function(){return this._cerName},set:function(e){this._cerName=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cerPath",{get:function(){return this._cerPath},set:function(e){this._cerPath=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isInnerRequest",{get:function(){return this._isInnerRequest},set:function(e){this._isInnerRequest=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"attr",{get:function(){return this._attr},set:function(e){this._attr=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"param",{get:function(){return this._parm},set:function(e){this._parm=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"url_type",{get:function(){return this._url_type},set:function(e){this._url_type=e},enumerable:!1,configurable:!0}),e}();o.ServerUrl=r,cc._RF.pop()},{}],ServiceLeftItem:[function(e,t,o){"use strict";cc._RF.push(t,"9c493sLMuhOtKoPYM/nH+4Y","ServiceLeftItem");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,l=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.BackgroundTxt=null,t.CheckTxt=null,t.Unread=null,t.CheckSprite=null,t.UnCheckSprite=null,t.toggle=null,t.typeSprite=null,t}return n(t,e),t.prototype.close=function(){this.node.active=!1},t.prototype.getGameData=function(){return this.data},t.prototype.onInit=function(e){this.data=e,this.initView()},t.prototype.initView=function(){this.BackgroundTxt.string=Global.Toolkit.removeEmoji(this.data.name),this.CheckTxt.string=Global.Toolkit.removeEmoji(this.data.name)},t.prototype.SetToggleChecked=function(e){this.toggle.isChecked=e,e?this.toggle.check():this.toggle.uncheck()},r([l(cc.Label)],t.prototype,"BackgroundTxt",void 0),r([l(cc.Label)],t.prototype,"CheckTxt",void 0),r([l(cc.Sprite)],t.prototype,"Unread",void 0),r([l(cc.Sprite)],t.prototype,"CheckSprite",void 0),r([l(cc.Sprite)],t.prototype,"UnCheckSprite",void 0),r([l(cc.Toggle)],t.prototype,"toggle",void 0),r([l(cc.Sprite)],t.prototype,"typeSprite",void 0),r([s],t)}(cc.Component);o.default=c,cc._RF.pop()},{}],ServiceView:[function(e,t,o){"use strict";cc._RF.push(t,"064c2JDPMxHZqBPIk4SVRL2","ServiceView");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/ui/ViewBase"),a=e("../serviver/ServicerItem"),s=e("./FeedbackConstants"),l=e("./ServicerFactory"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.listNode=null,t.serviceItem=null,t.serviceDatas=[],t.itemList=new Array,t.itemPool=new Array,t}return n(t,e),t.prototype.initView=function(){this.listNode=this.getChild("scrollView/view/content"),this.serviceItem=this.getChild("service_item"),this.scrollView=this.getComponent("scrollView",cc.ScrollView),this.scrollView.enabled=!0},t.prototype.onSubViewShow=function(){var e=l.default.getInstance().getEntity(this.viewKey);e.isEmptyInfo()?this.showNoMsgTip():(this.serviceDatas=e.initServicerData(),this.updateView(e))},t.prototype.showNoMsgTip=function(){Global.UI.getWindow("WndFeedback").getView("RightPanelView").changeView(s.RightViewType.noMsgTips)},t.prototype.onSubViewHide=function(){this.serviceDatas=[]},t.prototype.updateView=function(){this.clearItem();for(var e=0;e<this.serviceDatas.length;e++){var t=this.getItem().getComponent(a.default);this.itemList.push(t)}this.scrollView.scrollToLeft()},t.prototype.getItem=function(){var e;return this.itemPool.length>0?((e=this.itemPool.pop()).node.setSiblingIndex(-1),e.node.active=!0,e):((e=cc.instantiate(this.serviceItem)).setParent(this.listNode),e.active=!0,e)},t.prototype.clearItem=function(){this.listNode.y=0;for(var e=0;e<this.itemList.length;e++){var t=this.itemList[e];this.recoveryItem(t)}this.itemList=[]},t.prototype.recoveryItem=function(e){e.reset(),e.node.active=!1,this.itemPool.push(e)},t}(r.default);o.default=c,cc._RF.pop()},{"../../../core/ui/ViewBase":"ViewBase","../serviver/ServicerItem":"ServicerItem","./FeedbackConstants":"FeedbackConstants","./ServicerFactory":"ServicerFactory"}],ServicerEvent:[function(e,t,o){"use strict";cc._RF.push(t,"8c4f4ATp+BPLYY3WN4ujrO+","ServicerEvent"),Object.defineProperty(o,"__esModule",{value:!0}),o.ServicerEvent=void 0;var i=function(){function e(){}return e.OnUpdateServicerView="OnUpdateServicerView",e}();o.ServicerEvent=i,cc._RF.pop()},{}],ServicerFactory:[function(e,t,o){"use strict";cc._RF.push(t,"e61abgx3lZHhoXkwQPXzH20","ServicerFactory"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./OuterServicer"),n=e("./InnerServicer"),r=function(){function e(){this.map=new Map,this.servicerDic={onlineService:i.OnlineServicer,wxService:i.WxServicer,qqService:i.QqServicer,atService:n.AtServicer}}return e.getInstance=function(){return null==e.instance&&(e.instance=new e),e.instance},e.prototype.createServicerObj=function(e){return this.createObj(this.servicerDic[e])},e.prototype.createObj=function(e){var t=null;try{t=new e}catch(o){cc.error(o)}return t},e.prototype.addEntity=function(t,o){return this.map.set(t,o),e.instance},e.prototype.getEntity=function(e){return this.map.get(e)},e.instance=null,e}();o.default=r,cc._RF.pop()},{"./InnerServicer":"InnerServicer","./OuterServicer":"OuterServicer"}],ServicerItem:[function(e,t,o){"use strict";cc._RF.push(t,"09384wBfItBP4elok4GB1xQ","ServicerItem");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../../hallcommon/model/ServicerModel"),s=e("../Feedback/FeedbackConstants"),l=cc._decorator,c=l.ccclass,p=l.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spriteList=[],t.stringList=[],t.iconSprite=null,t.iconName=null,t.servicerName=null,t.btnSpriteList=[],t.data=null,t.isOnlineServicer=!1,t.isAtServicer=!1,t.server=null,t.order=-1,t}return n(t,e),t.prototype.reset=function(){},t.prototype.onLoad=function(){if(1==this.stringList.length);else{var e=cc.find("ServicerBtn/RichText",this.node);e&&(this.btn_RichText=e.getComponent(cc.RichText)),2==this.btnSpriteList.length&&(this.btnSprite=cc.find("ServicerBtn/btnSprite",this.node).getComponent(cc.Sprite))}},t.prototype.setData2=function(e,t){this.server=t,this.order=e,this.setData(t.initServicerData()[e])},t.prototype.setData=function(e){e.type<=0||e.type>5?this.node.active=!1:(this.data=e,this.node.active=!0,1==this.spriteList.length?this.iconSprite.spriteFrame=this.spriteList[0]:this.iconSprite.spriteFrame=this.spriteList[e.type-1],1==this.stringList.length?e.name?this.iconName.string=e.name:this.iconName.string=this.stringList[0]:e.name?this.iconName.string=e.name:this.iconName.string=this.stringList[e.type-1]||"",null!=e.info&&null!=e.info&&(this.servicerName.node.active=!0,this.servicerName.string=Global.Toolkit.substrEndWithElli(e.info,12)),5==e.type?(1==this.stringList.length||(this.btn_RichText&&(this.btn_RichText.string="\u7acb\u5373\u8054\u7cfb"),this.btnSpriteList&&2==this.btnSpriteList.length&&(this.btnSprite.spriteFrame=this.btnSpriteList[1])),this.isOnlineServicer=!0,this.isAtServicer=!1):(4==e.type?this.isAtServicer=!0:this.isAtServicer=!1,1==this.stringList.length||(this.btn_RichText&&(this.btn_RichText.string="\u7acb\u5373\u8054\u7cfb"),this.btnSpriteList&&2==this.btnSpriteList.length&&(this.btnSprite.spriteFrame=this.btnSpriteList[1])),this.isOnlineServicer=!1))},t.prototype.awakeQQCallBack=function(e){0==e.result||(-1==e.result?(Logger.log("\u8bf7\u5148\u5b89\u88c5QQ"),Global.UI.showSingleBox("\u8bf7\u5148\u5b89\u88c5QQ",null)):(Logger.log("\u6253\u5f00QQ\u5931\u8d25"),Global.UI.showSingleBox("\u6253\u5f00QQ\u5931\u8d25",null)))},t.prototype.awakeWeChatCallBack=function(e){0==e.result||(-1==e.result?(Logger.log("\u8bf7\u5148\u5b89\u88c5\u5fae\u4fe1"),Global.UI.showSingleBox("\u8bf7\u5148\u5b89\u88c5\u5fae\u4fe1",null)):(Logger.log("\u6253\u5f00\u5fae\u4fe1\u5931\u8d25"),Global.UI.showSingleBox("\u6253\u5f00\u5fae\u4fe1\u5931\u8d25",null)))},t.prototype.copyTextToClipboardCallBack=function(e){0==e.result?(Global.UI.fastTip("\u590d\u5236\u6210\u529f"),this.data.type==a.PopItemType.QQ?Global.NativeEvent.awakeQQApp(this.awakeQQCallBack.bind(this)):this.data.type!=a.PopItemType.WX&&this.data.type!=a.PopItemType.WX||Global.NativeEvent.awakeWechatApp(this.awakeWeChatCallBack.bind(this))):Global.UI.fastTip("\u590d\u5236\u5931\u8d25")},t.prototype.ServicerBtnFunc=function(e,t){if(null==this.server)if(this.isOnlineServicer)cc.sys.openURL(Global.Toolkit.DealWithUrl(this.data.info));else{if(this.isAtServicer)return Global.ChatServer.serverType=a.CustomerEntranceType.HallService,t&&"proxy"==t&&!this.data.pop?void Global.ChatServer.userSetting(null,this.data.aite_url):void Global.ChatServer.userSetting(null,this.data.info);Global.NativeEvent.copyTextToClipboard(this.data.info,this.copyTextToClipboardCallBack.bind(this))}else if(this.isOnlineServicer){var o=Global.UI.getWindow("WndFeedback").getView("RightPanelView");o.changeView(s.RightViewType.feedback2);var i=o.getView("feedback2");i.server=this.server,i.order=this.order}else this.server.acceptService(this.order)},r([p([cc.SpriteFrame])],t.prototype,"spriteList",void 0),r([p([cc.String])],t.prototype,"stringList",void 0),r([p(cc.Sprite)],t.prototype,"iconSprite",void 0),r([p(cc.Label)],t.prototype,"iconName",void 0),r([p(cc.Label)],t.prototype,"servicerName",void 0),r([p([cc.SpriteFrame])],t.prototype,"btnSpriteList",void 0),r([c],t)}(cc.Component);o.default=h,cc._RF.pop()},{"../../../hallcommon/model/ServicerModel":"ServicerModel","../Feedback/FeedbackConstants":"FeedbackConstants"}],ServicerModel:[function(e,t,o){"use strict";cc._RF.push(t,"d7793w6KrNJLa/JTnF9pAPs","ServicerModel");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.PopItemType=o.ServiceType=o.CustomerEntranceType=void 0;var r,a,s,l=e("../../../framework/model/ModelBase");(function(e){e[e.QuickPayService=101]="QuickPayService",e[e.LoginService=1e4]="LoginService",e[e.SpreadService=10001]="SpreadService",e[e.HallService=10002]="HallService"})(r=o.CustomerEntranceType||(o.CustomerEntranceType={})),function(e){e[e.BigPop=1]="BigPop",e[e.AtWnd=2]="AtWnd",e[e.Link=3]="Link",e[e.Pop=4]="Pop",e[e.AtLink=5]="AtLink"}(a=o.ServiceType||(o.ServiceType={})),function(e){e[e.WX=1]="WX",e[e.QQ=2]="QQ",e[e.WXPUBLIC=3]="WXPUBLIC",e[e.AtWnd=4]="AtWnd",e[e.Link=5]="Link",e[e.AtLink=6]="AtLink"}(s=o.PopItemType||(o.PopItemType={}));var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.serviceMap={},t.customerData=null,t}return n(t,e),Object.defineProperty(t.prototype,"Name",{get:function(){return"ServicerModel"},enumerable:!1,configurable:!0}),t.prototype.initData=function(e){if(null!=e){this.customerData=e,this.serviceMap={};for(var t=0;t<e.length;t++){var o=e[t].key;null==o&&(Logger.error("info_type == null",t),o=0),this.serviceMap[o]=e[t]}}else Logger.error("servicerDatas  == null ")},t.prototype.getServices=function(e){return this.serviceMap&&this.serviceMap[e]?this.serviceMap[e]:null},t.prototype.getServiceInfo=function(e){var t=this.getServices(e);if(!t)return null;var o={};switch(e){case r.SpreadService:switch(o.arr=[],o.show_img=t.show_img,o.status=t.status,t.type){case a.AtLink:var i={};i.url=Global.Toolkit.AssembyUrl(t.aite_web_url),i.data=Global.Toolkit.AssembyUrl(t.aite_web_url),i.msg="\u63a8\u5e7f\u5ba2\u670d",i.type=s.AtLink,o.arr.push(i);break;case a.AtWnd:var n={};n.url=t.aite_url,n.data=t.aite_url,n.msg="\u63a8\u5e7f\u5ba2\u670d",n.type=s.AtWnd,o.arr.push(n);break;case a.Link:var l={};l.url=t.url,l.data=t.url,l.msg="\u63a8\u5e7f\u5ba2\u670d",l.type=s.Link,o.arr.push(l);break;case a.Pop:var c=t.windows;if(0!==c.length)for(var p=0;p<c.length;p++){var h=c[p],u={};u.type=h.type,u.msg=h.msg,u.data=h.data,h.type===s.AtLink&&(u.data=Global.Toolkit.AssembyUrl(h.data)),o.arr.push(u)}}break;case r.HallService:case r.LoginService:o=t}return o},t.prototype.enterCustomerService=function(e){var t=e,o=this.getServices(e);if(o){var i="";switch(o.type){case a.Link:if(i=o.url){var n=[{param:"memberName",value:Global.PlayerData.nickname},{param:"memberId",value:Global.PlayerData.uid}];i=Global.UrlUtil.replaceUrlParam(i,n),cc.sys.openURL(Global.Toolkit.DealWithUrl(i))}break;case a.AtLink:(i=o.aite_web_url)&&(i=Global.Toolkit.AssembyUrl(i),cc.sys.openURL(Global.Toolkit.DealWithUrl(i)));break;case a.AtWnd:Global.ChatServer.serverType=t,Global.ChatServer.userSetting(null,o.aite_url);break;case a.Pop:var r=[],l=o.windows;if(!l||0==l.length)return void Global.UI.fastTip("\u5ba2\u670d\u6b63\u5728\u52a0\u901f\u8d76\u6765\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5");for(var c=0;c<l.length;c++)if(0!=l[c].type){var p={},h=l[c].type;p.type=h,p.data=l[c].data,h===s.AtLink&&(p.data=Global.Toolkit.AssembyUrl(l[c].data)),r.push(p)}Global.UI.show("WndServicerUI",r);break;case a.BigPop:var u=o.page_sign;if(!u||0==u.length)return void Global.UI.fastTip("\u5ba2\u670d\u6b63\u5728\u52a0\u901f\u8d76\u6765\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5");for(var d=0;d<u.length;d++){var f=u[d];if(f){var g=f.windows||[];for(c=0;c<g.length;c++){var m=g[c];m.type===s.AtLink&&(m.data=Global.Toolkit.AssembyUrl(m.data))}}}Global.UI.show("WndFeedback",u)}}else Global.UI.fastTip("\u5ba2\u670d\u6b63\u5728\u52a0\u901f\u8d76\u6765\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")},t}(l.default);o.default=c,cc._RF.pop()},{"../../../framework/model/ModelBase":"ModelBase"}],ServicerModule:[function(e,t,o){"use strict";cc._RF.push(t,"47209B/KyVKFJzpA5dpsk6U","ServicerModule");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.viewClass="WndServicerUI",t.modelClass="ServicerModel",t.resPaths=[],t.prefabPaths=["hall/prefabs/ui/ServiceUI"],t.children=[],t}return n(t,e),t}(e("../../../framework/module/ModuleBase").ModuleBase);o.default=r,cc._RF.pop()},{"../../../framework/module/ModuleBase":"ModuleBase"}],SessionHandler:[function(e,t,o){"use strict";cc._RF.push(t,"8a63aA7S6hJyqu9HF/3grwK","SessionHandler"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function e(){}return e.prototype.Handle=function(e){Game.Context.selfSrc=e._src,Game.Context.session=e._para,Game.Control.setSession(e),Global.HallServer.setSession(e),Game.Control.stopCheckMsgTimer(),Game.Control.curGid!=e._para._gid&&(Logger.error("Game.Control.curGid  !== session._para._gid"),Game.Event.event(Game.EVENT_FORCE_LEAVE_GAME))},e.prototype.checkInQueue=function(){return!1},e}();o.default=i,cc._RF.pop()},{}],SettingData:[function(e,t,o){"use strict";cc._RF.push(t,"74682f05n9PhZZ2r45dmzpW","SettingData");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(e("../../../framework/setting/BaseSettingData").default);o.default=r,cc._RF.pop()},{"../../../framework/setting/BaseSettingData":"BaseSettingData"}],SettingLayerView:[function(e,t,o){"use strict";cc._RF.push(t,"2502a4qM+lAG4CucOUqhA40","SettingLayerView");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/ui/ViewBase"),a=e("../hall/views/HallBtnHelper"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.versionLbl=null,t.musicNodeArr=[],t.soundNodeArr=[],t}return n(t,e),t.prototype.initView=function(){var e=this.addCommonClick("musicSwitch",this.onMusicSwitch,this),t=this.addCommonClick("audioSwitch",this.onAudioSwitch,this);this.officalUrlText=this.getComponent("officalNode/url",cc.Label),this.addCommonClick("officalNode/btn",this.onBackUpGameBtn,this),this.musicNodeArr[0]=cc.find("control_shut",e),this.musicNodeArr[1]=cc.find("control_open",e),this.soundNodeArr[0]=cc.find("control_shut",t),this.soundNodeArr[1]=cc.find("control_open",t),this.versionLbl=this.getComponent("versionLbl",cc.Label);var o=Global.HotUpdateManager.nativeVersions.hall;this.setVersionLblText(o),this.initOfficalUrl()},t.prototype.onSubViewShow=function(){this.UpdateUI(),this.setVersionLblText()},t.prototype.UpdateUI=function(){var e=Global.Setting.settingData.musicEnable,t=Global.Setting.settingData.soundEnable;this.musicNodeArr[0].active=!e,this.musicNodeArr[1].active=e,this.soundNodeArr[0].active=!t,this.soundNodeArr[1].active=t},t.prototype.onBackUpGameBtn=function(){a.default.WndBackUpOpen()},t.prototype.setVersionLblText=function(){this.versionLbl.string="\u7248\u672c\u53f7:"+Global.Toolkit.genAppInfo()+"\u2022"+Global.PlayerData.merge_type},t.prototype.initOfficalUrl=function(){var e=Global.Setting.Urls.downLoadUrl.split("//"),t=e[e.length-1].split("/")[0];this.officalUrlText.string=t},t.prototype.onMusicSwitch=function(){var e=Global.Setting.settingData.musicEnable;Global.Audio.setMusicEnable(!e),this.UpdateUI()},t.prototype.onAudioSwitch=function(){var e=Global.Setting.settingData.soundEnable;Global.Audio.setSoundEnable(!e),this.UpdateUI()},t}(r.default);o.default=s,cc._RF.pop()},{"../../../core/ui/ViewBase":"ViewBase","../hall/views/HallBtnHelper":"HallBtnHelper"}],Setting:[function(e,t,o){"use strict";cc._RF.push(t,"6a5430cKD1HC42D/a8rF8gR","Setting");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.ServerType=void 0;var r=e("./Urls"),a=e("../../../framework/setting/BaseSetting"),s=e("./SettingData"),l=e("./SystemInfo"),c=e("./ChannelInfo"),p=e("../../hallcommon/const/HallStorageKey"),h=e("../tool/AppHelper"),u=e("../../hallcommon/app/SkinConfig");(function(e){e[e.DEVELOP=1]="DEVELOP",e[e.INTEST=2]="INTEST",e[e.RELEASE=3]="RELEASE",e[e.K8S=4]="K8S",e[e.THS=5]="THS",e[e.THSINTEST=6]="THSINTEST"})(o.ServerType||(o.ServerType={}));var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.AppConfig={},t.rechargeLimited=!1,t.vistorLoginLimited=!1,t.registLimited=!1,t.isStartHotUpdate=!0,t.FPSConfig=30,t.HallFPSConfig=60,t.appId=0,t.checkVersionApp=0,t.headNameRange=20,t.glodRatio=1e4,t.fixCount=2,t.enableAutoLogin=!0,t.backgroundReconnectTime=5,t.boardcastCount=2,t.socketReconnectTimes=5,t.socketReconnectInterval=4,t.socketReconnectReceiveCheckInteval=10,t.enterTimeout=5,t.needHallChooseRoom=!1,t.wxFirendShareTitle="588\u68cb\u724c",t.wxFirendShareContent="\u6211\u6b63\u5728\u73a9588\u68cb\u724c\uff0c\u767b\u5f55\u9001\u793c\uff0c\u5927\u5956\u4e0d\u505c\uff0c\u5feb\u6765\u966a\u6211\u4e00\u8d77\u5a31\u4e50\u5427\uff01",t.wxIconUrl="https://res.qqlql.com/icons/588.png",t.wxMomentShareTitle="588\u68cb\u724c",t.wxMomentShareContent="",t.shareUrl="http://1m142.cn",t.signKey="",t.spreadWx="yyoop12a",t.WX_APP_ID="wx20f5eb186bcb0b5a",t.spreadQQ="156381867",t.aiteAppKey="bfe1a232-c751-4fdf-b1c5-67c20bcdefbb",t.aite_url="",t.loginAite_url="",t.dataUrlIndex=0,t.cachedGameItemCount=8,t.vipDisable=!1,t.hallBGM="hall/sound/dtBGM1",t.serverWxMd5="",t.serverAndroidIdMd5="",t.serverIOSIdMd5="",t.serverIOSCertMd5="",t.useHttpDNS=!0,t.dataUrlsList=[],t.logEnable=!1,t.ispersonalTax=!1,t.weixinLoginDisable=!1,t.phoneVerifyCodeInterval=60,t.appDataPlatformId=0,t.isAppStoreEnableWXSDK=!1,t.alipayReportPackageName="",t.WangsuDNS=[],t.loginKeFuType=0,t.resServerUrl="",t.isCloseMegeServer=!1,t.alioss_endpoint="https://oss-cn-hongkong.aliyuncs.com",t.alioss_file_url="https://aiteoss.oss-cn-hongkong.aliyuncs.com/",t.alioss_bucket="aite-hk",t}return n(t,e),t.prototype.setup=function(){this.Urls=new r.default,this.settingData=new s.default,this.settingData.setup(this.storage),this.SystemInfo=new l.default,this.ChannelInfo=new c.default,this.ChannelInfo.setup(),this.SkinConfig=new u.default,this.SkinConfig.setup()},t.prototype.parseCheckVersionCfg=function(e){if(e.app&&(this.serverWxMd5=e.app.wx_sum,this.serverIOSIdMd5=e.app.ios_sum,this.serverAndroidIdMd5=e.app.and_sum,this.serverIOSCertMd5=e.app.ios_cert),e.custom){var t=e.custom.new_login_kefu;if(t&&null!=t.type&&null!=t.type){var o=t.type;this.loginKeFuType=o,4==o&&(this.loginAite_url=t.aite_url,this.aite_url=t.aite_url),Global.ModelManager.getModel("ServicerModel").initData([t])}t&&t.url&&""!=t.url&&t.url.indexOf("http")>-1&&(this.Urls.onlineService=t.url)}e.data_hosts&&e.data_hosts.length&&e.data_hosts.length>0&&this.recordDataUrls(e.data_hosts)},t.prototype.parseServerInfo=function(e){this.AppConfig=e,this.parseNormalData(e),this.parseMaJiaBaoData(e)},t.prototype.parseNormalData=function(e){var t=e.version;t&&(Global.HotUpdateManager.hallNewVersion=t),e.isCloseMegeServer&&(this.isCloseMegeServer=1==e.isCloseMegeServer),e.clearStorage&&1==e.clearStorage&&(Logger.error("clearStorage true"),this.storage.removeKey(p.default.LoginRoutes),this.storage.removeKey(p.default.Token),this.storage.removeKey(p.default.AppID),this.storage.removeKey(p.default.DATAURLS)),this.Urls.parse(e);var o=e.appid;Global.Setting.appId=o,this.saveAppId(e.appid);var i=e.sign_key;if(i&&(this.signKey=i,this.SystemInfo.loginSign=Global.UrlUtil.getPlatformSign("["+this.SystemInfo.deviceId+"]",i)),1==e.vipDisable&&(this.vipDisable=!0),e.useHttpDNS&&(this.useHttpDNS=1==e.useHttpDNS),e.dataUrls&&this.recordDataUrls(e.dataUrls),e.personalTax?this.ispersonalTax=1==e.personalTax:this.ispersonalTax=!1,e.logEnable?this.logEnable=1==e.logEnable:this.logEnable=!1,e.alipayPkg&&(this.alipayReportPackageName=e.alipayPkg),e.WangsuDNS&&e.WangsuDNS.length>0&&(this.WangsuDNS=e.WangsuDNS),e.DunConfig&&Global.AppDun.setDunConfig(e.DunConfig),e.whiteHosts){var n=JSON.stringify(e.whiteHosts);Global.NativeEvent.setWhiteHosts(n)}"8003"==this.SystemInfo.appID?h.default.enableForceUpdateAppInstall&&(e.weixinLoginDisable?this.weixinLoginDisable=1==e.weixinLoginDisable:this.weixinLoginDisable=!1):e.weixinLoginDisable?this.weixinLoginDisable=1==e.weixinLoginDisable:this.weixinLoginDisable=!1,e.platform_id&&(this.appDataPlatformId=e.platform_id),e.reportUrls&&e.reportUrls.length>0&&Global.Setting.storage.set(p.default.ReportUrl,JSON.stringify(e.reportUrls)),e.DNSConfig&&Global.DNS.setDNSConfg(e.DNSConfig),e.rechargeLimited&&(this.rechargeLimited=1==e.rechargeLimited),e.vistorLoginLimited&&(this.vistorLoginLimited=1==e.vistorLoginLimited),e.registLimited&&(this.registLimited=1==e.registLimited),Logger.logEnable=this.logEnable,Global.NativeEvent.nativeLog(Logger.logEnable);var r=e.channelid;this.setChannelID(r)},t.prototype.setChannelID=function(e){null==e||isNaN(Number(e))||(this.ChannelInfo.configChannel=e)},t.prototype.parseMaJiaBaoData=function(e){this.parseAppStoreData(e);var t=this.SystemInfo.nativePlatform;if(null!=t&&t.length>1){var o=e.majiabao;if(null!=o&&null!=o){var i=o[t];if(null!=i&&null!=i){var n=i.svrCfg;null!=n&&null!=n&&this.parseNormalData(n)}}}},t.prototype.parseAppStoreData=function(e){if(e.appstore){var t=e.appstore;if(t&&t.enableWXSDK&&t.enableWXSDK.length>0)for(var o=Global.Setting.SystemInfo.bundleName,i=0;i<t.enableWXSDK.length;i++)if(t.enableWXSDK[i]===o){this.isAppStoreEnableWXSDK=!0;break}}},t.prototype.recordDataUrls=function(e){e&&e.length>0&&this.storage.setObject(p.default.DATAURLS,e)},t.prototype.loadDataUrls=function(){var e=this.storage.getObject(p.default.DATAURLS);return null==e||0==e.length?null:e=Global.UrlUtil.dealFullUrlWithMutiLinesSameHost(e)},t.prototype.getConstUrlDataName=function(){var e=Global.Setting.SystemInfo.appID,t=Global.Setting.SystemInfo.subPlatformID;return null!=e&&""!=e?null!=t&&""!=t?e+"_"+t:e:function(){var e="";Global.Setting.SystemInfo.appConstUrl&&(e=Global.Setting.SystemInfo.appConstUrl);var t=e.split("/");return t[t.length-1]}()},t.prototype.saveAppId=function(e){var t=this.storage.getNumber(p.default.AppID,-1);-1!=t&&t!=e&&cc.sys.isNative&&(Logger.error("appid \u53d8\u5316 \u4e0d\u6e05\u7406\u7f13\u5b58"),Global.UI.clearAllUIPrefab(),this.isCloseMegeServer?(Logger.error("appid \u53d8\u5316 \u91cd\u542f"),Global.NativeEvent.unzipHallPackage()):Logger.error("appid \u53d8\u5316 \u5408\u670d\u4e0d\u91cd\u542f"),setTimeout(function(){cc.game.restart()},1e3)),Global.Setting.storage.set(p.default.AppID,Global.Setting.appId)},t.prototype.getCfgDataName=function(){return this.Urls.getDataNameWithServerType(this.serverType)},t.prototype.getDataHttpDnsArr=function(){var e=[];if(!this.dataUrlsList||0==this.dataUrlsList.length)return e;for(var t=0;t<this.dataUrlsList.length;t++){var o=this.getDomain(this.dataUrlsList[t]);o&&""!=o&&e.push(o)}return e},t.prototype.getDomain=function(e){if(!e)return"";var t=e.split("//");return t.length<2?"":t[1].split("/")[0]},t.prototype.isBaiduSpecialState=function(){return!1},t.prototype.isCircleHeadImage=function(){return 1==this.SkinConfig.headImgShape},t.sendSharetraceReportFlag="sendSharetraceReportFlag",t}(a.default);o.default=d,cc._RF.pop()},{"../../../framework/setting/BaseSetting":"BaseSetting","../../hallcommon/app/SkinConfig":"SkinConfig","../../hallcommon/const/HallStorageKey":"HallStorageKey","../tool/AppHelper":"AppHelper","./ChannelInfo":"ChannelInfo","./SettingData":"SettingData","./SystemInfo":"SystemInfo","./Urls":"Urls"}],ShareModel:[function(e,t,o){"use strict";cc._RF.push(t,"e42fbK1tkVKoqtE6H5zJkMp","ShareModel");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._ShareMoney=0,t}return n(t,e),Object.defineProperty(t.prototype,"ShareMoney",{get:function(){return this._ShareMoney},set:function(e){this._ShareMoney=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Name",{get:function(){return"ShareModel"},enumerable:!1,configurable:!0}),t.prototype.initData=function(e){this.ShareMoney=e},t}(e("../../../framework/model/ModelBase").default);o.default=r,cc._RF.pop()},{"../../../framework/model/ModelBase":"ModelBase"}],ShareModule:[function(e,t,o){"use strict";cc._RF.push(t,"5228d/scp5Bxbum0NTPboXV","ShareModule");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.viewClass="WndShare",t.modelClass="ShareModel",t.resPaths=[],t.prefabPaths=[""],t.children=[],t}return n(t,e),t}(e("../../../framework/module/ModuleBase").ModuleBase);o.default=r,cc._RF.pop()},{"../../../framework/module/ModuleBase":"ModuleBase"}],SignActivityModel:[function(e,t,o){"use strict";cc._RF.push(t,"afa2fawGchEOKZzKi2GKisd","SignActivityModel");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../framework/model/ModelBase"),a=e("../../hall/ui/Activity/ActivityConstants"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._redFlag=!1,t.actData=null,t}return n(t,e),Object.defineProperty(t.prototype,"Name",{get:function(){return"SignActivityModel"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"redSwitch",{get:function(){return this._redFlag},set:function(e){this._redFlag=e},enumerable:!1,configurable:!0}),t.prototype.onInit=function(){},t.prototype.reqReceiveActivityAward=function(e,o){var i=this,n={};n.atype=e,n.key=o,Global.HallServer.send(NetAppface.mod,NetAppface.ReceiveActivityAward,n,function(e){i.event(t.OnGetAward,e)},null,!0,0)},t.prototype.reqGetActivityCfg=function(e){var o=this;void 0===e&&(e=!1),Global.Event.event(GlobalEvent.SHOW_NET_WAITING,"reqGetActivityCfg"),Global.HallServer.send(NetAppface.mod,NetAppface.GetActivityCfg,{},function(e){for(var i=e.data,n=0;n<i.length;n++){var r=i[n];if(r&&r.atype==a.RightViewType.signActivity){o.actData=r.cfg;break}}o.event(t.UpdataPanel,o.actData)},null,e,0)},t.prototype.checkFlowStatusFinish=function(){if(!this.actData)return this.redSwitch=!1,!1;var e=this.actData.day;if(4==e)return!0;for(var t=0;t<this.actData.list.length;t++){var o=this.actData.list[t];switch(e){case 1:if(0===o.one.flow_status)return this.redSwitch=!1,!1;break;case 2:if(0===o.two.flow_status)return this.redSwitch=!1,!1;break;case 3:if(0===o.three.flow_status)return this.redSwitch=!1,!1}}return this.redSwitch=1==this.actData.status,1==this.actData.status},t.UpdataPanel="UpdataPanel",t.OnGetAward="OnGetAward",t}(r.default);o.default=s,cc._RF.pop()},{"../../../framework/model/ModelBase":"ModelBase","../../hall/ui/Activity/ActivityConstants":"ActivityConstants"}],SkinConfig:[function(e,t,o){"use strict";cc._RF.push(t,"b569b5Ub31LtoJmrQoPlRVg","SkinConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.SkinType=void 0;var i,n=e("../modulecfg/GreenSkinModuleCfg"),r=e("../modulecfg/BlueSkinModuleCfg"),a=e("../../hall/AppCfg"),s=e("../modulecfg/PurpleSkinModuleCfg"),l=e("../modulecfg/DarkSkinModuleCfg"),c=e("../modulecfg/RedSkinModuleCfg"),p=e("../modulecfg/FantasySkinModuleCfg"),h=e("../modulecfg/LegendSkinModuleCfg"),u=e("../modulecfg/NewBlueSkinModuleCfg");(function(e){e[e.purple=1]="purple",e[e.dark=2]="dark",e[e.red=3]="red",e[e.blue=4]="blue",e[e.fantasy=5]="fantasy",e[e.green=6]="green",e[e.legend=7]="legend",e[e.darkgold=8]="darkgold",e[e.blue2=9]="blue2",e[e.newBlue=10]="newBlue"})(i=o.SkinType||(o.SkinType={}));var d=function(){function e(){this.configPath="hall/config/skinConfig",this.loadedFinish=!1,this.skinType=i.fantasy,this.loadingTips=null,this.headImgShape=0,this.isTaskClosed=0,this.hallGameListOffsetX=17,this.hallGameListVerticalOffsetY=0,this.moreGameBtnPositionY=0,this.commisionCfg=[],this.mySpreadOrgChgPosYs=[],this.zhuanpanColors=[],this.zhuangbanHeadWH=[],this.zhuangbanKuangWH=[],this.recordingItemColors=[],this.rechargeFanliPos=[],this.hallGameListTagOffsetX=[],this.dailyRechargeFontColorAndSize=[],this.rechangeOverseasBankInfoCfg={},this.rechangeUnionpayBankInfoCfg={},this.rechargeIconsCfg={},this.hallPmdPoolLen={},this.rechargeVipConfig={},this.requireList=[],this.requireAtlasList=[],this.requireGameIconList=[],this.maintainGameColorAndSize=[],this.infoSinerColors=[],this.skinModule=null}return Object.defineProperty(e.prototype,"appPicConfig",{get:function(){return this._appPicConfig},set:function(e){this._appPicConfig=e},enumerable:!1,configurable:!0}),e.prototype.setup=function(){var e=this;cc.loader.loadRes(this.configPath,function(t,o){null==t?(e.parseConfig(o.json),e.loadedFinish=!0,Global.Event.event(GlobalEvent.SkinConfigLoadFinish)):cc.error("\u52a0\u8f7dskinConfig\u5931\u8d25\uff01\uff01\uff01\uff01\uff01")})},e.prototype.getSpaceOffset=function(){var e=Global.customApp.getHallBundleName();return this.hallGameListOffsetX?this.hallGameListOffsetX[e]:[17,70]},e.prototype.getHallGameListTagOffsetX=function(){var e=Global.customApp.getHallBundleName();return this.hallGameListTagOffsetX?this.hallGameListTagOffsetX[e]:[105,37]},e.prototype.getHallGameListLine=function(){var e=Global.customApp.getHallBundleName();return this.hallGameListLineCfg?this.hallGameListLineCfg[e]:3},e.prototype.getHallGameListGap=function(e){var t=Global.customApp.getHallBundleName();return this.hallGameListGapCfg?this.hallGameListGapCfg[t][e]:3},e.prototype.getPaomadengPoolLen=function(){var e=Global.customApp.getHallBundleName();return this.hallPmdPoolLen?this.hallPmdPoolLen[e]:3},e.prototype.getHallWidgetCfg=function(){var e=Global.customApp.getHallBundleName();return this.hallWidgetCfg?this.hallWidgetCfg[e]:this.hallWidgetCfg},e.prototype.parseConfig=function(e){this.skinType=e.skinType,this.loadingTips=e.loadingTips,this.headImgShape=e.headImgShape,this.isTaskClosed=e.taskClosed,TaskManager.setTaskEnable(0==this.isTaskClosed),this.hallGameListOffsetX=e.hallGameListOffsetX,this.moreGameBtnPositionY=e.moreGameBtnPositionY,this.commisionCfg=e.commisionCfg,this.playerInfoAtlasPath=e.playerInfoAtlasPath,this.mySpreadOrgChgPosYs=e.mySpreadOrgChgPosYs,this.zhuanpanColors=e.zhuanpanColors,this.zhuangbanHeadWH=e.zhuangbanHeadWH,this.zhuangbanKuangWH=e.zhuangbanKuangWH,this.recordingItemColors=e.recordingItemColors,this.rechargeFanliPos=e.rechargeFanliPos,this.rechargeIconsCfg=e.rechargeIconsCfg,this.rechargeVipConfig=e.rechargeVipConfig,this.requireList=e.requireList,this.requireAtlasList=e.requireAtlasList,this.requireGameIconList=e.requireGameIconList,this.maintainGameColorAndSize=e.maintainGameColorAndSize,Global.Setting.needHallChooseRoom=e.needHallChooseRoom,this.dailyRechargeFontColorAndSize=e.dailyRechargeFontColorAndSize,this.rechangeOverseasBankInfoCfg=e.rechangeOverseasBankInfoCfg,this.rechangeUnionpayBankInfoCfg=e.rechangeUnionpayBankInfoCfg,this.hallPmdPoolLen=e.hallPmdPoolLen,this.hallWidgetCfg=e.hallWidgetCfg,this.hallGameListTagOffsetX=e.hallGameListTagOffsetX,this.hallGameListGapCfg=e.hallGameListGapCfg,this.hallGameListLineCfg=e.hallGameListLineCfg,this.infoSinerColors=e.infoSinerColors,Global.GameData.setGameIconResCfg(e.subGameResCfg)},Object.defineProperty(e.prototype,"isRed",{get:function(){return this.skinType==i.red},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPurple",{get:function(){return this.skinType==i.purple},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isBlue",{get:function(){return this.skinType==i.blue},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isFantasy",{get:function(){return this.skinType==i.fantasy},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDark",{get:function(){return this.skinType==i.dark},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isGreen",{get:function(){return this.skinType==i.green},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLegend",{get:function(){return this.skinType==i.legend},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDarkgold",{get:function(){return this.skinType==i.darkgold},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isBlue2",{get:function(){return this.skinType==i.blue2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"moduleCfg",{get:function(){var e=this.curSkinMoudle,t=null;return e&&(t=e.cfg),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"curSkinMoudle",{get:function(){if(this.skinModule)return this.skinModule;var e=null;switch(a.default.SKIN_TYPE){case i.green:e=new n.default;break;case i.blue:e=new r.default;break;case i.purple:e=new s.default;break;case i.dark:e=new l.default;break;case i.red:e=new c.default;break;case i.fantasy:e=new p.default;break;case i.legend:e=new h.default;break;case i.darkgold:e=new l.default;break;case i.blue2:e=new r.default;break;case i.newBlue:e=new u.default}return this.skinModule=e,e},enumerable:!1,configurable:!0}),e}();o.default=d,cc._RF.pop()},{"../../hall/AppCfg":"AppCfg","../modulecfg/BlueSkinModuleCfg":"BlueSkinModuleCfg","../modulecfg/DarkSkinModuleCfg":"DarkSkinModuleCfg","../modulecfg/FantasySkinModuleCfg":"FantasySkinModuleCfg","../modulecfg/GreenSkinModuleCfg":"GreenSkinModuleCfg","../modulecfg/LegendSkinModuleCfg":"LegendSkinModuleCfg","../modulecfg/NewBlueSkinModuleCfg":"NewBlueSkinModuleCfg","../modulecfg/PurpleSkinModuleCfg":"PurpleSkinModuleCfg","../modulecfg/RedSkinModuleCfg":"RedSkinModuleCfg"}],SocketHelper:[function(e,t,o){"use strict";cc._RF.push(t,"ed934572DFI/rMomYSa5ATQ","SocketHelper");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../GameServer"),a=e("../../../../framework/net/socket/NetSocket"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.msgList=[],t.bufferList=[],t.mod="",t.suffix="",t._sendCount=0,t}return n(t,e),t.prototype.onInit=function(){this.server.on(r.default.Event_GameSocketCallReconnect,this,this.callReconnect)},t.prototype.callReconnect=function(){if(this.msgList=[],Global.Setting.Urls.gameRoutes){Global.Setting.Urls.gameRoutes.changeToAnotherRoute();var e=Global.Setting.Urls.gameRoutes.getCurRoute();if(null==e&&(Global.Setting.Urls.hallRoutes&&(Global.Setting.Urls.hallRoutes.changeToAnotherRoute(),Logger.error("change socket url")),e=Global.Setting.Urls.hallRoutes.getCurRoute()),null!=e){var t=e.getPbSocketUrl(this.mod);t.suffix=t.suffix+this.suffix,this.url=Global.UrlUtil.dealWebSocketUrl(t),this.cerPath=t.cerPath,this.serverRoute=e}Logger.error("change socket url")}this.connect(this.url,this.serverRoute,this.socket.usePb,this.mod,this.suffix,this.cerPath)},t.prototype.connect=function(e,t,o,i,n,s){void 0===o&&(o=!1),void 0===i&&(i=""),void 0===n&&(n=""),void 0===s&&(s=""),e&&""!=e&&(this.mod=i,this.suffix=n,this.serverRoute=t,this.clear(),this.url=e,this.cerPath=s,this.socket=new a.NetSocket(e,t,s),this.socket.init(this,this.onSocketMsg,this.onSocketOpen,this.onSocketError,this.onSocketClose,o),this.socket.connect(),this.server.event(r.default.Event_GameSocketStartConnect),Logger.log("connect url:",e))},t.prototype.send=function(e,t){if(void 0===t&&(t=!1),this.socket&&this.socket.isConnected){this._sendCount++,e.c=this._sendCount;var o=JSON.stringify(e),i=o;this.url&&0==this.url.startsWith("wss")&&o&&(i=Global.AESUtil.aesEncrptMsg(o)),this.socket.send(i)}},t.prototype.sendBuffer=function(e,t,o){void 0===o&&(o=!1);var i=t?t.length:0;i+=4;var n=ByteBuffer.allocate(i,!1,!1);if(n.writeUint32(e,0),t&&n.append(t,4),null==this.socket||!this.socket.isConnected&&!o)return Logger.error("push buffer in queue"),void this.bufferList.push(n);this.socket&&this.socket.isConnected&&(this.socket.send(n.buffer),n.clear())},t.prototype.sendBufferDirect=function(e){this.socket.send(e.buffer),e.clear()},t.prototype.clear=function(){if(this.socket){for(var e=0;e<this.msgList.length;e++)this.send(this.msgList[e],!0);for(e=0;e<this.bufferList.length;e++)this.sendBufferDirect(this.bufferList[e]);this.socket.cleanSocket(),this.socket=null}this.msgList=[],this.bufferList=[],this._sendCount=0},t.prototype.onSocketOpen=function(){Logger.log("socket open:",this.url),this.server.event(r.default.Event_GameSocketOpen),Game.Event.event(Game.EVENT_SOCKET_OPEN),Global.Setting.Urls.sortGameRoutes();var e=this.getServerUrl();e&&Global.ReportTool.markSocketSuccess(e,0)},t.prototype.getServerUrl=function(){if(Global.Setting.Urls.gameRoutes){var e=Global.Setting.Urls.gameRoutes.getCurRoute();if(null==e&&(e=Global.Setting.Urls.hallRoutes.getCurRoute()),e){var t=e.getPbSocketUrl(this.mod);if(t)return t}}return null},t.prototype.onSocketMsg=function(e){"string"==typeof e?this.handleStringMsg(e):this.handlePbMsg(e)},t.prototype.handleStringMsg=function(e){var t=null;try{var o=Global.AESUtil.decodeMsg(e);t=JSON.parse(o)}catch(i){return void Logger.error("\u89e3\u6790\u534f\u8bae\u5931\u8d25",e,i)}t._param&&t._param._cmd!=Game.Command.HeartBeat&&Logger.log("SocketMsg:",e),this.server.event(r.default.Event_GameSocketMsg,t)},t.prototype.handlePbMsg=function(e){var t=new Uint8Array(e),o=ByteBuffer.wrap(t.slice(0,4),!1).readUint32(0),i=t.slice(4);o="*game*_"+o,this.server.event(r.default.Event_GamePBSocketMsg,o,i)},t.prototype.onSocketClose=function(){this.server.event(r.default.Event_GameSocketClose),Game.Event.event(Game.EVENT_SOCKET_CLOSE)},t.prototype.onSocketError=function(){var e=this.getServerUrl();e&&Global.ReportTool.markSocketFailed(e,-1),this.server.event(r.default.Event_GameSocketClose),Game.Event.event(Game.EVENT_SOCKET_ERROR),Game.Event.event(Game.EVENT_CALL_RECONNECT)},t.prototype.onUpdate=function(){if(this.socket&&this.socket.isConnected&&this.msgList.length>0){for(var e=0;e<this.msgList.length;e++)this.socket.send(this.msgList[e]);this.msgList=[]}},t}(e("./BaseServerHelper").default);o.default=s,cc._RF.pop()},{"../../../../framework/net/socket/NetSocket":"NetSocket","../GameServer":"GameServer","./BaseServerHelper":"BaseServerHelper"}],SpreadEvent:[function(e,t,o){"use strict";cc._RF.push(t,"6327bN4hpdLbowusnyyg7R2","SpreadEvent"),Object.defineProperty(o,"__esModule",{value:!0}),o.SpreadEvent=void 0;var i=function(){function e(){}return e.GetAgentShare="GetAgentShare",e.GetAgentCommi="GetAgentCommi",e.MsgListCallback="MsgListCallback",e.GetSelfReadRecord="GetSelfReadRecord",e.GetSelfRead="GetSelfRead",e.BindSucceed="BindSucceed",e.RefreshShortUrl="RefreshShortUrl",e.GetDayAgentShare="GetDayAgentShare",e.GetDayAgentRecord="GetDayAgentRecord",e.GetDayAgent="GetDayAgent",e.GetUserShareUrl="GetUserShareUrl",e.GetDayAgentCommi="GetDayAgentCommi",e}();o.SpreadEvent=i,cc._RF.pop()},{}],SpreadGiftActivityView:[function(e,t,o){"use strict";cc._RF.push(t,"f9d46nLm+NIb6z7jyBw26rY","SpreadGiftActivityView");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.RedPackState=void 0;var r,a=e("../../../../core/component/YXButton"),s=e("../../../../core/ui/ViewBase"),l=e("../../../../hallcommon/model/RechargeGiftModel"),c=e("../ActivityConstants"),p=e("./SpreadGiftItemView"),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.achieveIndex=-1,t}return n(t,e),t.prototype.initView=function(){this.model=Global.ModelManager.getModel("RechargeGiftModel"),this.model.on(l.default.GetAward,this,this.onGetAward),this.model.on(l.default.GetCfg,this,this.onGetConfig),this.personLabel=this.getComponent("count",cc.RichText),this.monthAwardLabel=this.getComponent("monthAward",cc.Label),this.rechargePointLabel=this.getComponent("rechargePoint",cc.Label);for(var e=0;e<7;e++)this.addCommonClick(cc.js.formatStr("sco/view/awardPanel/redPack_%s",e),this.onAwardBtnClicked,this);this.sc0Node=this.getComponent("sco",cc.ScrollView),this.addCommonClick("sco/clickLeft",this.onClickLeftSco,this),this.addCommonClick("sco/clickReight",this.onClickReightSco,this),this.clickLeft=this.getChild("sco/clickLeft"),this.clickReight=this.getChild("sco/clickReight"),this.sc0Node.node.on("scroll-to-left",this.onClickLeftSco,this),this.sc0Node.node.on("scroll-to-right",this.onClickReightSco,this),this.onClickLeftSco()},t.prototype.onClickLeftSco=function(){this.clickLeft.getComponent(a.default).interactable=!1,this.sc0Node.scrollToLeft(.5),this.clickReight.getComponent(a.default).interactable=!0},t.prototype.onClickReightSco=function(){this.clickReight.getComponent(a.default).interactable=!1,this.sc0Node.scrollToRight(.5),this.clickLeft.getComponent(a.default).interactable=!0},t.prototype.onAwardBtnClicked=function(){this.model.reqReceiveActivityAward(c.ActivityType.spreadAward)},t.prototype.onSubViewShow=function(){this.model.reqGetActivityCfg(!1)},t.prototype.onGetAward=function(e){if(!e||e.atype==c.ActivityType.spreadAward){Global.UI.show("WndRebateGet",e.award);var t=this.getComponent(cc.js.formatStr("sco/view/awardPanel/redPack_%s",this.achieveIndex),p.default);t&&t.RefreshState(r.Open,null),Global.Event.event(c.ActivityConstants.HIDE_RED_PORT,e.atype)}},t.prototype.onDispose=function(){this.model.off(l.default.GetAward,this,this.onGetAward),this.model.off(l.default.GetCfg,this,this.onGetConfig)},t.prototype.onGetConfig=function(e){if(null!=e){Global.Event.event(c.ActivityConstants.SHOW_ACT_WAITTING,!1);var t=e.data;if(null!=t)for(var o=0;o<t.length;o++)if(t[o].atype==c.ActivityType.spreadAward){var i=t[o].cfg;this.achieveIndex=i.doc,this.personLabel.string=cc.js.formatStr("<b>%s\u4eba</b>",i.num),this.rechargePointLabel.string=Global.Toolkit.formatPointStr(i.pay);for(var n=0;n<i.list.length;n++){var r=i.list[n],a=this.getSpreadGiftItemState(i.doc,n),s=this.getComponent(cc.js.formatStr("sco/view/awardPanel/redPack_%s",n),p.default);s&&s.RefreshState(a,r),n==i.list.length-1&&(this.monthAwardLabel.string=Global.Toolkit.formatPointStr(i.list[n].point))}}}},t.prototype.getSpreadGiftItemState=function(e,t){return-1===e?r.Normal:e===t?r.HightLight:r.Normal},t}(s.default);o.default=h,function(e){e[e.Normal=0]="Normal",e[e.HightLight=1]="HightLight",e[e.Open=2]="Open",e[e.None=3]="None"}(r=o.RedPackState||(o.RedPackState={})),cc._RF.pop()},{"../../../../core/component/YXButton":"YXButton","../../../../core/ui/ViewBase":"ViewBase","../../../../hallcommon/model/RechargeGiftModel":"RechargeGiftModel","../ActivityConstants":"ActivityConstants","./SpreadGiftItemView":"SpreadGiftItemView"}],SpreadGiftItemView:[function(e,t,o){"use strict";cc._RF.push(t,"c745a52HaNJNod/rWCYy00X","SpreadGiftItemView");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./WndSpreadGiftActivityView"),s=cc._decorator,l=s.ccclass,c=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nodeArr=[],t.lightNode=null,t.achievedLabel=null,t.normalLabel=null,t.personNumLabel=null,t.achievedPersonNumLabel=null,t}return n(t,e),t.prototype.RefreshState=function(e,t){var o=this.node.getComponent(cc.Button);switch(e){case a.RedPackState.Normal:this.nodeArr[0].active=!0,this.nodeArr[1].active=!1,this.lightNode.active=!1,this.normalLabel.string=cc.js.formatStr("%s\u5143",Global.Toolkit.formatPointStr(t.point)),this.achievedLabel.string=cc.js.formatStr("%s\u5143",Global.Toolkit.formatPointStr(t.point)),this.personNumLabel.string=cc.js.formatStr("%s\u4eba",t.num),this.achievedPersonNumLabel.string=cc.js.formatStr("%s\u4eba",t.num),o&&(o.interactable=!1);break;case a.RedPackState.HightLight:this.nodeArr[0].active=!0,this.nodeArr[1].active=!1,this.lightNode.active=!0,this.normalLabel.string=cc.js.formatStr("%s\u5143",Global.Toolkit.formatPointStr(t.point)),this.achievedLabel.string=cc.js.formatStr("%s\u5143",Global.Toolkit.formatPointStr(t.point)),this.personNumLabel.string=cc.js.formatStr("%s\u4eba",t.num),this.achievedPersonNumLabel.string=cc.js.formatStr("%s\u4eba",t.num),o&&(o.interactable=!0);break;case a.RedPackState.Open:this.nodeArr[0].active=!1,this.nodeArr[1].active=!0,this.lightNode.active=!1,o&&(o.interactable=!1)}},r([c([cc.Node])],t.prototype,"nodeArr",void 0),r([c(cc.Node)],t.prototype,"lightNode",void 0),r([c(cc.Label)],t.prototype,"achievedLabel",void 0),r([c(cc.Label)],t.prototype,"normalLabel",void 0),r([c(cc.Label)],t.prototype,"personNumLabel",void 0),r([c(cc.Label)],t.prototype,"achievedPersonNumLabel",void 0),r([l],t)}(cc.Component);o.default=p,cc._RF.pop()},{"./WndSpreadGiftActivityView":"WndSpreadGiftActivityView"}],SpreadGiftModule:[function(e,t,o){"use strict";cc._RF.push(t,"a19ddmay19LT6ORIElN9v1N","SpreadGiftModule");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.viewClass="WndSpreadGiftActivityView",t.modelClass="",t.resPaths=[],t.prefabPaths=[""],t.children=[],t}return n(t,e),t}(e("../../../framework/module/ModuleBase").ModuleBase);o.default=r,cc._RF.pop()},{"../../../framework/module/ModuleBase":"ModuleBase"}],SpreadModel:[function(e,t,o){"use strict";cc._RF.push(t,"78c4b2lwkpK16wAQHtHzAye","SpreadModel");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../framework/model/ModelBase"),a=e("../../core/net/hall/NetEvent"),s=e("../../hall/ui/Spread/SpreadEvent"),l=e("./HallModel"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.limit=10,t._AwardRecordData=null,t._CommidData=null,t.RecordPage=0,t.redFlag=!1,t.commi_type=-1,t.percent_rate=-1,t.self_rate=-1,t._rank_type=1,t.urlType=0,t.shortUrlRequestTime=0,t.shortUrlRequestInterval=3,t}return n(t,e),Object.defineProperty(t.prototype,"Rate",{get:function(){return this.percent_rate},set:function(e){this.percent_rate=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"SelfRate",{get:function(){return this.self_rate},set:function(e){this.self_rate=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"RankType",{get:function(){return this._rank_type},set:function(e){this._rank_type=e},enumerable:!1,configurable:!0}),t.prototype.onInit=function(){},Object.defineProperty(t.prototype,"Name",{get:function(){return"SpreadModel"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Data",{get:function(){return this._data},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"AwardRecordData",{get:function(){return this._AwardRecordData},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"CommidData",{get:function(){return this._CommidData},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Url",{get:function(){return this._url},set:function(e){this._url=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"RedFLag",{get:function(){return this.redFlag},set:function(e){this.redFlag=e,this.redFlag&&Global.Event.event(GlobalEvent.ShowRedSpot,[!1,l.HallRedSpotType.Spread])},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"commiType",{get:function(){return this.commi_type},set:function(e){this.commi_type=e},enumerable:!1,configurable:!0}),t.prototype.GetAgentShare=function(e){var t=this;Global.HallServer.send(a.NetAppface.mod,a.NetAppface.GetSelfShare,{share_url:e},function(e){t._data=e,t.event(s.SpreadEvent.GetAgentShare,e)},this.SpreadErronFunc.bind(this),!1,0)},t.prototype.GetDayAgentShare=function(e){var t=this;Global.HallServer.send(a.NetAppface.mod,a.NetAppface.GetDayAgentShare,{share_url:e},function(e){t._data=e,t.event(s.SpreadEvent.GetDayAgentShare,e)},this.SpreadErronFunc.bind(this),!1,0)},t.prototype.startRequestShortUrl=function(e){var t=this;if(!this.isReqestingShortUrl){if(this.isReqestingShortUrl=!0,this.shortUrlRequestTime=0,1==this.urlType)return this.isReqestingShortUrl=!1,void clearInterval(this.requestTimer);this.requestTimer=setInterval(function(){if(t.shortUrlRequestTime++,t.shortUrlRequestTime>=3||1==t.urlType)return clearInterval(t.requestTimer),void(t.isReqestingShortUrl=!1);Global.HallServer.send(a.NetAppface.mod,a.NetAppface.GetUserShareUrl,{url:e},function(e){t.Url=e.url,t.urlType=e.type,t.urlType=1,t.event(s.SpreadEvent.RefreshShortUrl)},null,!1)},1e3*this.shortUrlRequestInterval)}},t.prototype.loadShortUrl=function(e){var t=this;Global.HallServer.send(a.NetAppface.mod,a.NetAppface.GetUserShareUrl,{url:e},function(e){t.Url=e.url,t.urlType=e.type,t.event(s.SpreadEvent.RefreshShortUrl)},this.loadShortUrlErronFunc.bind(this),!1)},t.prototype.loadShortUrlErronFunc=function(e){return this.event(s.SpreadEvent.RefreshShortUrl),null==e._errstr||(Global.UI.fastTip(e._errstr),!1)},t.prototype.BindInviteCode=function(e){var t=this;Global.HallServer.send(a.NetAppface.mod,a.NetAppface.BindPid,{pid:e},function(e){t.event(s.SpreadEvent.BindSucceed,e)},this.SpreadErronFunc.bind(this),!1,0)},t.prototype.SpreadErronFunc=function(e){return null==e._errstr||(Global.UI.fastTip(e._errstr),!1)},t.prototype.GetAwardRecordInfo=function(e,t){var o={page:e,limit:t};Global.HallServer.send(a.NetAppface.mod,a.NetAppface.GetSendRecord,o,null,this.SpreadErronFunc.bind(this),!1,180)},t.prototype.GetDayFlowInfoList=function(e,t){var o={page:e,limit:t};Global.HallServer.send(a.NetAppface.mod,a.NetAppface.GetDayFlowInfoList,o,null,this.SpreadErronFunc.bind(this),!1,180)},t.prototype.GetDayAgentCommi=function(){var e=this;Global.HallServer.send(a.NetAppface.mod,a.NetAppface.GetDayAgentCommi,{},function(t){e._CommidData=t,e.event(s.SpreadEvent.GetDayAgentCommi,t)},this.SpreadErronFunc.bind(this),!0,0)},t.prototype.GetAwardRecord=function(e,t){var o=this,i={page:e,limit:t};Global.HallServer.send(a.NetAppface.mod,a.NetAppface.GetSelfReadRecord,i,function(e){o._AwardRecordData=e,o.event(s.SpreadEvent.GetSelfReadRecord,e)},this.SpreadErronFunc.bind(this),!0,0)},t.prototype.GetDayAgentRecord=function(e,t){var o=this,i={page:e,limit:t};Global.HallServer.send(a.NetAppface.mod,a.NetAppface.GetDayAgentRecord,i,function(e){o._AwardRecordData=e,o.event(s.SpreadEvent.GetDayAgentRecord,e)},this.SpreadErronFunc.bind(this),!0,0)},t.prototype.ReqGetReward=function(){var e=this;Global.HallServer.send(a.NetAppface.mod,a.NetAppface.GetSelfRead,{read_type:-1},function(t){e._data.read_point=0,e._data.read_self_point=0,e.RedFLag=!1,e.event(s.SpreadEvent.GetSelfRead,t)},this.SpreadErronFunc.bind(this),!0,0)},t.prototype.GetDayAgent=function(){var e=this;Global.HallServer.send(a.NetAppface.mod,a.NetAppface.GetDayAgent,{},function(t){e.event(s.SpreadEvent.GetDayAgent,t)},this.SpreadErronFunc.bind(this),!0,0)},t.prototype.ReqGetSelfTeam=function(e,t){var o={page:e,limit:t};Global.HallServer.send(a.NetAppface.mod,a.NetAppface.GetSelfTeam,o,null,this.SpreadErronFunc.bind(this),!1,60)},t.prototype.GetDayAgentTeamInfo=function(e,t,o){var i={user_id:e,page:t,limit:o};Global.HallServer.send(a.NetAppface.mod,a.NetAppface.GetDayAgentTeamInfo,i,null,this.SpreadErronFunc.bind(this),!1,60)},t.prototype.ReqSearchSelfTeam=function(e){Global.HallServer.send(a.NetAppface.mod,a.NetAppface.SeachSelfTeam,{user_id:e},null,this.SpreadErronFunc.bind(this),!0,0)},t.prototype.CheckRedFlag=function(){this.redFlag&&Global.Event.event(GlobalEvent.ShowRedSpot,[!1,l.HallRedSpotType.Spread])},t.prototype.SeachSelfTeamUser=function(e){Global.HallServer.send(a.NetAppface.mod,a.NetAppface.SeachSelfTeamUser,{user_id:e},null,this.SpreadErronFunc.bind(this),!0,0)},t.prototype.clear=function(){this.urlType=-1,this.Url=null,this._AwardRecordData=null,this._CommidData=null,this._data=null},t}(r.default);o.default=c,cc._RF.pop()},{"../../../framework/model/ModelBase":"ModelBase","../../core/net/hall/NetEvent":"NetEvent","../../hall/ui/Spread/SpreadEvent":"SpreadEvent","./HallModel":"HallModel"}],SpreadModule:[function(e,t,o){"use strict";cc._RF.push(t,"b13a5oA5PNA54YLMXuhOXCu","SpreadModule");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.viewClass="WndSpread",t.modelClass="SpreadModel",t.resPaths=[],t.prefabPaths=[""],t.children=[{viewClass:"WndSpreadCenter",modelClass:"",resPaths:[],prefabPaths:[""],children:[]},{viewClass:"WndAwardRecord",modelClass:"",resPaths:[],prefabPaths:[""],children:[]},{viewClass:"WndLowerSearch",modelClass:"",resPaths:[],prefabPaths:[""],children:[]},{viewClass:"WndAwardDetail",modelClass:"",resPaths:[],prefabPaths:[""],children:[]},{viewClass:"WndCommissionlist",modelClass:"",resPaths:[],prefabPaths:[""],children:[]}],t}return n(t,e),t}(e("../../../framework/module/ModuleBase").ModuleBase);o.default=r,cc._RF.pop()},{"../../../framework/module/ModuleBase":"ModuleBase"}],SpreadServices:[function(e,t,o){"use strict";cc._RF.push(t,"2facbVdkq5Dx70xYqNOAXYM","SpreadServices");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/ui/ViewBase"),a=e("../../../hallcommon/model/ServicerModel"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.servicerNode=[],t.servicerType={1:"icon_kfwx",2:"icon_kfqq",3:"icon_kfwx",4:"icon_kfat",5:"icon_zxkf",6:"icon_zxkf"},t.servicerName={1:"\u5ba2\u670d\u5fae\u4fe1",2:"\u5ba2\u670dQQ",3:"\u516c\u4f17\u53f7",4:"\u5ba2\u670d\u827e\u7279",5:"\u5728\u7ebf\u5ba2\u670d",6:"\u5728\u7ebf\u5ba2\u670d"},t}return n(t,e),t.prototype.initView=function(){this.ServicerModel=Global.ModelManager.getModel("ServicerModel");var e=this.getChild("left");Global.UIHelper.addCommonClick(e,"btn_ljlx",this.openServicerApp,this),e.active=!1;var t=this.getChild("right");Global.UIHelper.addCommonClick(t,"btn_ljlx",this.openServicerApp,this),t.active=!1,this.servicerNode.push(e),this.servicerNode.push(t)},t.prototype.onSubViewShow=function(){var e=this.ServicerModel.getServiceInfo(a.CustomerEntranceType.SpreadService);this.updateUI(e)},t.prototype.onSubViewHide=function(){},t.prototype.onDispose=function(){this.servicerNode=[]},t.prototype.updateUI=function(e){if(e&&0!=e.length)for(var t=e.arr,o=0;o<t.length;o++){var i=this.servicerNode[o],n=t[o];if(0!=n.type){i.active=!0;var r=cc.find("label1",i).getComponent(cc.Label),a=cc.find("label2",i).getComponent(cc.Label),s=cc.find("icon_kfqq",i).getComponent(cc.Sprite);cc.find("btn_ljlx",i).data=n,r.string=this.servicerName[n.type],a.string=Global.Toolkit.substrEndWithElli(n.data,10),Global.ResourceManager.loadAutoAtlas(s,"hall/texture/Proxy/Proxy",this.servicerType[n.type])}}},t.prototype.openServicerApp=function(e){var t=this;e&&e.node&&e.node.data&&Global.NativeEvent.copyTextToClipboard(e.node.data.data,function(o){0==o.result&&(e.node.data.type==a.PopItemType.QQ?(Global.UI.fastTip("\u590d\u5236\u6210\u529f"),Global.NativeEvent.awakeQQApp(t.awakeQQCallBack.bind(t))):e.node.data.type==a.PopItemType.WX||e.node.data.type==a.PopItemType.WXPUBLIC?(Global.UI.fastTip("\u590d\u5236\u6210\u529f"),Global.NativeEvent.awakeWechatApp(t.awakeWeChatCallBack.bind(t))):e.node.data.type==a.PopItemType.AtWnd?(Global.ChatServer.serverType=a.CustomerEntranceType.HallService,Global.ChatServer.userSetting(null,e.node.data.data)):e.node.data.type==a.PopItemType.Link?cc.sys.openURL(Global.Toolkit.DealWithUrl(e.node.data.data)):e.node.data.type==a.PopItemType.AtLink?cc.sys.openURL(Global.Toolkit.DealWithUrl(e.node.data.data)):Global.UI.fastTip("\u590d\u5236\u5931\u8d25"))})},t.prototype.awakeQQCallBack=function(e){0==e.result||(-1==e.result?(Logger.log("\u8bf7\u5148\u5b89\u88c5QQ"),Global.UI.showSingleBox("\u8bf7\u5148\u5b89\u88c5QQ",null)):(Logger.log("\u6253\u5f00QQ\u5931\u8d25"),Global.UI.showSingleBox("\u6253\u5f00QQ\u5931\u8d25",null)))},t.prototype.awakeWeChatCallBack=function(e){0==e.result||(-1==e.result?(Logger.log("\u8bf7\u5148\u5b89\u88c5\u5fae\u4fe1"),Global.UI.showSingleBox("\u8bf7\u5148\u5b89\u88c5\u5fae\u4fe1",null)):(Logger.log("\u6253\u5f00\u5fae\u4fe1\u5931\u8d25"),Global.UI.showSingleBox("\u6253\u5f00\u5fae\u4fe1\u5931\u8d25",null)))},t}(r.default);o.default=s,cc._RF.pop()},{"../../../core/ui/ViewBase":"ViewBase","../../../hallcommon/model/ServicerModel":"ServicerModel"}],SpreadTutorialWin:[function(e,t,o){"use strict";cc._RF.push(t,"5a0beOsOoZAkJHr3lj9bgjY","SpreadTutorialWin");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.initView=function(){this.spreadModel=Global.ModelManager.getModel("SpreadModel"),this.cmmi_type=this.spreadModel.commiType,2==this.cmmi_type&&(this.bigNode=this.getChild("big"),this.addCommonClick("View/scrollview/view/content/Description",this.onDescription,this,null,1),this.addCommonClick("View/scrollview/view/content/btnMoney",this.OnCommissionBtnClicked,this),this.addCommonClick("big/close",this.onBigclose,this))},t.prototype.onSubViewShow=function(){},t.prototype.onSubViewHide=function(){},t.prototype.OnCommissionBtnClicked=function(){var e=this.spreadModel.CommidData;null==e?this.spreadModel.GetDayAgentCommi():Global.UI.show("WndCommissionlist",e)},t.prototype.onDescription=function(){this.bigNode.active=!0},t.prototype.onBigclose=function(){this.bigNode.active=!1},t}(e("../../../core/ui/ViewBase").default);o.default=r,cc._RF.pop()},{"../../../core/ui/ViewBase":"ViewBase"}],StartGame:[function(e,t){"use strict";cc._RF.push(t,"b1f74npq1BDxbnLnLjbAi3v","StartGame");var o,i=(o=e("./logic/core/loadingMVC/LoadingFacade"))&&o.__esModule?o:{default:o},n=e("./logic/core/setting/Setting");cc.Class({extends:cc.Component,properties:{manifest:{type:[cc.Asset],default:[]},isStartHotUpdate:!1,serverType:{type:cc.Enum(n.ServerType),default:n.ServerType.DEVELOP,serializable:!0}},onLoad:function(){cc.Device&&cc.Device.setKeepScreenOn&&cc.Device.setKeepScreenOn(!0),cc.macro.DOWNLOAD_MAX_CONCURRENT=8,i.default.Instance.startUp(this.manifest,this,this.isStartHotUpdate,this.serverType),Logger.log("---------isStartHotUpdate------"+this.isStartHotUpdate)},start:function(){},onDestory:function(){},update:function(e){Global&&Global.Http&&Global.Http.onUpdate(e)}}),cc._RF.pop()},{"./logic/core/loadingMVC/LoadingFacade":"LoadingFacade","./logic/core/setting/Setting":"Setting"}],StartUpCommand:[function(e,t,o){"use strict";cc._RF.push(t,"f1f4fyO6n1FQ4j7ve9+H6bo","StartUpCommand");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../HallConst"),a=e("../command/PreModelCommand"),s=e("../command/PreViewCommand"),l=function(e){function t(){var t=e.call(this)||this;return Logger.log("StartUpcommand init"),t}return n(t,e),t.prototype.initializeMacroCommand=function(){e.prototype.initializeMacroCommand.call(this),Logger.log("StartUpCommand initializeMacroCommand"),this.addSubCommand(a.default),this.addSubCommand(s.default)},t.prototype.execute=function(t){e.prototype.execute.call(this,t),Logger.log("--------------startUpCommand execute-----------"),this.sendNotification(r.default.PUSH_VIEW,{},r.default.HALL_SCENE)},t}(puremvc.MacroCommand);o.default=l,cc._RF.pop()},{"../HallConst":"HallConst","../command/PreModelCommand":"PreModelCommand","../command/PreViewCommand":"PreViewCommand"}],Storage:[function(e,t,o){"use strict";cc._RF.push(t,"67738H0CT5B7KdMOI2g/pi+","Storage"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../debug/Logger"),n=function(){function e(){}return e.prototype.set=function(e,t){null==t&&(t="");var o=this.getFinalKey(e);cc.sys.localStorage.setItem(o,t)},e.prototype.setObject=function(e,t){if(null!=t){var o="";try{o=JSON.stringify(t),this.set(e,o)}catch(n){return void i.Logger.error("Storage.setObject \u51fa\u9519",n&&n.message)}}},e.prototype.setBool=function(e,t){var o=t?"1":"0";this.set(e,o)},e.prototype.hasKey=function(e){return""!=this.get(e)},e.prototype.get=function(e){var t=this.getFinalKey(e),o=cc.sys.localStorage.getItem(t);return null==o&&(o=""),o},e.prototype.getNumber=function(e,t){void 0===t&&(t=0);var o=this.get(e);if(""==o)return t;var i=Number(o);return isNaN(i)?t:i},e.prototype.getObject=function(e){var t=this.get(e);if(""==t)return null;var o=null;try{o=JSON.parse(t)}catch(n){i.Logger.error("Storage.getObject \u51fa\u9519",n&&n.message)}return o},e.prototype.getBool=function(e){return"1"==this.get(e)},e.prototype.removeKey=function(e){var t=this.getFinalKey(e);cc.sys.localStorage.removeItem(t)},e.prototype.getFinalKey=function(e){return e},e}();o.default=n,cc._RF.pop()},{"../debug/Logger":"Logger"}],SwitchNodeToggle:[function(e,t){"use strict";cc._RF.push(t,"f7346d6kRZNeICqjQlsdEcn","SwitchNodeToggle"),cc.Class({extends:cc.Component,editor:!1,properties:{checked:cc.Node,unChecked:cc.Node},onLoad:function(){this.toggle=this.node.getComponent(cc.Toggle),this.node.on("toggle",this.updateCheck,this),this.updateCheck()},update:function(){this.updateCheck()},updateCheck:function(){this.checked.active!=this.toggle.isChecked&&(this.checked.active=this.toggle.isChecked),this.unChecked.active==this.toggle.isChecked&&(this.unChecked.active=!this.toggle.isChecked)}}),cc._RF.pop()},{}],SystemInfo:[function(e,t,o){"use strict";cc._RF.push(t,"37e2fiYgPhOmq2aM1kZI2ch","SystemInfo"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../hallcommon/const/HallStorageKey"),n=function(){function e(){this._version="0.0.1",this._isIphoneX=!1,this._netWorkType=-1,this._isNetworkAvailable=!0,this._firstInstallStatus=!1,this._isSupportWSS=!1,this._appVersion="0",this._nativeLog=!1,this.nativeScreenWidth="0",this.nativeScreenHeight="0",this.nativeScreenDensity="0",this.nativeScreenDensityDpi="0",this.inviteSourceType=0,this.deviceBrand="",this.onBackground=!1,this.udid="0",this.entry="",this.sign_type="",this.packChannel=null,this._appConstUrl="",this.appConstBackupUrl="",this.appConstBackupUrl1="",this.appConstUrlArray=[],this.appID="",this.subPlatformID="",this.appName="",this.zipModel=!1,this.simulator="",this.orientationLandscape=!0,this.server_id="",this.cerDirFiles=[]}return Object.defineProperty(e.prototype,"Version",{get:function(){return this._version},set:function(e){this._version=e},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.getDeviceInfo=function(){Global.NativeEvent.getNativeParams()},e.prototype.onResume=function(){this.onBackground=!1},Object.defineProperty(e.prototype,"deviceId",{get:function(){if(null==this._deviceId){var e=Global.Setting.storage.get(i.default.WebDeviceId);null!=e&&""!=e||(e=Global.Toolkit.genDeviceId(),Global.Setting.storage.set(i.default.WebDeviceId,e)),this._deviceId=e}return this._deviceId.trim()},set:function(e){null!=e&&""!=e&&(this._deviceId=e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ipAddress",{get:function(){return this._ipAddress},set:function(e){this._ipAddress=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},set:function(e){this._version=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isIphoneX",{get:function(){return this._isIphoneX},set:function(e){this._isIphoneX=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isWXIphoneX",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"netWorkType",{get:function(){return this._netWorkType},set:function(e){this._netWorkType=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isNetworkAvailable",{get:function(){return this._isNetworkAvailable},set:function(e){this._isNetworkAvailable=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"firstInstallStatus",{get:function(){return this._firstInstallStatus},set:function(e){this._firstInstallStatus=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fixHeightScale",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"widthScale",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSupportWSS",{get:function(){return!cc.sys.isNative||this._isSupportWSS},set:function(e){this._isSupportWSS=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"appVersion",{get:function(){return cc.sys.isNative?this._appVersion:"40000"},set:function(e){this._appVersion=e},enumerable:!1,configurable:!0}),e.prototype.checkVersion=function(e){if(!cc.sys.isNative)return!0;var t=this.appVersion,o=Number(t);return!!(isNaN(o)||o>=e)},Object.defineProperty(e.prototype,"pkgVersion",{get:function(){return cc.sys.isNative?this._pkgVersion:""},set:function(e){this._pkgVersion=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gameUrlJsonCfg",{get:function(){return this._gameUrlJsonCfg},set:function(e){this._gameUrlJsonCfg=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nativeLog",{get:function(){return!!cc.sys.isNative&&this._nativeLog},set:function(e){this._nativeLog=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bundleName",{get:function(){return cc.sys.isNative?this._bundleName:""},set:function(e){this._bundleName=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"webglData",{get:function(){return cc.sys.isNative?this._webglData:""},set:function(e){this._webglData=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loginSign",{get:function(){return this._loginSign},set:function(e){this._loginSign=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"appConstUrl",{get:function(){return this._appConstUrl},set:function(e){this._appConstUrl=e},enumerable:!1,configurable:!0}),e}();o.default=n,cc._RF.pop()},{"../../hallcommon/const/HallStorageKey":"HallStorageKey"}],SystemTimeManager:[function(e,t,o){"use strict";cc._RF.push(t,"68cec/vpiBFFbCo3nVPm1OH","SystemTimeManager"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function e(){this.heartTime=(new Date).getTime(),this.diffServerTime=0,this.diffServerCount=1}return e.getInstance=function(){return null==e.instance&&(e.instance=new e),e.instance},e.prototype.getServerTime=function(){return(new Date).getTime()+e.instance.getDiffTime()},e.prototype.getLocalTime=function(){return e.instance.heartTime=(new Date).getTime(),e.instance.heartTime},e.prototype.getDiffTime=function(){return e.instance.diffServerTime},e.prototype.randomBit=function(){return 1e3*((new Date).getTime()+1e6*e.instance.getDiffTime())},e.prototype.setServerTime=function(t){var o=t-e.instance.heartTime;e.instance.diffServerTime=0==e.instance.diffServerTime?o:e.instance.diffServerTime,e.instance.diffServerTime=Math.abs(o)<Math.abs(e.instance.diffServerTime)?o:e.instance.diffServerTime,e.instance.diffServerCount=1},e.instance=null,e}();o.default=i,cc._RF.pop()},{}],TDun:[function(e,t,o){"use strict";cc._RF.push(t,"e1fc42gFKZI4IHOcjBu6Hds","TDun"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../logic/hallcommon/const/HallStorageKey"),n=e("./AppDunControl"),r=function(){function e(e){var t=this;this.isDunInit=!1,this._isSupport=!1,this.sdkName="tdun",this._dunType=0,this._dunType=e,Global.NativeEvent.isSupportSDK(this.sdkName,null,function(o){0==o.result?t._isSupport=!0:Logger.error("checkAppIsSupportDunByType dunType = "+e+" isSupport = false")})}return e.prototype.isAppSupport=function(){return this._isSupport},e.prototype.checkCfgIsValid=function(e){return!(!e||!e.key)},e.prototype.init=function(e,t){var o=this;if(this.checkCfgIsValid(e))if(this.isDunInit)Logger.error("init TDun SDK this.isTDunInit  = true");else if(this._isSupport){var r=this.getInitState();Logger.error("init TDun SDK state = "+r);var a=e.key;r!=n.DUNSTATE.INIT&&r!=n.DUNSTATE.FAILED||a&&Global.NativeEvent.initTDunSDK(a,function(e){if(e){var r=Number(e.result);0==r||0==r?(o.isDunInit=!0,Global.Event.event(GlobalEvent.DunInitFinish),Global.Setting.storage.set(i.default.DunInitRecord+"_"+n.DUNTYPE.T_DUN,1)):Logger.error("initTDunSDK ret != 0 failed ")}else Logger.error("initTDunSDK retObj == null failed ");t&&t()})}else Logger.error("init TDun SDK is not support");else Logger.error("init TDun SDK checkCfgIsValid  = false")},e.prototype.getInitState=function(){return this._isSupport?Global.NativeEvent.getTDunInitRet():n.DUNSTATE.FAILED},e.prototype.getPort=function(e){var t=Global.NativeEvent.getTDunPort(e);return Logger.error("TDun getPort port = "+t),t},e.prototype.getServerIPAndPort=function(e,t){if(this.isDunInit)return{ip:"127.0.0.1",port:this.getPort(t)};Logger.error("TDun getServerIPAndPort isDunInit = false")},e.prototype.isInit=function(){return!!this._isSupport&&(this.isDunInit||0==this.getInitState()&&(this.isDunInit=!0),this.isDunInit)},e}();o.default=r,cc._RF.pop()},{"../../../logic/hallcommon/const/HallStorageKey":"HallStorageKey","./AppDunControl":"AppDunControl"}],TaskComp:[function(e,t,o){"use strict";cc._RF.push(t,"ec1c96sytdPmZM9U3Ff5p+g","TaskComp");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a,s=cc._decorator,l=s.ccclass;s.property,function(e){e[e.Left=-1]="Left",e[e.Right=1]="Right"}(a||(a={}));var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipsOffsetWidth=40,t}return n(t,e),t.prototype.onLoad=function(){this.touchBgNode=cc.find("touchBg",this.node),this.touchBgNode.active=!1,this.touchBgNode.on(cc.Node.EventType.TOUCH_END,this.onTouchBgCLick,this),this.touchBgNode._touchListener.setSwallowTouches(!1),this.taskTips=cc.find("taskTips",this.node),this.taskTipLbl=cc.find("taskTips/taskTipLbl",this.node).getComponent(cc.Label),this.taskTips.active=!1,this.showNode=cc.find("content",this.node),this.showNode.active=!1,this.taskLbl=cc.find("content/taskLbl",this.node).getComponent(cc.Label),Global.UIHelper.addCommonClick(this.node,"content/taskBtn",this.showTipLbl,this),this.rawTopsPos=this.taskTips.position},t.prototype.onTouchBgCLick=function(){this.closeTips()},t.prototype.closeTips=function(){this.taskTips.active=!1,this.touchBgNode.active=!1,this.unscheduleAllCallbacks()},t.prototype.initTask=function(e){e==a.Left?(this.taskTips.setPosition(cc.v3(-this.rawTopsPos.x,this.rawTopsPos.y)),this.taskTips.scaleX=1,this.taskTipLbl.node.scaleX=1,this.taskTipLbl.node.anchorX=1):e==a.Right&&(this.taskTips.setPosition(cc.v3(this.rawTopsPos.x,this.rawTopsPos.y)),this.taskTips.scaleX=-1,this.taskTipLbl.node.scaleX=-1,this.taskTipLbl.node.anchorX=0)},t.prototype.showTipLbl=function(){var e=this;this.taskTips.active=!0,this.touchBgNode.active=!0,this.setTipsWidth(),this.unscheduleAllCallbacks(),this.scheduleOnce(function(){e.closeTips()},5),this.isTargetFinish&&Global.UI.fastTip("\u8bf7\u524d\u5f80\u8d22\u795e\u5230\u9875\u9762\u9886\u53d6\u5956\u52b1\uff01")},t.prototype.onDisable=function(){this.unscheduleAllCallbacks()},t.prototype.updateTask=function(e){this.taskTipLbl.string="\u4efb\u52a1\u8bf4\u660e:"+e.task_desc,this.taskLbl.string=e.task_self_num+"/"+e.task_num,2!=e.task_status?this.showContent(!0):this.showContent(!1),e.task_self_num==e.task_num&&e.task_num>0||1==e.task_status?this.isTargetFinish=!0:this.isTargetFinish=!1},t.prototype.showContent=function(e){this.showNode.active=e},t.prototype.setTipsWidth=function(){var e=this.taskTipLbl.node.width;this.taskTips.width=e+this.tipsOffsetWidth},r([l],t)}(cc.Component);o.default=c,cc._RF.pop()},{}],TaskManager:[function(e,t,o){"use strict";cc._RF.push(t,"284fe5GY41HPqNZ1mpl2aFQ","TaskManager");var i=this&&this.__awaiter||function(e,t,o,i){return new(o||(o=Promise))(function(n,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,s)}l((i=i.apply(e,t||[])).next())})},n=this&&this.__generator||function(e,t){var o,i,n,r,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(e){return function(t){return l([e,t])}}function l(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,i&&(n=2&r[0]?i.return:r[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,r[1])).done)return n;switch(i=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){a.label=r[1];break}if(6===r[0]&&a.label<n[1]){a.label=n[1],n=r;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(r);break}n[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(s){r=[6,s],i=0}finally{o=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../component/TaskComp"),a="hall/prefabs/ui/taskNode",s=function(){function e(){this.gameId=0,this.taskList=[],this.curTaskId="",this.curTaskType=0,this.taskStateMap={},this.isTimerPause=!1}return e.setTaskEnable=function(e){this.isEnable=e},e.preloadRes=function(){return i(this,void 0,void 0,function(){return n(this,function(){return[2,new Promise(function(e,t){Global.ResourceManager.loadBundleRes("resources",[a],function(o,i){o?t(o):e(i)})})]})})},e.prototype.init=function(t,o,i){var n=this;if(e.isEnable&&t&&cc.isValid(t)){this.gameId=o;var s=Global.ResourceManager.getBundleRes("resources",a,cc.Prefab);if(s){var l=cc.instantiate(s);l.setParent(t),l.active=!0,this.taskComp=Global.UIHelper.safeGetComponent(l,"",r.default),this.taskComp.initTask(i)}else Global.ResourceManager.loadBundleRes("resources",a,function(e,o){if(null==e&&null!=o){var s=cc.instantiate(o);s.setParent(t),s.active=!0,n.taskComp=Global.UIHelper.safeGetComponent(s,"",r.default),n.taskComp.initTask(i)}else Logger.error("\u52a0\u8f7d\u8d44\u6e90\u9519\u8bef","resources",a)});cc.game.on(cc.game.EVENT_SHOW,this.onResume,this),cc.game.on(cc.game.EVENT_HIDE,this.onPause,this)}},e.prototype.reqGetGameTaskList=function(){var e=this;if(this.gameId){var t={};t.game_id=this.gameId,Global.HallServer.send(NetAppface.mod,"GetGameTaskActivityList",t,function(t){e.taskComp&&cc.isValid(e.taskComp)&&(e.taskList=t.data||[],e.searchNotWorked())},null,!1)}},e.prototype.searchNotWorked=function(){if(this.taskList.length>0)for(var e=0;e<this.taskList.length;e++){var t=this.taskList[e];if(this.taskStateMap[t.task_id]=t.task_status,2!=t.task_status){this.curTaskId=t.task_id,this.curTaskType=t.global_task_type;break}}},e.prototype.reqGetCommisionInfo=function(){var t=this;if(e.isEnable&&this.curTaskId&&this.curTaskType&&this.gameId){var o={};o.global_task_type=this.curTaskType||0,o.task_id=this.curTaskId||"",Global.HallServer.send(NetAppface.mod,"GetOneTaskActivityInfo",o,function(e){t.taskComp&&cc.isValid(t.taskComp)&&e&&e.task_id&&(t.taskComp.updateTask(e),t.taskStateMap[e.task_id]=e.task_status,2==e.task_status&&t.searchNotWorked())},null,!1)}},e.prototype.startReqTimer=function(){var t=this;e.isEnable&&(this.timer&&this.stopReqTimer(),this.timer=setInterval(function(){t.reqGetCommisionInfo()},5e3))},e.prototype.onResume=function(){this.isTimerPause&&this.startReqTimer()},e.prototype.onPause=function(){this.timer&&(this.isTimerPause=!0,this.stopReqTimer())},e.prototype.stopReqTimer=function(){clearInterval(this.timer),this.timer=null},e.prototype.onDispose=function(){e.isEnable&&(this.stopReqTimer(),this.gameId=0,this.taskList=[],this.curTaskId="",this.curTaskType=0,this.taskStateMap={},this.isTimerPause=!1,cc.game.off(cc.game.EVENT_SHOW,this.onResume,this),cc.game.off(cc.game.EVENT_HIDE,this.onPause,this))},e.isEnable=!0,e}();o.default=s,cc._RF.pop()},{"../component/TaskComp":"TaskComp"}],"TextRollSceen.ts":[function(e,t,o){"use strict";cc._RF.push(t,"0cb46Ui9gJB3aQM+NwwoRAX","TextRollSceen.ts");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,l=(a.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.showOrderArr=[],t.index=0,t.timeInterval=6,t.changeTime=1,t}return n(t,e),t.prototype.onLoad=function(){this.showText=cc.find("txt",this.node).getComponent(cc.Label)},t.prototype.start=function(){null!=window.Global?Global.Setting.SkinConfig&&Global.Setting.SkinConfig.loadedFinish?this.startRun():Global.Event.once(GlobalEvent.SkinConfigLoadFinish,this,this.startRun):Logger.error("global is null")},t.prototype.startRun=function(){this.showOrderArr=Global.Toolkit.getOutOrderArray(Global.Setting.SkinConfig.loadingTips),this.setShowText(this.showOrderArr[this.index]),this.schedule(this.onTimerUpdate,this.timeInterval)},t.prototype.setShowText=function(e){var t=this;void 0===e&&(e=""),null!=this.showText&&(this.showText.string=e,this.scheduleOnce(function(){t.node.isValid&&(t.node.width=t.showText.node.width+200)},0))},t.prototype.onTimerUpdate=function(){var e=this;this.index++;var t=cc.fadeTo(this.changeTime/2,30),o=cc.callFunc(function(){e.setShowText(e.showOrderArr[e.index])},this),i=cc.fadeTo(this.changeTime/2,255);this.node.runAction(cc.sequence(t,o,i)),this.index==this.showOrderArr.length-1&&(this.index=0)},t.prototype.onDestroy=function(){this.node.stopAllActions(),this.unschedule(this.onTimerUpdate)},r([s],t)}(cc.Component));o.default=l,cc._RF.pop()},{}],TimeLimitedAwardBoxItem:[function(e,t,o){"use strict";cc._RF.push(t,"b4483GJn11AVZCBJ2MYSWK1","TimeLimitedAwardBoxItem");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./WndTimeLimitedRechargeGift"),s=cc._decorator,l=s.ccclass,c=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.awardStateNode=[],t.spine=null,t.rateLabel=null,t.opensp=null,t.data=null,t.key=null,t}return n(t,e),t.prototype.refreshState=function(e,t,o,i,n){this.key=e.config.list[o].key,this.data=e,this.refreshRate(t);var r=this.getBoxStateByData(e,o,i,n);this.setBoxState(r)},t.prototype.getBoxStateByData=function(e,t,o,i){var n=e.put_code,r=1==i[t],s=n>=o[t]&&o[t]>0,l=e.status;if(e.config.list[t],!s)return a.TimeLimitedBoxState.Normal;switch(l){case 1:return a.TimeLimitedBoxState.Normal;case 2:return a.TimeLimitedBoxState.TodayAchieved;case 3:return r?a.TimeLimitedBoxState.AlreadyGot:a.TimeLimitedBoxState.TodayAchieved}return a.TimeLimitedBoxState.Normal},t.prototype.refreshRate=function(e){e&&(this.rateLabel.string=e.rate+"%\u9996\u5145\u5f69\u91d1")},t.prototype.setBoxState=function(e){var t=this.node.getComponent(cc.Button);switch(e){case a.TimeLimitedBoxState.Normal:t&&(t.interactable=!1),this.awardStateNode[0].active=!0,this.awardStateNode[1].active=!1,this.opensp.active=!1;break;case a.TimeLimitedBoxState.TodayAchieved:t&&(t.interactable=!0),this.awardStateNode[0].active=!1,this.awardStateNode[1].active=!0,this.spine&&this.spine.setAnimation(0,"idle",!0),this.opensp.active=!1;break;case a.TimeLimitedBoxState.AlreadyGot:t&&(t.interactable=!1),this.awardStateNode[0].active=!1,this.awardStateNode[1].active=!1,this.spine&&this.spine.setAnimation(0,"idle",!0),this.opensp.active=!0}},r([c([cc.Node])],t.prototype,"awardStateNode",void 0),r([c(sp.Skeleton)],t.prototype,"spine",void 0),r([c(cc.Label)],t.prototype,"rateLabel",void 0),r([c(cc.Node)],t.prototype,"opensp",void 0),r([l],t)}(cc.Component);o.default=p,cc._RF.pop()},{"./WndTimeLimitedRechargeGift":"WndTimeLimitedRechargeGift"}],TimeLimitedRecgargeModel:[function(e,t,o){"use strict";cc._RF.push(t,"78151w5TUdM+YUGZcBexe/u","TimeLimitedRecgargeModel");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../framework/model/ModelBase"),a=e("../../core/net/hall/NetEvent"),s=e("./RechargeGiftModel"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.activityId=4,t.safeData=null,t._switch=!1,t}return n(t,e),t.prototype.onInit=function(){},Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Status",{get:function(){return this._Status},set:function(e){this._Status=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Switch",{get:function(){return this._switch},set:function(e){this._switch=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Name",{get:function(){return"RechargeGiftModel"},enumerable:!1,configurable:!0}),t.prototype.reqReceiveActivityAward=function(e,t){var o=this,i={};i.atype=e,i.key=t,Global.HallServer.send(a.NetAppface.mod,a.NetAppface.ReceiveActivityAward,i,function(e){o.event(s.default.GetAward,e)},null,!0,0)},t.prototype.reqGetActivityCfg=function(e){var t=this;void 0===e&&(e=!1),Global.HallServer.send(a.NetAppface.mod,a.NetAppface.GetActivityCfg,{},function(e){t.event(s.default.GetCfg,e)},null,e,0)},t.GetAward="GetAward",t.GetCfg="GetCfg",t.GetDailyRechargeAward="GetAward",t}(r.default);o.default=l,cc._RF.pop()},{"../../../framework/model/ModelBase":"ModelBase","../../core/net/hall/NetEvent":"NetEvent","./RechargeGiftModel":"RechargeGiftModel"}],TimeLimitedRechargeModule:[function(e,t,o){"use strict";cc._RF.push(t,"1df4eVawvpFh4GxNWftDVbI","TimeLimitedRechargeModule");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.viewClass="WndTimeLimitedRechargeGift",t.modelClass="",t.resPaths=[],t.prefabPaths=[""],t.children=[],t}return n(t,e),t}(e("../../../framework/module/ModuleBase").ModuleBase);o.default=r,cc._RF.pop()},{"../../../framework/module/ModuleBase":"ModuleBase"}],Toolkit:[function(e,t,o){"use strict";cc._RF.push(t,"645e2euCENDKpZAqduGse/w","Toolkit");var i=this&&this.__spreadArrays||function(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;var i=Array(e),n=0;for(t=0;t<o;t++)for(var r=arguments[t],a=0,s=r.length;a<s;a++,n++)i[n]=r[a];return i};Object.defineProperty(o,"__esModule",{value:!0});var n=e("../../../framework/libs/cryptoTs/algo/MD5"),r=e("../../../framework/libs/cryptoTs/lib/Hasher"),a=e("../../../framework/libs/qrcode"),s=e("../net/hall/NetEvent"),l=e("../../hallcommon/const/HallStorageKey"),c=e("../../../framework/net/dun/AppDunControl"),p=e("../../../logic/core/tool/ReportTool"),h=e("../scene/SceneManager"),u=function(){function t(){this.cryptoKey="yaoxing8901234561234567890123488",this.cryptoIv="yaoxing890123488",this.routeCrypKey="kjhlouyuf20987677869887978987277",this.routeCrypIv="kjhlouyuf2098767",this._pwCheckString="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",this.uuid=0}return Object.defineProperty(t,"underscore",{get:function(){return t._underscore||(t._underscore=e("underscore")),t._underscore},enumerable:!1,configurable:!0}),t.prototype.removeDir=function(e,t){if(e){Global.UI.fastTip("\u8fdb\u5165\u5b50\u6e38\u620f\u5931\u8d25");var o=Global.HotUpdateManager.getNativeHotUpdatePath(e.toString());Global.SceneManager.removeGameSearchPath(e.toString()),Global.SceneManager.releaseCurGameBundle(),cc.sys.garbageCollect(),jsb.fileUtils.isDirectoryExist(o)&&jsb.fileUtils.removeDirectory(o),Global.SceneManager.sceneType=h.SceneType.Hall,Global.Event.event(GlobalEvent.UPDATE_SUB_GAME_FAILED,e);var i={result:t,gid:e.toString()};Global.ReportTool.ReportClientError(p.ReportTool.REPORT_TYPE_LOADSUBGAME_ERROR,i)}else Logger.error("\u4f20\u5165\u7684Gid\u4e3a\u7a7a")},t.prototype.adjustUrl=function(e){return e?(e.length>0&&"/"!=e[e.length-1]&&(e+="/"),e):e},t.prototype.isIphone6=function(){if(cc.sys.platform!=cc.sys.IPHONE)return!1;var e=Global.Setting.SystemInfo.osBuildModel;return e.indexOf("iPhone7")>=0||e.indexOf("iPhone8")>=0||void 0},t.prototype.adjustIphoneX=function(e,t,o){if(void 0===t&&(t=60),void 0===o&&(o=!1),null!=e&&cc.sys.isNative&&Global.Setting.SystemInfo.isIphoneX)for(var i=0;i<e.length;i++){var n=e[i];if(null!=n&&n.isValid){var r=n.getComponent(cc.Widget);r&&(o?r.top+=t:r.left+=t)}}},t.prototype.freeAdjustIphoneX=function(e,t,o){if(void 0===t&&(t=60),void 0===o&&(o="left"),null!=e&&cc.sys.isNative&&Global.Setting.SystemInfo.isIphoneX)for(var i=0;i<e.length;i++){var n=e[i];if(null!=n&&n.isValid){var r=n.getComponent(cc.Widget);if(r)switch(o){case"left":r.left+=t;break;case"right":r.right+=t;break;case"top":r.top+=t;break;case"bottom":r.bottom+=t}}}},t.prototype.getSpreadImgPath=function(){return jsb.fileUtils.getWritablePath()+Global.Toolkit.md5(Global.Setting.Urls.inviteUrl)+"_capImage.png"},t.prototype.removeEmoji=function(e){return e.replace(/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|\ud83c[\ude32-\ude3a]|\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/g,"?")},t.prototype.checkContainsEmoji=function(e){return null!=e.match(/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|\ud83c[\ude32-\ude3a]|\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/g)},t.prototype.genDeviceId=function(){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},t.prototype.genDeviceInfo=function(){var e={};e.device_id="["+Global.Setting.SystemInfo.deviceId+"]",e.os_type=Global.Toolkit.getOsType(),e.os_version=cc.sys.os+"|"+cc.sys.osVersion+"|"+Global.Setting.SystemInfo.bundleName,e.app_version=Global.Setting.SystemInfo.appVersion,e.phone_model=Global.Setting.SystemInfo.osBuildModel,e.sign=Global.Setting.SystemInfo.loginSign,e.phone_device_brand=Global.Setting.SystemInfo.deviceBrand,e.wx_key=Global.Setting.SystemInfo.wxKey;var t=Global.Setting.SystemInfo.hallSkin||"",o=Global.Setting.SystemInfo.gameSkin||"",i=Global.Setting.SystemInfo.packageTag||"";e.tagInfo=cc.js.formatStr("%s|%s|%s",t,o,i);var n=Global.Setting.SystemInfo.nativeScreenWidth;e.udid=Global.Setting.SystemInfo.udid.toString()||"0",e.app_sign=Global.Setting.SystemInfo.appSign;var r=Global.Setting.SystemInfo.nativeScreenHeight;if(Global.Setting.SystemInfo.webglData){var a=JSON.parse(Global.Setting.SystemInfo.webglData);e.gv=a.version,e.gr=a.renderer}return e.w=Number(n<r?n:r)||0,e.h=Number(n>r?n:r)||0,cc.sys.os==cc.sys.OS_ANDROID&&Global.Toolkit.versionCompare(cc.sys.osVersion,"9")>=0&&(e.need_sid=1),e.server_id=Global.Setting.SystemInfo.server_id,e.simulator=Global.Setting.SystemInfo.simulator,e.entry=Global.Setting.SystemInfo.entry.toString()||"",e.sign_type=Global.Setting.SystemInfo.sign_type.toString()||"",e.ios_type=Global.Toolkit.getIosSignType(),e},t.prototype.genRegInfo=function(){var e={};e.packInfo=Global.Setting.ChannelInfo,e.bundleName=Global.Setting.SystemInfo.bundleName,e.appVersion=Global.Setting.SystemInfo.appVersion,e.firstOpenTime=this.getFirstOpenTime(),e.osType=this.getOsType(),e.simulator=Global.Setting.SystemInfo.simulator,e.entry=Global.Setting.SystemInfo.entry.toString()||"",e.ios_type=Global.Toolkit.getIosSignType(),e.udid=Global.Setting.SystemInfo.udid.toString()||"0",e.sign_type=Global.Setting.SystemInfo.sign_type.toString()||"",e.app_sign=Global.Setting.SystemInfo.appSign;var t=Global.Setting.SystemInfo.hallSkin||"",o=Global.Setting.SystemInfo.gameSkin||"",i=Global.Setting.SystemInfo.packageTag||"";return e.tagInfo=cc.js.formatStr("%s|%s|%s",t,o,i),JSON.stringify(e)},t.prototype.getIosSignType=function(){var e=Global.Setting.SystemInfo.entry.toString(),t=Global.Setting.SystemInfo.sign_type.toString(),o=Global.Setting.SystemInfo.nativePlatform;return"TF"==o?7:"TF"==o&&"4"==t?6:"1"==t?"1"==e?1:2:"2"==t?"1"==e?3:4:"3"==t?5:0},t.prototype.secondFormatHMS=function(e){var t="";if(e>-1){var o=Math.floor(e/3600),i=Math.floor(e/60)%60,n=e%60;o<10&&(t+="0"),t+=o+":",i<10&&(t+="0"),t+=i+":",n<10&&(t+="0"),t+=n}return t},t.prototype.genLoadingAppInfo=function(){var e=Global.Setting.SystemInfo.packChannel,t=Global.Setting.SystemInfo.appVersion,o=Global.HotUpdateManager.getNativeHotUpdateVersion("hall",!0)+"_"+e;return Global.AppDun.getDunIsInitByType(c.DUNTYPE.YUN_DUN)&&(o+="_Y"),Global.AppDun.getDunIsInitByType(c.DUNTYPE.ZA_DUN)&&(o+="_Z"),Global.AppDun.getDunIsInitByType(c.DUNTYPE.Ali_DUN)&&(o+="_A"),o=o+"_"+t,Global.Setting.appId+"_"+Global.HotUpdateManager.hallNewVersion},t.prototype.genAppInfo=function(){var e=this.genLoadingAppInfo(),t=Global.Setting.ChannelInfo.getRegistChannel();return Global.Setting.appId+"_"+t+"_"+e},t.prototype.getFirstOpenTime=function(){var e=Global.Setting.storage.get("FirstOpenTime");return null!=e&&""!=e||(e=Date.now().toString(),Global.Setting.storage.set("FirstOpenTime",e)),e},t.prototype.getRoundInteger=function(e,t){return void 0===t&&(t=0),Math.floor(t+Math.random()*(e-t))},t.prototype.getOutOrderArray=function(e){if(!e)return[];for(var t,o,n=i(e),r=n.length;r;)o=Math.floor(Math.random()*r--),t=n[r],n[r]=n[o],n[o]=t;return n},t.prototype.md5=function(e){return null==this.MD5Hasher&&(this.MD5Hasher=r.Hasher._createHelper(n.MD5)),this.MD5Hasher(e).toString()},t.prototype.getClientUuid=function(){return this.uuid++,this.uuid},t.prototype.getOsType=function(){return cc.sys.isNative?cc.sys.os==cc.sys.OS_ANDROID?2:cc.sys.os==cc.sys.OS_IOS?3:1:1},t.prototype.checkMegeServer=function(){var e=Number(Global.Setting.SystemInfo.appID),t=Global.Setting.appId;return!(!t||!e||e==t||Global.Setting.isCloseMegeServer)},t.prototype.getOsTypeStr=function(){var e=this.getOsType();return 2==e?"android":3==e?"ios":"web"},t.prototype.loadWebPic=function(e,t){Global.ResourceManager.load(t,function(t,o){if(t)Logger.error("--------------load pic error-------"+t.msg);else{var i=e.getComponent(cc.Sprite);if(!i)return Logger.error("_________\u627e\u4e0d\u5230Sprite_________");var n=e.width,r=e.height;i.spriteFrame=new cc.SpriteFrame(o),e.width=n,e.height=r}})},t.prototype.getLocalHeadSf=function(e,t,o,i){if(null==e||null==e||""==e)return Logger.error("getLocalHeadSf() sfName is empty, return!!!"),null;if(Number(e)&&Number(e)>Global.Setting.headNameRange){var n=Number(e)%Global.Setting.headNameRange;0==n&&(n=1),e=n.toString()}var r=Global.ResourceManager.getSprite("hall/texture/common/headImg",e);return null==r?(Logger.error("getLocalHeadSf() \u627e\u4e0d\u5230\u5934\u50cf, sfName = "+e+", return!!!"),null):(null!=t&&null!=t&&(o=null!=o?o:t.node.width,i=null!=i?i:t.node.height,t.sizeMode=cc.Sprite.SizeMode.RAW,t.trim=!1,t.spriteFrame=r,t.node.width=o,t.node.height=i),r)},t.prototype.loadLocalHeadFrameByGames=function(e,t,o,i){void 0===o&&(o=!1),void 0===i&&(i=!1);var n="txkuang_vip"+t;return o&&(n+="_guang"),Global.ResourceManager.loadAutoAtlas(e,"hall/texture/hall/game_head_kuang/game_head_kuang",n,function(){e.sizeMode=i?cc.Sprite.SizeMode.CUSTOM:cc.Sprite.SizeMode.RAW,e.trim=!1},!1)},t.prototype.loadLocalHeadFrame=function(e,t,o,i){void 0===o&&(o=!1),void 0===i&&(i=!1);var n=Global.Setting.SkinConfig.playerInfoAtlasPath,r="txkuang_vip"+t;return o&&(r+="_guang"),Global.ResourceManager.loadAutoAtlas(e,n,r,function(){e.sizeMode=i?cc.Sprite.SizeMode.CUSTOM:cc.Sprite.SizeMode.RAW,e.trim=!1},!1)},t.prototype.loadLocalHeadFrameByVip=function(e,t,o,i){void 0===o&&(o=!1),void 0===i&&(i=!1);var n="txkuang_vip"+t;return o&&(n+="_guang"),Global.ResourceManager.loadAutoAtlas(e,"hall/texture/hall/playerInfo/AutoAtlas_playerinfo",n,function(){e.sizeMode=i?cc.Sprite.SizeMode.CUSTOM:cc.Sprite.SizeMode.RAW,e.trim=!1},!1)},t.prototype.loadLocalVip=function(e,t){var o=Global.Setting.SkinConfig.playerInfoAtlasPath,i="icon_v"+t;return Global.ResourceManager.loadAutoAtlas(e,o,i,null,!1)},t.prototype.loadLocalVipIcon=function(e,t){var o=Global.Setting.SkinConfig.playerInfoAtlasPath,i="vip_tq"+t;return Global.ResourceManager.loadAutoAtlas(e,o,i,null,!1)},t.prototype.loadVipIcon=function(e,t){var o="vip_tq"+t;return Global.ResourceManager.loadAutoAtlas(e,"hall/texture/hall/playerInfo/AutoAtlas_playerinfo",o,null,!1)},t.prototype.loadTaskIcon=function(e,t,o){var i=Global.Setting.SkinConfig.playerInfoAtlasPath,n="atlasString"+o;return Global.ResourceManager.loadAutoAtlas(e,i,n,null,!1)},t.prototype.loadLocalVipIconGame=function(e,t){var o=Global.Setting.SkinConfig.playerInfoAtlasPath,i="icon_v"+t;return Global.ResourceManager.loadAutoAtlas(e,o,i,null,!1)},t.prototype.isInteger=function(e){return parseInt(e,10)===e},t.prototype.GetMoneyFormat=function(e){return void 0===e&&(e=0),this.formatPointStr(e,!0,!1)},t.prototype.formatPoint=function(e,t,o){void 0===t&&(t=3),void 0===o&&(o=2);var i=Global.Setting.glodRatio,n=Math.pow(10,o);switch(t){case 1:return Math.round(e*n/i)/n;case 2:var r=e>0?1:-1;return e=Math.abs(e),r*Math.ceil(e*n/i)/n;case 3:return r=e>0?1:-1,e=Math.abs(e),r*Math.floor(e*n/i)/n;default:return Math.round(e*n/i)/n}},t.prototype.dumpRes=function(e){var t=cc.loader._cache,o=[];for(var i in t){var n=t[i];!e&&("js"==n.type||"uuid"==n.type||n.id.indexOf("res/raw-internal")>=0||n.id.indexOf("preview-scene")>=0)||o.push(n)}},t.prototype.formatPointStr=function(e,t,o,i){if(void 0===t&&(t=!1),void 0===o&&(o=!1),!t){var n=this.formatPoint(e,3).toString();return o&&e>=0&&(n="+"+n),n}var r=i||Global.Setting.fixCount,a=this.formatPoint(e,3,i).toFixed(r);return o&&e>=0&&(a="+"+a),a},t.prototype.formateStrWithAsterisk=function(e,t,o){if(void 0===e&&(e=""),void 0===t&&(t=0),void 0===o&&(o=0),""==e)return"";var i=e.length;if(t+o<=i){for(var n=e.substr(0,t),r=e.substr(-o,o),a="",s=0;s<i-t-o;s++)a+="*";return n.concat(a,r)}return"*********"},t.prototype.substrEndWithElli=function(e,t,o){void 0===e&&(e=""),void 0===o&&(o=!1),e=Global.Toolkit.removeEmoji(e);var i=this.getTotalBytes(e),n=t;if(""==e||i<=t)return e;for(var r="",a=0;a<e.length;a++){var s=e.charAt(a);if((n-=this.getByte(s))<0)break;r+=s}return o?r:r+".."},t.prototype.getByte=function(e){return void 0===e&&(e=""),null!=e.match(/[^\x00-\xff]/gi)?2:1},t.prototype.getTotalBytes=function(e){void 0===e&&(e="");for(var t=0,o=0;o<e.length;o++)t+=this.getByte(e[o]);return t},t.prototype.isEmptyObject=function(e){for(var t in e)return!1;return!0},t.prototype.getCirclePoint=function(e,t,o){var i=e.x+t*Math.cos(2*o*Math.PI/360),n=e.y+t*Math.sin(2*o*Math.PI/360);return new cc.Vec3(i,n)},t.prototype.getCircleRandomInPoint=function(e,t){var o=Math.random()*t,i=360*Math.random();return this.getCirclePoint(e,o,i)},t.prototype.getRectRandomInPoint=function(e,t,o){var i=-t/2+Math.random()*t,n=-o/2+Math.random()*o;return e.add(new cc.Vec3(i,n))},t.prototype.getVec2Angle=function(e,t){var o=(t.y-e.y)/(t.x-e.x);return t.x>e.x?180*Math.atan(o)/Math.PI:180*Math.atan(o)/Math.PI+180},t.prototype.getVec2Distance=function(e,t){return t.sub(e).mag()},t.prototype.convertSameNodePos=function(e,t,o){void 0===o&&(o=cc.Vec3.ZERO);var i=e.convertToWorldSpaceAR(o);return t.convertToNodeSpaceAR(i)},t.prototype.GetText=function(e){return(e/1e4).toFixed(2)},t.prototype.initQRCode=function(e,t,o){void 0===o&&(o=10);var i=Global.UIHelper.safeGetComponent(e,"",cc.Graphics);i&&i.clear(),"string"==typeof t?this.QRCreate(i,t,o,e):Logger.log("url is not string",t)},t.prototype.QRCreate=function(e,t,o,i){e.clear(),e.fillColor=cc.Color.WHITE;var n=i.width;e.rect(0-.5*n,0-.5*n,n,n),e.fill(),e.close();var r=new a.QRCode(-1,a.QRErrorCorrectLevel.H);r.addData(t),r.make(),e.fillColor=cc.Color.BLACK;for(var s=n-2*o,l=r.getModuleCount(),c=s/l,p=s/l,h=Math.ceil(c),u=Math.ceil(p),d=0;d<l;d++)for(var f=0;f<l;f++)r.isDark(d,f)&&(e.rect(o+f*c-.5*n,s-p-Math.round(d*p)+o-.5*n,h,u),e.fill())},t.prototype.checkPWFormat=function(e){if(e.length<6||e.length>16)return!1;for(var t=0;t<e.length;t++){var o=e.charAt(t);if(this._pwCheckString.indexOf(o)<0)return!1}return!0},t.prototype.versionCompare=function(e,t){return e===t?0:-1},t.prototype.copyObj=function(e){return e?JSON.parse(JSON.stringify(e)):{}},t.prototype.getDownloadAppInfo=function(){if(cc.sys.isNative&&(null==Global.Setting.ChannelInfo.serverAppInfoContent||""==Global.Setting.ChannelInfo.serverAppInfoContent)){var e={type:2};e.app=Global.Setting.appId.toString(),e.os=Global.Toolkit.getOsTypeStr(),e.sw=Global.Setting.SystemInfo.nativeScreenHeight.toString(),e.sh=Global.Setting.SystemInfo.nativeScreenWidth.toString(),e.sp=Global.Setting.SystemInfo.nativeScreenDensity.toString(),e.li=Global.Setting.SystemInfo.hostIp,e.osBuildModel=Global.Setting.SystemInfo.osBuildModel,e.osBuildVersionSDK=Global.Setting.SystemInfo.osBuildVersionSDK,e.osBuildVersionRelease=Global.Setting.SystemInfo.osBuildVersionRelease,e.device=this.genDeviceInfo(),Global.HallServer.sendClientLog(s.NetClientLog.DownloadAppInfo,e,function(e){if(e){var t={};t.ch=e.pack,t.ic=e.invite_code,Global.Setting.ChannelInfo.serverAppInfoContent=t,(t.ch&&0!=t.ch||t.ic&&0!=t.ic)&&(Global.Setting.ChannelInfo.sourceType=4)}},function(){return!1})}},t.prototype.checkVersionSupport=function(e,t){if(void 0===t&&(t=0),!cc.sys.isNative)return!0;var o=Global.Setting.SystemInfo.appVersion,i=Number(o);return cc.sys.platform==cc.sys.IPHONE&&t&&t>0&&(e=t),!!(isNaN(i)||i>=e)},t.prototype.transmitHallMsg=function(e,t,o,i){if(void 0===i&&(i=1),"string"==typeof e){var n={};n.content=e,n.yFunc=t,n.nFunc=o,n.type=i,Game.DataBridge.msg=n}},t.prototype.transmitHallTip=function(e){Game.DataBridge.fastTipMsg=e},t.prototype.transmitHallWindow=function(e,t){if(null!=e){var o={};o.window=e,o.args=t,Game.DataBridge.cacheShow=o}},t.prototype.reportLog=function(e,t){var o={type:"debug"};o.key=e;var i=Number(Global.Setting.storage.get(l.default.Uid))||0;o.appid=Global.Setting.appId,o.uid=i,o.phone_code=this.getOsTypeStr();try{o.data=JSON.stringify(t)}catch(n){return void Logger.error("encode error",e)}o.device=this.genDeviceInfo(),Global.HallServer.sendClientLog(s.NetClientLog.ClientLogReq,o,null,function(){return!1},!1)},t.prototype.parseTime=function(e,t){if(void 0===t&&(t=""),0===arguments.length)return null;var o,i=t||"{y}-{m}-{d} {h}:{i}:{s}";"object"==typeof e?o=e:("string"==typeof e&&/^[0-9]+$/.test(e)&&(e=parseInt(e)),"number"==typeof e&&10===e.toString().length&&(e*=1e3),o=new Date(e));var n={y:o.getFullYear(),m:o.getMonth()+1,d:o.getDate(),h:o.getHours(),i:o.getMinutes(),s:o.getSeconds(),a:o.getDay()},r=i.replace(/{(y|m|d|h|i|s|a)+}/g,function(e,t){var o=n[t];return"a"===t?["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"][o]:(e.length>0&&o<10&&(o="0"+o),o||0)});return r},t.prototype.LoadPicToNative=function(e,t,o){var i=Global.Toolkit.md5(t),n=jsb.fileUtils.getWritablePath()+i+".jpg";if(jsb.fileUtils.isFileExist(n))this.loadEnd(n,o);else{var r=cc.loader.getXMLHttpRequest();r.onreadystatechange=function(){4===r.readyState&&(200===r.status?this.saveFileToNative(n,r.response,o):this.saveFileToNative(null))}.bind(this),r.responseType="arraybuffer",r.open("GET",e,!0),r.send()}},t.prototype.saveFileToNative=function(e,t,o){void 0!==t?jsb.fileUtils.writeDataToFile(new Uint8Array(t),e)?(Logger.log("Remote write file succeed."),this.loadEnd(e,o)):Logger.log("Remote write file failed."):(Logger.log("Remote download file failed."),o&&o(null))},t.prototype.loadEnd=function(e,t){cc.loader.load(e,function(o,i){o?(jsb.fileUtils.isFileExist(e)&&jsb.fileUtils.removeFile(e),Logger.log(o)):i&&t&&t(i)})},t.prototype.showMoneyNotEnough=function(e){void 0===e&&(e="\u91d1\u5e01\u4e0d\u591f\u5566\uff0c\u8bf7\u524d\u5f80\u5145\u503c\uff01"),Global.UI.showSingleBox(e,function(){Global.UI.show("WndRecharge")})},t.prototype.checkNumValid=function(e){var t=Number(e);return!!t&&!BigNumber(t).gt(Number.MAX_SAFE_INTEGER)},t.prototype.checkMoney=function(e,t){if(void 0===e&&(e="l0"),!t)return Logger.error("\u6e38\u620f\u6570\u636e\u4e3a\u7a7a"),!1;if(t.levels)for(var o=0;o<t.levels.length;o++){var i=t.levels[o].level;if(i&&i==e){var n=t.levels[o].PointLow;if(n&&Global.PlayerData.point<n){var r="\u6e38\u620f\u51c6\u5165"+Global.Toolkit.formatPointStr(n)+"\u91d1\u5e01\uff0c\u8bf7\u60a8\u5145\u503c\u54e6\uff01";return Global.Toolkit.showMoneyNotEnough(r),!1}}}return!0},t.prototype.checkRechargeLimited=function(){return!(!Global.Setting.rechargeLimited||""!=Global.PlayerData.phone||(Global.UI.showSingleBox("\u8be5\u529f\u80fd\u9700\u8981\u7ed1\u5b9a\u624b\u673a\u53f7\u540e\u624d\u80fd\u4f7f\u7528\uff0c\u662f\u5426\u7acb\u5373\u7ed1\u5b9a\u624b\u673a\uff1f",function(){Global.UI.show("WndBindPhone")}),0))},t.prototype.checkMoneyError=function(e){return 102==e&&(Global.UI.showSingleBox("\u91d1\u5e01\u4e0d\u591f\u5566\uff0c\u662f\u5426\u524d\u5f80\u5145\u503c\uff1f",function(){Global.UI.show("WndRecharge")}),!0)},t.prototype.setNodeParent=function(e,t,o){if(void 0===o&&(o=!0),e&&t&&cc.isValid(e)&&cc.isValid(t))if(o){var i=this.convertSameNodePos(e.parent,t,e.position);e.setParent(t),e.setPosition(i)}else e.setParent(t);else Logger.error("\u7236\u5b50\u8282\u70b9\u975e\u6cd5")},t.prototype.formatMillion=function(e){return e>9999?Math.floor(e/1e3)/10+"\u4e07":e<=9999&&e>=-9999?e+"":-Math.floor(Math.abs(e)/1e3)/10+"\u4e07"},t.prototype.CheckGameVersion=function(e){if(null==e||null==e)return!0;var t=Global.GameData.getGameInfo(Global.HotUpdateManager.CurrentGame);return e==t.native_version||!(this.versionCompare(e,t.native_version)<0)},t.prototype.CheckFileExist=function(){return!1},t.prototype.getFirstLoginTime=function(){var e=Global.Setting.storage.get(l.default.BaiduIntervelTimes);return null!=e&&""!=e||(e=(new Date).getTime(),Global.Setting.storage.set(l.default.BaiduIntervelTimes,e)),e},t.prototype.checkIsPlatformShowWX=function(){var e=!0;switch(Global.Setting.SystemInfo.nativePlatform){case"majiabao":case"appstore":case"testflight":case"appstore_sdktype":e=!1}return e},t.prototype.checkIsPlatformShowZhifubao=function(){var e=!0;switch(Global.Setting.SystemInfo.nativePlatform){case"appstore":case"appstore_sdktype":e=!1}return e},t.prototype.SectionToChinese=function(e){for(var t=["\u96f6","","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d"],o=["","\u5341","\u767e","\u5343","\u4e07","\u4ebf","\u4e07\u4ebf","\u4ebf\u4ebf"],i="",n="",r=0,a=!0;e>0;){var s=e%10;0===s?a||(a=!0,n=t[s]+n):(a=!1,i=t[s],n=(i+=o[r])+n),r++,e=Math.floor(e/10)}return n},t.prototype.DealWithUrl=function(e){return"string"==typeof e&&e?encodeURI(e.replace("\t","").trim()):(Logger.error("\u94fe\u63a5\u683c\u5f0f\u4e0d\u5bf9"),null)},t.prototype.strReplaceCtrChar=function(e){return e?e.replace(/[\x00-\x1f]+/g,""):e},t.prototype.compareArraySort=function(e,t){if(!e&&t||e&&!t)return!1;if(e.length!==t.length)return!1;var o=[].concat(e),i=[].concat(t);o=o.sort(),i=i.sort();for(var n=0,r=o.length;n<r;n++)if(o[n]!==i[n])return!1;return!0},t.prototype.AssembyUrl=function(e){var t=Global.PlayerData.uid,o=Global.customApp.getAppID(),i=Global.PlayerData.vip,n=Global.Setting.SystemInfo.appName,r=Global.PlayerData.nickname,a=Global.PlayerData.ip,s=Global.Toolkit.getOsType(),l=Global.PlayerData.point,c=cc.js.formatStr("%s-%s-[%s]-%s-%s-game688@aite",o,1,t,i,r);return e+"&userid="+t+"&appid="+o+"&username="+r+"&appname="+n+"&appkey="+Global.AESUtil.md5(c)+"&vip="+i+"&ip="+a+"&ostype="+s+"&point="+l},t._underscore=null,t}();o.default=u,cc._RF.pop()},{"../../../framework/libs/cryptoTs/algo/MD5":"MD5","../../../framework/libs/cryptoTs/lib/Hasher":"Hasher","../../../framework/libs/qrcode":"qrcode","../../../framework/net/dun/AppDunControl":"AppDunControl","../../../logic/core/tool/ReportTool":"ReportTool","../../hallcommon/const/HallStorageKey":"HallStorageKey","../net/hall/NetEvent":"NetEvent","../scene/SceneManager":"SceneManager",underscore:"underscore"}],TurnTable:[function(e,t,o){"use strict";cc._RF.push(t,"e55a5tKK/hF6IG63Di+00/Q","TurnTable");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../../core/ui/ViewBase"),a=e("../../../../hallcommon/model/ZhuanpanModel"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.frameTime=16,t.atlasPath="hall/texture/hall/activity/activity",t.turnTablePathCrow="hall/texture/hall/turnTableCrow/turnTableCrow",t.shineNode=null,t.clickTime=0,t.speedMax=270,t.speedMin=10,t.speedAdd=160,t.speedReduce=140,t.currSpeed=0,t.speedState=0,t.turnNode=null,t.result=-1,t.awardSpriteArr=[],t.awardLabelArr=[],t.curPanel="silver",t.curPanelIndex=0,t.panelNameArr=["silver","gold","masonry"],t.backgroundSprite=null,t.backgroundSpriteCfg=["img_bywh","img_hjwh","img_zswh"],t.spritePanel=null,t.spritePanelCfg=["img_byzp","img_hjzp","img_zszp"],t.spineStart=null,t.arrowSprite=null,t.arrowSpriteCfg=["img_bycj","img_hjcj","img_zscj"],t.awardSpriteCfg=["hd_13","heijin","jd200","jd1000","jintiao","jd5888","xs"],t.awardCoinCfg=["caijin-01","caijin-02","caijin-03","caijin-04","caijin-05","caijin-06","caijin-07"],t.buttonArr=[],t.img_bydzCfg=["img_bydz","img_hjdz","img_zsdz"],t.img_bydzSprite=null,t.img_byzjCfg=["img_byzj","img_hjkzj","img_zskzj"],t.img_byzjSprite=null,t.img_zsjbNode=null,t.turnTableSpinArr=[],t.turnTableLabelArr=[],t.isChoujiang=!1,t.num=8,t.rotateTime=10,t.time=5,t}return n(t,e),t.prototype.StartChoujiang=function(e,t){var o=this;this.isChoujiang=!0;var i=e,n=360*this.rotateTime+-i*(360/this.num);this.turnNode.rotation%=360;var r=cc.rotateTo(this.time,-n).easing(cc.easeCubicActionInOut());this.turnNode.runAction(cc.sequence(r,cc.callFunc(function(){o.isChoujiang=!1,t&&t()})))},t.prototype.initView=function(){this.clickTime=0,this.result=-1,this.model=Global.ModelManager.getModel("ZhuanpanModel"),this.model.on(a.default.StartDrawLucky,this,this.startDrawLucky),this.model.on(a.default.RefreshPanelUI,this,this.refreshPanel),this.backgroundSprite=this.getComponent("bgNode/panelBg",cc.Sprite),this.spritePanel=this.getComponent("TurnNode/panelNode/spritepanel",cc.Sprite),this.arrowSprite=this.getComponent("arrowNode/drawBtn/sprite_label",cc.Sprite),this.turnNode=this.getChild("TurnNode"),this.shineNode=this.getComponent("arrowNode/spine_choose",sp.Skeleton),this.img_bydzSprite=this.getComponent("img_bydz",cc.Sprite),this.img_byzjSprite=this.getComponent("bgNode/panelBg/img_byzj",cc.Sprite),this.img_zsjbNode=this.getChild("bgNode/panelBg/img_zsjb"),this.spineStart=this.getComponent("arrowNode/spine_qianghongbaoanniu",sp.Skeleton),this.addCommonClick("arrowNode/drawBtn",this.onDrawBtnClicked,this);for(var e=0;e<8;e++)this.awardLabelArr[e]=this.getComponent(cc.js.formatStr("TurnNode/reward/reward_%s/label",e+1),cc.Label),this.awardSpriteArr[e]=this.getComponent(cc.js.formatStr("TurnNode/reward/reward_%s/sprite_icon",e+1),cc.Sprite);for(e=0;e<3;e++){this.turnTableSpinArr[e]=this.getChild("bgNode/zhuanpan_"+e),this.addCommonClick(cc.js.formatStr("TurnBtnGroup/%s",this.panelNameArr[e]),this.onTurnTypeBtnClick,this);var t=[];this.buttonArr[e]=t;var o=this.getChild(cc.js.formatStr("TurnBtnGroup/%s/button_dark",this.panelNameArr[e]));t[0]=o;var i=this.getChild(cc.js.formatStr("TurnBtnGroup/%s/button_light",this.panelNameArr[e]));t[1]=i;var n=this.getChild(cc.js.formatStr("TurnBtnGroup/%s/button_dark/layout/la",this.panelNameArr[e])),r=this.getChild(cc.js.formatStr("TurnBtnGroup/%s/button_light/layout/la",this.panelNameArr[e]));this.turnTableLabelArr[e]=n,this.turnTableLabelArr[e+3]=r}this.turnNode.rotation=0,this.shineNode&&(this.shineNode.node.active=!1)},t.prototype.onDrawBtnClicked=function(){if(!(this.result>=0||this.clickTime>0)){this.spineStart&&this.spineStart.setAnimation(0,"idle2",!1);var e=0,t=1,o=this.model.data;o&&(e=o.coin,t=o[this.curPanel].coin),e<t?Global.UI.fastTip("\u79ef\u5206\u4e0d\u8db3"):(this.clickTime=1,this.model.reqChoujiang(this.curPanelIndex+1))}},t.prototype.onTurnTypeBtnClick=function(e){this.result>=0||(this.shineNode&&(this.shineNode.node.active=!1),this.curPanel!=e.node.name&&(this.curPanel=e.node.name,this.curPanelIndex=this.panelNameArr.indexOf(this.curPanel),this.refreshPanel()))},t.prototype.startDrawLucky=function(e){this.turnNode.rotation=this.turnNode.rotation%360,this.currSpeed=0,this.speedState=1,this.shineNode&&(this.shineNode.node.active=!1),this.result=e,this.starTurn()},t.prototype.starTurn=function(){var e=this;this.StartChoujiang(this.result,function(){e.turnEnd()})},t.prototype.runTurnTable=function(){var e=this.frameTime/1e3;if(this.clickTime>0&&(this.clickTime-=e),this.result>=0){var t=1800-45*this.result,o=this.speedAdd;this.turnNode.rotation>=t-270&&(this.speedState=-1,o=this.speedReduce),this.currSpeed+=e*o*this.speedState,this.speedState>0&&this.currSpeed>this.speedMax?this.currSpeed=this.speedMax:this.speedState<0&&this.currSpeed<this.speedMin&&(this.currSpeed=this.speedMin),this.turnNode.rotation+=this.currSpeed*e,this.turnNode.rotation>=t&&(this.turnNode.rotation=t,this.turnEnd())}},t.prototype.refreshPanel=function(){var e=this.model.data;e&&(this.updateAward(e),this.updateAwardPanel(),this.updateBtn())},t.prototype.updateAward=function(e){if(e)for(var t=0,o=e[this.curPanel],i=0;i<this.awardLabelArr.length;i++){var n=this.awardLabelArr[i],r=this.awardSpriteArr[i],a=o.award[i];if(a){var s=a.name,l=a.type;l>1?(n.string="",r.node.y=250,r.node.scale=1.5,Global.ResourceManager.loadAutoAtlas(r,this.atlasPath,this.awardSpriteCfg[l])):(n.string=""+s,1==l&&(r.node.y=186,r.node.scale=2,Global.ResourceManager.loadAutoAtlas(r,this.atlasPath,this.awardCoinCfg[t]),t+=1))}else r.node.y=186,r.node.scale=2,n.string="",r.spriteFrame=null}},t.prototype.updateAwardPanel=function(){var e=this.backgroundSpriteCfg?this.backgroundSpriteCfg[this.curPanelIndex]:"";e&&Global.ResourceManager.loadAutoAtlas(this.backgroundSprite,this.turnTablePathCrow,e);var t=this.spritePanelCfg?this.spritePanelCfg[this.curPanelIndex]:"";t&&Global.ResourceManager.loadAutoAtlas(this.spritePanel,this.turnTablePathCrow,t);var o=this.arrowSpriteCfg?this.arrowSpriteCfg[this.curPanelIndex]:"";o&&Global.ResourceManager.loadAutoAtlas(this.arrowSprite,this.turnTablePathCrow,o);var i=this.img_bydzCfg?this.img_bydzCfg[this.curPanelIndex]:"";i&&Global.ResourceManager.loadAutoAtlas(this.img_bydzSprite,this.turnTablePathCrow,i);var n=this.img_byzjCfg?this.img_byzjCfg[this.curPanelIndex]:"";n&&Global.ResourceManager.loadAutoAtlas(this.img_byzjSprite,this.turnTablePathCrow,n)},t.prototype.updateBtn=function(){for(var e=this,t=0;t<this.buttonArr.length;t++){var o=this.buttonArr[t];this.curPanelIndex==t?(o[0].active=!1,o[1].active=!0):(o[0].active=!0,o[1].active=!1)}2==this.curPanelIndex?this.img_zsjbNode.active=!0:this.img_zsjbNode.active=!1,this.turnTableSpinArr.forEach(function(e){e.active=!1}),this.turnTableSpinArr[this.curPanelIndex].active=!0;var i=this.model.data;this.turnTableLabelArr.forEach(function(t,o){o<3&&(t.getComponent(cc.Label).string=i[e.panelNameArr[o]].coin,e.turnTableLabelArr[o+3].getComponent(cc.Label).string=i[e.panelNameArr[o]].coin)})},t.prototype.turnEnd=function(){this.timer&&clearTimeout(this.timer),this.currSpeed=0,this.shineNode&&(this.shineNode.node.active=!0),this.spineStart.setAnimation(0,"idle",!0),this.result=-1,this.clickTime=0,this.refreshPanel(),Global.UI.show("WndRebateGet",this.model.awardResult)},t.prototype.onSubViewShow=function(){this.turnNode.rotation=0,this.clickTime=0,this.currSpeed=0,this.result=-1,this.shineNode&&(this.shineNode.node.active=!1),this.refreshPanel()},t.prototype.onSubViewHide=function(){this.timer&&clearTimeout(this.timer)},t.prototype.onDispose=function(){this.timer&&clearTimeout(this.timer),this.model.off(a.default.StartDrawLucky,this,this.startDrawLucky),this.model.off(a.default.RefreshPanelUI,this,this.refreshPanel)},t}(r.default);o.default=s,cc._RF.pop()},{"../../../../core/ui/ViewBase":"ViewBase","../../../../hallcommon/model/ZhuanpanModel":"ZhuanpanModel"}],TurntableView:[function(e,t,o){"use strict";cc._RF.push(t,"88067d1dpVFBbE/KtfWlbMP","TurntableView");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__awaiter||function(e,t,o,i){return new(o||(o=Promise))(function(n,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,s)}l((i=i.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var o,i,n,r,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(e){return function(t){return l([e,t])}}function l(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,i&&(n=2&r[0]?i.return:r[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,r[1])).done)return n;switch(i=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){a.label=r[1];break}if(6===r[0]&&a.label<n[1]){a.label=n[1],n=r;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(r);break}n[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(s){r=[6,s],i=0}finally{o=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=e("../../../../core/ui/ViewBase"),l=e("../../../../hallcommon/model/ZhuanpanModel"),c=e("./TurnTable"),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.speed=30,t.lunboIndex=-1,t.labelArr=[],t.itemArr=new Array,t.maskNode=null,t.xyGapArr=[0,-16,0,26],t.subViewPath={turnTable:"hall/prefabs/ui/ActivityCenter/subView/turnTable"},t.viewKeyTypeMap={turnTable:c.default},t.frameTime=16,t}return n(t,e),t.prototype.initView=function(){this.model=Global.ModelManager.getModel("ZhuanpanModel"),this.model.on(l.default.RefreshRecordUI,this,this.updateIndex),this.model.on(l.default.RefreshScore,this,this.refreshScore);for(var e=0;e<5;e++)this.labelArr[e]=this.getComponent("turnTableView/jifen/label_jifen_"+e,cc.Label);this.addCommonClick("turnTableView/jifen/btn_rule",this.onRuleBtnClicked,this),this.maskNode=this.getChild("turnTableView/lunbo/mask");var t=this.getComponent("turnTableView/lunbo/mask/itemRichText",cc.RichText);for(t.string="",e=0;e<6;e++)e>0&&(t=cc.instantiate(t.node).getComponent(cc.RichText)),this.itemArr.push(t),t.node.setParent(this.maskNode),t.node.y=this.xyGapArr[1]-e*this.xyGapArr[3];this.initSubViewClass(this.viewKeyTypeMap),this.InitScripts()},t.prototype.InitScripts=function(){return r(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,this.initSubView(this.subViewPath,this.viewKeyTypeMap,this.getChild("turnTableView"))];case 1:return e.sent(),[2]}})})},t.prototype.updateIndex=function(e){this.lunboIndex=e},t.prototype.onRuleBtnClicked=function(){Global.UI.show("WndTurntableRule")},t.prototype.refreshScore=function(){var e=this.model.data;e&&(this.labelArr[0].string=""+e.coin,this.labelArr[1].string=""+e.week_login_coin,this.labelArr[2].string=""+e.week_bet_coin,this.labelArr[3].string=""+e.week_share_coin,this.labelArr[4].string=""+e.week_share_bet_coin)},t.prototype.onSubViewShow=function(){this.turnTable.subViewState=!0,this.timer=setInterval(this.runCarousel.bind(this),this.frameTime)},t.prototype.runCarousel=function(){var e=this.frameTime/1e3;if(this.lunboIndex<0)this.UpdateCarouselUI();else for(var t=e*this.speed,o=0;o<this.itemArr.length;o++){var i=this.itemArr[o];i.node.y+=t,i.node.y>=this.xyGapArr[1]+this.xyGapArr[3]&&(i.node.y-=6*this.xyGapArr[3],this.UpdateRichText(i))}},t.prototype.onDispose=function(){this.timer&&clearTimeout(this.timer),this.model.off(l.default.RefreshRecordUI,this,this.updateIndex),this.model.off(l.default.RefreshScore,this,this.refreshScore)},t.prototype.UpdateCarouselUI=function(){if(l.default.instance.lunboDataArr.length>0)for(var e=0;e<this.itemArr.length;e++){var t=this.itemArr[e];this.UpdateRichText(t)}},t.prototype.UpdateRichText=function(e){var t=l.default.instance.lunboDataArr;if(!(t.length<=0)){this.lunboIndex++,this.lunboIndex>=t.length&&(this.lunboIndex=0);var o=t[this.lunboIndex],i=Global.Setting.SkinConfig.zhuanpanColors[0],n=Global.Setting.SkinConfig.zhuanpanColors[1];e.string="\u606d\u559c\u73a9\u5bb6<color="+i+">"+o.name+"</c>\uff0c\u83b7\u5f97<color="+n+">"+o.point_name+"</c>",this.lunboIndex==t.length-1&&l.default.instance.reqLunbo(1e3)}},t.prototype.onSubViewHide=function(){this.timer&&clearTimeout(this.timer)},t}(s.default);o.default=p,cc._RF.pop()},{"../../../../core/ui/ViewBase":"ViewBase","../../../../hallcommon/model/ZhuanpanModel":"ZhuanpanModel","./TurnTable":"TurnTable"}],TweenManager:[function(e,t,o){"use strict";cc._RF.push(t,"a1628sWAJdJB4kPwp0B9tmP","TweenManager"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./YXTween"),n=function(){function e(){this.tweenList=[],this.time=0}return e.prototype.setup=function(){this.actionMgr=new cc.ActionManager,cc.director.getScheduler().scheduleUpdate(this.actionMgr,cc.Scheduler.PRIORITY_SYSTEM,!1)},e.prototype.get=function(e){if(e&&e.isValid){var t=new i.YXTween;return t.target(e),t}Logger.error("TweenManager  target is !isValid!!!!!")},e.prototype.clear=function(){this.actionMgr.removeAllActions()},e.prototype.onUpdate=function(){},e}();o.default=n,cc._RF.pop()},{"./YXTween":"YXTween"}],UIAnimComponent:[function(e,t,o){"use strict";cc._RF.push(t,"cf746QsP1dPAJkADJw4me/S","UIAnimComponent");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,l=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ANIM_TIME=.3,t.BG_ALPHA=178,t.bg=null,t.ui=null,t.target=null,t}return n(t,e),t.prototype.doPopupOpenAnim=function(e){if(null!=this.node&&this.node.isValid){this.ui.scale=.6,this.ui.opacity=255,cc.fadeTo(this.ANIM_TIME,this.BG_ALPHA).easing(cc.easeQuadraticActionInOut());var t=cc.scaleTo(this.ANIM_TIME,1,1).easing(cc.easeBackOut()),o=cc.callFunc(this.onOpenAnimFinish,this,e),i=cc.sequence(t,o);this.bg&&(this.bg.opacity=this.BG_ALPHA,this.bg.active=!0),this.ui&&this.ui.runAction(i),this.setTargetAnimRunning()}else Logger.error("doPopupOpenAnim, this.node == null !!!!!")},t.prototype.doPopupCloseAnim=function(e){if(null!=this.node&&this.node.isValid){var t=cc.fadeTo(.1,0).easing(cc.easeCubicActionIn()),o=cc.fadeTo(.1,1).easing(cc.easeBackIn()),i=cc.callFunc(this.onCloseAnimFinish,this,e),n=cc.sequence(o,i);this.bg&&(this.bg.active=!0,this.bg.runAction(t)),this.ui&&this.ui.runAction(n),this.setTargetAnimRunning()}else Logger.error("doPopupCloseAnim, this.node == null !!!!!")},t.prototype.doFullScreenOpenAnim=function(e,t,o,i){if(e){var n=e.position;e.y+=e.height,e.runAction(cc.moveTo(.2,n).easing(cc.easeCubicActionOut()))}if(t){var r=t.position;t.y+=t.height,t.runAction(cc.moveTo(.3,r).easing(cc.easeBackOut()))}if(o&&o.length>0)for(var a=0;a<o.length;a++){var s=o[a];s.opacity=1,s.runAction(cc.fadeTo(.3,255))}i&&(n=i.position,i.y-=i.height,i.runAction(cc.moveTo(.2,n).easing(cc.easeCubicActionOut())))},t.prototype.setTargetAnimRunning=function(){this.target&&(this.target.isRuningAnim=!0)},t.prototype.onOpenAnimFinish=function(e,t){var o=this;this.target&&(this.target.isRuningAnim=!1,this.target.openAnimFinish&&(this.target.openAnimFinish(),this.target.afterAnimFinish&&Global.Component.scheduleOnce(function(){cc.isValid(o.node)&&o.target.afterAnimFinish()},0))),t&&t()},t.prototype.onCloseAnimFinish=function(e,t){this.target&&(this.target.isRuningAnim=!1,this.target.closeAnimFinish&&this.target.closeAnimFinish()),t&&t()},r([l(cc.Node)],t.prototype,"bg",void 0),r([l(cc.Node)],t.prototype,"ui",void 0),r([s],t)}(cc.Component);o.default=c,cc._RF.pop()},{}],UIHelper:[function(e,t,o){"use strict";cc._RF.push(t,"95bf7q3W45BnqsJJQCDVHQr","UIHelper"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../component/YXButton"),n=e("../component/UIAnimComponent"),r=e("../component/ScrollViewCarmack"),a=e("../component/PaoMaDengComp"),s=e("../component/IntoGameAnimComp"),l=e("../component/ScreenShakeAction"),c=e("../component/WifiComp"),p=e("../component/GameLoadingComp"),h=e("../component/AdmissionBoxComp"),u=e("../component/PrivateMarqueeComp"),d=e("../component/PaoMaDengCompNew"),f=function(){function e(){this.privateMarquee=new u.default}return e.prototype.addCommonClick=function(e,t,o,n,r,a,s){void 0===r&&(r=cc.Button.Transition.SCALE),void 0===s&&(s=!0);var l=this.getChild(e,t);if(null!=l){var c=l.getComponent(cc.Button);c&&!(c instanceof cc.Toggle||c instanceof i.default)&&l.removeComponent(cc.Button);var p=l.getComponent(i.default);return null==p&&((p=l.addComponent(i.default)).transition=r,r==cc.Button.Transition.SCALE&&(p.zoomScale=.8)),l.on("click",function(e){if(p){if(!p.isClickValid)return;null!=a&&0!=a||(a=p.CLICK_INTERVAL),p.isClickValid=!1,p.scheduleOnce(function(){p.isValid&&(p.isClickValid=!0)},p.CLICK_INTERVAL)}s&&Global.Audio.playBtnSound(),null!=o&&(n?o.call(n,e):o(e))}),l}Logger.error("addCommonClick \u627e\u4e0d\u5230\u8282\u70b9",t)},e.prototype.getChild=function(e,t){if(null!=e)return null==t||""==t?e:cc.find(t,e);Logger.error("node is null",t)},e.prototype.getComponent=function(e,t,o){var i=this.getChild(e,t);return null==i?null:i.getComponent(o)},e.prototype.safeGetComponent=function(e,t,o){var i=this.getChild(e,t);if(null==i)return null;if(null==o)return null;var n=i.getComponent(o);return null!=n?n:i.addComponent(o)},e.prototype.addAnimComp=function(e,t,o,i){if(null==e||null==t)return Logger.error("node == null || uiNode == null"),null;var r=this.safeGetComponent(e,"",n.default);return r.ui=t,r.bg=o,r.target=i,r},e.prototype.addScrollViewCarmackComp=function(e,t,o,i,n,a){var s=this.safeGetComponent(e,"",r.default);return s.itemPrefab=t,s.item_setter_caller=n,s.item_setter=a,s.itemNodePadding=o,s.itemOffset=i,s.init(),t.active=!1,s},e.prototype.addPaoMaDengComp=function(e,t,o,i){void 0===t&&(t=!1),void 0===o&&(o=null);var n=this.safeGetComponent(e,"",a.default);return null!=o&&(n.rootNode=o),n.ttf=i,n.init(),t&&n.addDefautMsg(),n},e.prototype.addNewPaoMaDengComp=function(e,t){var o=this;void 0===t&&(t=!1);var i=null;return Global.ResourceManager.loadRes("hall/prefabs/ui/PaoMaDengRootNode",function(n,r){if(null==n){if(null!=r){var a=cc.instantiate(r);if(e&&e.isValid&&(e.addChild(a),a.active=!0),i=o.safeGetComponent(a,"",d.default)){var s=Global.Setting.SkinConfig.getPaomadengPoolLen();i.initNode(s),i.run(t)}}}else Logger.error("\u52a0\u8f7d\u8d44\u6e90\u9519\u8bef")}),i},e.prototype.marqueeShowNode=function(e,t){var o=this;if(this.privateMarquee&&this.privateMarquee.node)this.privateMarquee.node.active=!0,this.privateMarquee.showNode(e);else{if(null==t)return;Global.ResourceManager.loadRes("hall/prefabs/ui/PrivateMarqueeNode",function(i,n){if(null==i){if(null!=n){var r=cc.instantiate(n);r.setParent(t),r.active=!0,o.privateMarquee=o.safeGetComponent(r,"",u.default),o.privateMarquee.node.active=!0,o.privateMarquee.showNode(e)}}else Logger.error("\u52a0\u8f7d\u8d44\u6e90\u9519\u8bef")})}},e.prototype.addPrivateMarqueeComp=function(e){var t=this;null!=e&&Global.ResourceManager.loadRes("hall/prefabs/ui/PrivateMarqueeNode",function(o,i){if(null==o){if(null!=i){var n=cc.instantiate(i);n.setParent(e),n.active=!0,t.privateMarquee=t.safeGetComponent(n,"",u.default),t.privateMarquee.node.active=!1}}else Logger.error("\u52a0\u8f7d\u8d44\u6e90\u9519\u8bef")})},e.prototype.addWifiComp=function(e,t){var o=this;void 0===t&&(t=2),Global.ResourceManager.loadRes("hall/prefabs/ui/wifiNode",function(i,n){if(null==i){if(null!=n){var r=cc.instantiate(n);e&&e.isValid&&(e.addChild(r),r.active=!0);var a=o.safeGetComponent(r,"",c.default);a&&(a.init(t),a.startListen())}}else Logger.error("\u52a0\u8f7d\u8d44\u6e90\u9519\u8bef")})},e.prototype.addAdmissionComp=function(e){var t=this;Global.ResourceManager.loadRes("hall/prefabs/ui/AdmissionBoxNode",function(o,i){if(null==o){if(null!=i){var n=cc.instantiate(i);e&&e.isValid&&(e.addChild(n),n.active=!0);var r=t.safeGetComponent(n,"",h.default);r&&r.init()}}else Logger.error("\u52a0\u8f7d\u8d44\u6e90\u9519\u8bef")})},e.prototype.addIntoGameAnimComp=function(e,t,o,i,n,r,a,s){void 0===a&&(a=[]),void 0===s&&(s=!0);var l=this.getBriefIntoGameAnim(e);return l.loadingNode=t,l.bottomNodeArr=o||[],l.topNodeArr=i||[],l.leftNodeArr=n||[],l.rightNodeArr=r||[],l.middleNodeArr=a||[],s&&l.init(),l},e.prototype.getBriefIntoGameAnim=function(e){return e&&e.isValid?this.safeGetComponent(e,"",s.default):Logger.error("\u6302\u8f7d\u8282\u70b9\u5f02\u5e38")},e.prototype.setNodeGray=function(e,t,o,i){void 0===o&&(o=150),void 0===i&&(i=!1);var n=e.getComponentsInChildren(cc.Sprite);if(n.forEach(function(e){e&&(e.node.color=t?cc.color(o,o,o):cc.color(255,255,255))}),null==n||0==n.length||i){e.color=t?cc.color(o,o,o):cc.color(255,255,255);for(var r=0;r<e.childrenCount;r++)e.children[r].color=e.color}},e.prototype.getScreenShakeAction=function(e,t,o){return void 0===e&&(e=.5),void 0===t&&(t=10),void 0===o&&(o=0),new l.default(e,t,o)},e.prototype.addPolygonButton=function(e){if(!e)throw TypeError("polygon is null or undefined");if(!(e instanceof cc.PolygonCollider))throw TypeError("polygon should be cc.PolygonCollider");this.safeGetComponent(e.node,"","PolygonButtonHit")},e.prototype.getGameLoadingComp=function(){var e=this,t="hall/prefabs/ui/GameLoading/GameLoadingComp",o=Global.ResourceManager.getBundleRes("resources",t,cc.Prefab);if(!o)return Logger.error("error \u672a\u9884\u52a0\u8f7dGameLoadingComp prefab"),new Promise(function(o,i){Global.ResourceManager.loadBundleRes("resources",t,function(t,n){if(t)i(t);else{var r=cc.instantiate(n),a=e.safeGetComponent(r,"",p.default);o(a)}})});var i=cc.instantiate(o);return this.safeGetComponent(i,"",p.default)},e}();o.default=f,cc._RF.pop()},{"../component/AdmissionBoxComp":"AdmissionBoxComp","../component/GameLoadingComp":"GameLoadingComp","../component/IntoGameAnimComp":"IntoGameAnimComp","../component/PaoMaDengComp":"PaoMaDengComp","../component/PaoMaDengCompNew":"PaoMaDengCompNew","../component/PrivateMarqueeComp":"PrivateMarqueeComp","../component/ScreenShakeAction":"ScreenShakeAction","../component/ScrollViewCarmack":"ScrollViewCarmack","../component/UIAnimComponent":"UIAnimComponent","../component/WifiComp":"WifiComp","../component/YXButton":"YXButton"}],UIManagerEx:[function(e,t,o){"use strict";cc._RF.push(t,"e1e77CDS7VPdpHtAszMRC7t","UIManagerEx"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function e(){this.uiList=[],this.uiList=[]}return Object.defineProperty(e,"Instance",{get:function(){return null==this._instance&&(this._instance=new e),this._instance},enumerable:!1,configurable:!0}),e.prototype.openUI=function(e,t){var o=this;cc.loader.loadRes(e,function(e,i){if(e)Logger.error(e.message||e);else{var n=cc.instantiate(i);n.parent=cc.Canvas.instance.node,o.uiList.push(n);for(var r=0;r<o.uiList.length;r++)if(o.uiList[r]&&""!==o.uiList[r].name){var a=o.uiList[r].getComponent("uiPanel");a&&a.isTop&&a.node.setSiblingIndex(99999)}t&&t(n)}})},e.prototype.closeUI=function(e){for(var t=this.uiList.length-1;t>=0;t--)if(this.uiList[t]&&e===this.uiList[t]){e.destroy(),this.uiList.splice(t,1);break}},e.prototype.findUI=function(e){for(var t=this.uiList.length-1;t>=0;t--){var o=this.uiList[t];if(o&&o.name===e)return o}return null},e._instance=null,e}();o.default=i,cc._RF.pop()},{}],UIManager:[function(e,t,o){"use strict";cc._RF.push(t,"795e1Jx9oBC2Irr2CquCDzH","UIManager"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./WndBase"),n=e("../../hall/ui/common/FastTip"),r=e("../component/UIAnimComponent"),a=e("../scene/SceneManager"),s=e("../component/BlackBgComp"),l=e("../component/YXButton"),c=e("../tool/AppHelper"),p=function(){function e(){this.MainLayer="MainLayer",this.FullScreenLayer="FullScreenLayer",this.PopLayer="PopLayer",this.TipsLayer="TipsLayer",this.layerMap={},this.windowMap={},this.showWindowList=[],this.bMessageBoxInGame=!1}return e.prototype.setup=function(e){this.resourceMgr=e,this.fastTipMgr=new n.default},e.prototype.enterSceneInit=function(){cc.debug.setDisplayStats(!1),cc.sys.garbageCollect(),"HallScene"==cc.director.getScene().name?cc.game.setFrameRate(Global.Setting.HallFPSConfig):cc.game.setFrameRate(Global.Setting.FPSConfig)},e.prototype.initUIRoot=function(e){void 0===e&&(e=!1),this.enterSceneInit(),this.clearAllUIPrefab(),Global.Persist.setState(!1),e?Global.ResourceManager.releaseHelper.adjustByIphone6():Global.ResourceManager.releaseHelper.clearUnuseAssets();var t=cc.find("Canvas");if(null!=t){this.canvasNode=t;var o=t.getComponent(cc.Canvas);this.adjuestCanvasScreenStretch(o);var i=t.getChildByName("HUIRoot");null==i&&((i=new cc.Node("HUIRoot")).zIndex=10,t.addChild(i)),this.uiRoot=i,this.addUILayer(i,this.MainLayer),this.addUILayer(i,this.FullScreenLayer),this.addUILayer(i,this.PopLayer),this.addUILayer(i,this.TipsLayer),this.loadCommonBg(),this.fastTipMgr.initTip(this.layerMap[this.TipsLayer])}else Logger.error("\u627e\u4e0d\u5230Canvas")},e.prototype.RestorePersistNode=function(){for(var e in Global.Persist.setState(!0),this.windowMap)this.windowMap[e]&&this.windowMap[e].destoryType==i.DestoryType.Persist&&this.windowMap[e].node&&this.windowMap[e].node.isValid&&this.windowMap[e].active&&Global.Persist.saveToPool(this.windowMap[e].name,this.windowMap[e].node,!0);for(var t=["WndGameLobbyShell"],o=0;o<t.length;o++)if(e=t[o]){var n=this.getWindow(e);if(!n||!n.active){var r=Global.Persist.getFromPool(e);cc.isValid(r)&&(r.removeFromParent(!0),r.destroy(),r=null);continue}}},e.prototype.adjuestCanvasScreenStretch=function(e){var t=cc.winSize;if(Global.Setting.SystemInfo.orientationLandscape){e.designResolution=cc.size(1280,720);var o=e.designResolution;t.width/t.height>=o.width/o.height?(e.fitHeight=!0,e.fitWidth=!1):(e.fitHeight=!0,e.fitWidth=!0)}else e.designResolution=cc.size(720,1280),e.fitHeight=!1,e.fitWidth=!0},e.prototype.addUILayer=function(e,t){var o=e.getChildByName(t);null==o&&(o=new cc.Node(t),e.addChild(o)),this.layerMap[t]=o},e.prototype.getLayer=function(e){return this.layerMap[e]},e.prototype.registUI=function(e){null==this.windowMap[e.name]?this.windowMap[e.name]=e:Logger.error("\u91cd\u590d\u6ce8\u518cUI",e.name)},e.prototype.getWindow=function(e){return null==this.windowMap[e]?(Logger.error("\u6ca1\u6709\u6ce8\u518c\u754c\u9762\uff01\uff01\uff01\u9700\u8981\u5148\u6ce8\u518c",e),null):this.windowMap[e]},e.prototype.show=function(e){for(var t=this,o=[],n=1;n<arguments.length;n++)o[n-1]=arguments[n];if(null!=this.windowMap[e]){var r=this.windowMap[e];if(r.args=o,r.isLoading)r.active=!0;else{if(r.isLoaded)return 1==r.active?(this.addToTop(r),void r.reshow()):void this.openWindowInternal(r);if(r.active=!0,r.loadingState=i.LoadingState.Loading,null!=r.resPath&&""!=r.resPath){if(r.destoryType==i.DestoryType.Persist){var a=Global.Persist.getFromPool(r.name);if(a)return void this.onWindowLoaded(r,null,a,!0)}this.resourceMgr.loadRes(r.resPath,function(o,i){Logger.log("show window",e),t.onWindowLoaded(r,o,i)},null,null,!1,!0)}else Logger.error("\u672a\u8bbe\u7f6e\u754c\u9762\u8d44\u6e90\u8def\u5f84\uff01\uff01\uff01",r.name)}}else Logger.error("\u6ca1\u6709\u6ce8\u518c\u754c\u9762\uff01\uff01\uff01\u9700\u8981\u5148\u6ce8\u518c",e)},e.prototype.close=function(e){var t=this.getWindow(e);Logger.log("close wnd",e),null!=t&&t.isLoaded&&t.active?this.realClose(t):Logger.log("-----close "+e)},e.prototype.closeHallLoading=function(){},e.prototype.showHallLoading=function(){},e.prototype.dispose=function(e){var t=this.getWindow(e);null!=t&&t.loadingState!=i.LoadingState.None&&(t.destoryType==i.DestoryType.Persist&&t.active||(t.loadingState=i.LoadingState.None,t.dispose(),null!=t.node&&cc.isValid(t.node)&&(t.node.removeFromParent(!0),t.node.destroy(),t.node=null),t.releaseRes()))},e.prototype.onWindowLoaded=function(e,t,o,n){var a=this;if(void 0===n&&(n=!1),(null==t||(Logger.error("\u52a0\u8f7dUI\u51fa\u9519",e.name,t.message),Logger.error("msg",JSON.stringify(t)),null!=o))&&this.uiRoot.isValid){if(e.loadingState=i.LoadingState.Loaded,e.destoryType==i.DestoryType.Persist)if(n)e.setNode(o);else{var p=cc.instantiate(o);e.setNode(p)}else e.setNode(cc.instantiate(o));if(e.isNeedDelay&&(e.active=!1),c.default.afterWindowInit(e.name,e.node,e),e.node.active=e.active,null!=e.commonBg&&e.commonBg.isValid&&(e.commonBg.removeFromParent(),e.commonBg.destroy(),e.commonBg=null),this.bgTemplate&&(e.commonBg=cc.instantiate(this.bgTemplate),Global.UIHelper.safeGetComponent(e.commonBg,"",s.default).window=e,e.commonBg)){var h=e.commonBg.getComponent(l.default);null==h&&((h=e.commonBg.addComponent(l.default)).transition=null),e.commonBg.on("click",function(){h.isClickValid&&(h.isClickValid=!1,h.scheduleOnce(function(){h.isValid&&(h.isClickValid=!0)},1),a.realClose(e))})}e.animComp=Global.UIHelper.safeGetComponent(e.node,"",r.default),(e.active||e.isNeedDelay)&&this.openWindowInternal(e)}},e.prototype.realClose=function(e){e.realClose(),this.removeWindowFromShowList(e),this.doCloseAnim(e)},e.prototype.doCloseAnim=function(e){e.animComp&&e.layer==this.PopLayer?e.animComp.doPopupCloseAnim():e.commonBg&&(e.commonBg.active=!1,e.active=!1)},e.prototype.addToTop=function(e){if(e.isLoaded){var t=this.layerMap[e.layer];null==t&&(t=this.layerMap[this.PopLayer]),e.node.isValid?null!=t&&t.isValid&&(e.node.setParent(null),e.layer==this.PopLayer&&e.showBg&&e.commonBg&&(e.commonBg.removeFromParent(!1),t.addChild(e.commonBg)),t.addChild(e.node)):this.dispose(e.name)}},e.prototype.openWindowInternal=function(e){this.showWindowList.indexOf(e)>-1&&Logger.error("!!!! \u91cd\u590dadd window",e),this.showWindowList.push(e),this.addToTop(e),e.isNeedDelay?(e.tryOpen(e.args),e.animComp.bg=e.commonBg,e.animComp.ui=e.node,e.animComp.target=e):(e.active=!0,e.open(e.args),this.openWindowByLayer(e))},e.prototype.openWindowByLayer=function(e){e.layer==this.PopLayer?(e.active=!0,e.animComp.bg=e.commonBg,e.animComp.ui=e.node,e.animComp.target=e,e.animComp.doPopupOpenAnim()):e.layer==this.FullScreenLayer?(e.node.opacity=1,Global.Component.frameEnd(function(){e.node.opacity=255,e.afterOpen()})):e.active=!0},e.prototype.removeWindowFromShowList=function(e){for(var t=this.showWindowList.length-1;t>=0;t--)this.showWindowList[t]==e&&this.showWindowList.splice(t,1)},e.prototype.loadCommonBg=function(){var e=this;this.resourceMgr.loadRes("hall/prefabs/ui/CommonBg",function(t,o){if(null==t){e.bgTemplate=cc.instantiate(o),e.bgTemplate.active=!1;var i=e.bgTemplate.getComponent(cc.Widget);i&&(i.target=e.canvasNode)}else Logger.error("hall/prefabs/ui/CommonBg  \u52a0\u8f7d\u5931\u8d25")})},e.prototype.clearAllUIPrefab=function(){for(var e in this.windowMap)this.dispose(e);this.bgTemplate&&cc.isValid(this.bgTemplate)&&(this.bgTemplate.destroy(),this.bgTemplate=null),this.showWindowList=[],this.fastTipMgr.clearAll()},e.prototype.closeAllUIPrefab=function(e){void 0===e&&(e=!1),this.showHallLoading();for(var t=this.showWindowList.length-1;t>=0;t--)if(null==this.showWindowList[t])Logger.error("showWindowList[i] == null ~!!!!!",t);else{if(this.showWindowList[t].layer==this.MainLayer&&e||this.showWindowList[t].layer==this.FullScreenLayer&&e)continue;if("WndNetWaiting"==this.showWindowList[t].name)continue;this.showWindowList[t].close()}},e.prototype.scaleAnim=function(e){e.node.scale=.4,e.node.runAction(cc.scaleTo(.2,1).easing(cc.easeBackOut()))},e.prototype.onUpdate=function(e){this.fastTipMgr.onUpdate(e)},e.prototype.showAlertBox=function(e,t,o,i,n){void 0===i&&(i=!0),void 0===n&&(n=!0),this.show("WndMessageBox",e,2,t,o,i,n,!0)},e.prototype.showSingleBox=function(e,t,o,i,n){if(void 0===i&&(i=!0),void 0===n&&(n=!0),Global.SceneManager.sceneType==a.SceneType.Game&&this.bMessageBoxInGame){var r=[e,2,t,o,i,n];Game.Event.event(Game.EVENT_MESSAGE_BOX,r)}else this.show("WndMessageBox",e,2,t,o,i,n)},e.prototype.showYesNoBox=function(e,t,o,i){if(void 0===i&&(i=!0),Global.SceneManager.sceneType==a.SceneType.Game&&this.bMessageBoxInGame){var n=[e,1,t,o,i];Game.Event.event(Game.EVENT_MESSAGE_BOX,n)}else this.show("WndMessageBox",e,1,t,o,i)},e.prototype.SetMessageBoxInGame=function(e){this.bMessageBoxInGame=e},e.prototype.fastTip=function(e){this.fastTipMgr.show(e)},e.prototype.showPortraitScreenNotice=function(e,t){this.show("WndScreenPortraitNotice",e,t)},e}();o.default=p,cc._RF.pop()},{"../../hall/ui/common/FastTip":"FastTip","../component/BlackBgComp":"BlackBgComp","../component/UIAnimComponent":"UIAnimComponent","../component/YXButton":"YXButton","../scene/SceneManager":"SceneManager","../tool/AppHelper":"AppHelper","./WndBase":"WndBase"}],UIPannel:[function(e,t,o){"use strict";cc._RF.push(t,"c93dfeLkPpGX4MICzb+llRn","UIPannel");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,l=(a.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isTop=!1,t.nodeDict=[],t}return n(t,e),t.prototype.onLoad=function(){var e=function(t,o){for(var i=t.children,n=0;n<i.length;n++){var r=i[n].name;if(r&&r.indexOf("key_")>=0){var a=r.substring(4);o[a]&&Logger.error("\u63a7\u4ef6\u540d\u5b57\u91cd\u590d!"+i[n].name),o[a]=i[n]}i[n].childrenCount>0&&e(i[n],o)}}.bind(this);e(this.node,this.nodeDict)},t.prototype.onDestroy=function(){},r([s],t)}(cc.Component));o.default=l,cc._RF.pop()},{}],UIUtil:[function(e,t,o){"use strict";cc._RF.push(t,"4965c+FkCBOyoScIn90bvi4","UIUtil"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../libs/qrcode"),n=function(){function e(){}return e.prototype.adjustIphoneX=function(e,t,o){if(void 0===t&&(t=60),void 0===o&&(o=!1),null!=e&&cc.sys.isNative&&Global.Setting.SystemInfo.isIphoneX)for(var i=0;i<e.length;i++){var n=e[i];if(null!=n&&n.isValid){var r=n.getComponent(cc.Widget);r&&(o?r.top+=t:r.left+=t)}}},e.prototype.setNodeParent=function(e,t,o){if(void 0===o&&(o=!0),e&&t&&cc.isValid(e)&&cc.isValid(t))if(o){var i=this.convertSameNodePos(e.parent,t,e.position);e.setParent(t),e.setPosition(i)}else e.setParent(t);else Logger.error("\u7236\u5b50\u8282\u70b9\u975e\u6cd5")},e.prototype.convertSameNodePos=function(e,t,o){void 0===o&&(o=cc.Vec3.ZERO);var i=e.convertToWorldSpaceAR(o);return t.convertToNodeSpaceAR(i)},e.prototype.loadWebPic=function(e,t){Global.ResourceManager.load(t,function(t,o){if(t)Logger.error("--------------load pic error-------"+t.msg);else{var i=e.getComponent(cc.Sprite);if(!i)return Logger.error("_________\u627e\u4e0d\u5230Sprite_________");var n=e.width,r=e.height;i.spriteFrame=new cc.SpriteFrame(o),e.width=n,e.height=r}})},e.prototype.getLocalHeadSf=function(e,t,o,i){if(null==e||null==e||""==e)return Logger.error("getLocalHeadSf() sfName is empty, return!!!"),null;if(Number(e)&&Number(e)>Global.Setting.headNameRange){var n=Number(e)%Global.Setting.headNameRange;0==n&&(n=1),e=n.toString()}var r=Global.ResourceManager.getSprite("hall/texture/common/headImg",e);return null==r?(Logger.error("getLocalHeadSf() \u627e\u4e0d\u5230\u5934\u50cf, sfName = "+e+", return!!!"),null):(null!=t&&null!=t&&(o=null!=o?o:t.node.width,i=null!=i?i:t.node.height,t.sizeMode=cc.Sprite.SizeMode.RAW,t.trim=!1,t.spriteFrame=r,t.node.width=o,t.node.height=i),r)},e.prototype.loadLocalHeadFrame=function(e,t,o){void 0===o&&(o=!1);var i=Global.Setting.SkinConfig.playerInfoAtlasPath,n="txkuang_vip"+t;return o&&(n+="_guang"),Global.ResourceManager.loadAutoAtlas(e,i,n,function(){e.sizeMode=cc.Sprite.SizeMode.RAW,e.trim=!1},!1)},e.prototype.loadLocalVip=function(e,t){var o=Global.Setting.SkinConfig.playerInfoAtlasPath,i="icon_v"+t;return Global.ResourceManager.loadAutoAtlas(e,o,i,null,!1)},e.prototype.loadLocalVipIcon=function(e,t){var o=Global.Setting.SkinConfig.playerInfoAtlasPath,i="vip_tq"+t;return Global.ResourceManager.loadAutoAtlas(e,o,i,null,!1)},e.prototype.loadLocalVipIconGame=function(e,t){var o=Global.Setting.SkinConfig.playerInfoAtlasPath,i="icon_v"+t;return Global.ResourceManager.loadAutoAtlas(e,o,i,null,!1)},e.prototype.initQRCode=function(e,t,o){void 0===o&&(o=10);var i=Global.UIHelper.safeGetComponent(e,"",cc.Graphics);i&&i.clear(),"string"==typeof t?this.QRCreate(i,t,o,e):Logger.log("url is not string",t)},e.prototype.QRCreate=function(e,t,o,n){e.clear(),e.fillColor=cc.Color.WHITE;var r=n.width;e.rect(0-.5*r,0-.5*r,r,r),e.fill(),e.close();var a=new i.QRCode(-1,i.QRErrorCorrectLevel.H);a.addData(t),a.make(),e.fillColor=cc.Color.BLACK;for(var s=r-2*o,l=a.getModuleCount(),c=s/l,p=s/l,h=Math.ceil(c),u=Math.ceil(p),d=0;d<l;d++)for(var f=0;f<l;f++)a.isDark(d,f)&&(e.rect(o+f*c-.5*r,s-p-Math.round(d*p)+o-.5*r,h,u),e.fill())},e}();o.default=n,cc._RF.pop()},{"../libs/qrcode":void 0}],UpdateHelper:[function(e,t,o){"use strict";cc._RF.push(t,"07f417AVShLSo57UKtvGcl+","UpdateHelper"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../tool/Toolkit"),n=function(){function e(e,t,o,i){this._url="",this._gameType="",this._skin="",this._storage_path="",this._root_folder="",this._proj_cfg_file="",this._ver_cfg_file="",this._downloaded_storage_key="",this._root_folder=e,this._proj_cfg_file=t,this._ver_cfg_file=o,this._downloaded_storage_key=i}return e.prototype.init=function(e,t){void 0===t&&(t=null);var o=t;null==o&&(o=""),Logger.log("game XXXXX skilFolderName = ",o),o&&this.skin(o),this.gameType(e),this.genUrl(),this.genStoragePath(),this.url(this.genUrl()),this.storagePath(this.genStoragePath())},e.prototype.gameType=function(e){return e&&(this._gameType=e),this._gameType},e.prototype.url=function(e){return e&&(this._url=e),this._url},e.prototype.skin=function(e){return e&&(this._skin=e),this._skin},e.prototype.storagePath=function(e){return e&&(this._storage_path=e),this._storage_path},e.prototype.rootFolder=function(e){return e&&(this._root_folder=e),this._root_folder},e.prototype.prjFileName=function(e){return e&&(this._proj_cfg_file=e),this._proj_cfg_file},e.prototype.verFileName=function(e){return e&&(this._ver_cfg_file=e),this._ver_cfg_file},e.prototype.genStoragePath=function(e){return cc.sys.isNative?(e=e||this.gameType(),(jsb.fileUtils?jsb.fileUtils.getWritablePath():"/")+this.rootFolder()+"/"+e):""},e.prototype.genUrl=function(e,t){return t=t||this.gameType(),Global.HotUpdateManager.hotUpdateUrl+"/"+t},e.prototype.downloaded=function(e){i.default.underscore.isNull(e)&&this.gameType(),e=e||this.gameType();var t=this._downloaded_storage_key+e;cc.sys.localStorage.setItem(t,e)},e.prototype.clearDownloaded=function(e){e=e||this.gameType();var t=this._downloaded_storage_key+e;cc.sys.localStorage.setItem(t,""),Global.HotUpdateManager.removeNativeHotUpdateDir(e)},e.prototype.isDownloaded=function(e){e=e||this.gameType();var t=this._downloaded_storage_key+e;return cc.sys.localStorage.getItem(t)===e.toString()},e.prototype.showUI=function(){},e}();o.default=n,cc._RF.pop()},{"../tool/Toolkit":"Toolkit"}],UrlUtil:[function(require,module,exports){"use strict";cc._RF.push(module,"659c8JofOlDxKdtOZ/J66uw","UrlUtil"),Object.defineProperty(exports,"__esModule",{value:!0}),exports.UrlUtil=void 0;var HallStorageKey_1=require("../../hallcommon/const/HallStorageKey"),UrlUtil=function(){function UrlUtil(){this.mutiLinesSplit=[",",";","|"],this.decimalDict="fgHijUvWXAbcdEyzKLMnOpqRst"}return UrlUtil.prototype.getHostFromUrl=function(e){if(null==e||""==e)return e;var t=e.split("//"),o=e;t.length>1&&(o=t[1]);var i=(t=o.split("/"))[0];return i.indexOf(":")>-1&&(i=i.split(":")[0]),i},UrlUtil.prototype.getPortFromUrl=function(e){if(null==e||""==e)return null;var t=e.split("//"),o=e;t.length>1&&(o=t[1]);var i=(t=o.split("/"))[0],n=null;return i.indexOf(":")>-1&&(n=i.split(":")[1]),n&&Number(n)?Number(n):null},UrlUtil.prototype.domainURI=function(e){if(!e)return"";var t=e.split("/"),o="";return t[2]&&(o=t[0]+"//"+t[2]),o},UrlUtil.prototype.getHttpReffer=function(e){var t=this.domainURI(e),o=e.replace(t,"");return this.getPlatformSign(o)},UrlUtil.prototype.getPlatformSign=function(e,t){t||(t=Global.Setting.signKey);var o=null;if(cc.sys.isNative){var i=Global.NativeEvent.getLoginSign(t,e);o=i&&0==i.result?i.funcParam:this.getSign(t,e)}else o=this.getSign(t,e);return o},UrlUtil.prototype.getSign=function(e,t){var o=Global.AESUtil.md5(t);o=o.substring(0,o.length/2);var i=Global.AESUtil.md5(e);i=i.substring(i.length/2);var n=Global.AESUtil.md5(o+i);return n.substring(5,15)},UrlUtil.prototype.dealServerUrl=function(e,t){var o=e.address,i=e.protocol;o.indexOf("...")>0&&(i.startsWith("wss")&&(i="ws://"),o.split("...")[0].indexOf(":")>0?i.startsWith("https")?i="http://":Logger.error("head not startsWith https "):Logger.error("ipPortUrl not :"),e.protocol=i),null!=t&&0!=t&&80!=t&&443!=t&&(e.port=t)},UrlUtil.prototype.getCacertPath=function(){if(jsb&&jsb.fileUtils.isFileExist("cacert.pem")){var e=jsb.fileUtils.fullPathForFilename("cacert.pem");return Logger.error("use native path",e),e}return cc.url.raw("resources/hall/cacert1.pem")},UrlUtil.prototype.DealWithUrl=function(e){return"string"==typeof e&&e?e.replace("\t","").trim():(Logger.error("\u94fe\u63a5\u683c\u5f0f\u4e0d\u5bf9"),null)},UrlUtil.prototype.getUrlParamCommonPrefex=function(){return"_"+this.EncodeAppid(Global.Setting.appId)+"/"},UrlUtil.prototype.EncodeAppid=function(e){var t="",o=0,i=Number(e);do{t=(26>(o=i%26)&&o>=0?this.decimalDict.substring(o,o+1):o.toString())+t,i=Math.floor(i/26)}while(0!=i);return t},UrlUtil.prototype.getUrlCommonParam=function(){var e=this.getTimeEndFixParam();return"uid="+Global.PlayerData.uid+"&token="+Global.PlayerData.token+"&appver="+Global.Setting.SystemInfo.appVersion+"&os="+Global.Toolkit.getOsType()+"&m="+e},UrlUtil.prototype.getLoginCommonParam=function(){var e=Number(Global.Setting.storage.get(HallStorageKey_1.default.Uid))||0,t=this.getTimeEndFixParam();return"uid="+e+"&appver="+Global.Setting.SystemInfo.appVersion+"&os="+Global.Toolkit.getOsType()+"&n="+(new Date).valueOf()+"&m="+t},UrlUtil.prototype.getTimeEndFixParam=function(){var e=new Date;return e.getHours().toString()+e.getMinutes().toString()+e.getSeconds().toString()+e.getMilliseconds()},UrlUtil.prototype.dealHttpSign=function(e){var t=e.getUrl(),o={sign_url:"",headSign:"",endSign:""},i=this.refreshSuffixOperTime(t),n=this.getQueryString(i,"s"),r="",a="",s=i.indexOf("?")>0?"&s=":"?s=";if(n){var l=i.replace("&s="+n,"");r=this.getHttpReffer(l),i=l+s+(a=this.getHttpReffer(l+s+r))}else r=this.getHttpReffer(i),i=i+s+(a=this.getHttpReffer(i+s+r));if(e.isEncrptUrl){var c=this.getHostFromUrl(i),p=i.split(c);if(p&&p.length>0){var h=p[0],u=p[1];i=h+c+"/"+Global.AESUtil.aesEncryptWithCommonKey(u)}}return o.sign_url=i,o.headSign=r,o.endSign=a,o},UrlUtil.prototype.dealWebSocketUrl=function(e){if("string"==typeof e)return Logger.log("dealWebSocketUrl url = string"),e;var t=e.getUrl();if(t.indexOf("...")>0)return Logger.log("dealWebSocketUrl url contains ... "),this.dealHttpSign(e).sign_url;if(t.startsWith("wss"))return Logger.log("dealWebSocketUrl address start wss  version < 20016"),this.dealHttpSign(e).sign_url;Logger.log("dealWebSocketUrl getHttpRequestDNSInfo before "+e.printSelf()),Global.DNS.getHttpRequestDNSInfo(e,0),Logger.log("dealWebSocketUrl getHttpRequestDNSInfo after "+e.printSelf());var o=this.dealHttpSign(e).sign_url;if(o){var i=o;return Logger.log("dealWebSocketUrl url ",i),i}Logger.log("dealWebSocketUrl sign_url error "+e.getUrl())},UrlUtil.prototype.getQueryString=function(e,t){var o=new RegExp("(\\?|&)"+t+"=([^&?]*)","i"),i=e.match(o);return null!=i?unescape(i[2]):null},UrlUtil.prototype.replaceUrlParmVal=function(url,paramName,replaceValue){var urlRet=url;if(url){var re=eval("/("+paramName+"=)([^&]*)/gi"),nUrl=url.replace(re,paramName+"="+replaceValue);urlRet=nUrl}return urlRet},UrlUtil.prototype.refreshSuffixOperTime=function(e){return e&&(this.getQueryString(e,"n")&&(e=this.replaceUrlParmVal(e,"n",(new Date).valueOf())),this.getQueryString(e,"m")&&(e=this.replaceUrlParmVal(e,"m",this.getTimeEndFixParam()))),e},UrlUtil.prototype.refreshSuffixRetryTime=function(e,t){return e?e=this.getQueryString(e,"c")?this.replaceUrlParmVal(e,"c",t):e+"&c="+t:e},UrlUtil.prototype.checkIsIp=function(e){return!(!e||!/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/.test(e))},UrlUtil.prototype.getSelfSignCerPath=function(e){if(!cc.sys.isNative)return cc.url.raw("resources/hall/cert/"+e+".crt");if(jsb&&jsb.fileUtils.isFileExist(e)){var t=jsb.fileUtils.fullPathForFilename(e);return Logger.log("getSelfSignCerPath cerName fileFullPath ",e,t),t}Logger.log("cerName not exist "+e)},UrlUtil.prototype.setRouteUrlCer=function(e){var t=Global.Setting.SystemInfo.cerDirFiles;if(t&&t.length>0){for(var o=!1,i=0;i<t.length;i++){var n=t[i];if(n&&n.indexOf(".cer")>-1||n.indexOf(".crt")>-1){var r=n.split("/"),a=r[r.length-1].replace(".cer",""),s=e.addressHost.toLowerCase();if(a&&s.indexOf(a.toLowerCase())>-1){Logger.log("cer file name = "+a),Logger.log("cer fileFullName  = "+n),e.cerName=n,e.cerPath=n,o=!0;break}}}Logger.log("isHasCerFile = "+o)}else Logger.log("cerDirFiles has no file")},UrlUtil.prototype.checkIsMutiLinesSameHost=function(e){var t=!1;if(e){for(var o=0;o<this.mutiLinesSplit.length;o++){var i=this.mutiLinesSplit[o];if(e.indexOf(i)>0){t=!0;break}}return t}},UrlUtil.prototype.getMutiLinesSameHost=function(e){var t=null;if(e){for(var o=0;o<this.mutiLinesSplit.length;o++){var i=this.mutiLinesSplit[o];if(e.indexOf(i)>0){t=e.split(i);break}}return t}},UrlUtil.prototype.transferUrlArrayToRoutes=function(e){if(!e||0==e.length)return e;for(var t=[],o=0;o<e.length;o++){var i={host:e[o],url_type:1,us_port:0,lo_type:0};t.push(i)}return t},UrlUtil.prototype.dealFullUrlWithMutiLinesSameHost=function(e){var t=cc.js.createMap();if(e&&e.length>0){for(var o=0;o<e.length;o++){var i=e[o],n="",r="",a="";i.startsWith("https")?n="https":i.startsWith("http")?n="http":i.startsWith("wss")?n="wss":i.startsWith("ws")&&(n="ws");var s=i.split("//"),l=i;s.length>1&&(l=s[1]);var c=(s=l.split("/"))[0];if(c.indexOf(":")>-1){r=c.split(":")[0];var p=c.split(":")[1];p&&Number(p)&&(p=Number(p))}else r=c;if(s.length>1)for(var h=1;h<s.length;h++)a=a+"/"+s[h];if(r&&r.indexOf("...")>0){var u=r.split("...");if(u&&u.length>0){var d=u[0],f=u[1];if(this.checkIsMutiLinesSameHost(d)){var g=this.getMutiLinesSameHost(d);if(g&&g.length>0){for(var m=[],y=0;y<g.length;y++){var b=n+"://"+g[y]+"..."+f+a;m.push(b)}t[i]=m}}}}}for(var v in t){var _=t[v],S=-1;for(o=0;o<e.length;o++)e[o]==v&&(S=o);S>-1&&(e.splice(S,1),e=_.concat(e)),Logger.error("dealFullUrlWithMutiLinesSameHost urls = "+JSON.stringify(e))}}return e},UrlUtil.prototype.formatServerUrl=function(e,t,o){var i="";return t.indexOf("...")>0&&(e.startsWith("wss")&&(e="ws://"),t.split("...")[0].indexOf(":")>0?e.startsWith("https")?e="http://":Logger.error("head not startsWith https "):Logger.error("ipPortUrl not :")),i=e+t,null!=o&&0!=o&&80!=o&&443!=o&&(i=i+":"+o),i},UrlUtil.prototype.replaceUrlParam=function(e,t){if(!e)return e;var o=(e=Global.Toolkit.strReplaceCtrChar(e)).split("?");if(o.length<2)return Logger.error("\u6ca1\u6709\u989d\u5916\u53c2\u6570"),e;o[1];for(var i=0;i<t.length;i++){var n=t[i],r=o[1].lastIndexOf(n.param);-1!=r&&(o[1]=o[1].substr(0,r)+n.value+o[1].substr(r+n.param.length))}return o.join("?")},UrlUtil}();exports.UrlUtil=UrlUtil,cc._RF.pop()},{"../../hallcommon/const/HallStorageKey":"HallStorageKey"}],Urls:[function(e,t,o){"use strict";cc._RF.push(t,"a709ccp0atPDKqmdYUq80Oo","Urls"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./ServerRoutes"),n=e("./Setting"),r=e("../../hallcommon/const/HallStorageKey"),a=e("../../hall/AppCfg"),s=e("../../hallcommon/app/SkinConfig"),l=function(){function e(){this.dataUrls=["https://m2se2wh81.vyfdm.com/c"],this.downLoadUrl="",this.inviteUrl="",this.hallHotUpdateUrl="",this.hallHotUpdateUrlArray=[],this.appHotUpdateUrlArray=[],this.appVersion="",this.appParam="",this.appHotUpdateUrl="",this.onlineService="",this.diantaiUrl="https://res.yanzizg.com/588/hall/diantai/"}return e.prototype.parse=function(e){e.invite_url&&(this.inviteUrl=Global.Toolkit.DealWithUrl(e.invite_url)),e.diantaiUrl&&this.setDianTaiUrl(Global.Toolkit.DealWithUrl(e.diantaiUrl)),(e.routes||e.entrance)&&this.setRoutes(e)},e.prototype.setDownloadUrl=function(e){e&&(this.downLoadUrl=e)},e.prototype.setDianTaiUrl=function(e){e&&(this.diantaiUrl=e)},e.prototype.setRoutes=function(e){var t=[],o=e.routes,n=Global.Setting.storage.get(r.default.VIPLevel)||0;if(o&&o.length>0){for(var a=0;a<o.length;a++){var s=o[a];if(s)n>=(s.vip||0)?(t[t.length]=s,Logger.error("push route "+JSON.stringify(s))):Logger.error("--------selfVipLevel < vip ");else Logger.error("--------route------length = 0 ")}t.sort(function(e,t){var o=e.vip?e.vip:0;return(t.vip?t.vip:0)-o})}else Logger.error("--------entrance------length = 0 ");var l=Global.Setting.storage.getObject(r.default.LoginRoutes);if(l&&l.length>0){var c=new i.default;c.parse(l),c.getRouteLen()>0?(Logger.error("loginServerRoutes set lroutes"),t&&t.length>0&&(t=l.concat(t))):Logger.error("loginServerRoutes len = 0")}0==t.length&&(t=o),t&&(this._globalRoutes=new i.default,this._globalRoutes.parse(t),null==this._hallRoutes&&(this._hallRoutes=new i.default,this._hallRoutes.parseWs(t)))},Object.defineProperty(e.prototype,"globalRoutes",{get:function(){var e=this._globalRoutes;if(!e){var t=Global.Setting.storage.get(r.default.AppConfigContent);if(null==t||""==t)return void Logger.error("get globalRoutes error ----- ");var o=this.safeDecode(t);if(null==o)return void Logger.error("get globalRoutes safeDecode localCfg error----- ");this.setRoutes(o),e=this._globalRoutes}return e},set:function(e){e&&(this._globalRoutes=e)},enumerable:!1,configurable:!0}),e.prototype.sortLoginRoutes=function(){this.globalRoutes&&this.globalRoutes.sortRoutes()},e.prototype.sortHallRoutes=function(e){this._hallRoutes&&(null!=e||null!=e?(Logger.error("sortHallRoutes index = "+e),this._hallRoutes.sortRoutesByIndex(e)):this._hallRoutes.sortRoutes())},e.prototype.sortGameRoutes=function(){this._gameRoutes?this._gameRoutes.sortRoutes():this._hallRoutes&&this._hallRoutes.sortRoutes()},e.prototype.safeDecode=function(e){var t=null;try{var o=Global.AESUtil.decodeMsg(e);null!=(t=JSON.parse(o)).routes&&t.routes.length&&0!=t.routes.length||(t=null,Logger.error("data routes is null "))}catch(i){Logger.error("load app error",e),t=null}return t},Object.defineProperty(e.prototype,"hallRoutes",{get:function(){var e=this._hallRoutes;return e||Logger.error("hallRoutes error"),e},set:function(e){e&&(this._hallRoutes=e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gameRoutes",{get:function(){return this._gameRoutes||(Logger.error("g_routes error"),this.hallRoutes)},set:function(e){e&&(this._gameRoutes=e)},enumerable:!1,configurable:!0}),e.prototype.initLoginInfo=function(e){this.hallUrl=e},Object.defineProperty(e.prototype,"hallHttpUrl",{get:function(){var e=Global.UrlUtil.getUrlCommonParam();return this.hallUrl+"%s?_func=%s&"+e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hallUrlSuffix",{get:function(){var e=Global.UrlUtil.getUrlCommonParam();return"/mini/"+Global.UrlUtil.getUrlParamCommonPrefex()+"%s?_func=%s&"+e},enumerable:!1,configurable:!0}),e.prototype.getinviteUrl=function(){return this.inviteUrl},e.prototype.getForceUpdateUrl=function(){return this.forceUpateUrl},e.prototype.setInviteUrl=function(e){null!=e&&""!=e&&(e.indexOf("http")<0?Logger.error("\u94fe\u63a5\u683c\u5f0f\u4e0d\u5bf9",e):(e=e.replace("\uff1f","?"),this.inviteUrl=Global.Toolkit.DealWithUrl(e)))},e.prototype.getBackUrl=function(){return this.downLoadUrl+"#backup"},e.prototype.getDataNameWithServerType=function(e){var t="";switch(e){case n.ServerType.DEVELOP:t="develop";break;case n.ServerType.INTEST:switch(a.default.SKIN_TYPE){case s.SkinType.purple:t="1005_intest";break;case s.SkinType.dark:t="688_intest";break;case s.SkinType.red:t="1003_intest";break;case s.SkinType.blue:t="1004_intest";break;case s.SkinType.fantasy:t="1005_intest";break;case s.SkinType.green:t="1006_intest";break;case s.SkinType.legend:t="1007_intest";break;case s.SkinType.darkgold:t="1010_intest";break;case s.SkinType.blue2:t="1008_intest";break;case s.SkinType.newBlue:t="3002_intest";break;default:t="1001_intest"}break;case n.ServerType.RELEASE:t="6315";break;case n.ServerType.K8S:t="xianggang_test";break;case n.ServerType.THS:t="100101";break;case n.ServerType.THSINTEST:t="8006"}return t},e}();o.default=l,cc._RF.pop()},{"../../hall/AppCfg":"AppCfg","../../hallcommon/app/SkinConfig":"SkinConfig","../../hallcommon/const/HallStorageKey":"HallStorageKey","./ServerRoutes":"ServerRoutes","./Setting":"Setting"}],Utf8:[function(e,t,o){"use strict";cc._RF.push(t,"4578fZA98lE/auRhmK3k1Fw","Utf8"),Object.defineProperty(o,"__esModule",{value:!0}),o.Utf8=void 0;var i=e("./Latin1"),n=function(){function e(){}return e.stringify=function(e){try{return decodeURIComponent(escape(i.Latin1.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},e.parse=function(e){return i.Latin1.parse(unescape(encodeURIComponent(e)))},e}();o.Utf8=n,cc._RF.pop()},{"./Latin1":"Latin1"}],ViewBase:[function(e,t,o){"use strict";cc._RF.push(t,"b8edd0A4ABED6YkUJn/7xm+","ViewBase");var i=this&&this.__awaiter||function(e,t,o,i){return new(o||(o=Promise))(function(n,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,s)}l((i=i.apply(e,t||[])).next())})},n=this&&this.__generator||function(e,t){var o,i,n,r,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(e){return function(t){return l([e,t])}}function l(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,i&&(n=2&r[0]?i.return:r[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,r[1])).done)return n;switch(i=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){a.label=r[1];break}if(6===r[0]&&a.label<n[1]){a.label=n[1],n=r;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(r);break}n[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(s){r=[6,s],i=0}finally{o=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0}),o.LoadingState=void 0;var r,a=function(){function e(){this.viewList=[],this._loadingState=r.None,this._active=!1}return Object.defineProperty(e.prototype,"subViewState",{get:function(){return this._subViewState},set:function(e){this._subViewState!=e&&(this._subViewState=e,this.loadingState==r.Loaded&&cc.isValid(this.node)&&(this.node.active=e,e?this.onSubViewShow():this.onSubViewHide()))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loadingState",{get:function(){return this._loadingState},set:function(e){1==this.subViewState&&e==r.Loaded&&(this.onSubViewShow(),cc.isValid(this.node)&&(this.node.active=!0)),this._loadingState=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return this._active},set:function(e){this._active=e,this.node&&cc.isValid(this.node)&&(this.node.active=e)},enumerable:!1,configurable:!0}),e.prototype.setNode=function(e){null!=e&&(this.node=e,this.initView())},e.prototype.initView=function(){},e.prototype.onOpen=function(){},e.prototype.onClose=function(){},e.prototype.onDispose=function(){},e.prototype.onSubViewShow=function(){},e.prototype.onSubViewHide=function(){},e.prototype.getComponent=function(e,t){if(null==this.node)return null;if(""==e||null==e)return this.node.getComponent(t);var o=cc.find(e,this.node);return null==o?null:o.getComponent(t)},e.prototype.getChild=function(e){return""===e?this.node:cc.find(e,this.node)},e.prototype.addCommonClick=function(e,t,o,i,n){return void 0===i&&(i=cc.Button.Transition.SCALE),Global.UIHelper.addCommonClick(this.node,e,t,o,i,n)},e.prototype.addView=function(e,t,o,i){void 0===i&&(i=null);var n=this.getView(e);return null!=n?(Logger.error("\u91cd\u590d\u6ce8\u518c\u5b50View"),n):null!=t?((n=new o).internalEvent=this.internalEvent,n.setNode(t),n.loadingState=r.Loaded,n.viewKey=e,this.viewList.push(n),null!=i&&(n.subViewState=i),n):void Logger.error("\u6ca1\u6709\u7ed9\u5b50View\u8bbe\u7f6e\u8282\u70b9")},e.prototype.initSubView=function(e,t,o){var r=this;if(e&&t&&o){var a=[];for(var s in e)e.hasOwnProperty(s)&&a.push(s);return new Promise(function(s){i(r,void 0,void 0,function(){var i,r,l,c;return n(this,function(n){switch(n.label){case 0:return a.length>0?(i=a.shift(),r=null,e.hasOwnProperty(i)&&(r=e[i]),l=this,c=i,[4,this.addSubView(i,t[i],r,o)]):[3,2];case 1:return l[c]=n.sent(),[3,0];case 2:return s(),[2]}})})})}},e.prototype.initSubViewClass=function(e){if(e)for(var t in e)e.hasOwnProperty(t)&&(this[t]=this.initOneSubView(t,e[t]))},e.prototype.initOneSubView=function(e,t){var o=this.getView(e);return null!=o?(Logger.error("\u91cd\u590d\u6ce8\u518c\u5b50View"),o):((o=new t).internalEvent=this.internalEvent,o.viewKey=e,this.viewList.push(o),o)},e.prototype.addSubView=function(e,t,o,a){return i(this,void 0,void 0,function(){var i,s;return n(this,function(n){switch(n.label){case 0:return null==(i=this.getView(e))&&((i=new t).internalEvent=this.internalEvent,i.viewKey=e,this.viewList.push(i)),i.loadingState=r.Loading,[4,this.getSubView(o)];case 1:return(s=n.sent())?(i.setNode(s),s.active=!1,a.addChild(s),i.loadingState=r.Loaded,[2,i]):[2,null]}})})},e.prototype.getSubView=function(e){return i(this,void 0,void 0,function(){return n(this,function(t){switch(t.label){case 0:return e?[4,this.loadOneNode(e)]:[2];case 1:return[2,t.sent()]}})})},e.prototype.loadOneNode=function(e){return new Promise(function(t){Global.ResourceManager.loadRes(e,function(o,i){null!=o&&Logger.error(e,"\u52a0\u8f7d\u5931\u8d25");var n=cc.instantiate(i);cc.isValid(n)&&t(n)})})},e.prototype.getView=function(e){for(var t=0;t<this.viewList.length;t++)if(this.viewList[t].viewKey==e)return this.viewList[t];return null},e.prototype.open=function(e){this.active&&this.onOpen(e)},e.prototype.tryOpen=function(e){this.onOpen(e)},e.prototype.dispose=function(){this.onDispose(),this.callAllView("onDispose"),this.viewList=[]},e.prototype.resetState=function(){},e.prototype.closeAllSubView=function(e){for(var t=0;t<this.viewList.length;t++){var o=this.viewList[t];o&&(o.subViewState=o==e,o.realClose())}},e.prototype.callAllView=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];for(var i=0;i<this.viewList.length;i++){var n=this.viewList[i];n[e]&&n[e].apply(n,t),n&&n.callAllView(e,t)}},e.prototype.realClose=function(){for(var e=0;e<this.viewList.length;e++){var t=this.viewList[e];t&&(t.subViewState=!1,t.realClose())}},e.prototype.callView=function(e,t){for(var o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];var n=this.getView(e);return null==n?(Logger.error("\u627e\u4e0d\u5230view",e),null):n[t]?n[t].apply(n,o):null},e}();o.default=a,function(e){e[e.None=1]="None",e[e.Loading=2]="Loading",e[e.Loaded=3]="Loaded"}(r=o.LoadingState||(o.LoadingState={})),cc._RF.pop()},{}],ViewMediator:[function(e,t,o){"use strict";cc._RF.push(t,"4b35dDfcmdCqYVTHZzU5Kg2","ViewMediator");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../HallConst"),a=function(e){function t(){return e.call(this)||this}return n(t,e),t.prototype.listNotificationInterests=function(){return e.prototype.listNotificationInterests.call(this),[r.default.PUSH_VIEW]},t.prototype.handleNotification=function(e){var t=e.getName(),o=(e.getBody(),e.getType());Logger.log("notification ========="+e.toString()),t==r.default.PUSH_VIEW&&o==r.default.HALL_SCENE&&Logger.log("----------------show something--------")},t}(puremvc.Mediator);o.default=a,cc._RF.pop()},{"../HallConst":"HallConst"}],ViewSet:[function(e,t,o){"use strict";cc._RF.push(t,"e91d8wlImhPmJ9vBGNAjBsR","ViewSet"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function e(){this.viewMap={}}return e.prototype.registView=function(e,t){null==this.viewMap[e]?this.viewMap[e]=t:Logger.error("\u91cd\u590d\u6ce8\u518c\u7ec4\u4ef6",e)},e.prototype.getView=function(e){return null==this.viewMap[e]&&Logger.error("\u627e\u4e0d\u5230\u7ec4\u4ef6",e),this.viewMap[e]},e.prototype.getViewEx=function(e){return this.getView(e)},e.prototype.callView=function(e,t){for(var o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];var n=this.getView(e);return n[t]&&n[t].apply?n[t].apply(n,o):null},e.prototype.callAll=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];for(var i in this.viewMap){var n=this.getView(i);n[e]&&n[e].apply&&n[e].apply(n,t)}},e}();o.default=i,cc._RF.pop()},{}],VipGiftViewItem:[function(e,t,o){"use strict";cc._RF.push(t,"77aabBFgOBLk5TdSnHEpTDi","VipGiftViewItem");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../../hallcommon/model/PlayerInfoModel"),s=e("./WndVip3"),l=cc._decorator,c=l.ccclass,p=l.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iconSpriteList=[],t.giftNameSpriteList=[],t.iconSprite=null,t.nameSprite=null,t.progress=null,t.progressLabel=null,t.awardTipLabel=null,t.awardLabel=null,t.currentAwardTipLabel=null,t.currentAwardLabel=null,t.nextAwardTipLabel=null,t.nextAwardLabel=null,t.awardBtn=null,t.awardBtnSpriteList=[],t.awardBtn_bg=[],t.awardBtn_lb=[],t.awardBtn_lbimg=null,t.type=-1,t.data=null,t.btnState=-1,t.isLimited=!1,t}return n(t,e),t.prototype.onLoad=function(){Global.UIHelper.addCommonClick(this.node,"awardBtn",this.reqGetAward,this)},t.prototype.reqGetAward=function(){var e=this;if(this.isLimited)Global.UI.fastTip("\u64cd\u4f5c\u8fc7\u4e8e\u9891\u7e41\uff0c\u6e05\u7a0d\u540e\uff01");else{this.isLimited=!0,setTimeout(function(){e.isLimited=!1},1e3);var t=this.getItemIndex(this.data),o=this.data.list[t].level,i={};if(i.type=this.type,i.level=o,Global.PlayerData.vip)if(0===this.type&&Global.PlayerData.vip<o)Global.UI.fastTip("\u60a8\u7684VIP\u7b49\u7ea7\u4e0d\u7b26\u5408!");else{var n=1===this.type?this.data.week:this.data.month,r=n.pay,a=n.code-n.need_code>=0&&0!==n.need_code;r||0===this.type?a||0===this.type?Global.HallServer.send(NetAppface.mod,NetAppface.NewReciveVipReward,i,function(i){if(i.point){var n=Global.Toolkit.md5(Global.PlayerData.uid);Global.Setting.storage.set(n,o),Global.UI.show("WndRebateGet",i.point);var r={};r.index=t,r.type=e.type,Global.Event.event(GlobalEvent.UPDATEVIPDATA,r)}},function(e){Global.UI.fastTip(e._errstr)},!1):Global.UI.fastTip("\u60a8\u7684\u6253\u7801\u91cf\u4e0d\u8db3!"):Global.UI.fastTip("\u8bf7\u60a8\u5145\u503c\u540e\u518d\u6765\u9886\u53d6!")}else Global.UI.fastTip("\u60a8\u7684VIP\u7b49\u7ea7\u4e3a0!")}},t.prototype.refreshUI=function(e,t,o){if(this.type=t,this.data=e,e&&e.list){this.iconSprite.spriteFrame=this.iconSpriteList[t],this.nameSprite.spriteFrame=this.giftNameSpriteList[t];var i=Global.PlayerData.vip;switch(t){case s.ItemType.LEVEL:if(e.list.length>=o&&i>0){var n=this.getItemIndex(e),r=e.list[n].level,l=e.list[n].status,c=e.list[n].point;this.progress.progress=1,this.progressLabel.string="1/1",0===l&&i>=r?(this.awardLabel.string=c/Global.Setting.glodRatio+"",this.awardTipLabel.string="VIP"+r+"\u5f69\u91d1\u5956\u52b1",this.awardBtn.spriteFrame=this.awardBtn_bg[0],this.awardBtn_lbimg.spriteFrame=this.awardBtn_lb[0],this.btnState=0):(this.btnState=2,e.list.length>r?(this.progress.progress=0,this.progressLabel.string="0/1",this.awardTipLabel.string="VIP"+r+"\u5f69\u91d1\u5956\u52b1",this.awardBtn.spriteFrame=this.awardBtn_bg[1],this.awardBtn_lbimg.spriteFrame=this.awardBtn_lb[4],this.awardLabel.string=e.list[n].point/Global.Setting.glodRatio+""):(this.progress.progress=1,this.progressLabel.string="1/1",this.awardTipLabel.string="VIP"+r+"\u5f69\u91d1\u5956\u52b1",this.awardBtn.spriteFrame=this.awardBtnSpriteList[1],this.awardBtn.spriteFrame=this.awardBtn_bg[1],this.awardBtn_lbimg.spriteFrame=this.awardBtn_lb[1],this.awardLabel.string=e.list[r-1].point/Global.Setting.glodRatio+""))}else this.btnState=2,this.progress.progress=0,this.progressLabel.string="0/1",this.awardLabel.string=e.list[0].point/Global.Setting.glodRatio+"",this.awardTipLabel.string="VIP1\u5f69\u91d1\u5956\u52b1",this.awardBtn.spriteFrame=this.awardBtn_bg[1],this.awardBtn_lbimg.spriteFrame=this.awardBtn_lb[4];break;case s.ItemType.MONTH:case s.ItemType.WEEK:var p=1===t?e.week:e.month,h=p.pay,u=p.last_get,d=p.code-p.need_code>=0&&0!==p.need_code;if(p.need_code?(this.progress.progress=p.code/p.need_code,this.progressLabel.string=Math.floor(p.code/Global.Setting.glodRatio)+"/"+p.need_code/Global.Setting.glodRatio):(this.progress.progress=0,this.progressLabel.string="0/0"),u||0===p.last_vip){this.btnState=2,this.awardTipLabel.node.active=!1,this.awardLabel.node.active=!1,this.awardLabel.node.parent.active=!1;var f=p.now_vip_point/Global.Setting.glodRatio+"",g=p.next_vip_point/Global.Setting.glodRatio+"";if(this.currentAwardLabel.string=f,this.currentAwardLabel.node.active=!0,this.currentAwardLabel.node.parent.active=!0,this.currentAwardTipLabel.string=1===t?"\u672c\u5468VIP"+i+"\u793c\u91d1":"\u672c\u6708VIP"+i+"\u793c\u91d1",this.currentAwardTipLabel.node.active=!0,1===t?(this.awardBtn.spriteFrame=this.awardBtn_bg[1],this.awardBtn_lbimg.spriteFrame=this.awardBtn_lb[2]):(this.awardBtn.spriteFrame=this.awardBtn_bg[1],this.awardBtn_lbimg.spriteFrame=this.awardBtn_lb[3]),this.nextAwardLabel.node.active=!0,this.nextAwardLabel.string=g,i>=a.default.instance.vip_cfg.length)return this.awardTipLabel.node.active=!0,this.awardLabel.node.active=!0,this.awardLabel.node.parent.active=!0,this.awardTipLabel.string=1===t?"\u672c\u5468VIP"+i+"\u793c\u91d1":"\u672c\u6708VIP"+i+"\u793c\u91d1",this.awardLabel.string=""+f,this.currentAwardLabel.node.active=!1,this.currentAwardLabel.node.parent.active=!1,this.currentAwardTipLabel.node.active=!1,this.nextAwardLabel.node.active=!1,this.nextAwardTipLabel.node.active=!1,void(this.nextAwardTipLabel.node.parent.active=!1);this.nextAwardTipLabel.node.active=!0,this.nextAwardTipLabel.node.parent.active=!0,this.nextAwardTipLabel.string="\u5347\u7ea7VIP"+(i+1)+"\u793c\u91d1"}else this.awardTipLabel.node.active=!0,this.awardTipLabel.string=1===t?"\u4e0a\u5468VIP"+p.last_vip+"\u793c\u91d1":"\u4e0a\u6708VIP"+p.last_vip+"\u793c\u91d1",this.awardLabel.node.active=!0,this.awardLabel.node.parent.active=!0,this.awardLabel.string=p.last_point/Global.Setting.glodRatio+"",d&&h?(this.btnState=0,this.awardBtn.spriteFrame=this.awardBtn_bg[0],this.awardBtn_lbimg.spriteFrame=this.awardBtn_lb[0]):(this.btnState=1,this.awardBtn.spriteFrame=this.awardBtn_bg[0],this.awardBtn_lbimg.spriteFrame=this.awardBtn_lb[5]),this.currentAwardLabel.node.active=!1,this.currentAwardLabel.node.parent.active=!1,this.currentAwardTipLabel.node.active=!1,this.nextAwardLabel.node.active=!1,this.nextAwardTipLabel.node.active=!1,this.nextAwardTipLabel.node.parent.active=!1}}},t.prototype.getItemIndex=function(e){if(!e||!e.list)return 0;for(var t=0;t<e.list.length;t++){var o=e.list[t];if(o&&!o.status)return t}return a.default.instance.vip_cfg.length-1},r([p([cc.SpriteFrame])],t.prototype,"iconSpriteList",void 0),r([p([cc.SpriteFrame])],t.prototype,"giftNameSpriteList",void 0),r([p(cc.Sprite)],t.prototype,"iconSprite",void 0),r([p(cc.Sprite)],t.prototype,"nameSprite",void 0),r([p(cc.ProgressBar)],t.prototype,"progress",void 0),r([p(cc.Label)],t.prototype,"progressLabel",void 0),r([p(cc.Label)],t.prototype,"awardTipLabel",void 0),r([p(cc.Label)],t.prototype,"awardLabel",void 0),r([p(cc.Label)],t.prototype,"currentAwardTipLabel",void 0),r([p(cc.Label)],t.prototype,"currentAwardLabel",void 0),r([p(cc.Label)],t.prototype,"nextAwardTipLabel",void 0),r([p(cc.Label)],t.prototype,"nextAwardLabel",void 0),r([p(cc.Sprite)],t.prototype,"awardBtn",void 0),r([p([cc.SpriteFrame])],t.prototype,"awardBtnSpriteList",void 0),r([p([cc.SpriteFrame])],t.prototype,"awardBtn_bg",void 0),r([p([cc.SpriteFrame])],t.prototype,"awardBtn_lb",void 0),r([p(cc.Sprite)],t.prototype,"awardBtn_lbimg",void 0),r([c],t)}(cc.Component);o.default=h,cc._RF.pop()},{"../../../hallcommon/model/PlayerInfoModel":"PlayerInfoModel","./WndVip3":"WndVip3"}],VipGiftView:[function(e,t,o){"use strict";cc._RF.push(t,"9b272O0S9FCU5XkRvQwWkKa","VipGiftView");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./VipGiftViewItem"),s=cc._decorator,l=s.ccclass,c=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.itemList=[],t}return n(t,e),t.prototype.initView=function(){for(var e=0;e<3;e++){var t=cc.find("item_"+e,this.node);t&&this.itemList.push(t)}},t.prototype.refreshUI=function(e,t){for(var o=0;o<3;o++)if(this.itemList.length>=o&&this.itemList[o]){var i=this.itemList[o].getComponent(a.default);i&&i.refreshUI(e,o,t)}},r([l],t)}(cc.Component));o.default=c,cc._RF.pop()},{"./VipGiftViewItem":"VipGiftViewItem"}],VipPayView:[function(e,t,o){"use strict";cc._RF.push(t,"97f5dr8Aw5O+pqMyQUWhb87","VipPayView");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/ui/ViewBase"),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.initView=function(){this.model=Global.ModelManager.getModel("RechargeModel"),this.sv=this.getComponent("scrollView",cc.ScrollView),this.svContent=this.getChild("scrollView/view/content"),this.copyNode=this.getChild("scrollView/view/content/vipItem"),this.copyNode.active=!1,this.initListView()},t.prototype.initListView=function(){this.listView=Global.UIHelper.addScrollViewCarmackComp(this.sv.node,this.copyNode,10,0,this,function(e,t,o){new l(e,o)})},t.prototype.updateScrollView=function(e){var t=e||[];this.listView.clearView(),Global.Toolkit.isEmptyObject(t)||(this.listView.allDatas=Global.Toolkit.getOutOrderArray(t),this.listView.updateView())},t.prototype.onSubViewShow=function(){},t.prototype.onSubViewHide=function(){},t}(r.default);o.default=a;var s=e("../../../hallcommon/model/ServicerModel"),l=function(e){function t(t,o){var i=e.call(this)||this;return i.data=o,i.iconList=[],i.extCfg=["\u82b1\u5457","\u4fe1\u7528\u5361","qq\u94b1\u5305"],i.payType={1e3:1,1001:0,1002:2},i.oldPayType={1:1,2:0,3:2},i.setNode(t),i}return n(t,e),t.prototype.initView=function(){this.vipHeadSp=this.getComponent("leftNode/headImg",cc.Sprite),this.w=this.vipHeadSp.node.width,this.h=this.vipHeadSp.node.height,this.vipNameLbl=this.getComponent("leftNode/vipNameLbl",cc.Label),this.creditNode=this.getChild("leftNode/layout/creditNode"),this.creditTypeLbl=this.getComponent("leftNode/layout/creditNode/type",cc.Label),this.iconList=[];for(var e=1;e<=3;e++){var t=this.getChild("rightNode/iconList/icon"+String(e));t.active=!1,this.iconList.push(t)}this.xingNode=this.getChild("leftNode/layout/xingList"),this.salesLabel=this.getComponent("rightNode/sales",cc.Label),this.getChild("rightNode/payBtn").off("click"),this.addCommonClick("rightNode/payBtn",this.openVipService,this),this.setItemStyle()},t.prototype.openVipService=function(){if(!Global.Toolkit.checkRechargeLimited())if(this.data.ptype==s.CustomerEntranceType.QuickPayService)Global.ChatServer.serverType=s.CustomerEntranceType.QuickPayService,Global.ChatServer.userSetting(this.data);else{var e=this.data.open_type,t=this.data.url;switch(e){case 0:if(!t)return void Global.UI.fastTip("\u914d\u7f6e\u5f02\u5e38");String(t).indexOf("http")<0&&(t="http://"+t),cc.sys.openURL(Global.Toolkit.DealWithUrl(t));break;case 1:Global.UI.show("WndRechargeVipShow",this.data);break;case 2:if(!t)return void Global.UI.fastTip("\u914d\u7f6e\u5f02\u5e38");Global.ChatServer.userSetting(null,t);break;case 3:if(!t)return void Global.UI.fastTip("\u914d\u7f6e\u5f02\u5e38");String(t).indexOf("http")<0&&(t="http://"+t),t=Global.Toolkit.AssembyUrl(t),cc.sys.openURL(Global.Toolkit.DealWithUrl(t))}}},t.prototype.setItemStyle=function(){this.vipNameLbl.string=Global.Toolkit.substrEndWithElli(this.data.name,14),this.setIconList(),this.setCredit(),this.setHead(),this.setXingXing()},t.prototype.setIconList=function(){var e=this.data.pay_type||[];if(this.data.ptype==s.CustomerEntranceType.QuickPayService)for(var t in e)null!=(o=this.payType[e[t]])&&null!=o&&(this.iconList[o].active=!0);else for(var t in e){var o;null!=(o=this.oldPayType[e[t]])&&null!=o&&(this.iconList[o].active=!0)}},t.prototype.setCredit=function(){var e=this,t=this.data.ext_type||[];if(t.length>0){this.creditNode.active=!0;var o="";t.forEach(function(t,i){i>0&&(o+="\xb7"),o+=e.extCfg[t-1]}),this.creditTypeLbl.string=o,this.creditNode.width=50+60*t.length}else this.creditNode.active=!1},t.prototype.setHead=function(){var e=this.data.head_url||"1";this.vipHeadSp.spriteFrame=Global.Toolkit.getLocalHeadSf(e),this.vipHeadSp.node.width=this.w,this.vipHeadSp.node.height=this.h},t.prototype.setXingXing=function(){for(var e=Number(this.data.xingxing||"0"),t=0;t<5;t++){var o=this.getComponent("leftNode/layout/xingList/xing"+String(t),cc.Sprite);e>=1?Global.ResourceManager.loadAutoAtlas(o,"hall/texture/hall/chat/chat","f_20",null,!1):e>0?Global.ResourceManager.loadAutoAtlas(o,"hall/texture/hall/chat/chat","f_19",null,!1):Global.ResourceManager.loadAutoAtlas(o,"hall/texture/hall/chat/chat","f_18",null,!1),e-=1}},t.prototype.setPos=function(e,t){this.node.x=e,this.node.y=t},t}(r.default);cc._RF.pop()},{"../../../core/ui/ViewBase":"ViewBase","../../../hallcommon/model/ServicerModel":"ServicerModel"}],VipPrivilegeViewItem:[function(e,t,o){"use strict";cc._RF.push(t,"19e74oDk/dAkJ1LS5WimHsa","VipPrivilegeViewItem");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,l=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.icon=null,t.tip=null,t.glory=null,t}return n(t,e),t.prototype.refreshUI=function(e,t){var o="hall/texture/hall/vip_auto_atlas/vip_auto_atlas",i="biaoqing_"+t,n="img_paotai_"+t,r="img_avatar_vip"+t;switch(e){case 0:Global.ResourceManager.loadAutoAtlas(this.icon,o,r,null,!1),this.tip.string="V"+t+"\u4e13\u5c5e\u5934\u50cf\u6846";break;case 1:Global.ResourceManager.loadAutoAtlas(this.icon,o,n,null,!1),this.tip.string="V"+t+"\u4e13\u5c5e\u6355\u9c7c\u70ae\u53f0";break;case 2:Global.ResourceManager.loadAutoAtlas(this.icon,o,i,null,!1),this.tip.string="V"+t+"\u4e13\u5c5e\u8868\u60c5";break;case 3:this.icon.spriteFrame=this.glory,this.tip.string="\u8363\u8000\u5165\u573a\u64ad\u62a5"}},r([l(cc.Sprite)],t.prototype,"icon",void 0),r([l(cc.Label)],t.prototype,"tip",void 0),r([l(cc.SpriteFrame)],t.prototype,"glory",void 0),r([s],t)}(cc.Component);o.default=c,cc._RF.pop()},{}],VipPrivilegeView:[function(e,t,o){"use strict";cc._RF.push(t,"9e921mg0V1KsL1KXAopQgq4","VipPrivilegeView");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.PrivilegeType=void 0;var a=e("../../../hallcommon/model/PlayerInfoModel"),s=e("./VipPrivilegeViewItem"),l=cc._decorator,c=l.ccclass,p=(l.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iconSprite=null,t.level=null,t.itemList=[],t.labelTequanArr=[],t}return n(t,e),t.prototype.initView=function(){this.iconSprite=cc.find("info_node/icon_vip",this.node).getComponent(cc.Sprite),this.level=cc.find("info_node/level",this.node).getComponent(cc.Label);for(var e=0;e<4;e++){var t=cc.find("layout/item_"+e,this.node);cc.isValid(t)&&this.itemList.push(t),e<3&&(t.active=!1)}for(var o=0;o<4;o++)this.labelTequanArr[o]=cc.find("viptips/tip_"+(o+1),this.node).getComponent(cc.Label),this.labelTequanArr[o].node.active=!1},t.prototype.refreshUI=function(e,t,o){Global.PlayerData.vip;var i=o,n="img_viptb_"+i;if(Global.ResourceManager.loadAutoAtlas(this.iconSprite,"hall/texture/hall/vip_auto_atlas/vip_auto_atlas",n,null,!1),i<10?(this.labelTequanArr[0].string="\u6d3b\u52a8\u53ef\u9886\u53d6\u66f4\u591a\u5956\u52b1",this.labelTequanArr[0].node.active=!0,this.labelTequanArr[1].string="\u4e13\u5c5e\u5728\u7ebf\u5ba2\u670d\uff0c24\u5c0f\u65f6\u670d\u52a1",this.labelTequanArr[1].node.active=!0,this.labelTequanArr[2].string="\u4e13\u5c5e\u6355\u9c7c\u70ae\u53f0\uff0c\u6355\u9c7c\u66f4\u52a0\u6fc0\u60c5",this.labelTequanArr[2].node.active=!0):(this.labelTequanArr[0].string="\u6d3b\u52a8\u53ef\u9886\u53d6\u66f4\u591a\u5956\u52b1",this.labelTequanArr[0].node.active=!0,this.labelTequanArr[1].string="\u4e13\u5c5e\u5728\u7ebf\u5ba2\u670d\uff0c24\u5c0f\u65f6\u670d\u52a1",this.labelTequanArr[1].node.active=!0,this.labelTequanArr[2].string="\u4e13\u5c5e\u6355\u9c7c\u70ae\u53f0\uff0c\u6355\u9c7c\u66f4\u6fc0\u60c5",this.labelTequanArr[2].node.active=!0,this.labelTequanArr[3].string="VIP\u4e13\u4eab\u8868\u60c5\uff0c\u4e92\u52a8\u66f4\u70ab\u4e3d",this.labelTequanArr[3].node.active=!0),null!=a.default.instance.vipSubsidy&&1==a.default.instance.vipSubsidyStatus){var r=a.default.instance.vipSubsidy[i];r&&(this.labelTequanArr[0].string="\u6bcf\u65e5\u53ef\u9886\u8f6c\u8fd0\u91d1"+r.times+"\u6b21")}if(this.level.string="VIP"+i,i<=8)for(var l=0;l<this.itemList.length-2;l++)(m=this.itemList[l])&&(m.getComponent(s.default).refreshUI(l,i),m.active=!0);else if(9==i){for(var c=0;c<this.itemList.length-2;c++){var p=this.itemList[c];p&&(p.getComponent(s.default).refreshUI(c,i),p.active=!0)}(m=this.itemList[2])&&(m.getComponent(s.default).refreshUI(3,i),m.active=!0)}else if(i>9&&i<=13){for(var h=0,u=0;u<this.itemList.length-2;u++){var d=this.itemList[u];d&&(d.getComponent(s.default).refreshUI(h,i),d.active=!0),h+=2}(m=this.itemList[2])&&(m.getComponent(s.default).refreshUI(3,i),m.active=!0)}else{h=0;for(var f=0;f<this.itemList.length-2;f++){var g=this.itemList[f];g&&(g.getComponent(s.default).refreshUI(h,i),g.active=!0),h+=2}var m;(m=this.itemList[2])&&(m.getComponent(s.default).refreshUI(3,i),m.active=!0)}},r([c],t)}(cc.Component));o.default=p,function(e){e[e.HeadKuang=0]="HeadKuang",e[e.PaoTai=1]="PaoTai",e[e.BiaoQing=2]="BiaoQing",e[e.Kefu=3]="Kefu"}(o.PrivilegeType||(o.PrivilegeType={})),cc._RF.pop()},{"../../../hallcommon/model/PlayerInfoModel":"PlayerInfoModel","./VipPrivilegeViewItem":"VipPrivilegeViewItem"}],VipQuickPayChatModule:[function(e,t,o){"use strict";cc._RF.push(t,"69b7fyK0ohMl6ILJ9tVPcpT","VipQuickPayChatModule");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.viewClass="WndVipQuickPayChat",t.modelClass="",t.resPaths=[],t.prefabPaths=[""],t.children=[{viewClass:"WndChatImage",modelClass:"",resPaths:[],prefabPaths:[""],children:[]},{viewClass:"WndBankRechange",modelClass:"",resPaths:[],prefabPaths:[""],children:[]},{viewClass:"WndAliPayRechange",modelClass:"",resPaths:[],prefabPaths:[""],children:[]},{viewClass:"WndWeChatRechange",modelClass:"",resPaths:[],prefabPaths:[""],children:[]}],t}return n(t,e),t}(e("../../../framework/module/ModuleBase").ModuleBase);o.default=r,cc._RF.pop()},{"../../../framework/module/ModuleBase":"ModuleBase"}],VipViewUI:[function(e,t,o){"use strict";cc._RF.push(t,"a06a8NiaRJJn5lWyMoMsXDI","VipViewUI");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../../hallcommon/model/PlayerInfoModel"),s=e("../hall/views/HallBtnHelper"),l=e("./VipPrivilegeView"),c=cc._decorator,p=c.ccclass,h=(c.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.index=0,t.vip=0,t.spriteVipArr=[],t.richTextNextVip=null,t.processBar=null,t.currentSelect=0,t}return n(t,e),t.prototype.onLoad=function(){Global.Event.on("SHOWPREVILEGE",this,this.showPrevilege)},t.prototype.initView=function(){this.playerModel=Global.ModelManager.getModel("PlayerInfoModel"),this.spriteVipArr[0]=cc.find("top/vip0",this.node).getComponent(cc.Sprite),this.spriteVipArr[1]=cc.find("top/vip1",this.node).getComponent(cc.Sprite),this.level=cc.find("top/level",this.node).getComponent(cc.Label),this.richTextNextVip=cc.find("top/richText_vip",this.node).getComponent(cc.RichText),this.processBar=cc.find("top/process_di/progressBar",this.node).getComponent(cc.ProgressBar),Global.UIHelper.addCommonClick(this.node,"top/RechargeBtn",this.RechargeBtnFunc,this),this.privilegeNode=cc.find("bottom/more",this.node),this.privilegeNode&&(this.privilege=this.privilegeNode.getComponent(l.default),this.privilege&&this.privilege.initView()),this.privilegeNode.active=!1},t.prototype.UpdateUI=function(e,t){void 0===t&&(t=0),this.data=e;var o=Global.PlayerData.vip,i=this.vip-1,n=this.vip,r=o+1;o<n&&(i=o,r=n),this.level.string="VIP"+o;var s,l,c=1;a.default.instance.GetVipUpgradeExp(r),Global.PlayerData.vipExp,c=1,(l=(s=a.default.instance.GetVipUpgradeExp(r))-Global.PlayerData.vipExp)>0?(this.richTextNextVip.string="<font>\u518d\u5145\u503c<color=#ffe57c>"+l+"</color>\u5143\uff0c\u5373\u53ef\u8fbe\u5230<color=#ffe57c>VIP"+r+"</color></font>",o<n&&(c=Global.PlayerData.vipExp/s)):this.richTextNextVip.string="<b>\u606d\u559c\u60a8\u5df2\u6210\u4e3a\u81f3\u5c0a<color=#ffe57c>VIP"+o+"</color></b>",this.processBar.progress=c;var p="hall/texture/hall/vip_auto_atlas/vip_auto_atlas",h="img_vip_"+i;Global.ResourceManager.loadAutoAtlas(this.spriteVipArr[0],p,h,null,!1);var u="img_vip_"+n;Global.ResourceManager.loadAutoAtlas(this.spriteVipArr[1],p,u,null,!1),this.privilege.refreshUI(this.data,this.vip,this.vip),this.privilegeNode.active=!1},t.prototype.onDestroy=function(){Global.Event.off("SHOWPREVILEGE",this,this.showPrevilege)},t.prototype.showPrevilege=function(e){this.privilegeNode.active=e},t.prototype.RechargeBtnFunc=function(){s.default.WndRechargeOpen()},r([p],t)}(cc.Component));o.default=h,cc._RF.pop()},{"../../../hallcommon/model/PlayerInfoModel":"PlayerInfoModel","../hall/views/HallBtnHelper":"HallBtnHelper","./VipPrivilegeView":"VipPrivilegeView"}],VipView:[function(e,t,o){"use strict";cc._RF.push(t,"416c4LrvZBIqbXNrkvESjz5","VipView");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../../hallcommon/model/PlayerInfoModel"),s=e("../hall/views/HallBtnHelper"),l=cc._decorator,c=l.ccclass,p=(l.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.vip=0,t.spriteIconArr=[],t.richTextArr=[],t.spriteVipIcon=null,t.labelTequanArr=[],t.btnNodeArr=[],t.hasInit=!1,t.status=2,t}var o;return n(t,e),o=t,t.prototype.initView=function(){o.instance=this;for(var e=0;e<2;e++)this.spriteIconArr[e]=cc.find("bottom/item_"+e+"/icon",this.node).getComponent(cc.Sprite),this.richTextArr[e]=cc.find("bottom/item_"+e+"/richText_name",this.node).getComponent(cc.RichText);var t=cc.find("bottom/item_2",this.node);for(t&&(this.richTextArr[2]=cc.find("richText_name",t).getComponent(cc.RichText),this.btnNodeArr[0]=Global.UIHelper.addCommonClick(this.node,"bottom/item_2/button_uplingqu",this.jihuoBtnFunc,this),this.btnNodeArr[0].active=!1,this.btnNodeArr[1]=cc.find("button_yilingqu",t),this.btnNodeArr[1].active=!1,this.btnNodeArr[2]=Global.UIHelper.addCommonClick(this.node,"bottom/item_2/button_lingqu",this.ReqGetReward,this),this.btnNodeArr[2].active=!1),this.spriteVipIcon=cc.find("bottom/info_node/icon_vip",this.node).getComponent(cc.Sprite),e=0;e<4;e++)this.labelTequanArr[e]=cc.find("bottom/info_node/labelLayout/label_"+(e+1),this.node).getComponent(cc.Label),this.labelTequanArr[e].node.active=!1;Global.UIHelper.addCommonClick(this.node,"bottom/info_node/button_jihuo",this.jihuoBtnFunc,this),this.UpdateUI()},t.prototype.ReqGetReward=function(){var e=this,t={level:this.vip};Global.HallServer.send(NetAppface.mod,NetAppface.ReciveVipReward,t,function(t){Global.UI.show("WndRebateGet",t.point),e.status=t.status,e.btnNodeArr[1].active=!0,e.btnNodeArr[2].active=!1,e.btnNodeArr[0].active=!1,Global.Event.event(GlobalEvent.CHANGEVIP)},function(e){Global.UI.fastTip(e._errstr)})},t.prototype.onDestroy=function(){o.instance=null},t.prototype.init=function(){},t.prototype.UpdateUI=function(e){var t=cc.find("bottom/info_node/button_jihuo",this.node);Global.PlayerData.vip>=this.vip&&(t.active=!1);var o=Global.PlayerData.vip,i=(this.vip,this.vip),n="hall/texture/hall/playerInfo/AutoAtlas_playerinfo";if(i>10){this.richTextArr[0].string="<b>V"+i+"\u4e13\u5c5e\u8868\u60c5</b>";var r="biaoqing_"+i;Global.ResourceManager.loadAutoAtlas(this.spriteIconArr[0],n,r,null,!1)}else this.richTextArr[0].string="<b>V"+i+"\u6355\u9c7c\u70ae\u53f0</b>",r="paotai_"+i,Global.ResourceManager.loadAutoAtlas(this.spriteIconArr[0],n,r,null,!1);Global.Toolkit.loadLocalHeadFrame(this.spriteIconArr[1],""+i),this.richTextArr[2]&&e&&(this.richTextArr[2].string=Global.Toolkit.GetMoneyFormat(e.point)+"\u5143");var s=a.default.instance.vip_cfg[this.vip-1];s&&s.ngame>0&&(this.labelTequanArr[1].string="\u8fdb\u5165\u6e38\u620f\u540e\u5168\u573a\u901a\u62a5",this.labelTequanArr[1].node.active=!0),Global.Toolkit.loadLocalVipIcon(this.spriteVipIcon,i),1==this.vip?(this.labelTequanArr[0].string="\u4e13\u5c5e\u5728\u7ebf\u5ba2\u670d\uff0c24\u5c0f\u65f6\u670d\u52a1",this.labelTequanArr[0].node.active=!0,this.labelTequanArr[2].string="\u4e13\u5c5e\u652f\u4ed8\u901a\u9053\uff0c\u66f4\u52a0\u7a33\u5b9a\u5feb\u6377",this.labelTequanArr[2].node.active=!0):this.vip>1&&this.vip<8?(this.labelTequanArr[0].string="\u6d3b\u52a8\u53ef\u9886\u53d6\u66f4\u591a\u5956\u52b1",this.labelTequanArr[0].node.active=!0,this.labelTequanArr[2].string="\u4e13\u5c5e\u5728\u7ebf\u5ba2\u670d\uff0c24\u5c0f\u65f6\u670d\u52a1",this.labelTequanArr[2].node.active=!0,this.labelTequanArr[3].string="\u4e13\u5c5e\u652f\u4ed8\u901a\u9053\uff0c\u66f4\u52a0\u7a33\u5b9a\u5feb\u6377",this.labelTequanArr[3].node.active=!0):this.vip>2&&this.vip<8?(this.labelTequanArr[0].string="\u6d3b\u52a8\u53ef\u9886\u53d6\u66f4\u591a\u5956\u52b1",this.labelTequanArr[0].node.active=!0,this.labelTequanArr[2].string="\u4e13\u5c5e\u5728\u7ebf\u5ba2\u670d\uff0c24\u5c0f\u65f6\u670d\u52a1",this.labelTequanArr[2].node.active=!0,this.labelTequanArr[3].string="\u4e13\u5c5e\u652f\u4ed8\u901a\u9053\uff0c\u66f4\u52a0\u7a33\u5b9a\u5feb\u6377",this.labelTequanArr[3].node.active=!0):this.vip>7&&(this.labelTequanArr[0].string="\u6d3b\u52a8\u53ef\u9886\u53d6\u66f4\u591a\u5956\u52b1",this.labelTequanArr[0].node.active=!0,this.labelTequanArr[2].string="\u4e13\u5c5e\u5728\u7ebf\u5ba2\u670d\uff0c24\u5c0f\u65f6\u670d\u52a1",this.labelTequanArr[2].node.active=!0,this.labelTequanArr[3].string="\u4e13\u5c5e\u652f\u4ed8\u901a\u9053\uff0c\u66f4\u52a0\u7a33\u5b9a\u5feb\u6377",this.labelTequanArr[3].node.active=!0),cc.find("bottom/item_2",this.node)&&(e&&(this.status=e.status),o<i?(this.btnNodeArr[0].active=!0,this.btnNodeArr[1].active=!1,this.btnNodeArr[2].active=!1):0==this.status?(this.btnNodeArr[2].active=!0,this.btnNodeArr[0].active=!1,this.btnNodeArr[1].active=!1):1==this.status&&(this.btnNodeArr[1].active=!0,this.btnNodeArr[2].active=!1,this.btnNodeArr[0].active=!1))},t.prototype.jihuoBtnFunc=function(){s.default.WndRechargeOpen()},t.instance=null,o=r([c],t)}(cc.Component));o.default=p,cc._RF.pop()},{"../../../hallcommon/model/PlayerInfoModel":"PlayerInfoModel","../hall/views/HallBtnHelper":"HallBtnHelper"}],WaitingModel:[function(e,t,o){"use strict";cc._RF.push(t,"fcaaaeZ6xhKrpFxag7I37K4","WaitingModel");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../framework/model/ModelBase"),a=e("../../core/GlobalEvent"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.EVENT_UPDATE_WAITING_TIME="EVENT_UPDATE_WAITING_TIME",t.DEFAULT_WAITING_TIME=15,t.waitingList=[],t}return n(t,e),Object.defineProperty(t.prototype,"Name",{get:function(){return"WaitingModel"},enumerable:!1,configurable:!0}),t.prototype.onInit=function(){Global.Event.on(a.default.SHOW_NET_WAITING,this,this.onShowWaiting),Global.Event.on(a.default.HIDE_NET_WAITING,this,this.onHideWaiting),Global.Event.on(a.default.FORCE_HIDE_WAITING,this,this.forceHideWaiting)},t.prototype.onShowWaiting=function(e,t,o,i,n){void 0===o&&(o=""),void 0===i&&(i=1),void 0===n&&(n=!0),isNaN(Number(t))&&(t=this.DEFAULT_WAITING_TIME);var r=Global.UI.getWindow("WndNetWaiting");0!=this.waitingList.length&&null!=r&&r.isLoaded||Global.UI.show("WndNetWaiting",t,o,i,n),this.event(this.EVENT_UPDATE_WAITING_TIME,t),this.waitingList.push(e)},t.prototype.onHideWaiting=function(e,t){if(void 0===t&&(t=!1),t)this.waitingList=[];else for(var o=this.waitingList.length-1;o>=0;o--)this.waitingList[o]==e&&this.waitingList.splice(o,1);0==this.waitingList.length&&Global.UI.close("WndNetWaiting")},t.prototype.forceHideWaiting=function(){this.waitTimeOut(),Global.UI.close("WndNetWaiting")},t.prototype.waitTimeOut=function(){this.waitingList=[]},t.prototype.getWaitingList=function(){return this.waitingList||[]},t}(r.default);o.default=s,cc._RF.pop()},{"../../../framework/model/ModelBase":"ModelBase","../../core/GlobalEvent":"GlobalEvent"}],WaitingView:[function(e,t,o){"use strict";cc._RF.push(t,"5ebacJF9n9As7NJf3wIYZ8Z","WaitingView");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.initWaitingView=function(e,o){void 0===o&&(o=cc.v2(0,0));var i=new cc.Node,n=new t;return Global.ResourceManager.loadRes("hall/prefabs/ui/viewWaitUI",function(t,r){if(r)return n.setNode(cc.instantiate(r)),i.addChild(n.node),i.setParent(e),i.setPosition(o),i}),i},t.prototype.initView=function(){this.tipsLabel=this.getComponent("tips",cc.Label),cc.isValid(this.tipsLabel)&&(this.tipsLabel.string="\u8fde\u63a5\u4e2d")},t.prototype.onSubViewShow=function(){Logger.error("--loading\u663e\u793a--")},t.prototype.onSubViewHide=function(){Logger.error("--loading\u6d88\u5931")},t}(e("../../../core/ui/ViewBase").default);o.default=r,cc._RF.pop()},{"../../../core/ui/ViewBase":"ViewBase"}],WangsuDns:[function(e,t,o){"use strict";cc._RF.push(t,"80e8aaBbddDPJFVz8+Zi0Sm","WangsuDns"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./IDNS"),n=function(){function e(){this.httpDNSAdverbIP="220.242.54.8",this.mainLandDNSIPs=["118.184.178.244","118.184.176.205","103.213.96.176"],this.requestTimeout=1e4,this.hostToIpMap={},this.leftTTLTime=0,this.isRunning=!1,this.adverbIPMap={},this.mainLandIPMap={},this.IP_TYPE_ADVERB=1,this.IP_TYPE_MAINLAND=2}return e.prototype.init=function(){},e.prototype.requestHosts=function(e,t,o){var i=this;if(null!=e&&0!=e.length){var n=this.getRequestUrl(this.httpDNSAdverbIP,e);Global.Http.requestDirect(n,function(e){Logger.error("receive ",e),i.decodeMsg(e,i.IP_TYPE_ADVERB),o&&t&&t()},function(){i.handleError(t),o&&t&&t()},"get",null,this.requestTimeout);var r=Global.Setting.WangsuDNS,a=this.mainLandDNSIPs;r&&r.length>0?(Logger.error("use data dns"),a=r):Logger.error("no use data dns");for(var s=0;s<a.length;s++){var l=a[s],c=this.getRequestUrl(l,e);Global.Http.requestDirect(c,function(e){i.decodeMsg(e,i.IP_TYPE_MAINLAND)},function(){i.handleError(t)},"get",null,this.requestTimeout)}!o&&t&&(t(),Logger.error("call now"))}else Logger.error("\u8bf7\u6c42\u7684hosts\u5217\u8868\u4e3a\u7a7a")},e.prototype.getHttpRequestDNSInfo=function(e,t){void 0===t&&(t=0);var o=Global.UrlUtil.getHostFromUrl(e);if(this.checkIsWangsuSelfIp(o))return(n=new i.DNSInfo).realUrl=e,n.ip=o,n.host="edge.wshttpdns.com",n.headerMap={Host:"edge.wshttpdns.com"},n;var n,r=this.getIp(o,t);return null==r||""==r?null:(e=e.replace(o,r),(n=new i.DNSInfo).realUrl=e,n.ip=r,n.host=o,n.headerMap={Host:o},n)},e.prototype.getHttpDNSInfo=function(e,t){void 0===t&&(t=0);var o=e.address;if(this.checkIsWangsuSelfIp(o))return(n=new i.DNSInfo).realUrl=e,n.ip=o,n.host="edge.wshttpdns.com",n.headerMap={Host:"edge.wshttpdns.com"},n;var n,r=e.realHost,a=e.addressHost,s=this.getIp(r,t);if(null==s||""==s){if(a!=r){e.address=r;var l=new i.DNSInfo;l.ip=s,l.host=a;var c={Host:e.addressHost};return e.cerPath&&(c.CertPath=e.cerPath),l.headerMap=c,l}return null}e.address=s,(n=new i.DNSInfo).ip=s,n.host=a;var p={Host:e.addressHost};return e.cerPath&&(p.CertPath=e.cerPath),n.headerMap=p,n},e.prototype.checkIsWangsuSelfIp=function(e){return"220.242.54.8"==e||"118.184.178.244"==e||"118.184.176.205"==e||"103.213.96.176"==e},e.prototype.getIp=function(e,t){void 0===t&&(t=0);var o=null;return t==this.IP_TYPE_ADVERB?o=this.adverbIPMap[e]:t==this.IP_TYPE_MAINLAND&&(o=this.mainLandIPMap[e]),null!=o&&0!=o.length||(o=this.hostToIpMap[e]),null==o||0==o.length?null:o[Math.floor(Math.random()*o.length)]},e.prototype.update=function(e){this.isRunning&&(this.leftTTLTime-=e,this.leftTTLTime<=0&&(this.isRunning=!1,this.reRequestAll()))},e.prototype.reRequestAll=function(){var e=[];for(var t in this.hostToIpMap)e.push(t);this.requestHosts(e,null,!1)},e.prototype.decodeMsg=function(e,t){var o=null;try{o=JSON.parse(e)}catch(a){o={}}if(null!=o.retCode&&0==o.retCode&&null!=o.data)for(var i in o.data){var n=i,r=o.data[i].ips;r.length<=0||null==o.data[i].ttl||o.data[i].ttl<=0||(this.leftTTLTime<=0&&o.data[i].ttl>0&&(this.leftTTLTime=o.data[i].ttl,this.isRunning=!0),t==this.IP_TYPE_ADVERB?this.adverbIPMap[n]=r:this.mainLandIPMap[n]=r,this.hostToIpMap[n]=r)}},e.prototype.handleError=function(){},e.prototype.getRequestUrl=function(e,t){return"https://"+e+"/v1/httpdns/clouddns?ws_domain="+t.join(";")+"&ws_ret_type=json"},e}();o.default=n,cc._RF.pop()},{"./IDNS":"IDNS"}],WebNative:[function(e,t,o){"use strict";cc._RF.push(t,"acf66jJj+5Fj4nFT1StBR0D","WebNative"),Object.defineProperty(o,"__esModule",{value:!0}),o.WindowKeyType=void 0;var i=function(){function e(){this.safetyMode=!1,this._windowMap=new Map,this.safetyMode&&cc.sys.isBrowser&&(window.packInfo.test||(console.log=function(){},console.error=function(){},console.warn=function(){},console.info=function(){},this.checkDevTools({opened:function(){window.location.href="about:blank"},offed:function(){}})))}return e.prototype.setup=function(){this.faceBookInit()},e.prototype.faceBookInit=function(){var e,t,o,i,n;t="script",o="facebook-jssdk",n=(e=document).getElementsByTagName(t)[0],e.getElementById(o)||((i=e.createElement(t)).id=o,i.src="https://connect.facebook.net/en_US/sdk.js",n.parentNode.insertBefore(i,n)),window.fbAsyncInit=function(){window.FB.init({appId:"858850087975908",xfbml:!0,version:"v8.0"}),window.FB.AppEvents.logPageView()}},e.prototype.checkFaceBookLoginState=function(e){window.FB.getLoginStatus(function(t){e&&e(t)})},e.prototype.faceBookLogin=function(e){window.FB.login(function(t){e&&e(t)})},e.prototype.faceBookLogout=function(e){window.FB.logout(function(t){e&&e(t)})},e.prototype.webCopyTextToClipboard=function(e,t){var o=-1,i=e.toString(),n=document.getElementById("copy_input");n||((n=document.createElement("input")).id="copy_input",n.readOnly=!0,n.style.position="absolute",n.style.left="-10000px",n.style.zIndex="-1000",document.body.appendChild(n)),n.value=i,function(e,t,o){e.setSelectionRange(0,o),e.focus()}(n,0,i.length),document.execCommand("copy")&&(document.execCommand("copy"),o=0),t&&(t({result:o}),document.body.removeChild(n),t=null)},e.prototype.initWindow=function(e){e?this._windowMap.set(e,window.open("","_blank")):Logger.error("key is null")},e.prototype.clearWindowMap=function(){this._windowMap.clear()},e.prototype.openWindowByKey=function(e,t){if(e&&t){var o=this._windowMap.get(e);o?o.location.href=t:Logger.error(e,"window is null")}else Logger.error("key or url is null")},e.prototype.checkDevTools=function(e){~navigator.userAgent.indexOf("Firefox")||(new Image).__defineGetter__("id",function(){e.opened()}),setInterval(function(){e.offed(),console.clear&&console.clear()},1e3)},e}();o.default=i,function(e){e.GameWin="GameWin",e.RechargeWin="RechargeWin"}(o.WindowKeyType||(o.WindowKeyType={})),cc._RF.pop()},{}],WebViewControl:[function(e,t,o){"use strict";cc._RF.push(t,"73a03+DOWRMorOdRJt+YQbp","WebViewControl");var i=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var n=e("../../hallcommon/data/GameData"),r=cc._decorator,a=r.ccclass,s=(r.property,function(){function e(){this.hasApplyTopPoint=!1,this.style=1}return e.prototype.init=function(){},e.prototype.clear=function(){this.webViewGamePanel&&(this.webViewGamePanel.removeFromParent(!0),this.webViewGamePanel.destroy(),this.webViewGamePanel=null)},e.prototype.showWebView=function(e,t,o,i,r){var a=this;void 0===r&&(r=Game.Control.curGid),this.url=e,this.scheme=t,this.hasApplyTopPoint=!1;var s=9001==r?1:-1,l=Global.GameData.getGameInfo(r);if((l?l.gameType:-1)===n.GameType.AGBG&&(this.style=2),this.webViewGamePanel){if(cc.isValid(this.webViewGamePanel)){var c=this.webViewGamePanel.getChildByName("bg");c&&(c.active=!1),this.webViewGamePanel.active=!0}Logger.error("show WebViewGame bg \u9690\u85cf222"),Global.NativeEvent.openExternalGame(e,t,o,2,s)}else Global.ResourceManager.loadBundleRes("resources","hall/prefabs/ui/WebViewGamePanel",function(n,r){if(n)Logger.error("load WebViewGamePanel error");else{if(a.webViewGamePanel=cc.instantiate(r),a.webViewGamePanel.active=!0,cc.isValid(a.webViewGamePanel)){Logger.error("show WebViewGame --"),a.webViewGamePanel.parent=i;var l=a.webViewGamePanel.getChildByName("bg");l&&(l.active=!1)}Global.Event.event(GlobalEvent.SHOW_NET_WAITING,"showWebView"),Logger.error("show WebViewGame bg \u9690\u85cf1111"),Global.NativeEvent.openExternalGame(e,t,o,2,s)}})},e.prototype.native2JSCallback=function(e){var t=Global.ModelManager.getModel("HallModel");if("1"==e)Logger.log("WebViewGame --\u5f00\u59cb\u52a0\u8f7d");else if("2"==e){if(Global.Audio.stopMusic(),Global.Event.event(GlobalEvent.HIDE_NET_WAITING,"showWebView"),this.hasApplyTopPoint||(this.hasApplyTopPoint=!0,t.requestApplyTopPoint(Game.Control.curGid)),this.webViewGamePanel){var o=this.webViewGamePanel.getChildByName("bg");o&&(o.active=!0)}Logger.log("WebViewGame --http\u52a0\u8f7d\u6210\u529f")}else"3"==e?(this.scheme,Logger.log("WebViewGame --http\u52a0\u8f7d\u5931\u8d25,404")):"4"==e?(this.scheme,Logger.log("WebViewGame --\u6ca1\u6709\u7f51")):"5"==e?(t.requestApplyDownPoint(Game.Control.curGid),this.hideWebView(),Global.NativeEvent.closeExternalGame(),Logger.log("WebViewGame --shema\u7684\u62e6\u622a")):"6"==e?Logger.log("WebViewGame --\u539f\u751f\u8fdb\u884c\u4e86\u5237\u65b0"):"7"==e?(Logger.log("WebViewGame --\u539f\u751f\u9000\u51fa\u6e38\u620f"),this.hideWebView(),t.requestApplyDownPoint(Game.Control.curGid)):Logger.log("WebViewGame --state\u5176\u4ed6\u60c5\u51b5")},e.prototype.hideWebView=function(){this.playHallBGM(),Global.Event.event(GlobalEvent.CloseWebViewGame),Global.Event.event(GlobalEvent.HIDE_NET_WAITING,"showWebView"),cc.isValid(this.webViewGamePanel)&&this.webViewGamePanel.active&&(this.webViewGamePanel.removeFromParent(),this.webViewGamePanel.destroy(),this.webViewGamePanel=null),this.hasApplyTopPoint&&Global.ModelManager.getModel("HallModel").requestApplyDownPoint(Game.Control.curGid),Global.HallServer.send(NetAppface.mod,NetAppface.GetUserInfo,{},null,null,!1)},e.prototype.playHallBGM=function(){var e=Global.ModelManager.getModel("PlayerInfoModel");e&&e.InitBgm()},i([a],e)}());o.default=s,cc._RF.pop()},{"../../hallcommon/data/GameData":"GameData"}],WifiComp:[function(e,t,o){"use strict";cc._RF.push(t,"8a55eTewLlOprZ5aQym/Dlk","WifiComp");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,l=(a.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stateSpriteArr=[],t.EventString="",t}return n(t,e),t.prototype.onLoad=function(){for(var e=0;e<3;e++)this.stateSpriteArr[e]=cc.find("state"+(e+1),this.node),this.stateSpriteArr[e].active=!1;this.msLabel=cc.find("msLabel",this.node).getComponent(cc.RichText),this.msLabel.node.active=!1},t.prototype.init=function(e){1==e?this.EventString=GlobalEvent.RefreshHallNetCost:2==e&&(this.EventString=GlobalEvent.RefreshGameNetCost)},t.prototype.startListen=function(){Global.Event.on(this.EventString,this,this.refreshState)},t.prototype.refreshState=function(e){this.stateSpriteArr&&0!=this.stateSpriteArr.length&&(e<=300?(this.msLabel.node.color=(new cc.Color).fromHEX("#9DD500"),this.stateSpriteArr[0].active=!0,this.stateSpriteArr[1].active=!1,this.stateSpriteArr[2].active=!1):e>300&&e<=700?(this.msLabel.node.color=(new cc.Color).fromHEX("#FFE500"),this.stateSpriteArr[0].active=!1,this.stateSpriteArr[1].active=!0,this.stateSpriteArr[2].active=!1):(this.msLabel.node.color=(new cc.Color).fromHEX("#FF0000"),this.stateSpriteArr[0].active=!1,this.stateSpriteArr[1].active=!1,this.stateSpriteArr[2].active=!0),this.msLabel.node.active=!0,this.msLabel.string="<b>"+e+"ms</b>")},t.prototype.onDestroy=function(){Global.Event.off(this.EventString,this,this.refreshState),this.stateSpriteArr=[]},r([s],t)}(cc.Component));o.default=l,cc._RF.pop()},{}],WndActivityCenter:[function(e,t,o){"use strict";cc._RF.push(t,"cc8fapPcF5JKbVZ7JYIQqBq","WndActivityCenter");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.ActivityEntity=void 0;var r=e("../../../core/ui/WndBase"),a=e("../../../core/tool/PoolBase"),s=e("./ActivityRightPanelView"),l=e("../serviver/ServicerItem"),c=e("../../tool/HallPopMsgHelper"),p=e("../../../hallcommon/model/HallModel"),h=e("./ActivityConstants"),u=e("../hall/views/HallBtnHelper"),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nodeList=[],t.actMap=null,t.waittingNode=null,t.timer=null,t}return n(t,e),t.prototype.onInit=function(){this.name="WndActivityCenter",this.layer="PopLayer",this.resPath="hall/prefabs/ui/ActivityCenter/ActivityCenterUI",this.hallModel=Global.ModelManager.getModel("HallModel"),this.isNeedDelay=!0,this.destoryType=r.DestoryType.ChangeScene},t.prototype.onOpen=function(){this.initActivityLeft(),this.activityPanelView.subViewState=!0},t.prototype.initActivityLeft=function(){var e=this;this.hallModel.requestMyActivityList(function(t){if(e.OnDataPrepared(),e.actMap=t,0==e.actMap.size)return e.contentNode.removeAllChildren(),e.itemPool.resetPool(),e.nodeList=[],e.activityPanelView.changeView(h.ActivityType.noMsgTips),void e.showZi();cc.isValid(e.node)&&e.initLeftItem()})},t.prototype.openAnimFinish=function(){},t.prototype.initLeftItem=function(){this.recycle(),this.nodeList=[],this.contentNode.removeAllChildren();for(var e=this.actMap,t=this.actMap.keys(),o=0;o<e.size;o++){var i=t.next().value,n=e.get(i);if(0!=n.status){var r=this.itemPool.getItem();r.active=!0,r.name=n.atype.toString();var a=r.getComponent("FeedbackLeftItem");a.onInit(n.name),a.entityData=n,r.setParent(this.contentNode),this.nodeList.push(r),r.on(cc.Node.EventType.TOUCH_END,this.leftItemClick,this);var s="";1==n.flag?s="bq_huobao":2==n.flag&&(s="bq_xingzeng"),r.getComponent("FeedbackLeftItem").SetTypeSprite("hall/texture/commonui/common",s),r.getChildByName("Background").active=!0,0==o&&(r.getComponent("FeedbackLeftItem").SetToggleChecked(!0),r.getChildByName("Background").active=!1,1==n.ptype?this.activityPanelView.changeView(h.ActivityType.picture,n):this.activityPanelView.changeView(n.atype,n),this.changeService(n),s&&this.moveFlag(r))}}this.sc&&this.sc.scrollToTop()},t.prototype.moveFlag=function(e){e&&cc.isValid(e)&&cc.find("typeSprite",e)},t.prototype.leftItemClick=function(e){Global.Audio.playBtnSound();var t=e.target;if(t.getChildByName("Background").active){this.resetItemFlag(),e.target.parent.children.forEach(function(e){e.getChildByName("Background").active=!0}),t.getChildByName("Background").active=!1;var o=t.getComponent("FeedbackLeftItem").entityData;o&&1==o.ptype?this.activityPanelView.changeView(h.ActivityType.picture,o):this.activityPanelView.changeView(o.atype,o),this.moveFlag(t),this.changeService(o)}},t.prototype.resetItemFlag=function(){for(var e=0;e<this.nodeList.length;e++){var t=this.nodeList[e];if(t){var o=t.getComponent("FeedbackLeftItem");o&&o.node&&this.moveFlag(o.node,!0)}}},t.prototype.changeService=function(e){var t,o;t=e.job1,o=e.job2,0==t.type&&0==o.type?this.showZi():(this.ziSprite.active=!1,t&&(this.Servicer1.active=!0,this.Servicer1.getComponent(l.default).setData(t)),o&&(this.Servicer2.active=!0,this.Servicer2.getComponent(l.default).setData(o)))},t.prototype.showZi=function(){this.Servicer1.active=!1,this.Servicer2.active=!1,this.ziSprite.active=!0},t.prototype.initView=function(){this.waittingNode=this.getChild("waittingNode"),this.waittingNode&&(this.waittingNode.active=!1),this.sc=this.getComponent("LeftPanel/scrollview",cc.ScrollView),this.leftPanel=this.getChild("LeftPanel"),this.activityPanel=this.getChild("RightPanel"),this.copyItem=this.getChild("LeftPanel/MsgItem"),this.contentNode=this.getChild("LeftPanel/scrollview/view/content"),this.ziSprite=this.getChild("service/ziSprite"),this.Servicer1=this.getChild("service/Servicer1"),this.Servicer2=this.getChild("service/Servicer2"),Global.Event.on(h.ActivityConstants.SHOW_ACT_WAITTING,this,this.showWaitting),Global.Event.on(h.ActivityConstants.HIDE_ACT_WAITTING,this,this.showWaitting),this.addCommonClick("close",this.closeWnd,this),this.initItemPool(),this.activityPanelView=this.addView("ActivityRightPanelView",this.activityPanel,s.default)},t.prototype.onServiceClick=function(){Global.ModelManager.getModel("HallModel").closeRedSpot(p.HallRedSpotType.Kefu),Global.Audio.playAudioSource("hall/sound/Customer_service"),u.default.WndServiceOpen()},t.prototype.showWaitting=function(e){e?this.startWaittingTimer():this.stopWaittingTimer(),this.waittingNode&&this.waittingNode.isValid&&this.waittingNode.active!=e&&(this.waittingNode.active=e)},t.prototype.stopWaittingTimer=function(){this.timer&&clearTimeout(this.timer)},t.prototype.startWaittingTimer=function(){var e=this;this.stopWaittingTimer(),this.timer=setTimeout(function(){e.waittingNode.active=!1},1e4)},t.prototype.closeWnd=function(){this.close()},t.prototype.initItemPool=function(){this.itemPool=new f(this.copyItem)},t.prototype.onClose=function(){this.stopWaittingTimer(),this.resetItemFlag(),c.default.Instance.releaseLock(c.PopWndName.ActivityCenter)},t.prototype.onDispose=function(){this.itemPool.resetPool(),this.nodeList=[],this.stopWaittingTimer(),Global.Event.off(h.ActivityConstants.SHOW_ACT_WAITTING,this,this.showWaitting),Global.Event.off(h.ActivityConstants.HIDE_ACT_WAITTING,this,this.showWaitting)},t.prototype.recycle=function(){this.itemPool.recycleAll(this.nodeList),this.nodeList=[]},t}(r.default);o.default=d;var f=function(e){function t(t){var o=e.call(this)||this;return o.copyNode=t,o}return n(t,e),t.prototype.createItem=function(){return cc.instantiate(this.copyNode)},t.prototype.resetItem=function(e){e.active=!1,e.setParent(null)},t.prototype.recycleAll=function(t){e.prototype.recycleAll.call(this,t)},t}(a.default);o.ActivityEntity=function(){this.flag=0,this.atype=-1,this.ptype=0,this.name="",this.url="",this.status=-1,this.red_status=-1,this.job1={type:0,name:"",data:""},this.job2={type:0,name:"",data:""}},cc._RF.pop()},{"../../../core/tool/PoolBase":"PoolBase","../../../core/ui/WndBase":"WndBase","../../../hallcommon/model/HallModel":"HallModel","../../tool/HallPopMsgHelper":"HallPopMsgHelper","../hall/views/HallBtnHelper":"HallBtnHelper","../serviver/ServicerItem":"ServicerItem","./ActivityConstants":"ActivityConstants","./ActivityRightPanelView":"ActivityRightPanelView"}],WndAliPayRechange:[function(e,t,o){"use strict";cc._RF.push(t,"34f90OHcGZOz7wNSpZALSiL","WndAliPayRechange");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/ui/WndBase"),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.onInit=function(){this.name="WndAliPayRechange",this.layer=Global.UI.PopLayer,this.resPath="hall/prefabs/ui/Recharge/AliPayRechargeUI",this.destoryType=r.DestoryType.None},t.prototype.initView=function(){this.node.width=cc.Canvas.instance.node.width,this.node.height=cc.Canvas.instance.node.height,this.nameLabel=this.getChild("bankNode/nameLabel").getComponent(cc.Label),this.numberLabel=this.getChild("bankNode/numberLabel").getComponent(cc.Label),this.bankNameLabel=this.getChild("bankNode/bankNameLabel").getComponent(cc.Label),this.addresLabel=this.getChild("bankNode/addresLabel").getComponent(cc.Label),this.addCommonClick("headNode/btnBack",this.goBack,this,cc.Button.Transition.NONE),this.addCommonClick("headNode/helpNode",this.goBack,this,cc.Button.Transition.NONE),this.addCommonClick("bankNode/nameLabel/copyNode",this.copyName,this,cc.Button.Transition.NONE),this.addCommonClick("bankNode/numberLabel/copyNode",this.copyNumber,this,cc.Button.Transition.NONE),this.addCommonClick("bankNode/bankNameLabel/copyNode",this.copyBankName,this,cc.Button.Transition.NONE),this.addCommonClick("bankNode/addresLabel/copyNode",this.copyAddres,this,cc.Button.Transition.NONE)},t.prototype.onOpen=function(){var e=this.args[0];this.nameLabel.string=e.account,this.addresLabel.string=e.name},t.prototype.goBack=function(){this.close()},t.prototype.copyName=function(){Global.NativeEvent.copyTextToClipboard(String(this.nameLabel.string),this.copyTextToClipboardCallBack.bind(this))},t.prototype.copyNumber=function(){Global.NativeEvent.copyTextToClipboard(String(this.numberLabel.string),this.copyTextToClipboardCallBack.bind(this))},t.prototype.copyBankName=function(){Global.NativeEvent.copyTextToClipboard(String(this.bankNameLabel.string),this.copyTextToClipboardCallBack.bind(this))},t.prototype.copyAddres=function(){Global.NativeEvent.copyTextToClipboard(String(this.addresLabel.string),this.copyTextToClipboardCallBack.bind(this))},t.prototype.copyTextToClipboardCallBack=function(e){0==e.result?Global.UI.fastTip("\u590d\u5236\u6210\u529f"):Global.UI.fastTip("\u590d\u5236\u5931\u8d25")},t}(r.default);o.default=a,cc._RF.pop()},{"../../../core/ui/WndBase":"WndBase"}],WndAwardDetail:[function(e,t,o){"use strict";cc._RF.push(t,"41c36jRKLhGFrppbRrEKKZp","WndAwardDetail");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/ui/ViewBase"),a=e("../../../core/tool/PoolBase"),s=e("../../../core/net/hall/NetEvent"),l=e("../waiting/WaitingView"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nodeList=[],t.page=1,t.limit=7,t.totalPage=0,t}return n(t,e),t.prototype.initView=function(){null!=this.waitingNode&&null!=this.waitingNode||(this.waitingNode=l.default.initWaitingView(this.node,cc.v2(0,0))),this.SpreadModel=Global.ModelManager.getModel("SpreadModel"),this.top_normal=this.getChild("Top_Normal"),this.top_self=this.getChild("Top_Self"),this.title_self=this.getChild("View/Title_Self"),this.title_normal=this.getChild("View/Title_Normal"),this.cmmi_type=this.SpreadModel.commiType,this.copyItem=this.getChild("View/scrollview/item"),this.SpreadModel.self_rate>0&&1===this.cmmi_type||this.SpreadModel.self_rate<=0&&this.cmmi_type,2==this.cmmi_type&&(this.titleNode=this.getChild("View/Title")),this.LastPageBtn=this.getChild("View/BotBtn/LastPage"),this.NextPageBtn=this.getChild("View/BotBtn/NextPage"),this.LastPageBtn.on("click",this.OnLastPageBtnClick,this),this.NextPageBtn.on("click",this.OnNextPagePageBtnClick,this),this.contentNode=this.getChild("View/scrollview/view/content"),this.copyItem.active=!1,this.TotalInfo=this.getChild("View/BotBtn/TotalInfoLabel").getComponent(cc.Label),this.pageInfo=this.getChild("View/BotBtn/TotalInfoLabel/PageLabel").getComponent(cc.Label),this.noTips=this.getChild("View/noListTipsSk"),this.noTips.active=!1,this.botNode=this.getChild("View/BotBtn"),this.botNode.active=!1,this.initItemPool()},t.prototype.OnNextPagePageBtnClick=function(){if(Global.Audio.playBtnSound(),this.page++,this.page>this.totalPage)return this.page=this.totalPage,void Global.UI.fastTip("\u6ca1\u6709\u66f4\u591a\u6570\u636e");this.waitingNode&&(this.waitingNode.active=!0),this.cmmi_type,2===this.cmmi_type&&this.SpreadModel.GetDayFlowInfoList(this.page,this.limit)},t.prototype.OnLastPageBtnClick=function(){if(Global.Audio.playBtnSound(),this.page--,this.page<=0)return this.page=1,void Global.UI.fastTip("\u5df2\u7ecf\u662f\u7b2c\u4e00\u9875\u4e86");this.waitingNode&&(this.waitingNode.active=!0),this.cmmi_type,2===this.cmmi_type&&this.SpreadModel.GetDayFlowInfoList(this.page,this.limit)},t.prototype.initItemPool=function(){this.itemPool=new p(this.copyItem)},t.prototype.onSubViewShow=function(){Global.HallServer.on(s.NetAppface.GetSendRecord,this,this.InitTeamListView),Global.HallServer.on(s.NetAppface.GetDayFlowInfoList,this,this.InitTeamListView),this.cmmi_type,2===this.cmmi_type&&this.SpreadModel.GetDayFlowInfoList(this.page,this.limit)},t.prototype.InitTeamListView=function(e){if(this.waitingNode&&(this.waitingNode.active=!1),null!=e&&!Global.Toolkit.isEmptyObject(e)){var t;0==e.total?(this.topNode&&(this.topNode.active=!1),this.noTips.active=!0,this.titleNode.active=!1,this.botNode.active=!1):(this.topNode&&(this.topNode.active=!0),this.noTips.active=!1,this.titleNode.active=!0,this.botNode.active=!0),this.InitTopView(e),this.cmmi_type,2===this.cmmi_type&&(t=e.list||[]);var o=t.length;this.totalPage=Math.ceil(e.total/e.limit),this.recycle(),this.TotalInfo.string=cc.js.formatStr("\u5171%s\u6761",e.total),this.pageInfo.string=cc.js.formatStr("\u7b2c%s\u9875",e.page);for(var i=0;i<o;i++){var n=this.itemPool.getItem();this.nodeList.push(n),n.active=!0,n.setParent(this.contentNode),n.getComponent("AwardDetailItem").Init(t[i])}}},t.prototype.InitTopView=function(e){null==e?(this.WeekTotal&&(this.WeekTotal.string=""),this.WeekMyselfDir&&(this.WeekMyselfDir.string=""),this.WeekDir&&(this.WeekDir.string=""),this.WeekOther&&(this.WeekOther.string="")):(this.WeekTotal&&(this.WeekTotal.string=Global.Toolkit.formatPointStr(e.week_total_send_point)),this.WeekMyselfDir&&(this.WeekMyselfDir.string=Global.Toolkit.formatPointStr(e.week_self_send_point)),this.WeekDir&&(this.WeekDir.string=Global.Toolkit.formatPointStr(e.week_unter_send_point)),this.WeekOther&&(this.WeekOther.string=Global.Toolkit.formatPointStr(e.week_other_send_point)))},t.prototype.recycle=function(){this.itemPool.recycleAll(this.nodeList),this.nodeList=[]},t.prototype.onSubViewHide=function(){this.ResetData(),Global.HallServer.offAllByCaller(this),Global.HallServer.off(s.NetAppface.GetSendRecord,this,this.InitTeamListView),Global.HallServer.off(s.NetAppface.GetCommiInfoList,this,this.InitTeamListView)},t.prototype.ResetData=function(){this.totalPage=0,this.page=1},t.prototype.onDispose=function(){this.itemPool.resetPool()},t}(r.default);o.default=c;var p=function(e){function t(t){var o=e.call(this)||this;return o.copyNode=t,o}return n(t,e),t.prototype.createItem=function(){return cc.instantiate(this.copyNode)},t.prototype.resetItem=function(e){e.active=!1,e.setParent(null)},t}(a.default);cc._RF.pop()},{"../../../core/net/hall/NetEvent":"NetEvent","../../../core/tool/PoolBase":"PoolBase","../../../core/ui/ViewBase":"ViewBase","../waiting/WaitingView":"WaitingView"}],WndAwardRecord:[function(e,t,o){"use strict";cc._RF.push(t,"7f5ceGKvPpBpbZWkcSRghgI","WndAwardRecord");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/ui/WndBase"),a=e("../../../core/tool/PoolBase"),s=e("../../../core/net/hall/NetEvent"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nodeList=[],t.page=1,t.TotalPage=0,t.SpreadModel=null,t.limit=4,t}return n(t,e),t.prototype.onInit=function(){this.name="WndAwardRecord",this.layer=Global.UI.PopLayer,this.resPath="hall/prefabs/ui/SpreadUI/AwardHistory"},t.prototype.initView=function(){var e=Global.ModelManager.getModel("SpreadModel");this.cmmi_type=e.commiType,this.SpreadModel=Global.ModelManager.getModel("SpreadModel"),this.node.width=cc.Canvas.instance.node.width,this.node.height=cc.Canvas.instance.node.height,this.addCommonClick("bg_popup_middle/close",this.close,this),this.LastPageBtn=this.getChild("BotBtn/LastPage"),this.NextPageBtn=this.getChild("BotBtn/NextPage"),this.LastPageBtn.on("click",this.OnLastPageBtnClick,this),this.NextPageBtn.on("click",this.OnNextPagePageBtnClick,this),this.copyItem=this.getChild("bg_popup_middle/scrollview/view/content/item"),this.contentNode=this.getChild("bg_popup_middle/scrollview/view/content"),this.TotalInfoLabel=this.getChild("BotBtn/TotalInfoLabel").getComponent(cc.Label),this.PageLabel=this.getChild("BotBtn/PageLabel").getComponent(cc.Label),this.noTips=this.getChild("bg_popup_middle/scrollview/noListTipsSk"),this.noTips.active=!1,this.titleNode=this.getChild("bg_popup_middle/topTitle"),this.titleNode.active=!1,this.botNode=this.getChild("BotBtn"),this.botNode.active=!1,this.initItemPool()},t.prototype.OnNextPagePageBtnClick=function(){if(Global.Audio.playBtnSound(),this.page++,this.page>this.TotalPage)return this.page=this.TotalPage,void Global.UI.fastTip("\u6ca1\u6709\u66f4\u591a\u6570\u636e");this.SpreadModel.GetDayAgentRecord(this.page,this.limit)},t.prototype.OnLastPageBtnClick=function(){if(Global.Audio.playBtnSound(),this.page--,this.page<=0)return this.page=1,void Global.UI.fastTip("\u5df2\u7ecf\u662f\u7b2c\u4e00\u9875\u4e86");this.SpreadModel.GetDayAgentRecord(this.page,this.limit)},t.prototype.onOpen=function(e){this.SpreadModel.on(s.NetAppface.GetSelfReadRecord,this,this.RefreshScrollView),this.SpreadModel.on(s.NetAppface.GetDayAgentRecord,this,this.RefreshScrollView),this.copyItem.active=!1,null!=e&&0!=e.length&&this.RefreshScrollView(e[0])},t.prototype.RefreshScrollView=function(e){if(null!=e){0==e.total?(this.noTips.active=!0,this.titleNode.active=!1,this.botNode.active=!1):(this.noTips.active=!1,this.titleNode.active=!0,this.botNode.active=!0),this.TotalPage=Math.ceil(e.total/e.limit),this.TotalInfoLabel.string=cc.js.formatStr("\u5171%s\u6761",e.total),this.PageLabel.string=cc.js.formatStr("\u7b2c%s\u9875",this.TotalPage);var t=e.data||[],o=t.length;this.recycle();for(var i=0;i<o;i++){var n=this.itemPool.getItem();this.nodeList.push(n),n.active=!0,n.setParent(this.contentNode),n.getComponent("AwardRecordItem").Init(t[i])}}else Global.UI.fastTip("\u65e0\u6570\u636e")},t.prototype.onClose=function(){this.ResetData(),this.SpreadModel.off(s.NetAppface.GetSelfReadRecord,this,this.RefreshScrollView),this.SpreadModel.off(s.NetAppface.GetDayAgentRecord,this,this.RefreshScrollView)},t.prototype.ResetData=function(){this.page=1,this.TotalPage=0},t.prototype.onDispose=function(){this.nodeList=[],this.itemPool.resetPool()},t.prototype.initItemPool=function(){this.itemPool=new c(this.copyItem)},t.prototype.recycle=function(){this.itemPool.recycleAll(this.nodeList),this.nodeList=[]},t}(r.default);o.default=l;var c=function(e){function t(t){var o=e.call(this)||this;return o.copyNode=t,o}return n(t,e),t.prototype.createItem=function(){return cc.instantiate(this.copyNode)},t.prototype.resetItem=function(e){e.active=!1,e.setParent(null)},t}(a.default);cc._RF.pop()},{"../../../core/net/hall/NetEvent":"NetEvent","../../../core/tool/PoolBase":"PoolBase","../../../core/ui/WndBase":"WndBase"}],WndBackUpGame:[function(e,t,o){"use strict";cc._RF.push(t,"d5001NF7vhExI8hEwEZuIf0","WndBackUpGame");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/ui/WndBase"),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.onInit=function(){this.name="WndBackUpGame",this.layer=Global.UI.PopLayer,this.resPath="hall/prefabs/ui/BackUpGameUI",this.destoryType=r.DestoryType.Now},t.prototype.initView=function(){this.node.width=cc.Canvas.instance.node.width,this.node.height=cc.Canvas.instance.node.height,this.addCommonClick("content/saveBtn",this.onBackUpGameBtn,this),this.addCommonClick("content/copyBtn",this.onCopyOfficalBtnClicked,this),this.addCommonClick("close",this.close,this)},t.prototype.onBackUpGameBtn=function(){var e=Global.Setting.Urls.getBackUrl();cc.sys.openURL(e),this.close()},t.prototype.onCopyOfficalBtnClicked=function(){Global.NativeEvent.copyTextToClipboard(Global.Setting.Urls.downLoadUrl,function(e){cc.log(e),0==e.result?Global.UI.fastTip("\u590d\u5236\u6210\u529f"):Global.UI.fastTip("\u590d\u5236\u5931\u8d25")})},t}(r.default);o.default=a,cc._RF.pop()},{"../../../core/ui/WndBase":"WndBase"}],WndBankChangePW:[function(e,t,o){"use strict";cc._RF.push(t,"5c601LCQEtIubGIxc4AeDUt","WndBankChangePW");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._pwCheckString="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",t}return n(t,e),t.prototype.onInit=function(){this.name="WndBankChangePW",this.layer=Global.UI.PopLayer,this.resPath="hall/prefabs/ui/money/bank/BankChangePWUI",this.model=Global.ModelManager.getModel("BankModel")},t.prototype.initView=function(){this.node.width=cc.Canvas.instance.node.width,this.node.height=cc.Canvas.instance.node.height,this.addCommonClick("close",this.close,this),this.addCommonClick("confirmBtn",this.confirmBtnFunc,this),this.addCommonClick("canelBtn",this.close,this),this.pwEditBox0=this.getComponent("PasswordBox0/editBox",cc.EditBox),this.pwEditBox1=this.getComponent("PasswordBox1/editBox",cc.EditBox),this.pwEditBox2=this.getComponent("PasswordBox2/editBox",cc.EditBox)},t.prototype.onOpen=function(){this.pwEditBox0.string="",this.pwEditBox1.string="",this.pwEditBox2.string=""},t.prototype.onClose=function(){},t.prototype.checkTextEmptyAndShowTips=function(e,t){return!(e.length<=0&&(this.model.showBankTips(t),1))},t.prototype.checkPWFormat=function(e,t){var o=Global.Toolkit.checkPWFormat(e);return o||this.model.showBankTips(t),o},t.prototype.confirmBtnFunc=function(){this.checkTextEmptyAndShowTips(this.pwEditBox0.string,"\u8bf7\u8f93\u5165\u5bc6\u7801")&&this.checkPWFormat(this.pwEditBox1.string,"\u8bf7\u6309\u8981\u6c42\u8f93\u51656~16\u4f4d\u6570\u5b57\u548c\u5b57\u6bcd\u5bc6\u7801")&&(this.pwEditBox1.string==this.pwEditBox2.string?this.model.reqSetBankPwd(this.pwEditBox0.string,this.pwEditBox1.string):this.model.showBankTips("\u65b0\u5bc6\u7801\u8f93\u5165\u4e0d\u4e00\u81f4\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165"))},t}(e("../../../../../core/ui/WndBase").default);o.default=r,cc._RF.pop()},{"../../../../../core/ui/WndBase":"WndBase"}],WndBankForgetPW:[function(e,t,o){"use strict";cc._RF.push(t,"33674z2OPlNKLdW0NehcUXE","WndBankForgetPW");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../../../core/ui/WndBase"),a=e("../../../login/view/PhoneInputView"),s=e("../../../login/view/AutoCodeView"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._pwCheckString="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",t}return n(t,e),t.prototype.onInit=function(){this.name="WndBankForgetPW",this.layer=Global.UI.PopLayer,this.resPath="hall/prefabs/ui/money/bank/BankForgetPWUI",this.model=Global.ModelManager.getModel("BankModel")},t.prototype.initView=function(){this.node.width=cc.Canvas.instance.node.width,this.node.height=cc.Canvas.instance.node.height,this.addCommonClick("close",this.close,this),this.addCommonClick("confirmBtn",this.confirmBtnFunc,this),this.phoneInputView=this.addView("PhoneInputView",this.getChild("phoneContainer"),a.default),this.phoneLabel=this.getComponent("phoneNumLabel",cc.RichText),this.authCodeView=this.addView("AutoCodeView",this.getChild("authCodeView"),s.default),this.authCodeView.setPhoneInputAndType(this.phoneInputView,2),this.pwEditBox1=this.getComponent("PasswordBox1/editBox",cc.EditBox)},t.prototype.onOpen=function(){if(this.phoneInputView.subViewState=!0,this.authCodeView.subViewState=!0,null!=Global.PlayerData.phone&&""!=Global.PlayerData.phone){this.phoneLabel.node.active=!0;var e=Global.Toolkit.formateStrWithAsterisk(Global.PlayerData.phone,Global.PlayerData.phone.length-5,1);this.phoneLabel.string="<b>"+e+"</b>",this.phoneInputView.node.active=!1;var t=Global.PlayerData.phone.split(" ");this.phoneInputView.area=t[0].replace("+",""),this.phoneInputView.phone=t[1]}else this.phoneLabel.node.active=!1,this.phoneLabel.string="",this.phoneInputView.node.active=!0,this.phoneInputView.area="86",this.phoneInputView.phone="";this.authCodeView.code="",this.pwEditBox1.string=""},t.prototype.checkTextEmptyAndShowTips=function(e,t){return!(e.length<=0&&(this.model.showBankTips(t),1))},t.prototype.checkPWFormat=function(e,t){var o=Global.Toolkit.checkPWFormat(e);return o||this.model.showBankTips(t),o},t.prototype.confirmBtnFunc=function(){this.checkTextEmptyAndShowTips(this.phoneInputView.phone,"\u624b\u673a\u53f7\u4e0d\u80fd\u4e3a\u7a7a")&&this.checkTextEmptyAndShowTips(this.authCodeView.code,"\u9a8c\u8bc1\u7801\u4e0d\u80fd\u4e3a\u7a7a")&&this.checkPWFormat(this.pwEditBox1.string,"\u8bf7\u6309\u8981\u6c42\u8f93\u51656~16\u4f4d\u6570\u5b57\u548c\u5b57\u6bcd\u5bc6\u7801")&&(this.phoneInputView.isAreaVaild()?this.model.reqForgetBankPwd(this.phoneInputView.phone,this.authCodeView.code,this.pwEditBox1.string,this.phoneInputView.area):Global.UI.fastTip("\u8bf7\u9009\u62e9\u6b63\u786e\u7684\u5730\u533a\u4fe1\u606f"))},t}(r.default);o.default=l,cc._RF.pop()},{"../../../../../core/ui/WndBase":"WndBase","../../../login/view/AutoCodeView":"AutoCodeView","../../../login/view/PhoneInputView":"PhoneInputView"}],WndBankLogin:[function(e,t,o){"use strict";cc._RF.push(t,"8e7266tU3BKIrWiqjLssCMJ","WndBankLogin");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.onInit=function(){this.name="WndBankLogin",this.layer=Global.UI.PopLayer,this.resPath="hall/prefabs/ui/money/bank/BankLoginBankUI",this.model=Global.ModelManager.getModel("BankModel")},t.prototype.initView=function(){this.addCommonClick("close",this.close,this),this.addCommonClick("confirmBtn",this.confirmBtnFunc,this),this.addCommonClick("changePWBtn",this.changePWBtnFunc,this,null),this.addCommonClick("forgetPWBtn",this.forgetPWBtnFunc,this,null),this.pwEditBox=this.getComponent("PasswordBox/editBox",cc.EditBox)},t.prototype.onOpen=function(){},t.prototype.checkTextEmptyAndShowTips=function(e,t){return!(e.length<=0&&(this.model.showBankTips(t),1))},t.prototype.confirmBtnFunc=function(){this.checkTextEmptyAndShowTips(this.pwEditBox.string,"\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a")&&this.model.reqLoginBank(this.pwEditBox.string)},t.prototype.changePWBtnFunc=function(){null!=Global.PlayerData.phone&&""!=Global.PlayerData.phone?Global.UI.show("WndBankChangePW"):this.model.showBankTips("\u8bf7\u60a8\u5148\u7ed1\u5b9a\u624b\u673a\u53f7\u7801\u518d\u4fee\u6539\u94f6\u884c\u5bc6\u7801\uff01")},t.prototype.forgetPWBtnFunc=function(){null!=Global.PlayerData.phone&&""!=Global.PlayerData.phone?Global.UI.show("WndBankForgetPW"):this.model.showBankTips("\u8bf7\u60a8\u5148\u7ed1\u5b9a\u624b\u673a\u53f7\u7801\u518d\u627e\u56de\u94f6\u884c\u5bc6\u7801")},t}(e("../../../../../core/ui/WndBase").default);o.default=r,cc._RF.pop()},{"../../../../../core/ui/WndBase":"WndBase"}],WndBankRechange:[function(e,t,o){"use strict";cc._RF.push(t,"ba0daI56r1EV6yugyjKE/Gg","WndBankRechange");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/ui/WndBase"),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.colorString={1e3:"#478CF6",1001:"#14AE58",1002:"#EAB429"},t}return n(t,e),t.prototype.onInit=function(){this.name="WndBankRechange",this.layer=Global.UI.PopLayer,this.resPath="hall/prefabs/ui/Recharge/BankRechangeUI",this.destoryType=r.DestoryType.None},t.prototype.initView=function(){this.node.width=cc.Canvas.instance.node.width,this.node.height=cc.Canvas.instance.node.height,this.bg=this.getChild("bg"),this.tipNode=this.getChild("tipNode"),this.bankNode=this.getChild("bankNode"),this.textNode=this.getChild("bankNode/textNode"),this.titleLabel=this.getChild("bankNode/titleLabel").getComponent(cc.Label),this.iconSprite=this.getChild("bankNode/iconSprite").getComponent(cc.Sprite),this.nameLabel=this.getChild("bankNode/textNode/nameLabel").getComponent(cc.Label),this.numberLabel=this.getChild("bankNode/textNode/numberLabel").getComponent(cc.Label),this.bankNameLabel=this.getChild("bankNode/textNode/bankNameLabel").getComponent(cc.Label),this.textLabel=this.getChild("bankNode/textLabel").getComponent(cc.Label),this.tipsLabel=this.getChild("tipNode/tips/tipsLabel").getComponent(cc.Label),this.addCommonClick("headNode/btnBack",this.goBack,this,cc.Button.Transition.NONE),this.addCommonClick("headNode/helpNode",this.goBack,this,cc.Button.Transition.NONE),this.addCommonClick("bankNode/textNode/nameLabel/copyNode",this.copyName,this,cc.Button.Transition.NONE),this.addCommonClick("bankNode/textNode/numberLabel/copyNode",this.copyNumber,this,cc.Button.Transition.NONE),this.addCommonClick("bankNode/textNode/bankNameLabel/copyNode",this.copyBankName,this,cc.Button.Transition.NONE)},t.prototype.onOpen=function(){var e=this.args[0],t=this.colorString[e.pay_type];this.bg.color=(new cc.Color).fromHEX(t),this.nameLabel.string=e.name,this.numberLabel.string=e.account,this.bankNameLabel.string=e.bank_type,this.tipsLabel.string=e.tips,this.updateUI(e)},t.prototype.updateUI=function(e){var t=this.tipNode.getComponent(cc.Widget);"1002"==e.pay_type?(this.bankNode.height=310,t.top=530,this.textNode.y=-180,this.textLabel.node.active=!0):(this.bankNode.height=270,t.top=490,this.textNode.y=-130,this.textLabel.node.active=!1),t.updateAlignment(),"1000"==e.pay_type?(this.titleLabel.string="\u652f\u4ed8\u5b9d\u94f6\u884c\u5361\u8f6c\u8d26",Global.ResourceManager.loadAutoAtlas(this.iconSprite,"hall/texture/hall/chat/chat","f_35",null,!1),this.iconSprite.node.x=-110):"1001"==e.pay_type?(this.titleLabel.string="\u5fae\u4fe1\u94f6\u884c\u5361\u8f6c\u8d26",Global.ResourceManager.loadAutoAtlas(this.iconSprite,"hall/texture/hall/chat/chat","f_36",null,!1),this.iconSprite.node.x=-100):(this.titleLabel.string="\u94f6\u884c\u5361\u6536\u6b3e",Global.ResourceManager.loadAutoAtlas(this.iconSprite,"hall/texture/hall/chat/chat","f_34",null,!1),this.iconSprite.node.x=-70)},t.prototype.goBack=function(){this.close()},t.prototype.copyName=function(){Global.NativeEvent.copyTextToClipboard(String(this.nameLabel.string),this.copyTextToClipboardCallBack.bind(this))},t.prototype.copyNumber=function(){Global.NativeEvent.copyTextToClipboard(String(this.numberLabel.string),this.copyTextToClipboardCallBack.bind(this))},t.prototype.copyBankName=function(){Global.NativeEvent.copyTextToClipboard(String(this.bankNameLabel.string),this.copyTextToClipboardCallBack.bind(this))},t.prototype.copyTextToClipboardCallBack=function(e){0==e.result?Global.UI.fastTip("\u590d\u5236\u6210\u529f"):Global.UI.fastTip("\u590d\u5236\u5931\u8d25")},t}(r.default);o.default=a,cc._RF.pop()},{"../../../core/ui/WndBase":"WndBase"}],WndBankUI:[function(e,t,o){"use strict";cc._RF.push(t,"76ad1sgRXlEnLlvwLp7EBO3","WndBankUI");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../../../core/ui/WndBase"),a=e("./BankSaveWin"),s=e("./BankDrawWin"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.curWin=1,t}return n(t,e),t.prototype.onInit=function(){this.isNeedDelay=!0,this.name="WndBankUI",this.layer=Global.UI.PopLayer,this.resPath="hall/prefabs/ui/money/bank/BankUI",this.model=Global.ModelManager.getModel("BankModel")},t.prototype.initView=function(){this.addCommonClick("bg_popup_almost/close",this.close,this),this.saveToggle=this.getComponent("leftBtns/layout/saveBtn",cc.Toggle),this.drawToggle=this.getComponent("leftBtns/layout/drawBtn",cc.Toggle),this.saveToggle.node.on("click",this.changeInfoNode,this),this.drawToggle.node.on("click",this.changeInfoNode,this),this.saveWin=this.addView("saveWin",this.getChild("winsNode/saveWin"),a.default,!1),this.drawWin=this.addView("drawWin",this.getChild("winsNode/drawWin"),s.default),this.bindPhoneBtn=this.getChild("winsNode/msgInfo/bandNode/bandBtn"),this.msgtip=this.getChild("winsNode/msgInfo/bandNode/msgLabel").getComponent(cc.Label),this.addCommonClick("winsNode/msgInfo/bandNode/bandBtn",this.openBindPhoneBtn,this)},t.prototype.onOpen=function(){null!=Global.PlayerData.phone&&""!=Global.PlayerData.phone?(this.bindPhoneBtn.active=!1,this.msgtip.string="\u6e29\u99a8\u63d0\u793a\uff1a\u94f6\u884c\u5b58\u53d6\u6b3e\u4e0d\u6536\u53d6\u4efb\u4f55\u624b\u7eed\u8d39\u54e6~"):(this.bindPhoneBtn.active=!0,this.msgtip.string="\u6e29\u99a8\u63d0\u793a\uff1a\u4e3a\u4e86\u60a8\u7684\u8d44\u91d1\u5b89\u5168\uff0c\u8bf7\u60a8\u7ed1\u5b9a\u624b\u673a\u53f7\u7801\uff01"),this.updateInfoNode()},t.prototype.afterOpen=function(){},t.prototype.closeAllWin=function(){this.saveWin.subViewState=!1,this.drawWin.subViewState=!1},t.prototype.updateInfoNode=function(){this.closeAllWin(),1==this.curWin?(this.saveWin.subViewState=!0,this.saveToggle.isChecked=!0):2==this.curWin&&(this.drawWin.subViewState=!0,this.drawToggle.isChecked=!0)},t.prototype.changeInfoNode=function(e){var t=1;e==this.drawToggle?t=2:e==this.saveToggle&&(t=1),t!=this.curWin&&(Global.Audio.playBtnSound(),this.curWin=t,this.updateInfoNode())},t.prototype.openBindPhoneBtn=function(){Global.UI.show("WndBindPhone")},t}(r.default);o.default=l,cc._RF.pop()},{"../../../../../core/ui/WndBase":"WndBase","./BankDrawWin":"BankDrawWin","./BankSaveWin":"BankSaveWin"}],WndBase:[function(e,t,o){"use strict";cc._RF.push(t,"7ead6CU+MxGd7OQaoNPsjrD","WndBase");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.DestoryType=o.LoadingState=void 0;var r,a,s=e("../../../framework/event/EventDispatcher"),l=e("./ViewBase");(function(e){e[e.None=0]="None",e[e.Loading=1]="Loading",e[e.Loaded=2]="Loaded"})(r=o.LoadingState||(o.LoadingState={})),function(e){e[e.None=0]="None",e[e.Now=1]="Now",e[e.ChangeScene=2]="ChangeScene",e[e.Persist=3]="Persist"}(a=o.DestoryType||(o.DestoryType={}));var c=function(e){function t(){var t=e.call(this)||this;return t.loadingState=r.None,t.destoryType=a.ChangeScene,t.args=null,t.showBg=!0,t.isInited=!1,t.isNeedDelay=!1,t.putToPersistWhenVisible=!1,t.internalEvent=new s.default,t.onInit(),t.registToUIManager(),t}return n(t,e),t.prototype.onInit=function(){},t.prototype.registToUIManager=function(){Global.UI.registUI(this)},t.prototype.prepare=function(){},t.prototype.afterOpen=function(){},t.prototype.reshow=function(){this.onReshow()},t.prototype.onReshow=function(){},t.prototype.close=function(){Global.UI.close(this.name)},t.prototype.realClose=function(){this.resetState(),this.onClose(),this.closeAllSubView()},Object.defineProperty(t.prototype,"isLoaded",{get:function(){return this.loadingState==r.Loaded},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLoading",{get:function(){return this.loadingState==r.Loading},enumerable:!1,configurable:!0}),t.prototype.openAnimFinish=function(){},t.prototype.afterAnimFinish=function(){},t.prototype.closeAnimFinish=function(){this.active=!1,this.commonBg&&(this.commonBg.active=!1),this.onCloseAnimFinish(),this.destoryType==a.Now&&(Global.UI.dispose(this.name),null!=this.node&&cc.isValid(this.node)&&(this.node.removeFromParent(!0),this.node.destroy(),this.node=null),Global.ResourceManager.releaseCache(this.resPath,null),this.loadingState=r.None)},t.prototype.releaseRes=function(){this.destoryType==a.ChangeScene&&(Logger.error("release",this.resPath),Global.ResourceManager.releaseCache(this.resPath,null),this.loadingState=r.None)},t.prototype.onCloseAnimFinish=function(){},t.prototype.OnDataPrepared=function(){Global.Event.event(GlobalEvent.HIDE_NET_WAITING,this.name),1!=this.active&&(this.isInited=!0,this.isInited&&this.isNeedDelay&&(this.active=!0,this.animComp.bg=this.commonBg,this.animComp.ui=this.node,this.animComp.target=this,this.animComp.doPopupOpenAnim()))},t.prototype.resetState=function(){this.isInited=!1},t.prototype.onOpenPersist=function(){},t.prototype.onClosePersist=function(){},Object.defineProperty(t.prototype,"activeInPersistNode",{set:function(e){this._active!=e&&(this._active=e,this.node.active=e,e?this.onOpenPersist():this.onClosePersist())},enumerable:!1,configurable:!0}),t}(l.default);o.default=c,cc._RF.pop()},{"../../../framework/event/EventDispatcher":"EventDispatcher","./ViewBase":"ViewBase"}],WndBindPhone:[function(e,t,o){"use strict";cc._RF.push(t,"5795c3vfutPiY487dBBz+X3","WndBindPhone");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/ui/WndBase"),a=e("../login/view/AutoCodeView"),s=e("../login/view/PhoneInputView"),l=e("../login/view/PwdInputView"),c=e("../../tool/HallPopMsgHelper"),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.onInit=function(){this.name="WndBindPhone",this.layer=Global.UI.PopLayer,this.resPath="hall/prefabs/ui/PersonalInfo/BindPhoneUI",this.model=Global.ModelManager.getModel("PersonalInfoModel")},t.prototype.initView=function(){this.addCommonClick("bg/close",this.closeWnd,this),this.addCommonClick("cancelBtn",this.closeWnd,this),this.addCommonClick("sureBtn",this.onSureBtnClick,this),this.phoneInputView=this.addView("PhoneInputView",this.getChild("phoneContainer"),s.default),this.authCodeView=this.addView("AutoCodeView",this.getChild("authCodeView"),a.default),this.authCodeView.setPhoneInputAndType(this.phoneInputView,1),this.pwdInputView=this.addView("PwdInputView1",this.getChild("pwdContainer"),l.default)},t.prototype.closeWnd=function(){this.close()},t.prototype.onOpen=function(){this.phoneInputView.subViewState=!0,this.authCodeView.subViewState=!0,this.pwdInputView.subViewState=!0,this.phoneInputView.phone="",this.authCodeView.code="",this.pwdInputView.pwd=""},t.prototype.onSureBtnClick=function(){var e=this;if(""==this.phoneInputView.phone)return Global.UI.fastTip("\u8bf7\u8f93\u5165\u624b\u673a\u53f7\u7801");if(""==this.authCodeView.code)return Global.UI.fastTip("\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801");if(""==this.pwdInputView.pwd)return Global.UI.fastTip("\u8bf7\u8f93\u5165\u5bc6\u7801");if(this.phoneInputView.isAreaVaild()){var t=this.phoneInputView.phone,o=this.authCodeView.code,i=this.phoneInputView.area,n=this.pwdInputView.pwd;if(!Global.Toolkit.checkPWFormat(this.pwdInputView.pwd))return Global.UI.fastTip(Global.Language.getWord(1303));n=Global.Toolkit.md5(n),this.model.reqBindPhone(t,o,i,n,function(t){var o,i=t.bind_point?t.bind_point:0,n=t.phone_point?t.phone_point:0;t.phone||(o=""),o=-1==t.phone.indexOf(" ")?Global.AESUtil.decodeMsg(t.phone):t.phone,Global.PlayerData.phone=o||"",(i>0||n>0)&&(i>0&&c.default.Instance.addMsgList(c.PopWndName.BindGiftGet,function(){c.default.Instance.addLock(c.PopWndName.BindGiftGet),Global.UI.show("WndRebateGet",i,n>0?c.BindAwardUIType.bindPoint:c.BindAwardUIType.onlyBindPoint)}),n>0&&c.default.Instance.addMsgList(c.PopWndName.PhoneGiftGet,function(){c.default.Instance.addLock(c.PopWndName.PhoneGiftGet),Global.UI.show("WndRebateGet",n,i>0?c.BindAwardUIType.phonePoint:c.BindAwardUIType.onlyPhonePoint)})),0==i&&0==n&&o&&Global.UI.fastTip("\u7ed1\u5b9a\u624b\u673a\u6210\u529f"),e.closeWnd()})}else Global.UI.fastTip("\u8bf7\u9009\u62e9\u6b63\u786e\u7684\u5730\u533a\u4fe1\u606f")},t.prototype.onClose=function(){c.default.Instance.releaseLock(c.PopWndName.BindPhone)},t}(r.default);o.default=p,cc._RF.pop()},{"../../../core/ui/WndBase":"WndBase","../../tool/HallPopMsgHelper":"HallPopMsgHelper","../login/view/AutoCodeView":"AutoCodeView","../login/view/PhoneInputView":"PhoneInputView","../login/view/PwdInputView":"PwdInputView"}],WndBindingGift:[function(e,t,o){"use strict";cc._RF.push(t,"bd48ezZGKJH8opArceG4Ezu","WndBindingGift");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/ui/WndBase"),a=e("../../../core/GlobalEvent"),s=e("../../tool/HallPopMsgHelper"),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.onInit=function(){this.name="WndBindingGift",this.layer=Global.UI.PopLayer,this.resPath="hall/prefabs/ui/BindingGift/BindingGift",this.model=Global.ModelManager.getModel("BindingGiftModel"),this.destoryType=r.DestoryType.Now},t.prototype.initView=function(){this.node.width=cc.Canvas.instance.node.width,this.node.height=cc.Canvas.instance.node.height,this.bindBtn=cc.find("BindBtn",this.node),this.bindGiftLabel=this.getComponent("awardLabel",cc.Label),this.addCommonClick("close",this.close,this),this.bindBtn=this.addCommonClick("BindBtn",this.OpenBindingPhone,this),this.bindBtn&&(this.bindBtn.active=!0)},t.prototype.playSpineAward=function(){var e=this;null==this.SpineNode&&(this.SpineNode=cc.find("spineNode",this.node).getComponent(sp.Skeleton),this.SpineNode.setCompleteListener(function(){e.SpineNode.clearTrack(0),e.SpineNode.setAnimation(0,"idle2",!0)})),this.SpineNode.clearTrack(0),this.SpineNode.setAnimation(0,"idle",!1)},t.prototype.OpenBindingPhone=function(){Logger.error("\u70b9\u51fb\u7ed1\u5b9a\u624b\u673a:0000"),s.default.Instance.addMsgList(s.PopWndName.BindPhone,function(){Logger.error("\u70b9\u51fb\u7ed1\u5b9a\u624b\u673a"),Global.Event.event(a.default.POP_BIND_PHONE)}),this.close()},t.prototype.onOpen=function(){3===this.model.BindAwardNum&&Global.Audio.playAudioSource("hall/sound/binding"),this.model.SetStatus(!1),this.bindGiftLabel.string=this.model.BindAwardNum.toString()||"",Global.Setting.SkinConfig.isPurple&&this.playSpineAward()},t.prototype.onClose=function(){s.default.Instance.releaseLock(s.PopWndName.BindGift),clearTimeout(this.timerId)},t}(r.default);o.default=l,cc._RF.pop()},{"../../../core/GlobalEvent":"GlobalEvent","../../../core/ui/WndBase":"WndBase","../../tool/HallPopMsgHelper":"HallPopMsgHelper"}],WndBuySafeUI:[function(e,t,o){"use strict";cc._RF.push(t,"64de8w+a81BYqy0eoCF2c7M","WndBuySafeUI");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/tool/PoolBase"),a=e("../../../core/ui/WndBase"),s=e("../../../hallcommon/model/RechargeGiftModel"),l=e("../../../core/net/hall/NetEvent"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nodeList=[],t.currYeqian=-1,t.yeqianArr=[],t.list=null,t}return n(t,e),t.prototype.onInit=function(){this.name="WndBuySafeUI",this.layer=Global.UI.PopLayer,this.resPath="hall/prefabs/ui/safe/BuySafeUI",this.rechargeModel=Global.ModelManager.getModel("RechargeGiftModel")},t.prototype.initView=function(){this.rechargeModel.on(s.default.GetCfg,this,this.onGetConfig),this.copyItem=this.getChild("scrollview/view/content/item"),this.contentNode=this.getChild("scrollview/view/content"),this.initItemPool(),this.addCommonClick("close",this.close,this),this.addCommonClick("btn_gz",this.onRule,this),this.updateUI()},t.prototype.onGetConfig=function(e){if(null!=e)for(var t=e.data,o=0;o<t.length;o++){var i=t[o];if(i&&19==i.atype){this.rechargeModel.safeData=i.cfg,this.updateUI();break}}},t.prototype.updateUI=function(){var e=this.getChild("centerNode/yesterdayBet").getComponent(cc.Label),t=-1*Number(this.rechargeModel.safeData.profit);e.string=Global.Toolkit.formatPointStr(t,!0),this.gmbxNode=this.addCommonClick("centerNode/btn_gmbx/btn_gmbx",this.onBuySafe,this),this.lqbxjNode=this.addCommonClick("centerNode/btn_lqbxj/btn_lqbxj",this.onReceiveSafe,this);var o=this.getChild("centerNode/btn_lqbxj/btn_lqbxj_1"),i=this.getChild("centerNode/btn_gmbx/btn_gmbx_1");0==this.rechargeModel.safeData.recive_point?(this.lqbxjNode.active=!1,o.active=!0):(this.lqbxjNode.active=!0,o.active=!1),0!=this.rechargeModel.safeData.premium?(this.gmbxNode.active=!1,i.active=!0):(this.gmbxNode.active=!0,i.active=!1),this.list=this.rechargeModel.safeData.cfg.list;for(var n=0;n<3;n++){var r=this.addCommonClick("topyeqian/yeqian_"+n,this.yeqianBtnFunc,this);if(this.yeqianArr[2*n]=cc.find("noSelected",r),this.yeqianArr[2*n+1]=cc.find("selected",r),this.list&&this.list[n]){var a=this.list[n];cc.find("noSelected/num",r).getComponent(cc.Label).string=(a.premium/Global.Setting.glodRatio).toString(),cc.find("selected/num",r).getComponent(cc.Label).string=(a.premium/Global.Setting.glodRatio).toString(),r.active=!0}else r.active=!1}},t.prototype.yeqianBtnFunc=function(e){var t=e.node.name.split("_"),o=t[t.length-1],i=parseInt(o);this.ChangeYeqian(i)},t.prototype.UpdatBtn=function(){for(var e=0;e<3;e++){var t=e==this.currYeqian;this.yeqianArr[2*e+1].active=t,this.list[e]&&t&&this.RefreshScrollView(this.list[e])}},t.prototype.onOpen=function(){this.copyItem.active=!1,this.ChangeYeqian(0),this.list[0]&&this.RefreshScrollView(this.list[0]),this.rechargeModel.reqGetActivityCfg(!1)},t.prototype.RefreshScrollView=function(e){this.recycle();for(var t=0;t<e.odds.length;t++){var o=this.itemPool.getItem();this.nodeList.push(o),o.active=!0,o.setParent(this.contentNode),e.odds[t]&&o.getComponent("GiftMoneyItem").InitSafe(e.odds[t],e.premium)}},t.prototype.ChangeYeqian=function(e){this.currYeqian!=e&&(this.currYeqian=e,this.UpdatBtn())},t.prototype.onRule=function(){Global.UI.show("WndSafeRuleUI")},t.prototype.onBuySafe=function(){var e=this;Global.HallServer.send(l.NetAppface.mod,l.NetAppface.BuyInsurance,{premium:this.list[this.currYeqian].premium},function(){Global.UI.fastTip("\u8d2d\u4e70\u4fdd\u9669\u6210\u529f"),e.rechargeModel.reqGetActivityCfg(!1),Global.HallServer.send(l.NetAppface.mod,l.NetAppface.GetUserPoint,{})},function(e){Global.UI.fastTip(e._errstr)},!1)},t.prototype.onReceiveSafe=function(){var e=this;Global.HallServer.send(l.NetAppface.mod,l.NetAppface.ReciveInsurance,{},function(t){Global.UI.show("WndRebateGet",t.recive_point,null,function(){}),Global.HallServer.send(l.NetAppface.mod,l.NetAppface.GetUserPoint,{}),e.rechargeModel.reqGetActivityCfg(!1)},function(e){Global.UI.fastTip(e._errstr)},!1)},t.prototype.onClose=function(){this.currYeqian=-1},t.prototype.onDispose=function(){this.currYeqian=-1,this.itemPool.resetPool(),this.nodeList=[],this.rechargeModel.off(s.default.GetCfg,this,this.onGetConfig)},t.prototype.initItemPool=function(){this.itemPool=new p(this.copyItem)},t.prototype.recycle=function(){this.itemPool.recycleAll(this.nodeList),this.nodeList=[]},t}(a.default);o.default=c;var p=function(e){function t(t){var o=e.call(this)||this;return o.copyNode=t,o}return n(t,e),t.prototype.createItem=function(){return cc.instantiate(this.copyNode)},t.prototype.resetItem=function(e){e.active=!1,e.setParent(null)},t}(r.default);cc._RF.pop()},{"../../../core/net/hall/NetEvent":"NetEvent","../../../core/tool/PoolBase":"PoolBase","../../../core/ui/WndBase":"WndBase","../../../hallcommon/model/RechargeGiftModel":"RechargeGiftModel"}],WndChangePwd:[function(e,t,o){"use strict";cc._RF.push(t,"365f6SXlyZCFb/qDOIHChh0","WndChangePwd");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/ui/WndBase"),a=e("../login/view/AutoCodeView"),s=e("../login/view/PhoneInputView"),l=e("../login/view/PwdInputView"),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.onInit=function(){this.name="WndChangePwd",this.layer=Global.UI.PopLayer,this.resPath="hall/prefabs/ui/PersonalInfo/ChangePwdUI",this.model=Global.ModelManager.getModel("PersonalInfoModel")},t.prototype.initView=function(){this.addCommonClick("bg/close",this.closeWnd,this),this.addCommonClick("cancelBtn",this.closeWnd,this),this.addCommonClick("sureBtn",this.onSureBtnClick,this),this.phoneInputView=this.addView("PhoneInputView",this.getChild("phoneContainer"),s.default),this.authCodeView=this.addView("AutoCodeView",this.getChild("authCodeView"),a.default),this.authCodeView.setPhoneInputAndType(this.phoneInputView,2),this.pwdInputView=this.addView("PwdInputView",this.getChild("pwdContainer"),l.default)},t.prototype.onOpen=function(){this.phoneInputView.subViewState=!0,this.authCodeView.subViewState=!0,this.pwdInputView.subViewState=!0,this.authCodeView.code="",this.pwdInputView.pwd=""},t.prototype.closeWnd=function(){this.close()},t.prototype.onSureBtnClick=function(){var e=this;if(""==this.phoneInputView.phone)return Global.UI.fastTip("\u8bf7\u8f93\u5165\u624b\u673a\u53f7\u7801");if(""==this.authCodeView.code)return Global.UI.fastTip("\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801");if(""==this.pwdInputView.pwd)return Global.UI.fastTip("\u8bf7\u8f93\u5165\u5bc6\u7801");if(!Global.Toolkit.checkPWFormat(this.pwdInputView.pwd))return Global.UI.fastTip(Global.Language.getWord(1303));if(this.phoneInputView.isAreaVaild()){var t=this.phoneInputView.phone,o=this.authCodeView.code,i=this.phoneInputView.area,n=this.pwdInputView.pwd;n=Global.Toolkit.md5(n),this.model.reqEditPwd(t,o,i,n,function(){Global.UI.fastTip("\u5bc6\u7801\u4fee\u6539\u6210\u529f"),e.closeWnd()})}else Global.UI.fastTip("\u8bf7\u9009\u62e9\u6b63\u786e\u7684\u5730\u533a\u4fe1\u606f")},t}(r.default);o.default=c,cc._RF.pop()},{"../../../core/ui/WndBase":"WndBase","../login/view/AutoCodeView":"AutoCodeView","../login/view/PhoneInputView":"PhoneInputView","../login/view/PwdInputView":"PwdInputView"}],WndChatImage:[function(e,t,o){"use strict";cc._RF.push(t,"7f556HysPhGY7Uf1WnF52DM","WndChatImage");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/ui/WndBase"),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.onInit=function(){this.name="WndChatImage",this.layer=Global.UI.PopLayer,this.resPath="hall/prefabs/ui/Recharge/ChatImage",this.destoryType=r.DestoryType.None},t.prototype.initView=function(){this.node.width=cc.Canvas.instance.node.width,this.node.height=cc.Canvas.instance.node.height,this.imageNode=this.getChild("imageNode").getComponent(cc.Sprite),this.imageNode.spriteFrame=null,this.addCommonClick("btnBack",this.goBack,this)},t.prototype.onOpen=function(){var e=this,t=this.args[0];this.imageNode.spriteFrame=null,this.loadSeverHeader(t.url,function(o){e.imageNode.spriteFrame=o,e.imageNode.node.width=e.node.width,e.imageNode.node.height=e.node.width/t.imageWidth*t.imageHeight})},t.prototype.goBack=function(){this.close()},t.prototype.loadSeverHeader=function(e,t){cc.loader.load({url:e,type:"jpg"},function(e,o){var i=new cc.SpriteFrame(o);t(i)})},t}(r.default);o.default=a,cc._RF.pop()},{"../../../core/ui/WndBase":"WndBase"}],WndChooseBank:[function(e,t,o){"use strict";cc._RF.push(t,"4f034cs68JJLLgiVvLAdEah","WndChooseBank");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.BankInfoType=void 0;var r,a=e("../../../core/ui/WndBase");(function(e){e[e.BankName=1]="BankName",e[e.Province=2]="Province",e[e.City=3]="City"})(r=o.BankInfoType||(o.BankInfoType={}));var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.itemList=[],t.comfirmBtn=null,t.dataIndex=0,t}return n(t,e),t.prototype.onInit=function(){this.name="WndChooseBank",this.layer="PopLayer",this.resPath="hall/prefabs/ui/Recharge/subView/cash/chooseBank",this.model=Global.ModelManager.getModel("ExtractModel"),t.instance=this},t.prototype.onOpen=function(){e.prototype.onOpen.call(this),this.scroll.scrollToTop(0)},t.prototype.initView=function(){this.item=this.getChild("scrollview/view/content/item"),this.item.active=!1,this.contentRoot=this.getChild("scrollview/view/content"),this.scroll=this.getComponent("scrollview",cc.ScrollView),this.initItems(),this.addCommonClick("sureBtn",this.sureClick,this),this.addCommonClick("close",this.closeWnd,this)},t.prototype.initItems=function(){var e=this;this.datas=this.model.getBankArray();for(var t=function(t){var i=o.datas[t],n=cc.instantiate(o.item);n.active=!0,cc.find("checkToggle/Background/bankName",n).getComponent(cc.Label).string=i,cc.find("checkToggle/checkmark/bankName",n).getComponent(cc.Label).string=i,o.contentRoot.addChild(n);var r=t,a=n.getChildByName("checkToggle").getComponent(cc.Toggle);n.on(cc.Node.EventType.TOUCH_END,function(){a.isChecked=!0,e.onItemClick(r)},o),o.itemList.push(n)},o=this,i=0;i<this.datas.length;i++)t(i)},t.prototype.onItemClick=function(e){this.dataIndex=e},t.prototype.closeWnd=function(){this.close()},t.prototype.onDestroy=function(){t.instance=null},t.prototype.sureClick=function(){if(this.datas[this.dataIndex]){var e=this.datas[this.dataIndex];this.onSelect&&this.onSelect(r.BankName,e)}},t.instance=null,t}(a.default);o.default=s,cc._RF.pop()},{"../../../core/ui/WndBase":"WndBase"}],WndChooseCity:[function(e,t,o){"use strict";cc._RF.push(t,"eaa0beP3X1G3Yn0GukJYmWZ","WndChooseCity");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.BankInfoType=void 0;var r,a=e("../../../core/tool/PoolBase"),s=e("./WndChooseBank");(function(e){e[e.BankName=1]="BankName",e[e.Province=2]="Province",e[e.City=3]="City"})(r=o.BankInfoType||(o.BankInfoType={}));var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.itemTable=[],t}return n(t,e),t.prototype.onInit=function(){this.name="WndChooseCity",this.layer="PopLayer",this.resPath="hall/prefabs/ui/Recharge/subView/cash/chooseCity",this.model=Global.ModelManager.getModel("ExtractModel"),t.instance=this},t.prototype.initView=function(){this.item=this.getChild("scrollview/view/content/item"),this.item.active=!1,this.contentRoot=this.getChild("scrollview/view/content"),this.scroll=this.getComponent("scrollview",cc.ScrollView),this.addCommonClick("sureBtn",this.sureClick,this),this.addCommonClick("close",this.closeWnd,this),this.initItemPool()},t.prototype.initItems=function(){var e=this;if(this.recycle(),this.datas=this.model.BankLocationInfo,this.datas.hasOwnProperty(this.ProvinceIndex)){var t=function(t){var i=o.datas[o.ProvinceIndex].city[t].name,n=o.itemPool.getItem();n.active=!0,cc.find("checkToggle/Background/bankName",n).getComponent(cc.Label).string=i,cc.find("checkToggle/checkmark/bankName",n).getComponent(cc.Label).string=i,o.contentRoot.addChild(n);var r=t,a=n.getChildByName("checkToggle").getComponent(cc.Toggle);n.on(cc.Node.EventType.TOUCH_END,function(){a.isChecked=!0,e.onItemClick(r)},o),o.itemTable.push(n)},o=this;for(var i in this.datas[this.ProvinceIndex].city)t(i)}},t.prototype.recycle=function(){this.itemPool.recycleAll(this.itemTable),this.itemTable=[]},t.prototype.onDispose=function(){this.itemPool.resetPool(),this.itemTable=[]},t.prototype.onOpen=function(){e.prototype.onOpen.call(this),this.ProvinceIndex!=this.model.DefautProvinceCode&&(this.ProvinceIndex=this.model.DefautProvinceCode,this.dataIndex=parseInt(this.model.GetDefautCityCode(this.ProvinceIndex),10),this.initItems())},t.prototype.initItemPool=function(){this.itemPool=new c(this.item)},t.prototype.onItemClick=function(t){e.prototype.onItemClick.call(this,t)},t.prototype.onDestroy=function(){t.instance=null},t.prototype.closeWnd=function(){e.prototype.closeWnd.call(this)},t.prototype.sureClick=function(){if(this.datas[this.ProvinceIndex]){var e=this.datas[this.ProvinceIndex].city[this.dataIndex];this.onSelect&&this.onSelect(r.City,e.name)}},t.instance=null,t}(s.default);o.default=l;var c=function(e){function t(t){var o=e.call(this)||this;return o.copyNode=t,o}return n(t,e),t.prototype.createItem=function(){return cc.instantiate(this.copyNode)},t.prototype.resetItem=function(e){e.active=!1,e.setParent(null)},t.prototype.recycleAll=function(t){var o=this;e.prototype.recycleAll.call(this,t),t.forEach(function(e){o.resetItem(e)})},t}(a.default);cc._RF.pop()},{"../../../core/tool/PoolBase":"PoolBase","./WndChooseBank":"WndChooseBank"}],WndChooseHead:[function(e,t,o){"use strict";cc._RF.push(t,"1e496aMCMhDtqDoDDacHiMd","WndChooseHead");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/ui/WndBase"),a=e("./HeadLayerView"),s=e("./HeadFrameLayerView"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spriteHead=null,t.spriteHeadFrame=null,t.curViewIndex=-1,t.yeqianRootNodeArr=[],t.yeqianArr=[],t}return n(t,e),t.prototype.onInit=function(){this.name="WndChooseHead",this.layer=Global.UI.PopLayer,this.resPath="hall/prefabs/ui/PlayerInfo/ChooseHeadUI",this.model=Global.ModelManager.getModel("PlayerInfoModel")},t.prototype.onDispose=function(){Global.Event.off(GlobalEvent.PERSONALINFOUPDATE,this,this.refreshPersonInfo)},t.prototype.initView=function(){Global.Event.on(GlobalEvent.PERSONALINFOUPDATE,this,this.refreshPersonInfo),this.addCommonClick("bg/close",this.closeBtnFunc,this),this.spriteHead=this.getComponent("headImg/headFrame",cc.Sprite),this.spriteHeadFrame=this.getComponent("headbox",cc.Sprite);for(var e=0;e<2;e++){var t=this.addCommonClick("yeqian/yeqian_"+e,this.subViewBtnFunc,this);this.yeqianRootNodeArr[e]=t,this.yeqianArr[2*e]=cc.find("noSelected",t),this.yeqianArr[2*e+1]=cc.find("selected",t)}this.headLayerView=this.addView("HeadLayerView",this.getChild("content/content_0"),a.default),this.headFrameLayerView=this.addView("HeadFrameLayerView",this.getChild("content/content_1"),s.default),this.yeqianRootNodeArr[1].active=!Global.Setting.vipDisable},t.prototype.UpdateUI=function(){for(var e=0;e<2;e++){var t=e==this.curViewIndex;this.yeqianArr[2*e+1].active=t}},t.prototype.subViewBtnFunc=function(e){var t=e.node.name.split("_"),o=t[t.length-1],i=parseInt(o);this.changeView(i)},t.prototype.changeView=function(e){this.curViewIndex!=e&&(this.curViewIndex=e,this.headLayerView.subViewState=0==this.curViewIndex,this.headFrameLayerView.subViewState=1==this.curViewIndex,this.UpdateUI())},t.prototype.onOpen=function(){this.model.reqGetUserInfo(null,null),this.refreshPersonInfo(),this.changeView(0)},t.prototype.refreshPersonInfo=function(){if(!Global.SceneManager.inGame()){var e=Global.PlayerData;this.spriteHead.spriteFrame=Global.Toolkit.getLocalHeadSf(e.headimg),Global.Toolkit.loadLocalHeadFrame(this.spriteHeadFrame,e.headkuang)}},t.prototype.onClose=function(){this.curViewIndex=-1},t.prototype.closeBtnFunc=function(){this.close()},t}(r.default);o.default=l,cc._RF.pop()},{"../../../core/ui/WndBase":"WndBase","./HeadFrameLayerView":"HeadFrameLayerView","./HeadLayerView":"HeadLayerView"}],WndChooseProvince:[function(e,t,o){"use strict";cc._RF.push(t,"1fb5ecyRc1J0L1O6j3C3vIY","WndChooseProvince");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.BankInfoType=void 0;var r,a=e("./WndChooseBank");(function(e){e[e.BankName=1]="BankName",e[e.Province=2]="Province",e[e.City=3]="City"})(r=o.BankInfoType||(o.BankInfoType={}));var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.onInit=function(){this.name="WndChooseProvince",this.layer="PopLayer",this.resPath="hall/prefabs/ui/Recharge/subView/cash/chooseProvince",this.model=Global.ModelManager.getModel("ExtractModel"),t.instance=this},t.prototype.initItems=function(){var e=this;this.datas=this.model.BankLocationInfo;var t=function(t){if(o.datas.hasOwnProperty(t)){var i=o.datas[t].name,n=cc.instantiate(o.item);n.active=!0,cc.find("checkToggle/Background/bankName",n).getComponent(cc.Label).string=i,cc.find("checkToggle/checkmark/bankName",n).getComponent(cc.Label).string=i,o.contentRoot.addChild(n);var r=t,a=n.getChildByName("checkToggle").getComponent(cc.Toggle);n.on(cc.Node.EventType.TOUCH_END,function(){a.isChecked=!0,e.onItemClick(r)},o),o.itemList.push(n)}},o=this;for(var i in this.datas)t(i)},t.prototype.onOpen=function(){e.prototype.onOpen.call(this),this.dataIndex=this.model.DefautProvinceCode},t.prototype.onItemClick=function(t){e.prototype.onItemClick.call(this,t),this.model.DefautProvinceCode=t},t.prototype.onDestroy=function(){t.instance=null},t.prototype.closeWnd=function(){e.prototype.closeWnd.call(this)},t.prototype.sureClick=function(){if(this.datas[this.dataIndex]){var e=this.datas[this.dataIndex];this.onSelect&&this.onSelect(r.Province,e.name)}},t.instance=null,t}(a.default);o.default=s,cc._RF.pop()},{"./WndChooseBank":"WndChooseBank"}],WndCommision:[function(e,t,o){"use strict";cc._RF.push(t,"2f0817OLTlPirx86lYsi8hz","WndCommision");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/tool/PoolBase"),a=e("../../../core/ui/WndBase"),s=e("./CommisionLeftItem"),l=e("../../../hallcommon/model/CommisionModel"),c=e("../../../hallcommon/model/HallModel"),p=e("../waiting/WaitingView"),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.leftItemNodeList=[],t.RightItemNodeList=[],t.taskType=-1,t.clickedId=-1,t}return n(t,e),t.prototype.onOpen=function(){this.waitingNode&&(this.waitingNode.active=!0),this.model.reqGetCommisionAllList()},t.prototype.initView=function(){this.leftCopyItem=this.getChild("leftPanel/missionItem"),this.leftCopyItem&&(this.leftCopyItem.active=!1),this.rightCopyItem=this.getChild("rightPanel/item"),this.rightCopyItem&&(this.rightCopyItem.active=!1),this.lfetContentNode=this.getChild("leftPanel/scrollview/view/content"),this.rightScrollView=this.getComponent("rightPanel/scrollview",cc.ScrollView),this.addCommonClick("close",this.close,this),this.initItemPool(),this.initRightListView(),this.model.on(l.default.UpdateleftView,this,this.RefershLeftPanel),this.model.on(l.default.UpdateScrollview,this,this.RefershRightPanel),this.model.on(l.default.GetCommisionAward,this,this.onGetAward),null!=this.waitingNode&&null!=this.waitingNode||(this.waitingNode=p.default.initWaitingView(this.node,cc.v2(0,0)))},t.prototype.onGetAward=function(e){var t=this.model.checkIsAnyCommisionCanGet(this.clickedId),o=this.lfetContentNode.getChildByName(this.clickedId.toString());t||o.getComponent(s.default).SetUnReadActiveState(!1),this.ChangeStatus(e),this.rightListView.updateView()},t.prototype.initItemPool=function(){this.leftItemPool=new u(this.leftCopyItem)},t.prototype.onInit=function(){this.isNeedDelay=!0,this.name="WndCommision",this.layer="PopLayer",this.resPath="hall/prefabs/ui/Commision/CommisionUI",this.model=Global.ModelManager.getModel("CommisionModel")},t.prototype.initRightListView=function(){var e=this,t=Global.Setting.SkinConfig.commisionCfg,o=t[0],i=t[1];this.rightListView=Global.UIHelper.addScrollViewCarmackComp(this.rightScrollView.node,this.rightCopyItem,o,i,this,function(t,o){var i=e.rightListView.allDatas[o];t.getComponent("CommisionItem").UpdateUI(i,e.taskType)})},t.prototype.onClose=function(){this.recycleItems(),this.model.checkShowHallRedSpot()?Global.Event.event(GlobalEvent.ShowRedSpot,[!0,c.HallRedSpotType.Commision]):Global.Event.event(GlobalEvent.CloseRedSpot,c.HallRedSpotType.Commision),this.model.resetData()},t.prototype.onDispose=function(){this.leftItemPool.resetPool(),this.leftItemNodeList=[],this.RightItemNodeList=[],this.model.off(l.default.UpdateleftView,this,this.RefershLeftPanel),this.model.off(l.default.UpdateScrollview,this,this.RefershRightPanel),this.model.off(l.default.GetCommisionAward,this,this.onGetAward)},t.prototype.RefershRightPanel=function(e){this.waitingNode&&(this.waitingNode.active=!1);var t=e.data||[];this.taskType=e.global_task_type?e.global_task_type:-1,t.sort(this.sortData),this.rightListView.allDatas=t,this.rightListView.updateView()},t.prototype.sortData=function(e,t){return 1!==e.task_status&&1!==t.task_status?e-t:1===e.task_status&&1!==t.task_status?-1:1===e.task_status&&1===t.task_status?e-t:1},t.prototype.ChangeStatus=function(e){var t=this.rightListView.allDatas;if(t&&0!=t.length){for(var o=0;o<t.length;o++){var i=t[o];i.task_id==e.id&&e.global_task_type==this.clickedId&&(i.task_status=2)}t.sort(this.sortData)}},t.prototype.SortItem=function(){},t.prototype.UpdataListData=function(e){null!=e&&(this.rightListView.allDatas=e,this.rightListView.UpDateScrollData())},t.prototype.RefershLeftPanel=function(e){if(this.waitingNode&&(this.waitingNode.active=!1),Global.Event.event(GlobalEvent.HIDE_NET_WAITING,"WndCommision"),e&&0!=e.length){this.OnDataPrepared();for(var t=0;t<e.length;t++){var o=this.leftItemPool.getItem();o.setParent(this.lfetContentNode),this.leftItemNodeList.push(o);var i=o.getComponent("CommisionLeftItem");i.data=e[t],0===t&&(this.clickedId=e[t].global_task_type,i.SetToggleChecked(!0),this.model.reqGetCommisionInfo(e[t].global_task_type)),o.active=!0,o.name=e[t].global_task_type.toString(),o.on(cc.Node.EventType.TOUCH_END,this.leftItemClick,this),i.onInit(e[t])}}else Global.UI.fastTip("\u8be5\u529f\u80fd\u6682\u672a\u5f00\u653e\uff0c\u656c\u8bf7\u671f\u5f85\u54e6\uff01")},t.prototype.leftItemClick=function(e){var t=e.target.getComponent("CommisionLeftItem");if(t&&t.data){if(this.clickedId==t.data.global_task_type)return;this.clickedId=t.data.global_task_type;var o=this.model.GetCommisionInfoByType(t.data.global_task_type);if(o)return void this.RefershRightPanel(o);this.waitingNode&&(this.waitingNode.active=!0),this.model.reqGetCommisionInfo(t.data.global_task_type)}},t.prototype.recycleItems=function(){this.leftItemPool.recycleAll(this.leftItemNodeList),this.leftItemNodeList=[]},t}(a.default);o.default=h;var u=function(e){function t(t){var o=e.call(this)||this;return o.copyNode=t,o}return n(t,e),t.prototype.createItem=function(){return cc.instantiate(this.copyNode)},t.prototype.resetItem=function(e){e.active=!1,e.setParent(null)},t.prototype.recycleAll=function(t){var o=this;e.prototype.recycleAll.call(this,t),t.forEach(function(e){o.resetItem(e)})},t}(r.default);cc._RF.pop()},{"../../../core/tool/PoolBase":"PoolBase","../../../core/ui/WndBase":"WndBase","../../../hallcommon/model/CommisionModel":"CommisionModel","../../../hallcommon/model/HallModel":"HallModel","../waiting/WaitingView":"WaitingView","./CommisionLeftItem":"CommisionLeftItem"}],WndCommissionlist:[function(e,t,o){"use strict";cc._RF.push(t,"76961YM+f5JTpruhMJbErEn","WndCommissionlist");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/ui/WndBase"),a=e("../../../core/tool/PoolBase"),s=e("../../../core/net/hall/NetEvent"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nodeList=[],t.SpreadModel=null,t}return n(t,e),t.prototype.onInit=function(){this.name="WndCommissionlist",this.layer=Global.UI.PopLayer,this.resPath="hall/prefabs/ui/SpreadUI/Commissionlist"},t.prototype.initView=function(){this.SpreadModel=Global.ModelManager.getModel("SpreadModel"),this.node.width=cc.Canvas.instance.node.width,this.node.height=cc.Canvas.instance.node.height,this.addCommonClick("close",this.close,this),this.copyItem=this.getChild("ScrollView/view/content/item"),this.contentNode=this.getChild("ScrollView/view/content"),this.noTips=this.getChild("noListTipsSk"),this.noTips.active=!1,this.titleNode=this.getChild("topTitle"),this.titleNode.active=!1,this.initItemPool()},t.prototype.onOpen=function(e){this.SpreadModel.on(s.NetAppface.GetSelfReadRecord,this,this.RefreshScrollView),this.copyItem.active=!1,null!=e&&0!=e.length&&this.RefreshScrollView(e[0])},t.prototype.RefreshScrollView=function(e){if(null==e)return Global.UI.fastTip("\u65e0\u6570\u636e"),this.noTips.active=!0,void(this.titleNode.active=!1);this.noTips.active=!1,this.titleNode.active=!0;var t=e.list||[],o=t.length;this.recycle();for(var i=0;i<o;i++){var n=this.itemPool.getItem();this.nodeList.push(n),n.active=!0,n.setParent(this.contentNode),n.getComponent("AwardCommiItem").Init(t[i])}},t.prototype.onClose=function(){this.SpreadModel.off(s.NetAppface.GetDayAgentCommi,this,this.RefreshScrollView)},t.prototype.onDispose=function(){this.itemPool.resetPool(),this.nodeList=[]},t.prototype.initItemPool=function(){this.itemPool=new c(this.copyItem)},t.prototype.recycle=function(){this.itemPool.recycleAll(this.nodeList),this.nodeList=[]},t}(r.default);o.default=l;var c=function(e){function t(t){var o=e.call(this)||this;return o.copyNode=t,o}return n(t,e),t.prototype.createItem=function(){return cc.instantiate(this.copyNode)},t.prototype.resetItem=function(e){e.active=!1,e.setParent(null)},t}(a.default);cc._RF.pop()},{"../../../core/net/hall/NetEvent":"NetEvent","../../../core/tool/PoolBase":"PoolBase","../../../core/ui/WndBase":"WndBase"}],WndDailyCashBackUI:[function(e,t,o){"use strict";cc._RF.push(t,"e28c61SyGtLFoNmyjAiFDY0","WndDailyCashBackUI");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/ui/WndBase"),a=e("../../../core/tool/PoolBase"),s=e("./CashBackEvent"),l=e("../../../core/component/YXButton"),c=e("../../../hallcommon/app/SkinConfig"),p=e("../../AppCfg"),h=e("../Activity/ActivityConstants"),u=e("../../tool/HallPopMsgHelper"),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.awardId="",t}return n(t,e),t.prototype.onInit=function(){this.isNeedDelay=!0,this.name="WndDailyCashBackUI",this.layer=Global.UI.PopLayer,this.resPath="hall/prefabs/ui/CashBack/DailyCashBackUI"},t.prototype.initView=function(){this.copyItem=this.getChild("scrollview/view/content/item"),this.copyItem.active=!1,this.contentNode=this.getChild("scrollview/view/content"),this.myDailyCash=this.getComponent("myDailyCash",cc.Label),this.dayNum=this.getComponent("dayNum",cc.Label),this.awardNumLabel=this.getComponent("getAward/awardNum/awardNumLabel",cc.Label),this.initItemPool(),this.addCommonClick("getAward/getAwardBtn",this.getAward,this),this.addCommonClick("close",this.close,this),this.awardBtn=this.getChild("getAward/getAwardBtn"),this.setAwardBtnState(!1),this.CashBackModel=Global.ModelManager.getModel("CashBackModel"),this.CashBackModel.on(s.CashBackEvent.GetActivityCfg,this,this.DescriptionDay),this.CashBackModel.on(s.CashBackEvent.GetDayFlowBackAll,this,this.GetAwardResq)},t.prototype.setAwardBtnState=function(e){var t=this.awardBtn.getComponent(l.default),o=this.getComponent("getAward/getAwardBtn/btnOff",cc.Sprite),i=this.getComponent("getAward/getAwardBtn/btnOn",cc.Sprite);e?(i.node.active=!0,o.node.active=!1):(o.node.active=!0,i.node.active=!1),t&&(t.interactable=e)},t.prototype.getAward=function(){""!=this.awardId?this.CashBackModel.GetDayFlowBack(this.awardId):Global.UI.fastTip("\u6682\u65e0\u5956\u52b1\u53ef\u4ee5\u9886\u53d6")},t.prototype.GetAwardResq=function(e){e&&e.get_point&&(Global.UI.show("WndRebateGet",e.get_point,6),this.awardNumLabel.string=cc.js.formatStr("%s",Global.Toolkit.formatPointStr(0,!0)),this.setAwardBtnState(!1))},t.prototype.DescriptionDay=function(e){if(this.OnDataPrepared(),this.contentNode.removeAllChildren(),null!=e)for(var t=0;t<e.data.length;t++)if(e.data[t].atype===h.ActivityType.betRefund){this.refreshCfg(e.data[t].cfg);break}},t.prototype.onClose=function(){u.default.Instance.releaseLock(h.ActivityType.betRefund)},t.prototype.refreshCfg=function(e){if(e){var t=e.cfg||[],o=e.read_day||0,i=e.day_un_read_point||0,n=e.day_flow||0;this.awardId=e.read_id||"",this.nodeList=[];for(var r=0;r<t.length;r++){var a=this.itemPool.getItem();this.nodeList.push(a),a.active=!0,a.setParent(this.contentNode),a.getComponent("CashBackDescription").Init(t[r])}this.myDailyCash.string=Global.Toolkit.formatPointStr(n),this.awardNumLabel.string=cc.js.formatStr("%s",Global.Toolkit.formatPointStr(i,!1)),p.default.SKIN_TYPE,c.SkinType.green,this.dayNum.string=o+"\u5929",this.setAwardBtnState(""!=this.awardId)}},t.prototype.initItemPool=function(){this.itemPool=new f(this.copyItem)},t.prototype.onOpen=function(){this.CashBackModel.GetActivityCfg()},t.prototype.onDispose=function(){this.CashBackModel.off(s.CashBackEvent.GetActivityCfg,this,this.DescriptionDay),this.CashBackModel.off(s.CashBackEvent.GetDayFlowBackAll,this,this.GetAwardResq)},t}(r.default);o.default=d;var f=function(e){function t(t){var o=e.call(this)||this;return o.copyNode=t,o}return n(t,e),t.prototype.createItem=function(){return cc.instantiate(this.copyNode)},t.prototype.resetItem=function(e){e.active=!1,e.setParent(null)},t}(a.default);cc._RF.pop()},{"../../../core/component/YXButton":"YXButton","../../../core/tool/PoolBase":"PoolBase","../../../core/ui/WndBase":"WndBase","../../../hallcommon/app/SkinConfig":"SkinConfig","../../AppCfg":"AppCfg","../../tool/HallPopMsgHelper":"HallPopMsgHelper","../Activity/ActivityConstants":"ActivityConstants","./CashBackEvent":"CashBackEvent"}],WndDailyGiftMoneyUI:[function(e,t,o){"use strict";cc._RF.push(t,"53d12UHMehKn7vg2VvO7wPf","WndDailyGiftMoneyUI");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/ui/WndBase"),a=e("../../../hallcommon/model/HallModel"),s=e("../../tool/HallPopMsgHelper"),l=e("../Activity/ActivityConstants"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.selectedNode=[],t.noSelectedNode=[],t.unacommpolishedNode=[],t.daily_cfg=null,t.yesterdayBetBool=!1,t.weekBetBool=!1,t.monthBetBool=!1,t}return n(t,e),t.prototype.onInit=function(){this.isNeedDelay=!0,this.name="WndDailyGiftMoneyUI",this.layer=Global.UI.PopLayer,this.resPath="hall/prefabs/ui/DailyGiftMoney/DailyGiftMoneyUI"},t.prototype.initView=function(){this.selectedNode=[],this.noSelectedNode=[],this.unacommpolishedNode=[],this.dayLabel=this.getComponent("item1/jibiLabel",cc.Label),this.weekLabel=this.getComponent("item2/jibiLabel",cc.Label),this.monthLabel=this.getComponent("item3/jibiLabel",cc.Label),this.addCommonClick("button",this.giftMoneyList,this),this.addCommonClick("close",this.close,this);for(var e=1;e<4;e++){var t=this.getChild("item"+e),o=cc.find("button/btn_lqjl1",t),i=cc.find("button/btn_lqjl3",t),n=cc.find("button/btn_lqjl2",t);1==e?Global.UIHelper.addCommonClick(t,"button/btn_lqjl1",this.onGetdaily,this):2==e?Global.UIHelper.addCommonClick(t,"button/btn_lqjl1",this.onGetweekly,this):3==e&&Global.UIHelper.addCommonClick(t,"button/btn_lqjl1",this.onGetmonthly,this),this.selectedNode.push(o),this.noSelectedNode.push(i),this.unacommpolishedNode.push(n),i.active=!1,o.active=!1,n.active=!1}this.dayLabel.string="0.00",this.weekLabel.string="0.00",this.monthLabel.string="0.00"},t.prototype.onOpen=function(){var e=this;this.OnDataPrepared(),Global.HallServer.send(NetAppface.mod,NetAppface.GetDailyGiftMoneyCfg,null,function(t){e.daily_cfg=t;var o=t.daily_cfg,i=t.weekly_cfg,n=t.monthly_cfg;o&&i&&n&&(e.dayLabel.string=Global.Toolkit.GetMoneyFormat(t.daily_point),e.weekLabel.string=Global.Toolkit.GetMoneyFormat(t.weekly_point),e.monthLabel.string=Global.Toolkit.GetMoneyFormat(t.monthly_point),0==t.daily_point?(e.selectedNode[0].active=!1,e.noSelectedNode[0].active=!1,e.unacommpolishedNode[0].active=!0,e.yesterdayBetBool=!1):t.daily?(e.selectedNode[0].active=!0,e.noSelectedNode[0].active=!1,e.unacommpolishedNode[0].active=!1,e.yesterdayBetBool=!0):(e.selectedNode[0].active=!1,e.noSelectedNode[0].active=!0,e.unacommpolishedNode[0].active=!1,e.yesterdayBetBool=!1),0==t.weekly_point?(e.selectedNode[1].active=!1,e.noSelectedNode[1].active=!1,e.unacommpolishedNode[1].active=!0,e.weekBetBool=!1):t.weekly?(e.selectedNode[1].active=!0,e.noSelectedNode[1].active=!1,e.unacommpolishedNode[1].active=!1,e.weekBetBool=!0):(e.selectedNode[1].active=!1,e.noSelectedNode[1].active=!0,e.unacommpolishedNode[1].active=!1,e.weekBetBool=!1),0==t.monthly_point?(e.selectedNode[2].active=!1,e.noSelectedNode[2].active=!1,e.unacommpolishedNode[2].active=!0,e.monthBetBool=!1):t.monthly?(e.selectedNode[2].active=!0,e.noSelectedNode[2].active=!1,e.unacommpolishedNode[2].active=!1,e.monthBetBool=!0):(e.selectedNode[2].active=!1,e.noSelectedNode[2].active=!0,e.unacommpolishedNode[2].active=!1,e.monthBetBool=!1))},function(e){Global.UI.fastTip(e._errstr)},!1,60)},t.prototype.onDispose=function(){},t.prototype.giftMoneyList=function(){Global.UI.show("WndGiftMoneyListUI",this.daily_cfg)},t.prototype.onGetdaily=function(){this.onGetMoney(1)},t.prototype.onGetweekly=function(){this.onGetMoney(2)},t.prototype.onGetmonthly=function(){this.onGetMoney(3)},t.prototype.onGetMoney=function(e){var t=this,o={gift_money_type:e};Global.HallServer.send(NetAppface.mod,NetAppface.DoDailyGiftMoney,o,function(e){Global.UI.show("WndRebateGet",e.point),Global.HallServer.clearCache(NetAppface.mod,NetAppface.GetDailyGiftMoneyCfg,null),t.onOpen()},function(e){Global.UI.fastTip(e._errstr)})},t.prototype.onClose=function(){this.yesterdayBetBool||this.weekBetBool||this.monthBetBool?Global.Event.event(GlobalEvent.ShowRedSpot,[!0,a.HallRedSpotType.DailyGift]):Global.Event.event(GlobalEvent.CloseRedSpot,a.HallRedSpotType.DailyGift),s.default.Instance.releaseLock(l.ActivityType.dailyGift)},t}(r.default);o.default=c,cc._RF.pop()},{"../../../core/ui/WndBase":"WndBase","../../../hallcommon/model/HallModel":"HallModel","../../tool/HallPopMsgHelper":"HallPopMsgHelper","../Activity/ActivityConstants":"ActivityConstants"}],WndDailyRechargeGift:[function(e,t,o){"use strict";cc._RF.push(t,"f9ecf5UeDZHjZZz6wcsULeZ","WndDailyRechargeGift");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.BoxState=void 0;var r,a=e("../../../../hallcommon/model/RechargeGiftModel"),s=e("../ActivityConstants"),l=e("./AwardBoxItem"),c=e("../../../../core/ui/WndBase"),p=e("../../../tool/HallPopMsgHelper"),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.awardBtnArr=[],t.damaArr=[],t.clickNode=null,t}return n(t,e),t.prototype.onInit=function(){this.name="WndDailyRechargeGift",this.layer=Global.UI.PopLayer,this.resPath="hall/prefabs/ui/DailyRechargeGift/dailyRechargeGift"},t.prototype.initView=function(){this.model=Global.ModelManager.getModel("RechargeGiftModel"),this.addCommonClick("button",this.onJoinButtonClicked,this),this.addCommonClick("close",this.close,this),this.progress=this.getComponent("progressBar",cc.ProgressBar),this.winProgress=this.getComponent("WinProgress/WinProgressLabel",cc.Label),this.rateLabe=this.getComponent("rateLabe",cc.Label),this.progress.progress=0,this.awardPanel=this.getChild("AwarPanel");for(var e=0;e<3;e++)this.awardBtnArr[e]=Global.UIHelper.addCommonClick(this.awardPanel,cc.js.formatStr("Award_%s",e),this.onAwardBtnClicked,this),this.damaArr[e]=this.getComponent("AwarPanel/"+cc.js.formatStr("damaLabe_%s",e),cc.Label);this.model.on(a.default.GetAward,this,this.onGetAward),this.model.on(a.default.GetCfg,this,this.onGetConfig)},t.prototype.onAwardBtnClicked=function(e){var t=e.node;if(this.clickNode=t,t&&t.isValid){var o=t.getComponent(l.default);if(o.data&&o.is_todayData&&o.isYesterdayAchieve)return void Global.UI.fastTip("\u5df2\u9886\u53d6\u4eca\u65e5\u5168\u90e8\u5956\u52b1\uff0c\u8bf7\u660e\u5929\u518d\u6765\uff01");if(o.data&&o.is_todayData&&!o.isYesterdayAchieve)return void Global.UI.fastTip("\u672a\u5b8c\u6210\u4efb\u52a1\uff0c\u8bf7\u660e\u65e5\u5b8c\u6210\u4efb\u610f\u5145\u503c\u540e\u518d\u9886\u53d6\uff01");o.data&&o.data.is_ava&&!o.data.status&&!o.is_done&&this.model.reqReceiveActivityAward(s.ActivityType.dailyRechargeGift,o.data.key)}},t.prototype.onJoinButtonClicked=function(){Global.UI.show("WndRecharge")},t.prototype.close=function(){Global.UI.close(this.name)},t.prototype.onOpen=function(){this.model.reqGetActivityCfg(!1)},t.prototype.onGetAward=function(e){if((!e||e.atype==s.ActivityType.dailyRechargeGift)&&(Global.UI.show("WndRebateGet",e.award),this.clickNode&&this.clickNode.isValid)){var t=this.clickNode.getComponent(l.default);t&&t.setBoxState(r.AlreadyGot)}},t.prototype.onClose=function(){this.clickNode=null,p.default.Instance.releaseLock(s.ActivityType.dailyRechargeGift)},t.prototype.onGetConfig=function(e){if(null!=e){Global.Event.event(s.ActivityConstants.SHOW_ACT_WAITTING,!1);for(var t=e.data,o=0;o<t.length;o++){var i=t[o];if(i&&i.atype==s.ActivityType.dailyRechargeGift){var n=i.cfg;this.refreshPanel(n);break}}}},t.prototype.refreshPanel=function(e){if(null!=e){if(this.setAwardBoxRate(e.cfg),e.yes_list&&null==e.yes_list.list){var t=e.today_list.total||0,o=e.today_list.dama||0;return this.progress.progress=0,t&&(this.progress.progress=o/t),this.setAwardBoxState(e.today_list,!1,!0,!1),this.setProgress(e.today_list),void this.setWinProgressRichText(e.today_list.dama,e.today_list.total)}var i,n=this.getIsYesterdayAchieve(e),r=this.getIsYesterdayDone(e),a=e.today_list&&e.today_list.pay>0;if(n)return t=(i=r?e.today_list:e.yes_list).total,o=i.dama,this.progress.progress=0,t&&(this.progress.progress=o/t),this.setAwardBoxState(i,r,r,n),this.setProgress(i),void this.setWinProgressRichText(o,t);if(!n)return t=(i=a?e.today_list:e.yes_list).total,o=i.dama,this.progress.progress=0,t&&(this.progress.progress=o/t),this.setAwardBoxState(i,r,a,n),this.setProgress(i),void this.setWinProgressRichText(o,t)}},t.prototype.setProgress=function(e){if(null!=e&&null!=e.list)for(var t=0;t<e.list.length;t++){var o=e.list[t].is_ava;1==t&&o&&(this.progress.progress=.5),2==t&&o&&(this.progress.progress=1)}},t.prototype.getIsYesterdayAchieve=function(e){var t=e.yes_list;if(!t||!t.list)return!1;for(var o=0;o<t.list.length;o++)if(t.list[o].is_ava)return!0;return!1},t.prototype.getIsYesterdayDone=function(e){var t=e.yes_list;if(!t||!t.list)return!1;for(var o=0;o<t.list.length;o++)if(t.list[o].is_ava&&!t.list[o].status)return!1;return!0},t.prototype.setAwardBoxState=function(e,t,o,i){if(null!=e&&null!=e.list)for(n=0;n<e.list.length;n++)(r=this.awardBtnArr[n])&&r.isValid&&r.getComponent(l.default).refreshState(e.list[n],t,o,i);else for(var n=0;n<this.awardBtnArr.length;n++){var r;(r=this.awardBtnArr[n])&&r.isValid&&r.getComponent(l.default).refreshState(null,!1,o,i)}},t.prototype.setAwardBoxRate=function(e){if(null!=e&&null!=e.list){var t=cc.js.formatStr("%s+%s=%s",10*e.list[0].rate,10*e.list[1].rate,10*(e.list[0].rate+e.list[1].rate));this.rateLabe.string="\u5f53\u65e5\u6253\u7801\u91cf\u548c\u8fd4\u5229\u91d1\u989d\u5747\u4e3a\u7d2f\u8ba1\u8ba1\u7b97\uff0c\u6bd4\u5982\u73a9\u5bb6\u6253\u5230\u7b2c2\u6863\u65f6\u5b9e\u9645\u53ef\u83b7\u5f97"+t+"\u5143\u5956\u52b1\u3002\u6b21\u65e5\u5145\u503c\u4efb\u610f\u91d1\u989d\uff0c\u5373\u53ef\u9886\u53d6\u5bf9\u5e94\u8fd4\u5229\u91d1\u989d\u3002";for(var o=0;o<e.list.length;o++){var i=e.list[o],n=(1e3+10*i.dama_rate)*i.dama_multi,r=cc.js.formatStr("%s.\u73a9\u5bb6\u5f53\u65e5\u6253\u7801\u91cf(1000+%s)*%s=%s\u65f6,\u5373\u53ef\u83b7\u5f97%s%\u9996\u5145\u8fd4\u5229\u5956\u52b1%s\u5143",i.key,10*i.dama_rate,i.dama_multi,n,i.rate,10*i.rate);this.damaArr[o].string=r;var a=this.awardBtnArr[o];a&&a.isValid&&a.getComponent(l.default).refreshRate(i)}}},t.prototype.setWinProgressRichText=function(e,t){cc.js.formatStr("<color=%s><size=%s>%s/</c><color=%s><size=%s>%s</color>",Global.Setting.SkinConfig.dailyRechargeFontColorAndSize[0],Global.Setting.SkinConfig.dailyRechargeFontColorAndSize[2],Global.Toolkit.formatPointStr(e),Global.Setting.SkinConfig.dailyRechargeFontColorAndSize[1],Global.Setting.SkinConfig.dailyRechargeFontColorAndSize[3],Global.Toolkit.formatPointStr(t)),this.winProgress.string=Global.Toolkit.formatPointStr(e)+"/"+Global.Toolkit.formatPointStr(t)},t.prototype.onDispose=function(){this.model.off(a.default.GetAward,this,this.onGetAward),this.model.off(a.default.GetCfg,this,this.onGetConfig)},t}(c.default);o.default=h,function(e){e[e.Normal=0]="Normal",e[e.TodayAchieved=1]="TodayAchieved",e[e.AlreadyGot=2]="AlreadyGot",e[e.RealAchieved=3]="RealAchieved"}(r=o.BoxState||(o.BoxState={})),cc._RF.pop()},{"../../../../core/ui/WndBase":"WndBase","../../../../hallcommon/model/RechargeGiftModel":"RechargeGiftModel","../../../tool/HallPopMsgHelper":"HallPopMsgHelper","../ActivityConstants":"ActivityConstants","./AwardBoxItem":"AwardBoxItem"}],WndDailyRedEnvelope:[function(e,t,o){"use strict";cc._RF.push(t,"b110eKVDHNM/JD1IExYqmJp","WndDailyRedEnvelope");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/ui/WndBase"),a=e("../../../core/net/hall/NetEvent"),s=e("../Activity/ActivityConstants"),l=e("../../tool/HallPopMsgHelper"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.selectedNode=[],t.noSelectedNode=[],t.receivedNode=[],t.dayImgNode=[],t}return n(t,e),t.prototype.onInit=function(){this.name="WndDailyRedEnvelope",this.layer=Global.UI.PopLayer,this.resPath="hall/prefabs/ui/Rebate/DailyRedEnvelopeUI",this.destoryType=r.DestoryType.None},t.prototype.initView=function(){this.selectedNode=[],this.noSelectedNode=[],this.dayImgNode=[];for(var e=0;e<5;e++){var t=this.getChild("centerNode/item"+e),o=cc.find("selectedRed",t),i=cc.find("unselectedRed",t),n=cc.find("receivedRed",t);o.active=!1,n.active=!1,i.active=!0,this.selectedNode.push(o),this.receivedNode.push(n),Global.UIHelper.addCommonClick(t,"selectedRed",this.onGetDailyRed,this),this.noSelectedNode.push(i)}var r=this.getChild("dayImgsNode");for(e=0;e<5;e++){var a=cc.find("dayImg"+e,r);a.active=!0,this.dayImgNode.push(a)}this.addCommonClick("button",this.onOpenRechargeClick,this),this.addCommonClick("close",this.closeWnd,this)},t.prototype.onOpenRechargeClick=function(){Global.UI.show("WndRecharge"),this.closeWnd()},t.prototype.onOpen=function(){this.updateUI()},t.prototype.updateUI=function(){var e=this;Global.HallServer.send(a.NetAppface.mod,a.NetAppface.GetActivityCfg,{},function(t){for(var o=t.data,i=0;i<t.data.length;i++){var n=o[i];if(n&&n.atype==s.ActivityType.dailyPayRedpack){for(var r=n.cfg.cfg.list,a=0;a<r.length;a++){var l=r[a],c=e.selectedNode[a];c.data=l;var p=e.noSelectedNode[a],h=e.receivedNode[a],u=e.dayImgNode[a],d=cc.find("jibiLabel",c).getComponent(cc.Label),f=cc.find("jibiLabel",p).getComponent(cc.Label),g=cc.find("jibiLabel",h).getComponent(cc.Label);d.string=f.string=g.string=Global.Toolkit.GetMoneyFormat(l.reward),1==l.status?(u.active=!0,c.active=!0,p.active=!1,h.active=!1):2==l.status?(u.active=!0,c.active=!0,p.active=!1,h.active=!1):3==l.status?(c.active=!1,c.active=!1,h.active=!0,p.active=!1):(c.active=!0,c.active=!1,h.active=!1,p.active=!0)}break}}},null,!1,0)},t.prototype.onGetDailyRed=function(e){var t=this;e&&e.node&&e.node.data&&(1==e.node.data.status?Global.UI.fastTip("\u660e\u65e5\u624d\u53ef\u4ee5\u9886\u53d6\u7ea2\u5305\u54e6"):2==e.node.data.status&&Global.HallServer.send(a.NetAppface.mod,a.NetAppface.ReciveDailyRedpack,{},function(e){t.updateUI(),Global.UI.show("WndRebateGet",e.recive_point,null,function(){})},function(e){Global.UI.fastTip(e._errstr)},!1))},t.prototype.closeWnd=function(){this.close()},t.prototype.onClose=function(){l.default.Instance.releaseLock(s.ActivityType.dailyPayRedpack)},t.prototype.onDispose=function(){this.selectedNode=[],this.noSelectedNode=[],this.receivedNode=[]},t}(r.default);o.default=c,cc._RF.pop()},{"../../../core/net/hall/NetEvent":"NetEvent","../../../core/ui/WndBase":"WndBase","../../tool/HallPopMsgHelper":"HallPopMsgHelper","../Activity/ActivityConstants":"ActivityConstants"}],WndDownLoadApkUI:[function(e,t,o){"use strict";cc._RF.push(t,"1ef32G5u/FOLLTCc3Ig+znM","WndDownLoadApkUI");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../ui/WndBase"),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.autoClose=!0,t.autoReleaseFunc=!0,t.downloadApkUrl="",t.downdloadApkName="appGame.apk",t.curPer=0,t}return n(t,e),t.prototype.onInit=function(){this.name="WndDownLoadApkUI",this.layer="PopLayer",this.resPath="hall/prefabs/ui/LoadingScene/DownLoadApkUI",this.destoryType=r.DestoryType.None},t.prototype.initView=function(){this.addCommonClick("bg/close",this.onCloseClick,this),this.yesBtnNode=this.addCommonClick("yesBtn",this.onYesBtnClick,this),this.noBtnNode=this.addCommonClick("noBtn",this.onCloseClick,this),this.content=this.getComponent("content",cc.Label),this.content.string="",this.loadingBar=this.getChild("loadingBar")},t.prototype.updateLoadingBar=function(e){null!=this.loadingBar&&this.loadingBar.isValid&&(e>1?Logger.error("!!!!!!!! per > 1"):(this.loadingBar.getChildByName("bar_1_1").getComponent(cc.ProgressBar).progress=e,this.updateLoadingBarStr(Math.round(100*e)+"%")))},t.prototype.updateLoadingBarStr=function(e){null!=this.loadingBar&&this.loadingBar.isValid&&(this.loadingBar.getChildByName("lbPer").getComponent(cc.Label).string=e)},t.prototype.onOpen=function(){if(null==this.args||0==this.args.length)return Logger.error("\u6ca1\u6709\u8bbe\u7f6e\u53c2\u6570"),void this.close();var e=this.args[0];if(null==e||""==e)return Logger.error("\u6ca1\u6709\u8bbe\u7f6e\u53c2\u6570"),void this.close();var t=this.args[1];this.updateBtnByType(t),this.content.string=e,this.downloadApkUrl=this.args[2],this.yesCallback=this.args[3],this.noCallback=this.args[4],this.autoClose=0!=this.args[5],this.autoReleaseFunc=0!=this.args[6],Global.Event.event(GlobalEvent.FORCE_HIDE_WAITING)},t.prototype.updateBtnByType=function(e){1==e?(this.yesBtnNode.active=!0,this.noBtnNode.active=!0,this.yesBtnNode.x=157,this.noBtnNode.x=-157):(this.yesBtnNode.active=!0,this.noBtnNode.active=!1,this.yesBtnNode.x=0)},t.prototype.onCloseClick=function(){this.autoClose&&this.close()},t.prototype.onClose=function(){},t.prototype.onCloseAnimFinish=function(){if(this.noCallback){var e=this.noCallback;this.autoReleaseFunc&&(this.noCallback=null),e()}},t.prototype.onYesBtnClick=function(){if(this.yesCallback&&(this.yesCallback(),this.autoReleaseFunc&&(this.yesCallback=null)),this.curPer>=1||this.curPer>=1){var e=jsb.fileUtils.getWritablePath()+this.downdloadApkName;jsb.fileUtils.isFileExist(e)&&Global.NativeEvent.installApk(e,function(e){0==e.result?Logger.error("\u5b89\u88c5\u6210\u529f\uff01"):Logger.error("\u5b89\u88c5\u5931\u8d25!")})}else 0==this.curPer?null!=this.downloadApkUrl&&""!=this.downloadApkUrl?this.startAndroidDownLoadApk(this.downloadApkUrl,this.downdloadApkName):Global.UI.fastTip("\u4e0b\u8f7d\u5730\u5740\u4e3a\u7a7a\uff01"):Global.UI.fastTip("\u4e0b\u8f7d\u4e2d\u8bf7\u7a0d\u7b49\uff01")},t.prototype.startAndroidDownLoadApk=function(e,t,o){var i=this,n=jsb.fileUtils.getWritablePath()+t,r=new jsb.Downloader;r.setOnFileTaskSuccess(function(){o&&o(n),jsb.fileUtils.isFileExist(n)&&Global.NativeEvent.installApk(n,function(e){0==e.result?Logger.error("\u5b89\u88c5\u6210\u529f\uff01"):Logger.error("\u5b89\u88c5\u5931\u8d25!")})}),r.setOnTaskError(function(t,o){Logger.error("startAndroidDownLoadApk error url = "+e),jsb.fileUtils.isFileExist(n)&&jsb.fileUtils.removeFile(n),i.curPer=0,i.updateLoadingBarStr("\u4e0b\u8f7d\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5! errorCode "+o)}),r.setOnTaskProgress(function(e,t,o,n){var r=Number((o/n).toFixed(2));i.curPer=r,i.updateLoadingBar(r)}),r.createDownloadFileTask(e,n)},t}(r.default);o.default=a,cc._RF.pop()},{"../ui/WndBase":"WndBase"}],WndEditName:[function(e,t,o){"use strict";cc._RF.push(t,"9bfb0OXoB5A8LnCbV34J9fm","WndEditName");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.onInit=function(){this.name="WndEditName",this.layer="PopLayer",this.resPath="hall/prefabs/ui/PersonalInfo/EditNameUI",this.model=Global.ModelManager.getModel("PersonalInfoModel")},t.prototype.initView=function(){this.nameInput=this.getComponent("nameEditBox",cc.EditBox),this.nameInput.maxLength=6,this.addCommonClick("cancelBtn",this.cancelClick,this),this.addCommonClick("sureBtn",this.sureClick,this),this.addCommonClick("close",this.closeWnd,this)},t.prototype.onOpen=function(){this.nameInput.string=""},t.prototype.closeWnd=function(){this.close()},t.prototype.cancelClick=function(){this.close()},t.prototype.sureClick=function(){var e=this.nameInput.string;return e?e.indexOf(" ")>-1?Global.UI.fastTip("\u6635\u79f0\u4e0d\u80fd\u542b\u6709\u7a7a\u683c"):Global.Toolkit.checkContainsEmoji(e)?Global.UI.fastTip("\u6635\u79f0\u4e0d\u80fd\u542b\u8868\u60c5\u7b26\u53f7!"):void this.reqEditUserInfo(e):Global.UI.fastTip("\u8bf7\u8f93\u5165\u6635\u79f0~")},t.prototype.reqEditUserInfo=function(e){var t=this,o={};o.nickname=e,this.model.reqEditUserInfo(o,function(){Global.UI.fastTip("\u4fee\u6539\u6635\u79f0\u6210\u529f\uff01"),Global.PlayerData.nickname=e,t.close()})},t}(e("../../../core/ui/WndBase").default);o.default=r,cc._RF.pop()},{"../../../core/ui/WndBase":"WndBase"}],WndFeedback:[function(e,t,o){"use strict";cc._RF.push(t,"f9145r1ZIFCJ5QZ08NeP97k","WndFeedback");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/ui/WndBase"),a=e("../../../core/tool/PoolBase"),s=e("./FeedbackServiceItem"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nodeList=[],t.serviceItemNodeList=[],t}return n(t,e),t.prototype.onInit=function(){this.isNeedDelay=!0,this.name="WndFeedback",this.layer="PopLayer",this.resPath="hall/prefabs/ui/FeedbackUI",this.model=Global.ModelManager.getModel("ServicerModel")},t.prototype.onOpen=function(){this.serverInfo=this.args[0],this.serverInfo&&(this.initLeftItem(),this.OnDataPrepared())},t.prototype.initLeftItem=function(){if(this.serverInfo&&0!==this.serverInfo.length){this.serverInfo.sort(function(e,t){return e.sort-t.sort});for(var e=-1,t=0;t<this.serverInfo.length;t++){var o=this.serverInfo[t];if(o.status){var i=this.itemPool.getItem(),n=i.getComponent("ServiceLeftItem");n.SetToggleChecked(!1),e+=1,i.setParent(this.contentNode),this.nodeList.push(i),n&&n.onInit(o),0===e&&(this.reset(),n.SetToggleChecked(!0),this.refreshRightPanel(o)),i.active=!0,i.on(cc.Node.EventType.TOUCH_END,this.leftItemClick,this)}}}},t.prototype.addFAQ=function(){var e=this.itemPool.getItem();e.active=!0;e.getComponent("ServiceLeftItem").onInit({name:"FAQ"}),e.setParent(this.contentNode),this.nodeList.push(e),e.on(cc.Node.EventType.TOUCH_END,this.leftItemClick,this),this.OnDataPrepared()},t.prototype.leftItemClick=function(e){Global.Audio.playBtnSound();var t=e.target.getComponent("ServiceLeftItem").getGameData();this.onlineServiceNode.active=!0,this.noMsgTips.active=!1,t&&this.refreshRightPanel(t)},t.prototype.refreshRightPanel=function(e){var t=e.windows;if(!t||!t.length)return this.noMsgTips.active=!0,void(this.onlineServiceNode.active=!1);this.hideAllItem(),this.onlineServiceNode.active=!0,this.noMsgTips.active=!1;for(var o=0;o<t.length;o++){var i=t[o];o<this.serviceItemNodeList.length&&this.serviceItemNodeList[o]&&i.type&&(this.serviceItemNodeList[o].getComponent(s.default).refreshUI(i),this.serviceItemNodeList[o].active=!0)}},t.prototype.hideAllItem=function(){this.serviceItemNodeList.forEach(function(e){cc.isValid(e)&&(e.active=!1)})},t.prototype.initView=function(){this.leftPanel=this.getChild("LeftPanel"),this.rightPanel=this.getChild("RightPanel"),this.copyItem=this.getChild("LeftPanel/MsgItem"),this.copyItem.active=!1,this.contentNode=this.getChild("LeftPanel/scrollview/view/content"),this.addCommonClick("close",this.closeWnd,this),this.initItemPool();for(var e=0;e<3;e++){var t="RightPanel/onlineService/scrollView/view/content/service_"+e,o=this.getChild(t);o&&this.serviceItemNodeList.push(o)}this.feedbackNode=this.getChild("RightPanel/feedback"),this.feedbackNode&&(this.feedbackNode.active=!1),this.feedback2Node=this.getChild("RightPanel/feedback2"),this.feedback2Node&&(this.feedback2Node.active=!1),this.quickFeedbackNode=this.getChild("RightPanel/feedbackWrite"),this.quickFeedbackNode&&(this.quickFeedbackNode.active=!1),this.FAQ=this.getChild("RightPanel/FAQ"),this.FAQ&&(this.FAQ.active=!1),this.noMsgTips=this.getChild("RightPanel/noMsgTips"),this.noMsgTips&&(this.noMsgTips.active=!1),this.onlineServiceNode=this.getChild("RightPanel/onlineService"),this.onlineServiceNode&&(this.onlineServiceNode.active=!1)},t.prototype.closeWnd=function(){this.close()},t.prototype.initItemPool=function(){this.itemPool=new c(this.copyItem)},t.prototype.reset=function(){this.FAQ.active=!1,this.onlineServiceNode.active=!1,this.noMsgTips.active=!1},t.prototype.onClose=function(){this.nodeList&&this.recycle()},t.prototype.onDispose=function(){this.itemPool.resetPool(),this.nodeList=[],this.itemPool=null},t.prototype.recycle=function(){this.itemPool.recycleAll(this.nodeList),this.nodeList=[]},t}(r.default);o.default=l;var c=function(e){function t(t){var o=e.call(this)||this;return o.copyNode=t,o}return n(t,e),t.prototype.createItem=function(){return cc.instantiate(this.copyNode)},t.prototype.resetItem=function(e){e.active=!1,e.setParent(null)},t.prototype.recycleAll=function(t){e.prototype.recycleAll.call(this,t)},t}(a.default);cc._RF.pop()},{"../../../core/tool/PoolBase":"PoolBase","../../../core/ui/WndBase":"WndBase","./FeedbackServiceItem":"FeedbackServiceItem"}],WndForgetPwd:[function(e,t,o){"use strict";cc._RF.push(t,"6e0a7MOu11GYrwh2lM2Hmdx","WndForgetPwd");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/ui/WndBase"),a=e("./view/PhoneInputView"),s=e("./view/AutoCodeView"),l=e("./view/PwdInputView"),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.onInit=function(){this.name="WndForgetPwd",this.layer="PopLayer",this.resPath="hall/prefabs/ui/ForgetPwdUI",this.loginModel=Global.ModelManager.getModel("LoginModel")},t.prototype.initView=function(){this.addCommonClick("cancelBtn",this.close,this),this.addCommonClick("bg/close",this.close,this),this.addCommonClick("sureBtn",this.onSureBtnClick,this),this.phoneInputView=this.addView("PhoneInputView",this.getChild("phoneContainer"),a.default),this.authCodeView=this.addView("AutoCodeView",this.getChild("authCodeView"),s.default),this.authCodeView.setPhoneInputAndType(this.phoneInputView,2),this.pwdInputView=this.addView("PwdInputView",this.getChild("pwdContainer"),l.default)},t.prototype.onOpen=function(){this.phoneInputView.subViewState=!0,this.authCodeView.subViewState=!0,this.pwdInputView.subViewState=!0},t.prototype.onSureBtnClick=function(){if(""!=this.phoneInputView.phone)if(""!=this.pwdInputView.pwd)if(""!=this.authCodeView.code)if(this.phoneInputView.isAreaVaild()){var e=this.phoneInputView.phone,t=this.authCodeView.code,o=this.phoneInputView.area,i=this.pwdInputView.pwd;Global.Toolkit.checkPWFormat(this.pwdInputView.pwd)?(i=Global.Toolkit.md5(i),this.loginModel.reqChangePwd(e,i,t,o)):Global.UI.fastTip(Global.Language.getWord(1303))}else Global.UI.fastTip("\u8bf7\u9009\u62e9\u6b63\u786e\u7684\u5730\u533a\u4fe1\u606f");else Global.UI.fastTip("\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801");else Global.UI.fastTip("\u8bf7\u8f93\u5165\u5bc6\u7801");else Global.UI.fastTip("\u8bf7\u8f93\u5165\u624b\u673a\u53f7\u7801")},t}(r.default);o.default=c,cc._RF.pop()},{"../../../core/ui/WndBase":"WndBase","./view/AutoCodeView":"AutoCodeView","./view/PhoneInputView":"PhoneInputView","./view/PwdInputView":"PwdInputView"}],WndGameLobbyShell:[function(e,t,o){"use strict";cc._RF.push(t,"44145uHD3BBsI+yTcJEf5Wq","WndGameLobbyShell");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.GameType=void 0;var r,a=e("../../../core/ui/WndBase");(function(e){e[e.PVE=0]="PVE",e[e.PVP=1]="PVP",e[e.TRENDGAME=2]="TRENDGAME",e[e.LUCKGAME=3]="LUCKGAME",e[e.FISH=4]="FISH",e[e.NOCHANGE=5]="NOCHANGE",e[e.REDPACKGAME=6]="REDPACKGAME",e[e.WEBGAME=8]="WEBGAME"})(r=o.GameType||(o.GameType={}));var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.keepMap=new Map,t.keepArr=[],t.activeGameId=0,t}return n(t,e),t.prototype.onInit=function(){this.name="WndGameLobbyShell",this.layer="FullScreenLayer",this.resPath="hall/prefabs/ui/ChooseRoom/GameLobbyShellUI",this.destoryType=a.DestoryType.Persist},t.prototype.initView=function(){this.node.width=cc.Canvas.instance.node.width,this.node.height=cc.Canvas.instance.node.height,this.poolNode=cc.find("pool",this.node),this.poolNode.active=!1,Game.Event.on(GlobalEvent.OnCloseGameLobby,this,this.closeWnd),Game.Event.on(GlobalEvent.OnGotoGameScene,this,this.gotoGame)},t.prototype.onOpen=function(e){e&&e.length>0&&(this.activeGameId=e[0]),Game.GamePreloadTool.curGameId==this.activeGameId?this.setGameContent():this.closeWnd()},t.prototype.reshow=function(){var e=this.args[0];if(Game.GamePreloadTool.curGameId==e&&e!=this.activeGameId){if(this.activeGameId&&this.keepMap.has(this.activeGameId)&&cc.isValid(this.keepMap.get(this.activeGameId))){var t=this.keepMap.get(this.activeGameId);t.setParent(this.poolNode),t.active=!1}this.activeGameId=e,this.setGameContent()}},t.prototype.setGameContent=function(){var e=Game.GamePreloadTool.curBundleName;if(this.activeGameData=Global.GameData.getGameInfo(this.activeGameId),this.activeGameId&&Global.ResourceManager.checkBundleValid(e))if(this.keepMap.has(this.activeGameId)&&cc.isValid(this.keepMap.get(this.activeGameId)))Logger.error("use keepMap node",this.activeGameId),(t=this.keepMap.get(this.activeGameId)).setParent(this.node),t.active=!0;else{var t,o=Game.GamePreloadTool.getSelectPrefab(Game.GamePreloadTool.lobbyUIPath,!0);o?(Logger.error("use new node, prefab.refCount",this.activeGameId,o.refCount),(t=cc.instantiate(o)).setParent(this.node),t.active=!0,this.keepMap.set(this.activeGameId,t),this.keepArr.push(this.activeGameId)):this.closeWnd()}else this.closeWnd()},t.prototype.closeWnd=function(){if(Game.GamePreloadTool.releaseKeepAsset(this.activeGameId,!0),this.checkLeaveKeepCount(),this.keepMap.has(this.activeGameId)){var e=this.keepMap.get(this.activeGameId);e&&cc.isValid(e)&&(e.active=!1,e.setParent(this.poolNode))}Global.UI.close(this.name)},t.prototype.gotoGame=function(e,t){if(void 0===t&&(t=null),this.checkMoney(e,t)&&this.checkVersion()){this.checkEnterKeepCount();var o=function(){t&&(Game.Control.curGid=t.gameid),Game.Control.curLv=e,Global.Event.event(GlobalEvent.RecordGameListOffsetX),Global.SceneManager.loadGameScene()};this.activeGameData.portraitModel?Global.UI.showPortraitScreenNotice(o):o()}},t.prototype.checkMoney=function(e,t){void 0===e&&(e="l0"),void 0===t&&(t=null);var o=null;if(t)o=t;else if(this.activeGameData.levels)for(var i=0;i<this.activeGameData.levels.length;i++){var n=this.activeGameData.levels[i].level;if(n&&n==e){o=this.activeGameData.levels[i];break}}var r=o.PointLow;if(r&&Global.PlayerData.point<r){var a="\u6e38\u620f\u51c6\u5165"+Global.Toolkit.formatPointStr(r)+"\u91d1\u5e01\uff0c\u8bf7\u60a8\u5145\u503c\u54e6\uff01";return Global.Toolkit.showMoneyNotEnough(a),!1}return!0},t.prototype.checkVersion=function(){return!(this.activeGameData.supportVersion&&this.activeGameData.supportVersion>0&&!Global.Toolkit.checkVersionSupport(this.activeGameData.supportVersion,this.activeGameData.supportIosVersion)&&(Global.UI.showYesNoBox("\u7248\u672c\u8fc7\u65e7\uff0c\u8bf7\u4e0b\u8f7d\u65b0\u5305\u4f7f\u7528\u8be5\u529f\u80fd",function(){cc.sys.openURL(Global.Setting.Urls.downLoadUrl)}),1))},t.prototype.checkLeaveKeepCount=function(){if(this.keepArr.length>0&&2==this.keepArr.length){var e=this.keepArr.shift();this.releaseOneKeep(e)}},t.prototype.checkEnterKeepCount=function(){this.activeGameData.gameType==r.FISH?this.keepOnlyCurrent():1==this.keepArr.length?Logger.log("keep current with no action"):this.checkLeaveKeepCount()},t.prototype.keepOnlyCurrent=function(){var e=this.keepArr.length;if(e>1){for(var t=0;t<e;t++){var o=this.keepArr[t];o!==this.activeGameId&&this.releaseOneKeep(o)}this.keepArr=[this.activeGameId]}},t.prototype.releaseOneKeep=function(e){var t=this.keepMap.get(e);t&&(t.removeFromParent(),t.active=!1,t.destroy(),this.keepMap.delete(e)),Game.GamePreloadTool.releaseKeepAsset(e,!1),Game.GamePreloadTool.releasePreloadBundle(e)},t.prototype.onDispose=function(){this.keepMap.clear(),this.keepArr=[]},t}(a.default);o.default=s,cc._RF.pop()},{"../../../core/ui/WndBase":"WndBase"}],WndGameMaintainUI:[function(e,t,o){"use strict";cc._RF.push(t,"b26220K3gdA0ZBkGaWjNxle","WndGameMaintainUI");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../ui/WndBase"),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.autoClose=!0,t.autoReleaseFunc=!0,t.endTime=0,t}return n(t,e),t.prototype.onInit=function(){this.name="WndGameMaintainUI",this.layer="PopLayer",this.resPath="hall/prefabs/ui/LoadingScene/GameMaintainUI",this.destoryType=r.DestoryType.None},t.prototype.initView=function(){this.addCommonClick("bg/close",this.onCloseClick,this),this.onlineCustomBtnNode=this.addCommonClick("onlineCustomBtn",this.onlineCustomBtnClick,this),this.officialWebBtnNode=this.addCommonClick("officialWebBtn",this.officialWebBtnClick,this),this.content=this.getComponent("content",cc.Label),this.countTimeLabel=this.getComponent("timeLabel",cc.Label),this.content.string="",this.countTimeLabel.string=""},t.prototype.onOpen=function(){if(null==this.args||0==this.args.length)return Logger.error("\u6ca1\u6709\u8bbe\u7f6e\u53c2\u6570"),void this.close();var e=this.args[0];if(null==e||""==e)return Logger.error("\u6ca1\u6709\u8bbe\u7f6e\u53c2\u6570"),void this.close();var t=this.args[1];this.endTime=t;var o=Math.round((new Date).getTime()/1e3),i=this.endTime-o;this.showLeftTime(i),this.countTimeLabel.schedule(this.startCounter.bind(this),1,cc.macro.REPEAT_FOREVER),this.content.string=e,this.onlineCustomCallback=this.args[2],this.officialWebCallback=this.args[3],this.closeCallback=this.args[4],this.autoClose=0!=this.args[5],this.autoReleaseFunc=0!=this.args[6],Global.Event.event(GlobalEvent.FORCE_HIDE_WAITING)},t.prototype.formatRemainTime=function(e){var t=e,o=0,i=0,n=0;t>=0&&(o=Math.floor(t/60/60%24),i=Math.floor(t/60%60),n=Math.floor(t%60));var r="",a="",s="";return o<10?r="0"+o:r+=o,i<10?a="0"+i:a+=i,n<10?s="0"+n:s+=n,r+":"+a+":"+s},t.prototype.showLeftTime=function(e){var t=this.formatRemainTime(e);this.countTimeLabel.string="\u5269\u4f59\u7ef4\u62a4\u65f6\u95f4"+t},t.prototype.stopCounter=function(){this.countTimeLabel.unscheduleAllCallbacks()},t.prototype.startCounter=function(){var e=Math.round((new Date).getTime()/1e3),t=this.endTime-e;this.showLeftTime(t),t<=0&&(this.stopCounter(),this.onCloseClick())},t.prototype.officialWebBtnClick=function(){this.officialWebCallback&&this.officialWebCallback()},t.prototype.onCloseClick=function(){this.close()},t.prototype.onClose=function(){},t.prototype.onCloseAnimFinish=function(){this.closeCallback&&(this.closeCallback(),this.closeCallback=null)},t.prototype.onlineCustomBtnClick=function(){this.onlineCustomCallback&&this.onlineCustomCallback()},t}(r.default);o.default=a,cc._RF.pop()},{"../ui/WndBase":"WndBase"}],WndGameRestoreUI:[function(e,t,o){"use strict";cc._RF.push(t,"735aexVqGZMDYvq8csk5614","WndGameRestoreUI");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../ui/WndBase"),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.autoClose=!0,t.autoReleaseFunc=!0,t}return n(t,e),t.prototype.onInit=function(){this.name="WndGameRestoreUI",this.layer="PopLayer",this.resPath="hall/prefabs/ui/LoadingScene/GameRestoreUI",this.destoryType=r.DestoryType.None},t.prototype.initView=function(){this.addCommonClick("bg/close",this.onCloseClick,this),this.noBtnNode=this.addCommonClick("cancelBtn",this.onCloseClick,this),this.yesBtnNode=this.addCommonClick("okBtn",this.onYesBtnClick,this)},t.prototype.onOpen=function(){if(null==this.args||0==this.args.length)return Logger.error("\u6ca1\u6709\u8bbe\u7f6e\u53c2\u6570"),void this.close();this.yesCallback=this.args[0],this.noCallback=this.args[1],Global.Event.event(GlobalEvent.FORCE_HIDE_WAITING)},t.prototype.onCloseClick=function(){this.autoClose&&this.close()},t.prototype.onClose=function(){},t.prototype.onCloseAnimFinish=function(){if(this.noCallback){var e=this.noCallback;this.autoReleaseFunc&&(this.noCallback=null),e()}},t.prototype.onYesBtnClick=function(){this.noCallback=null,this.autoClose&&this.close(),this.yesCallback&&(this.yesCallback(),this.autoReleaseFunc&&(this.yesCallback=null))},t}(r.default);o.default=a,cc._RF.pop()},{"../ui/WndBase":"WndBase"}],WndGameUpdateUI:[function(e,t,o){"use strict";cc._RF.push(t,"bcf9cDAmM5JUY0yNU3RftMP","WndGameUpdateUI");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../ui/WndBase"),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.autoClose=!0,t.autoReleaseFunc=!0,t}return n(t,e),t.prototype.onInit=function(){this.name="WndGameUpdateUI",this.layer="PopLayer",this.resPath="hall/prefabs/ui/LoadingScene/GameUpdateUI",this.destoryType=r.DestoryType.None},t.prototype.initView=function(){this.addCommonClick("bg/close",this.onCloseClick,this),this.noBtnNode=this.addCommonClick("cancelBtn",this.onCloseClick,this),this.yesBtnNode=this.addCommonClick("okBtn",this.onYesBtnClick,this)},t.prototype.onOpen=function(){if(null==this.args||0==this.args.length)return Logger.error("\u6ca1\u6709\u8bbe\u7f6e\u53c2\u6570"),void this.close();var e=this.args[0];this.updateBtnByType(e),this.yesCallback=this.args[1],this.noCallback=this.args[2],this.autoClose=0!=this.args[3],this.autoReleaseFunc=0!=this.args[4],Global.Event.event(GlobalEvent.FORCE_HIDE_WAITING)},t.prototype.updateBtnByType=function(e){1==e?(this.yesBtnNode.active=!0,this.noBtnNode.active=!0,this.yesBtnNode.x=157,this.noBtnNode.x=-157):(this.yesBtnNode.active=!0,this.noBtnNode.active=!1,this.yesBtnNode.x=0)},t.prototype.onCloseClick=function(){this.autoClose&&this.close()},t.prototype.onClose=function(){},t.prototype.onCloseAnimFinish=function(){if(this.noCallback){var e=this.noCallback;this.autoReleaseFunc&&(this.noCallback=null),e()}else Logger.error("onCloseAnimFinish noCallback is null")},t.prototype.onYesBtnClick=function(){this.yesCallback&&(this.yesCallback(),this.autoReleaseFunc&&(this.yesCallback=null))},t}(r.default);o.default=a,cc._RF.pop()},{"../ui/WndBase":"WndBase"}],WndGameUpgrade:[function(e,t,o){"use strict";cc._RF.push(t,"e8a3b2X+4JB4pPREy97Zf1B","WndGameUpgrade");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../ui/WndBase"),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.onInit=function(){this.name="WndGameUpgrade",this.layer="PopLayer",this.resPath="hall/prefabs/ui/LoadingScene/GameUpGradeUI",this.destoryType=r.DestoryType.None},t.prototype.initView=function(){},t.prototype.onOpen=function(){this.commonBg&&(this.commonBg.active=!1)},t}(r.default);o.default=a,cc._RF.pop()},{"../ui/WndBase":"WndBase"}],WndGetRedEnvelope:[function(e,t,o){"use strict";cc._RF.push(t,"c2348sAqwpHqZ6gbRMJfARy","WndGetRedEnvelope");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/ui/WndBase"),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.onInit=function(){this.name="WndGetRedEnvelope",this.layer=Global.UI.PopLayer,this.resPath="hall/prefabs/ui/Rebate/GetRedEnvelopeUI",this.destoryType=r.DestoryType.None},t.prototype.initView=function(){this.addCommonClick("but_cz",this.onOpenRechargeClick,this),this.addCommonClick("close",this.closeWnd,this)},t.prototype.onOpenRechargeClick=function(){Global.UI.show("WndRecharge"),this.closeWnd()},t.prototype.onOpen=function(){},t.prototype.closeWnd=function(){this.close()},t.prototype.onClose=function(){},t.prototype.onDispose=function(){},t}(r.default);o.default=a,cc._RF.pop()},{"../../../core/ui/WndBase":"WndBase"}],WndGiftMoneyListUI:[function(e,t,o){"use strict";cc._RF.push(t,"295dcb4OT9DKYsPSQOSpXdX","WndGiftMoneyListUI");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/tool/PoolBase"),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nodeList=[],t.currYeqian=-1,t.yeqianArr=[],t.titlenName=["xbt_2","xbt_5","xbt_6"],t.titlenName2=["xbt_3","xbt_4","xbt_4"],t.listmsg=null,t}return n(t,e),t.prototype.onInit=function(){this.isNeedDelay=!0,this.name="WndGiftMoneyListUI",this.layer=Global.UI.PopLayer,this.resPath="hall/prefabs/ui/DailyGiftMoney/GiftMoneyListUI"},t.prototype.initView=function(){this.copyItem=this.getChild("scrollview/view/content/item"),this.copyItem.active=!1,this.contentNode=this.getChild("scrollview/view/content"),this.initItemPool(),this.addCommonClick("close",this.close,this),this.titleSp=this.getComponent("centerNode/panel/xbt_1",cc.Sprite),this.titleSp2=this.getComponent("centerNode/panel/xbt_2",cc.Sprite);for(var e=0;e<3;e++){var t=this.addCommonClick("topyeqian/yeqian_"+e,this.yeqianBtnFunc,this);this.yeqianArr[2*e]=cc.find("noSelected",t),this.yeqianArr[2*e+1]=cc.find("selected",t)}this.yesterdayBet=this.getComponent("centerNode/yesterdayBet",cc.Label),this.totalBet=this.getComponent("centerNode/totalBet",cc.Label)},t.prototype.yeqianBtnFunc=function(e){var t=e.node.name.split("_"),o=t[t.length-1],i=parseInt(o);this.ChangeYeqian(i)},t.prototype.UpdatBtn=function(){for(var e=0;e<3;e++){var t=e==this.currYeqian;this.yeqianArr[2*e+1].active=t}this.OnDataPrepared()},t.prototype.onOpen=function(e){this.listmsg=e[0],this.listmsg&&this.ChangeYeqian(0)},t.prototype.RefreshScrollView=function(e){this.recycle(),this.yesterdayBet.string=Global.Toolkit.GetMoneyFormat(this.listmsg.yesterday_bet),this.totalBet.string=Global.Toolkit.GetMoneyFormat(this.listmsg.total_bet);for(var t=0;t<7;t++){var o=this.itemPool.getItem();this.nodeList.push(o),o.active=!0,o.setParent(this.contentNode);var i=o.getChildByName("shurusz_d");if(i&&(i.active=t%2==0),0==e){if(!this.listmsg.daily_cfg)return;this.listmsg.yesterday_bet>=this.listmsg.daily_cfg[t].bet_point?6===t?o.getComponent("GiftMoneyItem").Init(this.listmsg.daily_cfg[t],this.listmsg.yesterday_bet):this.listmsg.yesterday_bet<this.listmsg.daily_cfg[t+1].bet_point?o.getComponent("GiftMoneyItem").Init(this.listmsg.daily_cfg[t],this.listmsg.yesterday_bet):o.getComponent("GiftMoneyItem").Init(this.listmsg.daily_cfg[t],-1):o.getComponent("GiftMoneyItem").Init(this.listmsg.daily_cfg[t],-1)}else if(1==e){if(!this.listmsg.weekly_cfg)return;this.listmsg.last_week_total_bet>=this.listmsg.weekly_cfg[t].bet_point?6===t?o.getComponent("GiftMoneyItem").Init(this.listmsg.weekly_cfg[t],this.listmsg.last_week_total_bet):this.listmsg.last_week_total_bet<this.listmsg.weekly_cfg[t+1].bet_point?o.getComponent("GiftMoneyItem").Init(this.listmsg.weekly_cfg[t],this.listmsg.last_week_total_bet):o.getComponent("GiftMoneyItem").Init(this.listmsg.weekly_cfg[t],-1):o.getComponent("GiftMoneyItem").Init(this.listmsg.weekly_cfg[t],-1)}else if(2==e){if(!this.listmsg.monthly_cfg)return;this.listmsg.last_month_total_bet>=this.listmsg.monthly_cfg[t].bet_point?6===t?o.getComponent("GiftMoneyItem").Init(this.listmsg.monthly_cfg[t],this.listmsg.last_month_total_bet):this.listmsg.last_month_total_bet<this.listmsg.monthly_cfg[t+1].bet_point?o.getComponent("GiftMoneyItem").Init(this.listmsg.monthly_cfg[t],this.listmsg.last_month_total_bet):o.getComponent("GiftMoneyItem").Init(this.listmsg.monthly_cfg[t],-1):o.getComponent("GiftMoneyItem").Init(this.listmsg.monthly_cfg[t],-1)}}},t.prototype.ChangeYeqian=function(e){var t="hall/texture/hall/DailyGiftMoney/DailyGiftMoney";this.currYeqian!=e&&(this.currYeqian=e,this.UpdatBtn(),Global.ResourceManager.loadAutoAtlas(this.titleSp,t,this.titlenName[e],null),Global.ResourceManager.loadAutoAtlas(this.titleSp2,t,this.titlenName2[e],null)),this.RefreshScrollView(e)},t.prototype.onClose=function(){this.currYeqian=-1},t.prototype.onDispose=function(){this.currYeqian=-1,this.itemPool.resetPool(),this.nodeList=[]},t.prototype.initItemPool=function(){this.itemPool=new s(this.copyItem)},t.prototype.recycle=function(){this.itemPool.recycleAll(this.nodeList),this.nodeList=[]},t}(e("../../../core/ui/WndBase").default);o.default=a;var s=function(e){function t(t){var o=e.call(this)||this;return o.copyNode=t,o}return n(t,e),t.prototype.createItem=function(){return cc.instantiate(this.copyNode)},t.prototype.resetItem=function(e){e.active=!1,e.setParent(null)},t}(r.default);cc._RF.pop()},{"../../../core/tool/PoolBase":"PoolBase","../../../core/ui/WndBase":"WndBase"}],WndHallRedEnvelope:[function(e,t,o){"use strict";cc._RF.push(t,"bd0244ztvtJn4CWafKoCSOv","WndHallRedEnvelope");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/ui/WndBase"),a=e("../../../core/net/hall/NetEvent"),s=e("../../tool/HallPopMsgHelper"),l=e("../Activity/ActivityConstants"),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.onInit=function(){this.name="WndHallRedEnvelope",this.layer=Global.UI.PopLayer,this.resPath="hall/prefabs/ui/Rebate/HallRedEnvelopeUI",this.destoryType=r.DestoryType.None},t.prototype.initView=function(){this.model=Global.ModelManager.getModel("HallModel"),this.addCommonClick("openBtn",this.onSureBtnClick,this),this.openSke=this.getComponent("openBtn",sp.Skeleton),this.noOpenSp=this.getChild("noopen")},t.prototype.onSureBtnClick=function(){var e=this;this.openSke.clearTrack(0),this.openSke.setAnimation(0,"idle_NO",!1),Global.HallServer.send(a.NetAppface.mod,a.NetAppface.DoRechargeRed,{},function(t){Global.UI.show("WndRebateGet",t.point,null,function(){Global.UI.show("WndGetRedEnvelope")}),e.model.recharge_red=null,e.closeWnd()},function(e){Global.UI.fastTip(e._errstr)},!1)},t.prototype.onOpen=function(){this.openSke&&(this.openSke.clearTrack(0),this.openSke.setAnimation(0,"idle_Loop",!0)),this.data=this.model.recharge_red;var e=(new Date).getTime()/1e3;if(!this.data)return this.openSke.node.active=!1,void(this.noOpenSp.active=!0);e>this.data.stime&&e<this.data.etime?(this.openSke.node.active=!0,this.noOpenSp.active=!1):(this.openSke.node.active=!1,this.noOpenSp.active=!0)},t.prototype.closeWnd=function(){this.closeCallback&&this.closeCallback(),this.close()},t.prototype.onClose=function(){s.default.Instance.releaseLock(l.ActivityType.rechargeGive)},t.prototype.onDispose=function(){},t}(r.default);o.default=c,cc._RF.pop()},{"../../../core/net/hall/NetEvent":"NetEvent","../../../core/ui/WndBase":"WndBase","../../tool/HallPopMsgHelper":"HallPopMsgHelper","../Activity/ActivityConstants":"ActivityConstants"}],WndHall:[function(e,t,o){"use strict";cc._RF.push(t,"b058dd+MNxOaLtR6zlc5KxU","WndHall");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/ui/WndBase"),a=e("../../../core/GlobalEvent"),s=e("./views/HallBottomView"),l=e("./views/HallTopView"),c=e("../../../core/net/hall/NetEvent"),p=e("../../tool/HallPopMsgHelper"),h=e("../../../core/component/EventComp"),u=e("./views/BannerView"),d=e("./views/HallMoreGameTopNode"),f=e("./views/HallGuiDelinesView"),g=e("./views/GameListViewA"),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.canBack=!1,t.canMore=!0,t}return n(t,e),t.prototype.onInit=function(){this.name="WndHall",this.layer="MainLayer",this.resPath="hall@ui/HallUI",this.model=Global.ModelManager.getModel("HallModel"),this.MsgModel=Global.ModelManager.getModel("MsgModel"),this.rechargeModel=Global.ModelManager.getModel("RechargeGiftModel"),this.destoryType=r.DestoryType.None},t.prototype.initView=function(){this.node.width=cc.Canvas.instance.node.width,this.node.height=cc.Canvas.instance.node.height;var e=this.getChild("bottomNode/layoutNode/caishenNode");this.model.csNodePos=e,this.leftArrowWidget=this.getComponent("centerNode/shan_left",cc.Widget),this.itemAreaWidget=this.getComponent("centerNode/centerContent/contentView/content/itemParent",cc.Widget),this.gonggaoAreaWidget=this.getComponent("centerNode/centerContent/contentView/content/gonggaoArea/gonggaoNode",cc.Widget),this.headViewWidget=this.getComponent("bottomNode/PlayerHeadView",cc.Widget),this.itemAreaWidget&&this.gonggaoAreaWidget&&this.headViewWidget&&this.initAreaWidget(),this.moreGameTopView=this.addView("HallMoreGameTopNode",this.getChild("moreGametopNode"),d.default),this.moreGameTopView.active=!1,this.moreGameBtn=this.addCommonClick("centerNode/centerContent/contentView/content/moreGameBtn",this.clickMoreGame,this),this.moreGameBtn.active=!1,this.initGongGaoView(),this.paoMaDengNode=this.getChild("centerNode/PaoMaDengBox");var t=this.getChild("centerNode/PaoMaDengBox/MsgBox"),o=this.getChild("centerNode/PaoMaDengBox/MsgBox/PMDMsgItem");Global.UIHelper.addPaoMaDengComp(t,!0,null,o.getComponent(cc.RichText).font),Global.UIHelper.addPrivateMarqueeComp(this.getChild("showNode")),this.topView=this.addView("HallTopView",this.getChild("topNode"),l.default),this.bottomView=this.addView("HallBottomView",this.getChild("bottomNode"),s.default),this.guiDelinesView=this.addView("HallGuiDelinesView",this.getChild("guidelines"),f.default),this.initGameList(),this.gameListView=this.getComponent("centerNode/centerContent",cc.ScrollView),this.gameListItem=this.getChild("centerNode/gameListItem"),this.gameContent=this.gameListView.content,this.gameListView.inertia=!0,this.gameListView.brake=.2,Global.Toolkit.adjustIphoneX([this.getChild("centerNode")],30),Global.Toolkit.adjustIphoneX([this.getChild("topNode")],10),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),Global.Event.on(a.default.UPDATE_GAME_LIST,this,this.initGameListView),Global.Event.on(a.default.POP_BIND_PHONE,this,this.PopUpBindPhone),Global.Event.on(a.default.OpenWebViewGame,this,this.onOpenWebViewGame),Global.Event.on(a.default.CloseWebViewGame,this,this.onCloseWebViewGame),Global.Event.on(a.default.RecordGameListOffsetX,this,this.RecorGameListScrollX),Global.Event.on(a.default.CloseMoreGame,this,this.closeMoreGame),this.eventComp=this.node.addComponent(h.default),this.eventComp.disableCallback=this.onClose,this.eventComp.target=this},t.prototype.initGongGaoView=function(){this.gongGao=this.addView("BannerView",this.getChild("centerNode/centerContent/contentView/content/gonggaoArea/gonggaoNode"),u.default)},t.prototype.initGameList=function(){this.gamesView=this.getGameListByHall(),this.gamesView.setNode(this.getChild("centerNode")),this.gamesView.subViewState=!0},t.prototype.RecorGameListScrollX=function(){this.model.setEnterGameOffsetX(this.gameListView.getScrollOffset().x)},t.prototype.getGameListByHall=function(){var e=Global.customApp.getHallBundleName();return e.endsWith("0")?new g.default:e.endsWith("1")||e.endsWith("2")?new g.default:void 0},t.prototype.initAreaWidget=function(){var e=cc.Canvas.instance.node.width/cc.Canvas.instance.node.height,t=Global.Setting.SkinConfig.getHallWidgetCfg();Math.abs(e-1280/720)<.02?(this.itemAreaWidget&&(this.itemAreaWidget.left=t.itemAreaWidget[0]),this.gonggaoAreaWidget&&(this.gonggaoAreaWidget.left=t.gonggaoAreaWidget[0]),this.headViewWidget&&(this.headViewWidget.left=t.headViewWidget[0])):(this.itemAreaWidget&&(this.itemAreaWidget.left=t.itemAreaWidget[1]),this.gonggaoAreaWidget&&(this.gonggaoAreaWidget.left=t.gonggaoAreaWidget[1]),this.headViewWidget&&(this.headViewWidget.left=t.headViewWidget[1]))},t.prototype.onKeyDown=function(){},t.prototype.onOpen=function(){this.model.needQuaryState&&this.model.reqQueryState(),Global.HallServer.send(c.NetAppface.mod,c.NetAppface.GetUserPoint,{}),this.checkGameMsg(),Global.Event.event(a.default.ON_HALL_OPEN),this.showAllSubView(),this.model.requestMyActivityList(),cc.find("Canvas/loading").active=!1,this.initMusic(),this.tryInitGamelist(),this.guiDelinesView&&0==this.model.moreGameStatus&&this.guiDelinesView.getNewMsg()},t.prototype.closeMoreGame=function(e){e&&this.canBack&&(this.closeMoreGameAni(),this.model.setEnterGameOffsetX(0),this.gamesView.refreshGameList(this.model.enterGameOffsetX,!1,this.animationCallBack.bind(this)),this.model.setMoreGameStatus(!1),this.guiDelinesView.getNewMsg())},t.prototype.clickMoreGame=function(){this.canMore&&(this.moreGameAni(),this.model.setEnterGameOffsetX(0),this.gamesView.refreshGameList(this.model.enterGameOffsetX,!0,this.animationCallBack.bind(this)),this.model.setMoreGameStatus(!0))},t.prototype.moreGameAni=function(){var e=this;this.topView.node.runAction(cc.sequence(cc.hide(),cc.callFunc(function(){e.topView.subViewState=!1},this))),this.moreGameTopView.subViewState=!0,this.moreGameTopView.node.opacity=1,this.moreGameTopView.node.runAction(cc.sequence(cc.show(),cc.fadeIn(.5),cc.callFunc(function(){e.canBack=!0}))),this.moreGameBtn.runAction(cc.sequence(cc.fadeOut(.5),cc.callFunc(function(){e.moreGameBtn.active=!1,e.canMore=!1},this))),this.gongGao.node.runAction(cc.sequence(cc.fadeOut(.5),cc.callFunc(function(){e.gongGao.subViewState=!1},this))),this.bottomView.node.runAction(cc.sequence(cc.fadeOut(.5),cc.callFunc(function(){e.bottomView.subViewState=!1},this)))},t.prototype.closeMoreGameAni=function(){var e=this;this.moreGameTopView.node.runAction(cc.sequence(cc.hide(),cc.callFunc(function(){e.moreGameTopView.subViewState=!1},this))),this.canBack=!1,this.topView.subViewState=!0,this.topView.node.opacity=1,this.topView.node.runAction(cc.sequence(cc.show(),cc.fadeIn(.5))),this.gongGao.subViewState=!0,this.gongGao.node.runAction(cc.fadeIn(.5)),this.canMore=!0,this.bottomView.subViewState=!0,this.bottomView.node.runAction(cc.fadeIn(.5))},t.prototype.initHallActivity=function(){this.model.requestGetRewardPackCount()},t.prototype.tryInitGamelist=function(){Global.GameData.dataInitFinish&&this.initGameListView()},t.prototype.initMusic=function(){Global.Audio.playHallBGM()},t.prototype.showAllSubView=function(){this.topView.subViewState=!0,this.bottomView.subViewState=!0,this.gongGao.subViewState=!0,this.rechargeModel.reqGetActivityCfg(!1)},t.prototype.animationCallBack=function(){p.default.Instance.popMsgList()},t.prototype.checkGameMsg=function(){if(null!=Game.DataBridge.msg||null!=Game.DataBridge.fastTipMsg||null!=Game.DataBridge.cacheShow)if(Game.DataBridge.cacheShow&&(Global.UI.show(Game.DataBridge.cacheShow.window,Game.DataBridge.cacheShow.args),Game.DataBridge.cacheShow=null),Game.DataBridge.msg){var e=Game.DataBridge.msg;if(Game.DataBridge.msg=null,null==e.content||""==e.content)return;1==e.type?Global.UI.showSingleBox(e.content,e.yFunc,e.nFunc):Global.UI.showYesNoBox(e.content,e.yFunc,e.nFunc)}else Game.DataBridge.fastTipMsg&&(Global.UI.fastTip(Game.DataBridge.fastTipMsg),Game.DataBridge.fastTipMsg=null)},t.prototype.PopUpNotice=function(){1==this.MsgModel.Status&&(p.default.Instance.addLock(p.PopWndName.Notice),Global.UI.show("WndNotice"))},t.prototype.PopUpBindPhone=function(){p.default.Instance.addLock(p.PopWndName.BindPhone),Global.UI.show("WndBindPhone")},t.prototype.onClose=function(){Global.SceneManager.inGame()&&(this.gamesView.close(),this.gongGao.close())},t.prototype.onDispose=function(){Global.Event.off(a.default.UPDATE_GAME_LIST,this,this.initGameListView),Global.Event.off(a.default.POP_BIND_PHONE,this,this.PopUpBindPhone),Global.Event.off(a.default.OpenWebViewGame,this,this.onOpenWebViewGame),Global.Event.off(a.default.CloseWebViewGame,this,this.onCloseWebViewGame),Global.Event.off(a.default.RecordGameListOffsetX,this,this.RecorGameListScrollX),Global.Event.off(a.default.CloseMoreGame,this,this.closeMoreGame),this.gameContent&&this.gameContent.stopAllActions(),this.gamesView.destroy()},t.prototype.initGameListView=function(e){var t=this;void 0===e&&(e=!0),Global.Component.frameEnd(function(){t.node.isValid&&(t.gamesView.refreshGameList(t.model.enterGameOffsetX,t.model.moreGameStatus,t.animationCallBack.bind(t)),t.model.moreGameStatus&&t.moreGameAni(),(e=t.model.firstOpenHall&&e)||t.animationCallBack())})},t.prototype.onOpenWebViewGame=function(e,t,o,i){cc.sys.isBrowser?(Global.GameWebView.gameWebViewShow(e,!1,9001==i),Logger.log("\u6d4f\u89c8\u5668\u73af\u5883\u4e0b")):Global.WebViewControl.showWebView(e,t,o,this.node,i),Logger.log(" WebViewGame open HallModel requestApplyEnterGame base64 url ",e,t,o)},t.prototype.onCloseWebViewGame=function(){this.gamesView.onResume(),this.initMusic(),Logger.log("WebViewGame --\u5916\u63a5\u6e38\u620f\u5df2\u5173\u95ed")},t}(r.default);o.default=m,cc._RF.pop()},{"../../../core/GlobalEvent":"GlobalEvent","../../../core/component/EventComp":"EventComp","../../../core/net/hall/NetEvent":"NetEvent","../../../core/ui/WndBase":"WndBase","../../tool/HallPopMsgHelper":"HallPopMsgHelper","./views/BannerView":"BannerView","./views/GameListViewA":"GameListViewA","./views/HallBottomView":"HallBottomView","./views/HallGuiDelinesView":"HallGuiDelinesView","./views/HallMoreGameTopNode":"HallMoreGameTopNode","./views/HallTopView":"HallTopView"}],WndLogin:[function(e,t,o){"use strict";cc._RF.push(t,"32a05CYZ51IOL7BzC0TnHza","WndLogin");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/ui/WndBase"),a=e("../../../hallcommon/const/HallStorageKey"),s=e("../../../core/tool/AppHelper"),l=e("../../../hallcommon/model/HallModel"),c=e("../../../hallcommon/model/ServicerModel"),p=e("../../../hallcommon/app/CustomApp"),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.showWx=!0,t.vistorLoginx=0,t.phoneLoginx=0,t.clickTagMap={},t}return n(t,e),t.prototype.onInit=function(){this.name="WndLogin",this.layer="MainLayer",this.resPath="hall/prefabs/ui/LoginUI",this.model=Global.ModelManager.getModel("LoginModel")},t.prototype.initView=function(){this.guestBtn=this.addCommonClick("btnContainer/guestBtn",this.onGuestBtnClick,this,cc.Button.Transition.SCALE,2),this.addCommonClick("btnContainer/wxBtn",this.onWxBtnClick,this,cc.Button.Transition.SCALE,2),this.phoneBtn=this.addCommonClick("btnContainer/phoneBtn",this.onPhoneBtnClick,this,cc.Button.Transition.SCALE,2),this.addCommonClick("btnContainer/gnx_kefu",this.onKefuClick,this,cc.Button.Transition.SCALE,2),this.addCommonClick("btnContainer/gnx_guanwang",this.onGuanwangClick,this,cc.Button.Transition.SCALE,2),this.registBtn=this.addCommonClick("btnContainer/RegistBtn",this.onRegistBtnClick,this,cc.Button.Transition.SCALE,2),this.kefuNode=this.getChild("btnContainer/gnx_kefu"),this.kefuSpot=this.getChild("btnContainer/gnx_kefu/hongdian"),this.kefuSpot.active=!1,this.guangWangNode=this.getChild("btnContainer/gnx_guanwang");var e=this.node.getComponentsInChildren(cc.Widget);if(this.versionLabel=this.getComponent("versionLabel",cc.Label),this.versionLabel.string=Global.Toolkit.genAppInfo(),e&&e.length>0)for(var t=0;t<e.length;t++)e[t].target=cc.Canvas.instance.node;this.showWx=Global.Toolkit.checkIsPlatformShowWX(),this.showWx||(this.getChild("btnContainer/wxBtn").active=!1),this.bg=this.getComponent("bg",cc.Sprite),this.lgEffect=this.getChild("lgEffect");var o=Global.customApp.getAppConfig();this.lgEffect.active=o?o.showLoginEff:Global.customApp.showLoginEff,this.guestBtn=this.getChild("btnContainer/guestBtn"),this.guestBtn&&(this.vistorLoginx=this.guestBtn.x),this.phoneBtn=this.getChild("btnContainer/phoneBtn"),this.phoneBtn&&(this.phoneLoginx=this.phoneBtn.x),this.clickTagMap.wxTag=!0,this.clickTagMap.vistorTag=!0,this.clickTagMap.phoneTag=!0},t.prototype.onRegistBtnClick=function(){Global.UI.show("WndRegist")},t.prototype.onOpen=function(){Global.HallServer.stop(),this.setBottomBtnActive(),this.CheckKefu(),Global.Event.on(GlobalEvent.ShowRedSpot,this,this.showRedSpot),Global.Event.on(GlobalEvent.CloseRedSpot,this,this.closeRedSpot),Global.Setting.enableAutoLogin&&this.model.firstLogin&&(this.model.firstLogin=!1,this.doAutoLogin());var e=cc.find("Canvas/loading");e&&(e.active=!1)},t.prototype.CheckKefu=function(){var e=null,t=Global.ModelManager.getModel("ServicerModel");t&&(e=t.getServiceInfo(c.CustomerEntranceType.LoginService)),e&&e.status?this.kefuNode.active=!0:this.kefuNode.active=!1},t.prototype.showRedSpot=function(e){switch(e[1]){case l.HallRedSpotType.LoginKefu:this.kefuSpot.active=!0}},t.prototype.closeRedSpot=function(e){switch(e){case l.HallRedSpotType.LoginKefu:this.kefuSpot.active=!1}},t.prototype.onKefuClick=function(){Global.ModelManager.getModel("ServicerModel").enterCustomerService(c.CustomerEntranceType.LoginService)},t.prototype.onGuanwangClick=function(){var e=Global.Setting.Urls.downLoadUrl;cc.sys.openURL(e)},t.prototype.setBottomBtnActive=function(){this.guestBtn&&this.SetBtnPos(this.guestBtn,p.BTNINDEX.VistorLoginBtn);var e=this.getChild("btnContainer/wxBtn");e&&this.SetBtnPos(e,p.BTNINDEX.WeChatLoginBtn),this.phoneBtn&&this.SetBtnPos(this.phoneBtn,p.BTNINDEX.PhoneLoginBtn),this.registBtn&&this.SetBtnPos(this.registBtn,p.BTNINDEX.RegistBtn);var t=this.getChild("btnContainer/gnx_guanwang");t&&this.SetBtnPos(t,p.BTNINDEX.OfficalBtn);var o=this.getChild("btnContainer/gnx_kefu");o&&this.SetBtnPos(o,p.BTNINDEX.ServiceBtn);var i=this.showWx&&s.default.checkWxkey(!1)&&!Global.Setting.weixinLoginDisable;e.active=i,this.guestBtn.active=!Global.Setting.vistorLoginLimited,this.registBtn.active=!Global.Setting.registLimited;var n=Global.customApp.getAppConfig();if(n&&null!=n.layout&&null!=n.layout){if(1==n.layout){if(!i){if(this.guestBtn.x>this.phoneBtn.x)return this.guestBtn.x-=120,void(this.phoneBtn.x+=120);this.guestBtn.x+=120,this.phoneBtn.x-=120}}else if(!i){if(this.guestBtn.y>this.phoneBtn.y)return this.guestBtn.y-=40,void(this.phoneBtn.y+=40);this.guestBtn.y+=40,this.phoneBtn.y-=40}}else if(!i){if(this.guestBtn.x=this.vistorLoginx,this.phoneBtn.x=this.phoneLoginx,this.guestBtn.x>this.phoneBtn.x)return this.guestBtn.x-=120,void(this.phoneBtn.x+=120);this.guestBtn.x+=120,this.phoneBtn.x-=120}},t.prototype.SetBtnPos=function(e,t){var o=Global.customApp.getAppConfig();if(o&&cc.isValid(e))switch(t){case p.BTNINDEX.OfficalBtn:o.officalBtnPos&&e.setPosition(cc.v2(o.officalBtnPos[0],o.officalBtnPos[1]));break;case p.BTNINDEX.RegistBtn:o.registBtnPos&&e.setPosition(cc.v2(o.registBtnPos[0],o.registBtnPos[1]));break;case p.BTNINDEX.ServiceBtn:o.serviceBtnPos&&e.setPosition(cc.v2(o.serviceBtnPos[0],o.serviceBtnPos[1]));break;case p.BTNINDEX.VistorLoginBtn:o.vistorLoginBtnPos&&e.setPosition(cc.v2(o.vistorLoginBtnPos[0],o.vistorLoginBtnPos[1]));break;case p.BTNINDEX.WeChatLoginBtn:o.wechatLoginBtnPos&&e.setPosition(cc.v2(o.wechatLoginBtnPos[0],o.wechatLoginBtnPos[1]));break;case p.BTNINDEX.PhoneLoginBtn:o.phoneLoginBtnPos&&e.setPosition(cc.v2(o.phoneLoginBtnPos[0],o.phoneLoginBtnPos[1]))}},t.prototype.doAutoLogin=function(){var e=Global.Setting.storage.get(a.default.Token),t=Global.Setting.storage.get(a.default.Uid);e&&""!=e&&""!=t&&this.model.reqAutoLogin(e,Number(t),null)},t.prototype.onGuestBtnClick=function(){var e=this;this.clickTagMap.vistorTag&&(this.clickTagMap.vistorTag=!1,this.clickTagMap.vistorTimer=setTimeout(function(){e.clickTagMap.vistorTag=!0},1e3),this.model.reqVisitorLogin())},t.prototype.onWxBtnClick=function(){var e=this;this.clickTagMap.wxTag&&(this.clickTagMap.wxTag=!1,this.clickTagMap.wxTimer=setTimeout(function(){e.clickTagMap.wxTag=!0},1e3),s.default.getAppWXLoginEnable()&&Global.NativeEvent.checkWXInstall(function(t){t?0==t.result?Global.NativeEvent.startWXLogin(function(t){if(t)if(Logger.log("------------------onWxBtnClick callback wxInfo "+JSON.stringify(t)),0==t.result){var o=t.funcParam;e.model.reqWxLogin(o,1)}else Global.UI.fastTip("\u5fae\u4fe1\u767b\u5f55\u5931\u8d25");else Logger.error("startWXLogin callback error wxInfo = null")}):Global.UI.showSingleBox("\u8bf7\u5148\u5b89\u88c5\u5fae\u4fe1",null):Logger.error("checkWXInstall callback error retInfo = null")}))},t.prototype.onPhoneBtnClick=function(){Global.UI.show("WndPhoneLogin")},t.prototype.onDispose=function(){e.prototype.onDispose.call(this),this.resetTag(),Global.Event.off(GlobalEvent.ShowRedSpot,this,this.showRedSpot),Global.Event.off(GlobalEvent.CloseRedSpot,this,this.closeRedSpot)},t.prototype.onClose=function(){this.resetTag(),Global.Event.off(GlobalEvent.ShowRedSpot,this,this.showRedSpot),Global.Event.off(GlobalEvent.CloseRedSpot,this,this.closeRedSpot)},t.prototype.resetTag=function(){this.clickTagMap.wxTimer&&clearTimeout(this.clickTagMap.wxTimer),this.clickTagMap.vistorTimer&&clearTimeout(this.clickTagMap.vistorTimer),this.clickTagMap.wxTag=!0,this.clickTagMap.vistorTag=!0},t}(r.default);o.default=h,cc._RF.pop()},{"../../../core/tool/AppHelper":"AppHelper","../../../core/ui/WndBase":"WndBase","../../../hallcommon/app/CustomApp":"CustomApp","../../../hallcommon/const/HallStorageKey":"HallStorageKey","../../../hallcommon/model/HallModel":"HallModel","../../../hallcommon/model/ServicerModel":"ServicerModel"}],WndLowerSearch:[function(e,t,o){"use strict";cc._RF.push(t,"d9f101cINVKk7nPfyZNpDV7","WndLowerSearch");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.onInit=function(){this.name="WndLowerSearch",this.layer=Global.UI.PopLayer,this.resPath="hall/prefabs/ui/SpreadUI/LowerPer",this.SpreadModel=Global.ModelManager.getModel("SpreadModel")},t.prototype.initView=function(){this.node.width=cc.Canvas.instance.node.width,this.node.height=cc.Canvas.instance.node.height,this.IDLabel=this.getChild("Content/IDLabel/ID").getComponent(cc.Label),this.NickNameLabel=this.getChild("Content/NameLabel/Name").getComponent(cc.Label),this.RecommendLabel=this.getChild("Content/RecommendLabel/ID").getComponent(cc.Label),this.LastLoginTime=this.getChild("Panel/LastLoginTime").getComponent(cc.Label),this.PlayerLevel=this.getChild("Panel/PlayerLevel/Count").getComponent(cc.Label),this.PlayerTax=this.getChild("Panel/PlayerTax/Count").getComponent(cc.Label),this.GroupCount=this.getChild("Panel/GroupCount/Count").getComponent(cc.Label),this.GroupTax=this.getChild("Panel/GroupTax/Count").getComponent(cc.Label),this.lab1=this.getChild("Panel/PlayerTax").getComponent(cc.RichText),this.lab2=this.getChild("Panel/GroupTax").getComponent(cc.RichText),this.addCommonClick("close",this.close,this)},t.prototype.onOpen=function(e){this.initPanel(e)},t.prototype.initPanel=function(e){if(null!=e){var t=e[0];this.NickNameLabel.string=t.name+"\uff08ID"+t.user_id+"\uff09",this.RecommendLabel.string=t.pid,this.LastLoginTime.string="\u6700\u540e\u767b\u5f55\u65f6\u95f4:"+cc.js.formatStr(t.last_login),this.PlayerLevel.string=t.level,this.lab1.string="\u76f4\u5c5e\u4e1a\u7ee9\uff1a",this.lab2.string="\u4e0b\u5c5e\u4e1a\u7ee9\uff1a",this.PlayerTax.string=Global.Toolkit.formatPointStr(t.flow),this.GroupTax.string=Global.Toolkit.formatPointStr(t.team_flow),this.GroupCount.string=t.team_num}else this.NickNameLabel.string="",this.RecommendLabel.string="",this.LastLoginTime.string="",this.PlayerLevel.string="",this.PlayerTax.string="",this.GroupTax.string="",this.GroupCount.string=""},t.prototype.GetText=function(e){return e>1e4?(e/1e4).toFixed(2)+"W":e},t.prototype.onClose=function(){},t}(e("../../../core/ui/WndBase").default);o.default=r,cc._RF.pop()},{"../../../core/ui/WndBase":"WndBase"}],WndLuckyDraw:[function(e,t,o){"use strict";cc._RF.push(t,"ae2bcQgMk9KIJyolfrEqqH/","WndLuckyDraw");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,l=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t}return n(t,e),t.prototype.start=function(){},r([l(cc.Label)],t.prototype,"label",void 0),r([l],t.prototype,"text",void 0),r([s],t)}(cc.Component);o.default=c,cc._RF.pop()},{}],WndMessageBox:[function(e,t,o){"use strict";cc._RF.push(t,"ca1e1zjmYhE8aUGKz+pXPXO","WndMessageBox");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/ui/WndBase"),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.autoClose=!0,t.autoReleaseFunc=!0,t}return n(t,e),t.prototype.onInit=function(){this.name="WndMessageBox",this.layer="PopLayer",this.resPath="hall/prefabs/ui/MessageBoxUI",this.destoryType=r.DestoryType.None},t.prototype.initView=function(){this.addCommonClick("bg/close",this.onCloseClick,this),this.yesBtnNode=this.addCommonClick("yesBtn",this.onYesBtnClick,this),this.noBtnNode=this.addCommonClick("noBtn",this.onCloseClick,this),this.content=this.getComponent("content",cc.RichText),this.versionLabel=this.getComponent("versionLabel",cc.Label),this.versionLabel.string="",this.content.string=""},t.prototype.onOpen=function(){if(null==this.args||0==this.args.length)return Logger.error("\u6ca1\u6709\u8bbe\u7f6e\u53c2\u6570"),void this.close();var e=this.args[0];if(null==e||""==e)return Logger.error("\u6ca1\u6709\u8bbe\u7f6e\u53c2\u6570"),void this.close();var t=this.args[1];this.updateBtnByType(t),this.content.string=e,this.yesCallback=this.args[2],this.noCallback=this.args[3],this.autoClose=0!=this.args[4],this.autoReleaseFunc=0!=this.args[5],this.args[6]&&(e="<color=#ff0000> "+e+"</color>",this.content.string=e),this.setNativeVersion(),Global.Event.event(GlobalEvent.FORCE_HIDE_WAITING)},t.prototype.onReshow=function(){if(null==this.args||0==this.args.length)return Logger.error("\u6ca1\u6709\u8bbe\u7f6e\u53c2\u6570"),void this.close();var e=this.args[0];if(null==e||""==e)return Logger.error("\u6ca1\u6709\u8bbe\u7f6e\u53c2\u6570"),void this.close();var t=this.args[1];this.updateBtnByType(t),this.content.string=e,this.yesCallback=this.args[2],this.noCallback=this.args[3],this.autoClose=0!=this.args[4],this.autoReleaseFunc=0!=this.args[5],this.args[6]&&(e="<color=#ff0000> "+e+"</color>",this.content.string=e),Global.Event.event(GlobalEvent.FORCE_HIDE_WAITING)},t.prototype.updateBtnByType=function(e){cc.isValid(this.node)&&(1==e?(this.yesBtnNode.active=!0,this.noBtnNode.active=!0,this.yesBtnNode.x=157,this.noBtnNode.x=-157):(this.yesBtnNode.active=!0,this.noBtnNode.active=!1,this.yesBtnNode.x=0))},t.prototype.onCloseClick=function(){this.autoClose&&this.close()},t.prototype.onClose=function(){},t.prototype.onCloseAnimFinish=function(){if(this.noCallback){var e=this.noCallback;this.autoReleaseFunc&&(this.noCallback=null),e()}},t.prototype.onYesBtnClick=function(){this.noCallback=null,this.autoClose&&this.close(),this.yesCallback&&(this.yesCallback(),this.autoReleaseFunc&&(this.yesCallback=null))},t.prototype.setNativeVersion=function(){},t}(r.default);o.default=a,cc._RF.pop()},{"../../../core/ui/WndBase":"WndBase"}],WndMsg:[function(e,t,o){"use strict";cc._RF.push(t,"1d518y1ZBJGhqWEVQs2lZyt","WndMsg");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__awaiter||function(e,t,o,i){return new(o||(o=Promise))(function(n,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,s)}l((i=i.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var o,i,n,r,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(e){return function(t){return l([e,t])}}function l(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,i&&(n=2&r[0]?i.return:r[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,r[1])).done)return n;switch(i=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){a.label=r[1];break}if(6===r[0]&&a.label<n[1]){a.label=n[1],n=r;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(r);break}n[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(s){r=[6,s],i=0}finally{o=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=e("../../../core/ui/WndBase"),l=e("../../tool/HallPopMsgHelper"),c=e("./NoticeView"),p=e("./MsgView"),h=e("./MsgEvent"),u=e("../../../hallcommon/model/HallModel"),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.subViewPath={noticeView:"hall/prefabs/ui/msg/subView/NoticePanel",msgView:"hall/prefabs/ui/msg/subView/MsgPanel"},t.viewKeyTypeMap={noticeView:c.default,msgView:p.default},t}return n(t,e),t.prototype.onOpen=function(){this.changeTitle(!1),this.changeNoticePanel(),this.MsgModel.on(h.MsgEvent.ReadMsgCallBack,this,this.checkUnread),this.checkUnread()},t.prototype.checkUnread=function(){var e=this.MsgModel.CheckIsAnyMailNotRead(),t=this.MsgModel.CheckIsAnyNoticeNotRead();this.msgUnread.active=e,this.noticeUnread.active=t},t.prototype.changeNoticePanel=function(){this.msgView.subViewState=!1,this.noticeView.subViewState=!0,this.changeTitle(!1)},t.prototype.changeMsgPanel=function(){this.noticeView.subViewState=!1,this.msgView.subViewState=!0,this.changeTitle(!0)},t.prototype.onInit=function(){this.name="WndMsg",this.layer="PopLayer",this.resPath="hall/prefabs/ui/msg/MsgUI",this.MsgModel=Global.ModelManager.getModel("MsgModel"),this.destoryType=s.DestoryType.ChangeScene},t.prototype.initView=function(){this.noticeTitle=this.getChild("bg1/topButton/noticeTitle"),this.msgTitle=this.getChild("bg1/topButton/msgTitle"),this.noticeCheck=this.getChild("bg1/topButton/noticeTitle/check"),this.noticeUncheck=this.getChild("bg1/topButton/noticeTitle/uncheck"),this.msgCheck=this.getChild("bg1/topButton/msgTitle/check"),this.msgUncheck=this.getChild("bg1/topButton/msgTitle/uncheck"),this.noticeTitle.on("click",this.changeNoticePanel,this),this.msgTitle.on("click",this.changeMsgPanel,this),this.noticeUnread=this.getChild("bg1/topButton/noticeTitle/unread"),this.msgUnread=this.getChild("bg1/topButton/msgTitle/unread"),this.noticeUnread.active=!1,this.msgUnread.active=!1,this.addCommonClick("close",this.closeWnd,this),this.initSubViewClass(this.viewKeyTypeMap),this.InitScripts()},t.prototype.changeTitle=function(e){this.msgCheck.active=e,this.msgUncheck.active=!e,this.noticeCheck.active=!e,this.noticeUncheck.active=e},t.prototype.InitScripts=function(){return r(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,this.initSubView(this.subViewPath,this.viewKeyTypeMap,this.getChild("contentNode"))];case 1:return e.sent(),[2]}})})},t.prototype.onClose=function(){var e=this.MsgModel.CheckIsAnyMailNotRead(),t=this.MsgModel.CheckIsAnyNoticeNotRead();e||t?Global.Event.event(GlobalEvent.ShowRedSpot,[!1,u.HallRedSpotType.Mail]):Global.Event.event(GlobalEvent.CloseRedSpot,u.HallRedSpotType.Mail),this.MsgModel.off(h.MsgEvent.ReadMsgCallBack,this,this.checkUnread),l.default.Instance.releaseLock(l.PopWndName.Mail)},t.prototype.closeWnd=function(){this.close()},t.prototype.onDispose=function(){},t}(s.default);o.default=d,cc._RF.pop()},{"../../../core/ui/WndBase":"WndBase","../../../hallcommon/model/HallModel":"HallModel","../../tool/HallPopMsgHelper":"HallPopMsgHelper","./MsgEvent":"MsgEvent","./MsgView":"MsgView","./NoticeView":"NoticeView"}],WndMyGroup:[function(e,t,o){"use strict";cc._RF.push(t,"2593eMqo8pMOLFV8vRBi1PR","WndMyGroup");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/ui/ViewBase"),a=e("../../../core/tool/PoolBase"),s=e("../../../core/net/hall/NetEvent"),l=e("../waiting/WaitingView"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nodeList=[],t.page=1,t.limit=4,t.TotalPage=0,t}return n(t,e),t.prototype.initView=function(){null!=this.waitingNode&&null!=this.waitingNode||(this.waitingNode=l.default.initWaitingView(this.node,cc.v2(0,0))),this.SpreadModel=Global.ModelManager.getModel("SpreadModel"),this.LastPageBtn=this.getChild("View/BotBtn/LastPage"),this.NextPageBtn=this.getChild("View/BotBtn/NextPage"),this.LastPageBtn.on("click",this.OnLastPageBtnClick,this),this.NextPageBtn.on("click",this.OnNextPagePageBtnClick,this),this.addCommonClick("EditItem/SearchButton",this.OnSearchBtnClick,this),this.contentNode=this.getChild("View/scrollview/view/content"),this.copyItem=this.getChild("View/scrollview/view/content/item"),this.copyItem.active=!1,this.cmmi_type=this.SpreadModel.commiType,this.TodayNew=this.getChild("TopRight/TodayAdd/Count").getComponent(cc.Label),this.DirDelegate=this.getChild("TopLeft/DirectPlayer/Count").getComponent(cc.Label),this.GroupAmount=this.getChild("TopLeft/GroupCountTitle/GroupCount").getComponent(cc.Label),this.DelegateAmount=this.getChild("TopLeft/OtherPlayer/Count").getComponent(cc.Label),this.TotalInfoLabel=this.getChild("View/BotBtn/TotalInfoLabel").getComponent(cc.Label),this.PageLabel=this.getChild("View/BotBtn/TotalInfoLabel/PageLabel").getComponent(cc.Label),this.editBox=this.getChild("EditItem/SearchEditBox").getComponent(cc.EditBox),this.initItemPool()},t.prototype.OnNextPagePageBtnClick=function(){if(Global.Audio.playBtnSound(),this.page++,this.page>this.TotalPage)return this.page=this.TotalPage,void Global.UI.fastTip("\u6ca1\u6709\u66f4\u591a\u6570\u636e");this.waitingNode?this.waitingNode.active=!0:2==this.cmmi_type&&this.SpreadModel.GetDayAgentTeamInfo(0,this.page,this.limit)},t.prototype.OnLastPageBtnClick=function(){if(Global.Audio.playBtnSound(),this.page--,this.page<=0)return this.page=1,void Global.UI.fastTip("\u5df2\u7ecf\u662f\u7b2c\u4e00\u9875\u4e86");this.waitingNode?this.waitingNode.active=!0:2==this.cmmi_type&&this.SpreadModel.GetDayAgentTeamInfo(0,this.page,this.limit)},t.prototype.OnSearchBtnClick=function(){this.CheckEmptyFunc(this.editBox.string)},t.prototype.CheckEmptyFunc=function(e){this.checkTextEmptyAndShowTips(e,"ID\u4e0d\u80fd\u4e3a\u7a7a")&&2==this.cmmi_type&&this.SpreadModel.SeachSelfTeamUser(Number(e))},t.prototype.checkTextEmptyAndShowTips=function(e,t){return!(e.length<=0&&(Global.UI.fastTip(t),1))},t.prototype.initItemPool=function(){this.itemPool=new p(this.copyItem)},t.prototype.onSubViewShow=function(){this.waitingNode&&(this.waitingNode.active=!0),Global.HallServer.on(s.NetAppface.SeachSelfTeam,this,this.OnQueryTeamUser),Global.HallServer.on(s.NetAppface.SeachSelfTeamUser,this,this.OnQueryTeamUser),Global.HallServer.on(s.NetAppface.GetSelfTeam,this,this.InitTeamListView),Global.HallServer.on(s.NetAppface.GetDayAgentTeamInfo,this,this.InitTeamListView),1==this.cmmi_type||2==this.cmmi_type&&this.SpreadModel.GetDayAgentTeamInfo(0,this.page,this.limit)},t.prototype.OnQueryTeamUser=function(e){Global.UI.show("WndLowerSearch",e)},t.prototype.InitTeamListView=function(e){if(this.waitingNode&&(this.waitingNode.active=!1),null!=e){2==this.cmmi_type&&this.InitTopViewCommi(e);var t=e.data||[],o=t.length;this.recycle();for(var i=0;i<o;i++){var n=this.itemPool.getItem();this.nodeList.push(n),n.active=!0,n.setParent(this.contentNode),n.getComponent("GroupItem").Init(t[i],i)}this.TotalInfoLabel.string=cc.js.formatStr("\u5171%s\u6761",e.total),this.PageLabel.string=cc.js.formatStr("\u7b2c%s\u9875",e.page),this.TotalPage=Math.ceil(e.total/e.limit)}},t.prototype.InitTopView=function(e){null==e?(this.DirDelegate.string="",this.GroupAmount.string="",this.DelegateAmount.string="",this.TodayNew&&(this.TodayNew.string=""),this.DirectPlayer&&(this.DirectPlayer.string="")):(this.DirDelegate.string=e.unter_num,this.GroupAmount.string=e.team_num,this.DelegateAmount.string=e.other_num,this.TodayNew&&(this.TodayNew.string=e.new_unter_num),this.DirectPlayer&&(this.DirectPlayer.string=e.new_other_num))},t.prototype.InitTopViewCommi=function(e){null==e?(this.DirDelegate.string="",this.GroupAmount.string="",this.DelegateAmount.string="",this.TodayNew.string=""):(this.DirDelegate.string=e.unter_user_num,this.GroupAmount.string=e.all_user_num,this.DelegateAmount.string=e.team_user_num,this.TodayNew.string=Global.Toolkit.formatPointStr(e.total_flow,!0))},t.prototype.onSubViewHide=function(){Global.HallServer.offAllByCaller(this),this.ResetData()},t.prototype.ResetData=function(){this.page=1,this.TotalPage=0,this.editBox.string=""},t.prototype.onDispose=function(){this.itemPool.resetPool()},t.prototype.recycle=function(){this.itemPool.recycleAll(this.nodeList),this.nodeList=[]},t}(r.default);o.default=c;var p=function(e){function t(t){var o=e.call(this)||this;return o.copyNode=t,o}return n(t,e),t.prototype.createItem=function(){return cc.instantiate(this.copyNode)},t.prototype.resetItem=function(e){e.active=!1,e.setParent(null)},t.prototype.recycleAll=function(t){var o=this;e.prototype.recycleAll.call(this,t),t.forEach(function(e){o.resetItem(e)})},t}(a.default);cc._RF.pop()},{"../../../core/net/hall/NetEvent":"NetEvent","../../../core/tool/PoolBase":"PoolBase","../../../core/ui/ViewBase":"ViewBase","../waiting/WaitingView":"WaitingView"}],WndMySpread:[function(e,t,o){"use strict";cc._RF.push(t,"4a86c00O0FIxI19ftQo2VgH","WndMySpread");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("./SpreadEvent"),a=e("../../../core/tool/AppHelper"),s=e("../../../core/ui/ViewBase"),l=e("../../../core/component/YXButton"),c=e("../waiting/CodeTipView"),p=e("../waiting/WaitingView"),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.initView=function(){null!=this.waitingNode&&null!=this.waitingNode||(this.waitingNode=p.default.initWaitingView(this.node,cc.v2(0,0))),this.SpreadModel=Global.ModelManager.getModel("SpreadModel"),this.registEvent(),this.MyId=this.getChild("Leftbox/MyId/Count").getComponent(cc.Label),this.SuperiorId=this.getChild("Leftbox/SuperiorId/Count").getComponent(cc.Label),this.AllAddPeople=this.getChild("Leftbox/AllAddPeople/Count").getComponent(cc.Label),this.TodayAllMoney=this.getChild("Leftbox/TodayAllMoney/Count").getComponent(cc.Label),this.MyAddPeople=this.getChild("Leftbox/MyAddPeople/Count").getComponent(cc.Label),this.TodayMyMoney=this.getChild("Leftbox/TodayMyMoney/Count").getComponent(cc.Label),this.YesterdayAllMoney=this.getChild("Leftbox/YesterdayAllMoney/Count").getComponent(cc.Label),this.YesterdayMoney=this.getChild("Leftbox/YesterdayMoney/Count").getComponent(cc.Label),this.UrlString=this.getChild("Adapt/Url/TEXT_LABEL").getComponent(cc.Label),this.QRNode=this.getChild("Adapt/SpriteMa/qrNode"),this.codeTip=this.getChild("Adapt/SpriteMa/codeTip").getComponent(c.default),this.inviteNode=this.getChild("Adapt/InviteCode"),this.inviteNode.active=!1,this.AwardRecordBtn=this.getChild("Adapt/BotButton/AwardRecordBtn/Background"),this.AwardRecordReturnBtn=this.getChild("Adapt/BotButton/AwardRecordBtn/BackReturn"),this.InviteCodeInput=this.getChild("Adapt/InviteCode/InviteCodeInput").getComponent(cc.EditBox),this.HistoryLabel=this.getChild("GetAwardPanel/bg/HistoryTitle/HisAward").getComponent(cc.Label),this.CurrentAward=this.getChild("GetAwardPanel/bg/contentBg/currentAward").getComponent(cc.Label),this.EffectNode=this.getChild("GetAwardPanel/bg/GetAwardBtn"),this.EffectNode.active=!0;var e=this.EffectNode.getComponent(l.default);e&&(Global.UIHelper.setNodeGray(e.node,!0,250,!0),e.interactable=!0),this.addCommonClick("Adapt/WeChat",this.ShareToFriend,this),this.addCommonClick("Adapt/SpriteMa",this.OnQRCodeClicked,this),this.addCommonClick("Adapt/WeChatFriends",this.ShareToWeChatFriends,this),this.addCommonClick("Adapt/BotButton/AwardRecordBtn/Background",this.OnRecordBtnClicked,this),this.addCommonClick("Adapt/BotButton/AwardRecordBtn/BackReturn",this.OnCommissionBtnClicked,this),this.addCommonClick("Adapt/Url/CopyUrl",this.OnCopyClicked,this),this.addCommonClick("Adapt/InviteCode/BindInviteCode",this.OnBindClicked,this),this.addCommonClick("GetAwardPanel/bg/GetAwardBtn",this.GetDayAgent,this)},t.prototype.registEvent=function(){this.SpreadModel.on(r.SpreadEvent.GetDayAgentShare,this,this.OnGetAgentShare),this.SpreadModel.on(r.SpreadEvent.GetDayAgentRecord,this,this.OpenAwardRecord),this.SpreadModel.on(r.SpreadEvent.GetDayAgentCommi,this,this.OpenRrturnMoney),this.SpreadModel.on(r.SpreadEvent.GetDayAgent,this,this.OnGetReward),this.SpreadModel.on(r.SpreadEvent.BindSucceed,this,this.OnBindSucceed),this.SpreadModel.on(r.SpreadEvent.RefreshShortUrl,this,this.OnRefreshUrl)},t.prototype.OnBindClicked=function(){this.CheckInput(this.InviteCodeInput.string)&&this.SpreadModel.BindInviteCode(Number(this.InviteCodeInput.string))},t.prototype.CheckInput=function(e){return e.length<=0?(Global.UI.fastTip("\u63a8\u8350\u4ebaID\u4e0d\u80fd\u4e3a\u7a7a!"),!1):!(e.length<6&&(Global.UI.fastTip("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u63a8\u8350\u4ebaID!"),1))},t.prototype.GetDayAgent=function(){this.SpreadModel.GetDayAgent()},t.prototype.OnCopyClicked=function(){var e=this.UrlString.string||null;e?Global.NativeEvent.copyTextToClipboard(String(e),this.copyTextToClipboardCallBack.bind(this)):Global.UI.fastTip("\u6b63\u5728\u83b7\u53d6\u63a8\u5e7f\u94fe\u63a5\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5\uff01")},t.prototype.copyTextToClipboardCallBack=function(e){0==e.result?Global.UI.fastTip("\u590d\u5236\u6210\u529f"):Global.UI.fastTip("\u590d\u5236\u5931\u8d25")},t.prototype.OnRecordBtnClicked=function(){this.SpreadModel.GetDayAgentRecord(1,6)},t.prototype.OnCommissionBtnClicked=function(){var e=this.SpreadModel.CommidData;null==e?this.SpreadModel.GetDayAgentCommi():Global.UI.show("WndCommissionlist",e)},t.prototype.ShareToWeChatFriends=function(){Global.Toolkit.checkVersionSupport(10006);var e=Global.Setting.Urls.inviteUrl,t=jsb.fileUtils.getWritablePath()+Global.Toolkit.md5(e)+"_capImage.png";if(Global.Toolkit.CheckFileExist(t))this.wxShare(1,Global.Setting.wxFirendShareTitle,Global.Setting.wxFirendShareContent);else{var o=this,i=Global.UI.getWindow("WndSpread");i&&(i.CaptureTool.node.active=!0,i.CaptureTool.BeginCapture(e,function(){o.wxShare(1,Global.Setting.wxFirendShareTitle,Global.Setting.wxFirendShareContent)}))}},t.prototype.ShareToFriend=function(){Global.Toolkit.checkVersionSupport(10006);var e=Global.Setting.Urls.inviteUrl,t=jsb.fileUtils.getWritablePath()+Global.Toolkit.md5(e)+"_capImage.png";if(Global.Toolkit.CheckFileExist(t))this.wxShare(0,Global.Setting.wxMomentShareTitle,Global.Setting.wxMomentShareContent);else{var o=this,i=Global.UI.getWindow("WndSpreadUnlimited");i&&(i.CaptureTool.node.active=!0,i.CaptureTool.BeginCapture(e,function(){o.wxShare(0,Global.Setting.wxMomentShareTitle,Global.Setting.wxMomentShareContent)}))}},t.prototype.wxShare=function(e,t,o){if(a.default.enableWxShare){var i=Global.Setting.Urls.inviteUrl;i=this.SpreadModel.Url||i,Global.NativeEvent.checkWXInstall(function(n){0==n.result?Global.NativeEvent.shareWX(e,2,t,Global.Toolkit.getSpreadImgPath(),i,o,null):Global.UI.fastTip("\u8bf7\u5b89\u88c5\u5fae\u4fe1")})}},t.prototype.OnQRCodeClicked=function(){Global.UI.show("WndSpreadCenter",this.UrlString.string)},t.prototype.onSubViewShow=function(){this.waitingNode&&(this.waitingNode.active=!0);var e=Global.Setting.Urls.getinviteUrl();this.SpreadModel.GetDayAgentShare(e),this.InitQrcode()},t.prototype.OnBindSucceed=function(){this.inviteNode.active=!1,this.SetGetAwardBtnPos(!0),Global.UI.fastTip("\u7ed1\u5b9a\u63a8\u8350\u4eba\u6210\u529f")},t.prototype.InitQrcode=function(){var e=Global.Setting.Urls.inviteUrl;e=this.SpreadModel.Url||e,1!=this.SpreadModel.urlType?this.codeTip.error():(Global.Toolkit.initQRCode(this.QRNode,e,10),this.codeTip.success())},t.prototype.OnGetReward=function(e){this.CurrentAward.string="0";var t=this.EffectNode.getComponent(l.default);t&&(Global.UIHelper.setNodeGray(t.node,!0,150,!1),t.interactable=!1),Global.UI.show("WndRebateGet",e.get_point)},t.prototype.OnGetAgentShare=function(e){this.waitingNode&&(this.waitingNode.active=!1);var t=Global.UI.getWindow("WndSpread");t&&t.OnDataPrepared(),this.initLetPanel(e)},t.prototype.OnRefreshUrl=function(){var e=this.SpreadModel.Url;1!=this.SpreadModel.urlType?(this.UrlString.string="",this.codeTip.error()):(this.UrlString.string=e,Global.Toolkit.initQRCode(this.QRNode,e,10),this.codeTip.success());var t=Global.UI.getWindow("WndSpread");t&&t.InitQrcode(e)},t.prototype.initLetPanel=function(e){var t;null==e?(this.MyId.string="",this.SuperiorId.string="",this.AllAddPeople.string="",this.TodayAllMoney.string="",this.MyAddPeople.string="",this.TodayMyMoney.string="",this.YesterdayAllMoney.string="",this.YesterdayMoney.string="",this.CurrentAward.string="",this.HistoryLabel.string="",this.UrlString.string="",this.InviteCodeInput.string=""):(this.MyId.string=Global.PlayerData.uid.toString(),this.SuperiorId.string=e.pid,this.AllAddPeople.string=e.team_num,this.TodayAllMoney.string=Global.Toolkit.formatPoint(e.day_team_flow,3).toString(),this.MyAddPeople.string=e.unter_new_num,this.TodayMyMoney.string=Global.Toolkit.formatPoint(e.day_unter_flow,3).toString(),this.YesterdayAllMoney.string=Global.Toolkit.formatPoint(e.ye_total_flow,3).toString(),this.YesterdayMoney.string=this.GetText(Global.Toolkit.formatPointStr(e.ye_commi)),this.UrlString.string=this.GetText(Global.Toolkit.formatPointStr(e.url)),0===e.read_commi?(t=this.EffectNode.getComponent(l.default))&&(Global.UIHelper.setNodeGray(t.node,!0,150,!1),t.interactable=!1):(t=this.EffectNode.getComponent(l.default))&&(Global.UIHelper.setNodeGray(t.node,!0,250,!0),t.interactable=!0),this.CurrentAward.string=this.GetText(Global.Toolkit.formatPointStr(e.read_commi)),this.HistoryLabel.string=this.GetText(Global.Toolkit.formatPointStr(e.total_commi)),0!=e.pid?(this.inviteNode.active=!1,this.SetGetAwardBtnPos(!0),this.InviteCodeInput.string=e.pid.toString()):0===Global.PlayerData.pack?(this.inviteNode.active=!1,this.SetGetAwardBtnPos(!1),this.InviteCodeInput.string=""):(this.inviteNode.active=!1,this.SetGetAwardBtnPos(!0)),e.read_point>0&&this.EffectNode&&(this.EffectNode.active=!0),1!=this.SpreadModel.urlType?(this.UrlString.string="",this.codeTip.error()):(this.UrlString.string=this.SpreadModel.Url,Global.Toolkit.initQRCode(this.QRNode,this.SpreadModel.Url,10),this.codeTip.success()))},t.prototype.SetGetAwardBtnPos=function(){},t.prototype.GetText=function(e){return e.toString()},t.prototype.OpenAwardRecord=function(e){Global.UI.show("WndAwardRecord",e)},t.prototype.OpenRrturnMoney=function(e){Global.UI.show("WndCommissionlist",e)},t.prototype.onSubViewHide=function(){},t.prototype.onDispose=function(){this.SpreadModel.off(r.SpreadEvent.GetDayAgentShare,this,this.OnGetAgentShare),this.SpreadModel.off(r.SpreadEvent.GetDayAgentRecord,this,this.OpenAwardRecord),this.SpreadModel.off(r.SpreadEvent.GetDayAgentCommi,this,this.OpenRrturnMoney),this.SpreadModel.off(r.SpreadEvent.GetSelfRead,this,this.OnGetReward),this.SpreadModel.off(r.SpreadEvent.BindSucceed,this,this.OnBindSucceed),this.SpreadModel.off(r.SpreadEvent.RefreshShortUrl,this,this.OnRefreshUrl)},t}(s.default);o.default=h,cc._RF.pop()},{"../../../core/component/YXButton":"YXButton","../../../core/tool/AppHelper":"AppHelper","../../../core/ui/ViewBase":"ViewBase","../waiting/CodeTipView":"CodeTipView","../waiting/WaitingView":"WaitingView","./SpreadEvent":"SpreadEvent"}],WndNetReconnect:[function(e,t,o){"use strict";cc._RF.push(t,"23556l5IldIG7aMKdXmqH18","WndNetReconnect");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/ui/WndBase"),a=e("../../../core/GlobalEvent"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.counter=0,t.curReconnectTime=0,t}return n(t,e),t.prototype.onInit=function(){this.name="WndNetReconnect",this.layer=Global.UI.TipsLayer,this.resPath="hall/prefabs/ui/NetReconnect",this.destoryType=r.DestoryType.None},t.prototype.initView=function(){var e=this.getChild("black_bg");e.width=1600,e.height=cc.Canvas.instance.node.height,this.tipsLabel=this.getComponent("tips",cc.Label)},t.prototype.onOpen=function(){this.counter=0,this.curReconnectTime=1,this.tipsLabel.schedule(this.onSchedule.bind(this),.5,cc.macro.REPEAT_FOREVER),this.node.runAction(cc.fadeIn(.5)),this.tipsLabel.string=cc.js.formatStr("\u6b63\u5728\u91cd\u65b0\u8fde\u63a5\uff08%d/%d\uff09\uff0c\u8bf7\u7a0d\u540e",this.curReconnectTime,Global.Setting.socketReconnectTimes)+"...",Global.Event.on(a.default.UPDATE_RECONNECT_COUNT,this,this.onReconnectCountUpdate)},t.prototype.onClose=function(){this.counter=0,this.tipsLabel.unscheduleAllCallbacks(),Global.Event.off(a.default.UPDATE_RECONNECT_COUNT,this,this.onReconnectCountUpdate)},t.prototype.onDispose=function(){this.counter=0,Global.Event.off(a.default.UPDATE_RECONNECT_COUNT,this,this.onReconnectCountUpdate)},t.prototype.onReconnectCountUpdate=function(e){this.curReconnectTime=e},t.prototype.onSchedule=function(){this.counter++;for(var e=this.counter%4,t="",o=0;o<e;o++)t+=".";this.tipsLabel.string=cc.js.formatStr("\u6b63\u5728\u91cd\u65b0\u8fde\u63a5\uff08%d/%d\uff09\uff0c\u8bf7\u7a0d\u540e",this.curReconnectTime,Global.Setting.socketReconnectTimes)+t,this.counter>50&&this.close()},t}(r.default);o.default=s,cc._RF.pop()},{"../../../core/GlobalEvent":"GlobalEvent","../../../core/ui/WndBase":"WndBase"}],WndNetWaiting:[function(e,t,o){"use strict";cc._RF.push(t,"08450tzcBlCZLM2i+ug5l8V","WndNetWaiting");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/ui/WndBase"),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.counter=0,t.maxFrameCount=0,t.UpdateInterval=.2,t}return n(t,e),t.prototype.onInit=function(){this.name="WndNetWaiting",this.layer=Global.UI.TipsLayer,this.resPath="hall/prefabs/ui/NetWaitUI",this.model=Global.ModelManager.getModel("WaitingModel"),this.destoryType=r.DestoryType.Persist},t.prototype.initView=function(){var e=this.getChild("mask");this.blockMask=e.getComponent(cc.BlockInputEvents),e.width=1600,e.height=1600,this.tipsLabel=this.getComponent("tips",cc.Label),cc.isValid(this.tipsLabel)&&(this.tipsLabel.string="\u8fde\u63a5\u4e2d")},t.prototype.onOpen=function(){this.model.on(this.model.EVENT_UPDATE_WAITING_TIME,this,this.updateTime);var e=0;0==this.args.length?(Logger.error("\u6ca1\u6709\u8bbe\u7f6e\u8d85\u65f6\u65f6\u95f4"),e=15):e=this.args[0],this.args.length>1&&this.args[1]&&""!=this.args[1]&&isNaN(Number(this.args[1]))?cc.isValid(this.tipsLabel)&&(this.tipsLabel.string=this.args[1]):cc.isValid(this.tipsLabel)&&(this.tipsLabel.string="\u8fde\u63a5\u4e2d"),this.args.length>=4&&(this.blockMask.enabled=this.args[3]),this.updateTime(e),cc.isValid(this.tipsLabel)&&this.tipsLabel.schedule(this.onSchedule.bind(this),this.UpdateInterval,cc.macro.REPEAT_FOREVER),this.node.runAction(cc.fadeIn(.5))},t.prototype.updateTime=function(e){this.counter=0,this.maxFrameCount=e/this.UpdateInterval},t.prototype.onClose=function(){this.model.off(this.model.EVENT_UPDATE_WAITING_TIME,this,this.updateTime),this.counter=0,this.tipsLabel.unscheduleAllCallbacks()},t.prototype.onDispose=function(){this.counter=0,this.tipsLabel=null},t.prototype.onSchedule=function(){0==this.model.getWaitingList().length&&this.close(),this.counter++,this.counter,this.counter>this.maxFrameCount&&(this.close(),this.model.waitTimeOut())},t}(r.default);o.default=a,cc._RF.pop()},{"../../../core/ui/WndBase":"WndBase"}],WndNewPlayerInfo:[function(e,t,o){"use strict";cc._RF.push(t,"e5fcd2ON8xBxK4gsZVUPGnq","WndNewPlayerInfo");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/ui/WndBase"),a=e("../hall/views/HallBtnHelper"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spriteHead=null,t.spriteHeadFrame=null,t}return n(t,e),t.prototype.onInit=function(){this.name="WndNewPlayerInfo",this.layer=Global.UI.PopLayer,this.resPath="hall/prefabs/ui/PlayerInfo/NewPlayerInfoUI",this.model=Global.ModelManager.getModel("PlayerInfoModel")},t.prototype.onDispose=function(){Global.Event.off(GlobalEvent.PERSONALINFOUPDATE,this,this.refreshPersonInfo)},t.prototype.initView=function(){Global.Event.on(GlobalEvent.PERSONALINFOUPDATE,this,this.refreshPersonInfo),this.binded=this.getChild("personInfo/panel/bind/binded"),this.addCommonClick("bg/close",this.closeBtnFunc,this),this.addCommonClick("personInfo/changeBtn",this.showChooseHeadView,this),this.addCommonClick("personInfo/idLabel/btn",this.copyIdFunc,this),this.addCommonClick("personInfo/nickName/changeBtn",this.openEditNicknameUI,this),this.addCommonClick("personInfo/panel/logout",this.logOutFunc,this),this.bindBtn=this.addCommonClick("personInfo/panel/bind/bindBtn",this.openBindUi,this),this.addCommonClick("personInfo/panel/setting",this.openSettingUi,this),this.addCommonClick("personInfo/coinBar/add",this.addPonitBtn,this),this.addCommonClick("personInfo/vipFrame",this.showVipView,this),this.nickName=this.getComponent("personInfo/nickName/nickLabel",cc.Label),this.idLabel=this.getComponent("personInfo/idLabel/id",cc.Label),this.pointLabel=this.getComponent("personInfo/coinBar/coinLabel",cc.Label),this.spriteHead=this.getComponent("headImg/headFrame",cc.Sprite),this.spriteHeadFrame=this.getComponent("headbox",cc.Sprite),this.phoneLabel=this.getComponent("personInfo/panel/bind/binded/phone",cc.Label),this.vipFrame=this.getComponent("personInfo/vipFrame",cc.Sprite)},t.prototype.showVipView=function(){Global.Event.event(GlobalEvent.SHOW_NET_WAITING,"WndVip3"),Global.UI.show("WndVip3")},t.prototype.showChooseHeadView=function(){Global.UI.show("WndChooseHead")},t.prototype.copyIdFunc=function(){Global.NativeEvent.copyTextToClipboard(String(Global.PlayerData.uid),this.copyTextToClipboardCallBack.bind(this))},t.prototype.openEditNicknameUI=function(){Global.UI.show("WndEditName")},t.prototype.copyTextToClipboardCallBack=function(e){0==e.result?Global.UI.fastTip("\u590d\u5236\u6210\u529f"):Global.UI.fastTip("\u590d\u5236\u5931\u8d25")},t.prototype.logOutFunc=function(){Global.UI.show("WndMessageBox","\u60a8\u786e\u5b9a\u9000\u51fa\u5f53\u524d\u8d26\u53f7\u8fd4\u56de\u767b\u5f55\u754c\u9762\uff1f",1,function(){Global.SceneManager.goToLogin()},function(){})},t.prototype.openBindUi=function(){Global.UI.show("WndBindPhone")},t.prototype.openSettingUi=function(){Global.UI.show("WndSetting")},t.prototype.addPonitBtn=function(){a.default.WndRechargeOpen()},t.prototype.onOpen=function(){this.model.reqGetUserInfo(null,null),this.refreshPersonInfo();var e=Global.ModelManager.getModel("BindingGiftModel");""==Global.PlayerData.phone&&0!=e.BindAwardNum&&Global.UI.show("WndBindingGift")},t.prototype.refreshPersonInfo=function(){if(!Global.SceneManager.inGame()){var e=Global.PlayerData;this.nickName.string=Global.Toolkit.removeEmoji(e.nickname),this.idLabel.string=String(e.uid);var t=e.phone.split(" ")[1];t=t||e.phone,this.bindBtn.active=""==t,this.binded.active=""!=t,this.phoneLabel.string=Global.Toolkit.formateStrWithAsterisk(t,3,4),this.pointLabel.string=Global.Toolkit.formatPointStr(Global.PlayerData.point,!0).toString(),this.spriteHead.spriteFrame=Global.Toolkit.getLocalHeadSf(e.headimg),Global.Toolkit.loadLocalHeadFrame(this.spriteHeadFrame,e.headkuang);var o="vip_tq"+e.vip;Global.ResourceManager.loadAutoAtlas(this.vipFrame,"hall/texture/hall/playerInfo/AutoAtlas_playerinfo",o,null,!1)}},t.prototype.onClose=function(){},t.prototype.closeBtnFunc=function(){this.close()},t}(r.default);o.default=s,cc._RF.pop()},{"../../../core/ui/WndBase":"WndBase","../hall/views/HallBtnHelper":"HallBtnHelper"}],WndOverseasBandConfirm:[function(e,t,o){"use strict";cc._RF.push(t,"89ff6EPXvJFlrCELxjrjjYd","WndOverseasBandConfirm");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../../../core/ui/WndBase"),a=e("./ExtractEvent"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.onInit=function(){this.name="WndOverseasBandConfirm",this.layer=Global.UI.PopLayer,this.resPath="hall/prefabs/ui/money/extractCash/overseasBandConfirmUI",this.model=Global.ModelManager.getModel("ExtractModel")},t.prototype.initView=function(){this.node.width=cc.Canvas.instance.node.width,this.node.height=cc.Canvas.instance.node.height,this.nameLabel=this.getComponent("NameLabel",cc.Label),this.accountLabel=this.getComponent("AccountLabel",cc.Label),this.bankTipLabel=this.getComponent("BankLabel",cc.Label),this.addCommonClick("close",this.backBtnFunc,this),this.addCommonClick("confirmBtn",this.confirmBtnFunc,this),this.model.on(a.ExtractEvent.BankBindInfoOver,this,this.close)},t.prototype.onOpen=function(e){this.nameData=e[0],this.accountData=e[1],this.bankData=e[2],this.nameLabel.string=this.nameData,this.accountLabel.string=this.accountData,this.bankTipLabel.string=this.bankData},t.prototype.confirmBtnFunc=function(){this.model.reqBindOverseasInfo(this.nameData,this.accountData,this.bankData),this.backBtnFunc()},t.prototype.backBtnFunc=function(){this.close()},t}(r.default);o.default=s,cc._RF.pop()},{"../../../../../core/ui/WndBase":"WndBase","./ExtractEvent":"ExtractEvent"}],WndPhoneLogin:[function(e,t,o){"use strict";cc._RF.push(t,"6757d4evIxJSoDJOMj5lBQO","WndPhoneLogin");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/ui/WndBase"),a=e("./view/PhoneInputView"),s=e("./view/PwdInputView"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.clickTagMap={},t}return n(t,e),t.prototype.onInit=function(){this.name="WndPhoneLogin",this.layer="PopLayer",this.resPath="hall/prefabs/ui/PhoneLoginUI",this.model=Global.ModelManager.getModel("LoginModel")},t.prototype.initView=function(){this.addCommonClick("bg/close",this.onCloseClick,this),this.addCommonClick("loginBtn",this.onLoginBtnClick,this),this.addCommonClick("forgetPwd",this.onForgetClick,this,null),this.phoneInputView=this.addView("PhoneInputView",this.getChild("phoneContainer"),a.default),this.pwdInputView=this.addView("PwdInputView",this.getChild("pwdContainer"),s.default),this.model.localPhone&&(this.phoneInputView.phone=this.model.localPhone),this.model.localAreaCode&&(this.phoneInputView.area=this.model.localAreaCode),this.clickTagMap.click=!0},t.prototype.onForgetClick=function(){Global.UI.show("WndForgetPwd")},t.prototype.onCloseClick=function(){this.close()},t.prototype.onOpen=function(){this.phoneInputView.subViewState=!0,this.pwdInputView.subViewState=!0},t.prototype.onLoginBtnClick=function(){var e=this;if(this.clickTagMap.click)if(this.clickTagMap.click=!1,this.clickTagMap.clickTimer=setTimeout(function(){e.clickTagMap.click=!0},1e3),""!=this.phoneInputView.phone)if(""!=this.pwdInputView.pwd)if(this.phoneInputView.isAreaVaild()){var t=Global.Toolkit.md5(this.pwdInputView.pwd),o=this.phoneInputView.area,i=this.phoneInputView.phone;this.model.reqPhoneLogin(i,t,o)}else Global.UI.fastTip("\u8bf7\u9009\u62e9\u6b63\u786e\u7684\u5730\u533a\u4fe1\u606f");else Global.UI.fastTip("\u8bf7\u8f93\u5165\u5bc6\u7801");else Global.UI.fastTip("\u8bf7\u8f93\u5165\u624b\u673a\u53f7")},t.prototype.onDispose=function(){e.prototype.onDispose.call(this),this.resetTag()},t.prototype.onClose=function(){this.resetTag()},t.prototype.resetTag=function(){this.clickTagMap.clickTimer&&clearTimeout(this.clickTagMap.clickTimer),this.clickTagMap.click=!0},t}(r.default);o.default=l,cc._RF.pop()},{"../../../core/ui/WndBase":"WndBase","./view/PhoneInputView":"PhoneInputView","./view/PwdInputView":"PwdInputView"}],WndPlayerInfo:[function(e,t,o){"use strict";cc._RF.push(t,"47675EVyJ9EBowDe9/vFcfz","WndPlayerInfo");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__awaiter||function(e,t,o,i){return new(o||(o=Promise))(function(n,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,s)}l((i=i.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var o,i,n,r,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(e){return function(t){return l([e,t])}}function l(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,i&&(n=2&r[0]?i.return:r[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,r[1])).done)return n;switch(i=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){a.label=r[1];break}if(6===r[0]&&a.label<n[1]){a.label=n[1],n=r;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(r);break}n[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(s){r=[6,s],i=0}finally{o=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=e("../../../core/ui/WndBase"),l=e("./PersonalInfoView"),c=e("./ChooseHeadView"),p=e("./MusicLayerView"),h=e("./SettingLayerView"),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.currYeqian=-1,t.yeqianArr=[],t.contentArr=[],t.subViewPath={personalInfoView:"hall/prefabs/ui/PlayerInfo/PersonalInfo"},t.viewKeyTypeMap={personalInfoView:l.default},t}return n(t,e),t.prototype.onInit=function(){this.name="WndPlayerInfo",this.layer=Global.UI.PopLayer,this.resPath="hall/prefabs/ui/PlayerInfo/PlayerInfoUI",this.model=Global.ModelManager.getModel("PlayerInfoModel")},t.prototype.onDispose=function(){this.internalEvent.off("ChangeView",this,this.ChangeYeqian),this.currYeqian=-1},t.prototype.initView=function(){this.internalEvent.on("ChangeView",this,this.ChangeYeqian),this.addCommonClick("bg/close",this.closeBtnFunc,this);for(var e=0;e<4;e++){var t=this.addCommonClick("yeqian/yeqian_"+e,this.yeqianBtnFunc,this);this.yeqianArr[2*e]=cc.find("noSelected",t),this.yeqianArr[2*e+1]=cc.find("selected",t),this.contentArr[e]=cc.find("content/content_"+e,this.node)}this.chooseHeadView=this.addView("ChooseHeadView",this.getChild("content/content_1"),c.default),this.musicLayerView=this.addView("MusicLayerView",this.getChild("content/content_2"),p.default),this.settingLayerView=this.addView("SettingLayerView",this.getChild("content/content_3"),h.default),this.initSubViewClass(this.viewKeyTypeMap),this.InitScripts()},t.prototype.InitScripts=function(){return r(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,this.initSubView(this.subViewPath,this.viewKeyTypeMap,this.getChild("content"))];case 1:return e.sent(),[2]}})})},t.prototype.onOpen=function(){this.ChangeYeqian(0);var e=Global.ModelManager.getModel("BindingGiftModel");""==Global.PlayerData.phone&&0!=e.BindAwardNum&&Global.UI.show("WndBindingGift")},t.prototype.onClose=function(){this.currYeqian=-1},t.prototype.closeBtnFunc=function(){this.close()},t.prototype.yeqianBtnFunc=function(e){var t=e.node.name.split("_"),o=t[t.length-1],i=parseInt(o);this.ChangeYeqian(i)},t.prototype.ChangeYeqian=function(e){if(this.currYeqian!=e){switch(this.currYeqian=e,this.closeAllSubView(),this.currYeqian){case 0:this.personalInfoView.subViewState=!0;break;case 1:this.chooseHeadView.subViewState=!0;break;case 2:this.musicLayerView.subViewState=!0;break;case 3:this.settingLayerView.subViewState=!0}this.UpdatBtn()}},t.prototype.UpdatBtn=function(){for(var e=0;e<4;e++){var t=e==this.currYeqian;this.yeqianArr[2*e+1].active=t}this.OnDataPrepared()},t}(s.default);o.default=u,cc._RF.pop()},{"../../../core/ui/WndBase":"WndBase","./ChooseHeadView":"ChooseHeadView","./MusicLayerView":"MusicLayerView","./PersonalInfoView":"PersonalInfoView","./SettingLayerView":"SettingLayerView"}],WndRank:[function(e,t,o){"use strict";cc._RF.push(t,"dd9dfHaikJGa5LQSfJDQRU3","WndRank");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/ui/WndBase"),a=e("../../../hallcommon/model/RankModel"),s=e("../waiting/WaitingView"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nodeList=[],t.curWin=0,t.DayWeek=["\u4eca\u65e5\u76c8\u5229\u699c","\u672c\u5468\u76c8\u5229\u699c","\u4eca\u65e5\u76c8\u5229\u699c","\u672c\u5468\u4f63\u91d1\u699c"],t}return n(t,e),t.prototype.onOpen=function(){this.RankModel.on(a.default.RefreshScrollview,this,this.RefreshScrollView),this.RankModel.on(a.default.UpdateRankData,this,this.UpdataListData),this.setToggleChecked(this.dayRank,!0),this.setToggleChecked(this.weekRank,!1),this.changeInfoNode(null)},t.prototype.afterOpen=function(){},t.prototype.onInit=function(){this.isNeedDelay=!0,this.name="WndRank",this.layer=Global.UI.PopLayer,this.resPath="hall/prefabs/ui/RankUI",this.RankModel=Global.ModelManager.getModel("RankModel")},t.prototype.initView=function(){var e=this;this.node.width=cc.Canvas.instance.node.width,this.node.height=cc.Canvas.instance.node.height,this.dayRank=this.getChild("leftPanel/dayRank"),this.weekRank=this.getChild("leftPanel/weekRank"),this.dayRank.on("click",this.changeInfoNode,this),this.weekRank.on("click",this.changeInfoNode2,this),this.addCommonClick("close",this.close,this),this.RankScrollView=this.getComponent("rightPanel/scrollview",cc.ScrollView),this.copyItem=this.getChild("rightPanel/scrollview/view/content/Item"),this.copyItem.active=!1;var t=this.getChild("SelfInfo/LeftNode/IdLab");this.selfLabelID=t.getComponent(cc.Label);var o=this.getChild("SelfInfo/LeftNode/NameLab");this.selfLabelName=o.getComponent(cc.Label);var i=this.getChild("SelfInfo/RightNode/CoinLabel");this.selfLabelCount=i.getComponent(cc.Label);var n=this.getChild("SelfInfo/LeftNode/RankBg/RankLabel");this.selfRankLab=n.getComponent(cc.Label),this.notInListNode=this.getChild("SelfInfo/LeftNode/RankBg/notInList"),this.notInListNode.active=!1;var r=this.getChild("SelfInfo/LeftNode/RankBg");this.selfRankSprite=r.getComponent(cc.Sprite),this.CommissionUn=this.getComponent("leftPanel/dayRank/unchecked/label",cc.Label),this.CommissionCh=this.getComponent("leftPanel/dayRank/check/label",cc.Label),this.CommissionUn1=this.getComponent("leftPanel/weekRank/unchecked/label",cc.Label),this.CommissionCh1=this.getComponent("leftPanel/weekRank/check/label",cc.Label),this.SpreadModel=Global.ModelManager.getModel("SpreadModel"),this.RankScrollView.node.on("scroll-to-bottom",function(){e.waitingNode&&e.listView.allDatas&&e.listView.allDatas.length<100&&(e.waitingNode.active=!0),e.reqNewData()},this),this.SpreadModel.RankType,this.selfheadImg=this.getChild("SelfInfo/LeftNode/headImg"),this.InitScrollViewObj(),null!=this.waitingNode&&null!=this.waitingNode||(this.waitingNode=s.default.initWaitingView(this.node,cc.v2(0,0)))},t.prototype.reqNewData=function(){var e=this.SpreadModel.RankType;if(1==e){if(0==this.curWin)return void this.RankModel.reqRankInfo(3,!0);this.RankModel.reqRankInfo(1,!0)}else if(2==e){if(0==this.curWin)return void this.RankModel.reqRankInfo(6,!0);this.RankModel.reqRankInfo(1,!0)}},t.prototype.InitScrollViewObj=function(){var e=this;this.listView=Global.UIHelper.addScrollViewCarmackComp(this.RankScrollView.node,this.copyItem,15,0,this,function(t,o){var i=e.listView.allDatas[o];t.getComponent("RankItem").Init(i)})},t.prototype.initSelfPanel=function(e,t){if(Number(Global.PlayerData.headimg)){var o=this.selfheadImg.getComponent(cc.Sprite),i=Global.Toolkit.getLocalHeadSf(Global.PlayerData.headimg);o.spriteFrame=i}else Global.Toolkit.loadWebPic(this.selfheadImg,Global.PlayerData.headimg);this.selfLabelID.string=Global.PlayerData.uid.toString(),this.selfLabelName.string=Global.Toolkit.substrEndWithElli(Global.PlayerData.nickname,8),this.selfLabelCount.string=Global.Toolkit.GetText(t),this.selfRankLab.node.active=!1;var n="hall/texture/rank/rankAtlas";if(null==e||null==e||e>100||0==e)return this.selfRankSprite.spriteFrame=null,this.selfRankLab.node.active=!1,void(this.notInListNode.active=!0);if(e&&e>3)Global.Setting.SkinConfig.isPurple?Global.ResourceManager.loadAutoAtlas(this.selfRankSprite,n,"rank_04",null,!1):this.selfRankSprite.spriteFrame=null,this.selfRankLab.node.active=!0,this.notInListNode.active=!1,this.selfRankLab.string=e;else switch(this.notInListNode.active=!1,e){case 1:Global.ResourceManager.loadAutoAtlas(this.selfRankSprite,n,"rank_01",null,!1);break;case 2:Global.ResourceManager.loadAutoAtlas(this.selfRankSprite,n,"rank_02",null,!1);break;case 3:Global.ResourceManager.loadAutoAtlas(this.selfRankSprite,n,"rank_03",null,!1)}},t.prototype.onClose=function(){this.RankModel.clear(),this.RankModel.off(a.default.RefreshScrollview,this,this.RefreshScrollView),this.RankModel.off(a.default.UpdateRankData,this,this.UpdataListData)},t.prototype.RefreshScrollView=function(e){if(e){this.waitingNode&&(this.waitingNode.active=!1),this.OnDataPrepared();var t=e.pointRankList||[];this.listView.allDatas=t,this.listView.updateView(),this.initSelfPanel(e.my_rank,e.my_hit_point)}},t.prototype.UpdataListData=function(e){this.waitingNode&&(this.waitingNode.active=!1),null!=e&&(this.listView.allDatas=e,this.listView.UpDateScrollData())},t.prototype.changeInfoNode=function(e){this.waitingNode&&(this.waitingNode.active=!0),this.curWin=0;var t=this.SpreadModel.RankType;1==t?this.RankModel.reqRankInfo(3,!1):2==t&&this.RankModel.reqRankInfo(6,!1),this.setToggleChecked(this.dayRank,!0),this.setToggleChecked(this.weekRank,!1),e&&Global.Audio.playBtnSound()},t.prototype.changeInfoNode2=function(e){this.waitingNode&&(this.waitingNode.active=!0),this.curWin=1,this.RankModel.reqRankInfo(1,!1),this.setToggleChecked(this.dayRank,!1),this.setToggleChecked(this.weekRank,!0),e&&Global.Audio.playBtnSound()},t.prototype.setToggleChecked=function(e,t){var o=e.getChildByName("check"),i=e.getChildByName("unchecked");o&&(o.active=t),i&&(i.active=!t)},t}(r.default);o.default=l,cc._RF.pop()},{"../../../core/ui/WndBase":"WndBase","../../../hallcommon/model/RankModel":"RankModel","../waiting/WaitingView":"WaitingView"}],WndRebateGet:[function(e,t,o){"use strict";cc._RF.push(t,"7145ccFYVBNeIm7wnBP+Sxi","WndRebateGet");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/ui/WndBase"),a=e("../../tool/HallPopMsgHelper"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bindAwardType=-1,t}return n(t,e),t.prototype.onInit=function(){this.name="WndRebateGet",this.layer=Global.UI.PopLayer,this.resPath="hall/prefabs/ui/Rebate/RebateGetUI",this.destoryType=r.DestoryType.None},t.prototype.initView=function(){var e=this;this.bindAwardType=-1,this.sureBtn=this.getChild("sureBtn"),this.addCommonClick("sureBtn",this.onSureBtnClick,this),this.sureBtn.active=!1,this.sound=this.getComponent("sound",cc.AudioSource),this.rabateLbl=this.getComponent("labelBg/rebateLbl",cc.Label),this.effectSk=this.getComponent("effect",sp.Skeleton),this.effectSk&&this.effectSk.setCompleteListener(function(){e.effectSk.setAnimation(0,"idle2",!0)})},t.prototype.onSureBtnClick=function(){this.sound&&this.sound.isPlaying&&this.sound.stop(),this.closeWnd()},t.prototype.onOpen=function(e){var t=this,o=e[0];this.bindAwardType=-1,e[1]&&(this.bindAwardType=e[1]);var i=Global.ModelManager.getModel("BindingGiftModel");this.rabateLbl.string=Global.Toolkit.formatPointStr(o,!0)||i.BindAwardNum.toString(),this.rabateLbl.node.active=!1,this.effectSk&&this.effectSk.setAnimation(0,"idle",!1);var n=Global.Setting.settingData.soundEnable;this.sound&&!this.sound.isPlaying&&n&&this.sound.play(),this.sureBtn.scale=1,this.timeOut=setTimeout(function(){t.rabateLbl.node.active=!0,t.sureBtn.active=!0,t.sureBtn.runAction(cc.sequence(cc.scaleTo(.1,1.2),cc.scaleTo(.1,1))),t.addCommonClick("Mask",t.onSureBtnClick,t)},1e3),e[2]&&(this.closeCallback=e[2])},t.prototype.closeWnd=function(){this.closeCallback&&this.closeCallback(),this.close()},t.prototype.onClose=function(){if(this.closeCallback=null,clearTimeout(this.timeOut),this.bindAwardType>0){if(this.bindAwardType==a.BindAwardUIType.MegePoint)return a.default.Instance.releaseLock(a.PopWndName.MegePoint),void Global.HallServer.send(NetAppface.mod,NetAppface.GetUserPoint,{});this.bindAwardType!=a.BindAwardUIType.share&&this.bindAwardType!=a.BindAwardUIType.bindPoint&&Global.UI.fastTip("\u7ed1\u5b9a\u624b\u673a\u6210\u529f"),this.bindAwardType!=a.BindAwardUIType.bindPoint&&Global.HallServer.send(NetAppface.mod,NetAppface.GetUserPoint,{}),this.bindAwardType==a.BindAwardUIType.onlyPhonePoint||this.bindAwardType==a.BindAwardUIType.phonePoint?a.default.Instance.releaseLock(a.PopWndName.PhoneGiftGet):a.default.Instance.releaseLock(a.PopWndName.BindGiftGet)}},t.prototype.onDispose=function(){this.sound&&(this.sound=null)},t}(r.default);o.default=s,cc._RF.pop()},{"../../../core/ui/WndBase":"WndBase","../../tool/HallPopMsgHelper":"HallPopMsgHelper"}],WndRechangeBankInfo:[function(e,t,o){"use strict";cc._RF.push(t,"4168dTPNG9Fr7NQwQ0DT43b","WndRechangeBankInfo");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/ui/WndBase"),a=e("../../../core/net/hall/NetEvent"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.onInit=function(){this.name="WndRechangeBankInfo",this.layer=Global.UI.PopLayer,this.resPath="hall/prefabs/ui/Recharge/RechangeBankInfoUI"},t.prototype.initView=function(){this.model=Global.ModelManager.getModel("RechargeModel"),this.addCommonClick("close",this.closeWnd,this),this.bankLbl=this.getComponent("centerNode/bank/bankLbl",cc.Label),this.bankNumLbl=this.getComponent("centerNode/bankNum/bankNumLbl",cc.Label),this.addCommonClick("centerNode/bankNum/copyBtn",this.onCopyCardNumClick,this),this.bankUserLbl=this.getComponent("centerNode/bankUser/bankUserLbl",cc.Label),this.addCommonClick("centerNode/bankUser/copyBtn",this.onCopyUserClick,this),this.idLbl=this.getComponent("centerNode/ID/idLbl",cc.Label),this.addCommonClick("centerNode/ID/copyBtn",this.onCopyUserIdClick,this),this.payLbl=this.getComponent("centerNode/pay/payLbl",cc.Label),this.payTimeLbl=this.getComponent("centerNode/payTime/timeLbl",cc.Label),this.payNameEdit=this.getComponent("centerNode/payName/nameEditBox",cc.EditBox),this.addCommonClick("centerNode/sureBtn",this.reqSubmitOrder,this)},t.prototype.initData=function(){this.bankLbl.string=this.data.card_type,this.bankNumLbl.string=this.data.card_no,this.bankUserLbl.string=this.data.card_name,this.idLbl.string=String(Global.PlayerData.uid)},t.prototype.onCopyCardNumClick=function(){Global.NativeEvent.copyTextToClipboard(this.bankNumLbl.string,this.copyTextToClipboardCallBack.bind(this))},t.prototype.onCopyUserClick=function(){Global.NativeEvent.copyTextToClipboard(this.bankUserLbl.string,this.copyTextToClipboardCallBack.bind(this))},t.prototype.onCopyUserIdClick=function(){Global.NativeEvent.copyTextToClipboard(this.idLbl.string,this.copyTextToClipboardCallBack.bind(this))},t.prototype.copyTextToClipboardCallBack=function(e){0==e.result?Global.UI.fastTip("\u590d\u5236\u6210\u529f"):Global.UI.fastTip("\u590d\u5236\u5931\u8d25")},t.prototype.onOpen=function(e){this.payLbl.string=String(e[0]),this.data=e[1]||{},this.isOverseas=e[2]||!1,this.payNameEdit.string="",this.payTimeLbl.string=Global.Toolkit.parseTime(Date.now()),Global.HallServer.on(a.NetAppface.UserUnionPay,this,this.onSubmitOrder),this.adaptOverseasPay(),this.initData()},t.prototype.adaptOverseasPay=function(){this.viewCfg=this.isOverseas?Global.Setting.SkinConfig.rechangeOverseasBankInfoCfg:Global.Setting.SkinConfig.rechangeUnionpayBankInfoCfg,this.adaptCopyBtn(),this.adaptSureBtn(),this.adaptTips()},t.prototype.adaptCopyBtn=function(){var e=this.viewCfg.copyBtnType,t=this.viewCfg.copyBtnContent;if("cc.RichText"===e){var o=this.getComponent("centerNode/bankNum/copyBtn/New RichText",e),i=this.getComponent("centerNode/bankUser/copyBtn/New RichText",e),n=this.getComponent("centerNode/ID/copyBtn/New RichText",e);o.string=t,i.string=t,n.string=t}else"cc.Sprite"===e&&(o=this.getComponent("centerNode/bankNum/copyBtn/New RichText",e),i=this.getComponent("centerNode/bankUser/copyBtn/New RichText",e),n=this.getComponent("centerNode/ID/copyBtn/New RichText",e))},t.prototype.adaptSureBtn=function(){this.viewCfg.sureBtnType,this.viewCfg.sureBtnContent},t.prototype.adaptTips=function(){},t.prototype.reqSubmitOrder=function(){if(""==this.payNameEdit.string)return Global.UI.fastTip("\u8bf7\u8f93\u5165\u8f6c\u8d26\u59d3\u540d");this.model.reqUserUnionPay(this.data.type,Number(this.payLbl.string),this.payNameEdit.string)},t.prototype.onSubmitOrder=function(){Global.UI.fastTip("\u63d0\u4ea4\u8ba2\u5355\u6210\u529f"),this.closeWnd()},t.prototype.closeWnd=function(){this.close()},t}(r.default);o.default=s,cc._RF.pop()},{"../../../core/net/hall/NetEvent":"NetEvent","../../../core/ui/WndBase":"WndBase"}],WndRechangeTip:[function(e,t,o){"use strict";cc._RF.push(t,"325bd/Mq/xNGJw/rZG+herD","WndRechangeTip");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/ui/WndBase"),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.onInit=function(){this.name="WndRechangeTip",this.layer="PopLayer",this.resPath="hall/prefabs/ui/Recharge/RechangeTipUI",this.destoryType=r.DestoryType.None,this.RechagreTipModel=Global.ModelManager.getModel("RechagreTipModel")},t.prototype.initView=function(){this.tip1=this.getComponent("allNode/tip1",cc.Label),this.tip2=this.getComponent("allNode/tip2",cc.Label),this.tip3=this.getComponent("allNode/tip3",cc.Label),this.tip4=this.getComponent("allNode/tip4",cc.Label),this.isTip=this.getChild("isTip/btn"),this.isTip.active=!1,this.addCommonClick("vip",this.onVipBtnFunc,this),this.addCommonClick("isTip",this.TipBtn,this),this.addCommonClick("close",this.close,this)},t.prototype.onOpen=function(e){this.tip1.string=e.toString()+"%",this.tip2.string="10000\u5143";var t=100*e;this.tip3.string=t.toString()+"\u5143",t=1e4+100*e,this.tip4.string=t.toString()+"\u5143"},t.prototype.onVipBtnFunc=function(){this.close(),Global.UI.getWindow("WndRecharge").rechargeView.ShowVip()},t.prototype.onClose=function(){1==this.isTip.active&&this.RechagreTipModel.setRechagreTipModel()},t.prototype.TipBtn=function(){this.isTip.active=!this.isTip.active},t}(r.default);o.default=a,cc._RF.pop()},{"../../../core/ui/WndBase":"WndBase"}],WndRechargeVipShow:[function(e,t,o){"use strict";cc._RF.push(t,"4578dECdjJINZjbg5vA8UI+","WndRechargeVipShow");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r,a=e("../../../core/ui/WndBase"),s=e("../../../core/ui/ViewBase");(function(e){e[e.wechat=1]="wechat",e[e.qq=2]="qq",e[e.gzh=3]="gzh",e[e.kf=4]="kf",e[e.zfb=5]="zfb"})(r||(r={}));var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.onInit=function(){this.name="WndRechargeVipShow",this.layer=Global.UI.PopLayer,this.resPath="hall/prefabs/ui/Recharge/RechageVipShowUI",this.destoryType=a.DestoryType.None},t.prototype.initView=function(){this.wxItem=new c(this.getChild("centerNode/scrollview/maskView/content/item_wx"),this.onItemClick,this),this.wxpItem=new c(this.getChild("centerNode/scrollview/maskView/content/item_wxp"),this.onItemClick,this),this.qqItem=new c(this.getChild("centerNode/scrollview/maskView/content/item_qq"),this.onItemClick,this),this.aliItem=new c(this.getChild("centerNode/scrollview/maskView/content/item_alixxx"),this.onItemClick,this),this.addCommonClick("close",this.closeWnd,this)},t.prototype.onItemClick=function(e,t){this.clickType=t,t===r.kf?cc.sys.openURL(Global.Toolkit.DealWithUrl(e)):Global.NativeEvent.copyTextToClipboard(e,this.copyTextToClipboardCallBack.bind(this))},t.prototype.copyTextToClipboardCallBack=function(e){0==e.result&&(Global.UI.fastTip("\u590d\u5236\u6210\u529f"),this.clickType==r.wechat?Global.NativeEvent.awakeWechatApp(this.awakeWeChatCallBack.bind(this)):this.clickType==r.qq?Global.NativeEvent.awakeQQApp(this.awakeQQCallBack.bind(this)):this.clickType==r.gzh?Global.NativeEvent.awakeWechatApp(this.awakeWeChatCallBack.bind(this)):this.clickType==r.zfb?Global.NativeEvent.awakeALiPayApp(this.awakeAliCallBack.bind(this)):Global.UI.fastTip("\u590d\u5236\u5931\u8d25"))},t.prototype.awakeQQCallBack=function(e){0==e.result||(-1==e.result?(Logger.log("\u8bf7\u5148\u5b89\u88c5QQ"),Global.UI.showSingleBox("\u8bf7\u5148\u5b89\u88c5QQ",null)):(Logger.log("\u6253\u5f00QQ\u5931\u8d25"),Global.UI.showSingleBox("\u6253\u5f00QQ\u5931\u8d25",null)))},t.prototype.awakeAliCallBack=function(e){0==e.result||(-1==e.result?(Logger.log("\u8bf7\u5148\u5b89\u88c5\u652f\u4ed8\u5b9d"),Global.UI.showSingleBox("\u8bf7\u5148\u5b89\u88c5\u652f\u4ed8\u5b9d",null)):(Logger.log("\u6253\u5f00\u652f\u4ed8\u5b9d\u5931\u8d25"),Global.UI.showSingleBox("\u6253\u5f00\u652f\u4ed8\u5b9d\u5931\u8d25",null)))},t.prototype.awakeWeChatCallBack=function(e){0==e.result||(-1==e.result?(Logger.log("\u8bf7\u5148\u5b89\u88c5\u5fae\u4fe1"),Global.UI.showSingleBox("\u8bf7\u5148\u5b89\u88c5\u5fae\u4fe1",null)):(Logger.log("\u6253\u5f00\u5fae\u4fe1\u5931\u8d25"),Global.UI.showSingleBox("\u6253\u5f00\u5fae\u4fe1\u5931\u8d25",null)))},t.prototype.onOpen=function(e){var t=e[0],o=[];0!==t.ptype1?(this.wxItem.setStyle(t.ptype1,t.data1),this.wxItem.active=!0,o.push(this.wxItem)):this.wxItem.active=!1,0!==t.ptype2?(this.wxpItem.setStyle(t.ptype2,t.data2),this.wxpItem.active=!0,o.push(this.wxpItem)):this.wxpItem.active=!1,0!==t.ptype3?(this.qqItem.setStyle(t.ptype3,t.data3),this.qqItem.active=!0,o.push(this.qqItem)):this.qqItem.active=!1,0!==t.ptype4?(this.aliItem.setStyle(t.ptype4,t.data4),this.aliItem.active=!0,o.push(this.aliItem)):this.aliItem.active=!1;var i=this.getChild("centerNode/scrollview").getComponent(cc.ScrollView);i.enabled=!0,i.scrollToTop();var n=60;o.length>4?(this.getChild("centerNode/scrollview/maskView/content").height=310,i.inertia=!0,n=60):i.enabled=!1;for(var r=0;r<o.length;r++)o[r].node.y=-40-r*n},t.prototype.closeWnd=function(){this.close()},t}(a.default);o.default=l;var c=function(e){function t(t,o,i){var n=e.call(this)||this;return n.callback=o,n.target=i,n.setNode(t),n}return n(t,e),t.prototype.initView=function(){this.icon=this.getComponent("icon",cc.Sprite),this.typeLbl=this.getComponent("typeLbl",cc.Label),this.numLbl=this.getComponent("numLbl",cc.Label),this.addCommonClick("actBtn",this.onActClick,this)},t.prototype.setStyle=function(e,t){this.numLbl.node.active=!0,this.customType=e,t&&(this.numLbl.string=t),e===r.kf?this.numLbl.node.active=!1:this.numLbl.node.active=!0;var o=Global.Setting.SkinConfig.rechargeVipConfig[e];if(null!=o){switch(e){case r.wechat:this.typeLbl.string="\u5ba2\u670d\u5fae\u4fe1";break;case r.qq:this.typeLbl.string="\u5ba2\u670dQQ";break;case r.gzh:this.typeLbl.string="\u516c\u4f17\u53f7";break;case r.kf:this.typeLbl.string="\u5728\u7ebf\u5ba2\u670d";break;case r.zfb:this.typeLbl.string="\u652f\u4ed8\u5b9d"}Global.Setting.SkinConfig.isPurple?this.icon.spriteFrame=Global.ResourceManager.getSprite(o[0],o[1]):Global.ResourceManager.loadAutoAtlas(this.icon,o[0],o[1])}},t.prototype.onActClick=function(){this.callback&&this.callback.call(this.target,this.numLbl.string,this.customType)},t}(s.default);cc._RF.pop()},{"../../../core/ui/ViewBase":"ViewBase","../../../core/ui/WndBase":"WndBase"}],WndRecharge:[function(e,t,o){"use strict";cc._RF.push(t,"43536UHNBVHi48RT/JSWChm","WndRecharge");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__awaiter||function(e,t,o,i){return new(o||(o=Promise))(function(n,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,s)}l((i=i.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var o,i,n,r,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(e){return function(t){return l([e,t])}}function l(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,i&&(n=2&r[0]?i.return:r[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,r[1])).done)return n;switch(i=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){a.label=r[1];break}if(6===r[0]&&a.label<n[1]){a.label=n[1],n=r;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(r);break}n[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(s){r=[6,s],i=0}finally{o=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=e("../../../hallcommon/model/RechargeModel"),l=e("../../../core/ui/WndBase"),c=e("./RechangeView"),p=e("./CashView"),h=e("../../../core/tool/AppHelper"),u=e("../../../core/scene/SceneManager"),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.subViewPath={rechargeView:"hall/prefabs/ui/Recharge/subView/RechangePanel",cashView:"hall/prefabs/ui/Recharge/subView/CashPanel"},t.viewKeyTypeMap={rechargeView:c.default,cashView:p.default},t}return n(t,e),t.prototype.onInit=function(){this.name="WndRecharge",this.layer=Global.UI.PopLayer,this.resPath="hall/prefabs/ui/Recharge/RechangeUI",this.model=Global.ModelManager.getModel("RechargeModel"),this.destoryType=l.DestoryType.None},t.prototype.onOpen=function(){h.default.isCash?(this.changeToRechargeToggle(!1),this.changePanel2()):(this.changeToRechargeToggle(!0),this.changePanel()),this.model.on(s.default.ShowWaitingAnim,this,this.showLoading)},t.prototype.initView=function(){this.addCommonClick("close",this.close,this),this.rechargeTitle=this.getChild("topButton/rechargeTitle"),this.cashTitle=this.getChild("topButton/cashTitle"),this.Tipmodel=Global.ModelManager.getModel("RechagreTipModel"),this.rechargeTitle.on("click",this.changePanel,this),this.cashTitle.on("click",this.changePanel2,this),this.loadingNode=this.getChild("animLoading"),this.loadingNode.active=!1,this.iconSp=this.getComponent("animLoading/icon",cc.Sprite),this.initSubViewClass(this.viewKeyTypeMap),this.InitScripts()},t.prototype.InitScripts=function(){return r(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,this.initSubView(this.subViewPath,this.viewKeyTypeMap,this.getChild("payNode"))];case 1:return e.sent(),[2]}})})},t.prototype.showLoading=function(e,t){this.loadingNode.active=e,e&&(Global.Setting.SkinConfig.isPurple?this.iconSp.spriteFrame=Global.ResourceManager.getSprite("hall/texture/common/icon",Global.Setting.SkinConfig.rechargeIconsCfg[t][2]):Global.ResourceManager.loadAutoAtlas(this.iconSp,"hall/texture/hall/rechargeCash/rechargeCash",Global.Setting.SkinConfig.rechargeIconsCfg[t][2]))},t.prototype.changePanel=function(){this.rechargeView&&(this.rechargeView.subViewState=!0),this.cashView&&(this.cashView.subViewState=!1),this.changeToRechargeToggle(!0)},t.prototype.changeToRechargeToggle=function(e){var t=this.cashTitle.getChildByName("check"),o=this.cashTitle.getChildByName("unchecked"),i=this.rechargeTitle.getChildByName("check"),n=this.rechargeTitle.getChildByName("unchecked");i.active=e,n.active=!e,t.active=!e,o.active=e},t.prototype.changePanel2=function(){var e=this;if(Global.SceneManager.sceneType==u.SceneType.Game)return Global.UI.fastTip("\u8bf7\u8fd4\u56de\u6e38\u620f\u5927\u5385\u540e\uff0c\u518d\u8fdb\u884c\u63d0\u73b0\u64cd\u4f5c\u54e6\uff01"),void Game.Component.scheduleOnce(function(){e.changeToRechargeToggle(!0),e.changePanel()},.1);this.rechargeView&&(this.rechargeView.subViewState=!1),this.cashView&&(this.cashView.subViewState=!0),this.changeToRechargeToggle(!1)},t.prototype.onClose=function(){this.Tipmodel.flag=!1,h.default.isCash=!1,this.model.off(s.default.ShowWaitingAnim,this,this.showLoading)},t}(l.default);o.default=d,cc._RF.pop()},{"../../../core/scene/SceneManager":"SceneManager","../../../core/tool/AppHelper":"AppHelper","../../../core/ui/WndBase":"WndBase","../../../hallcommon/model/RechargeModel":"RechargeModel","./CashView":"CashView","./RechangeView":"RechangeView"}],WndRedEnvelope:[function(e,t,o){"use strict";cc._RF.push(t,"97f09mMpN5Bzq2CnFq2D89T","WndRedEnvelope");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/ui/WndBase"),a=e("../../../core/net/hall/NetEvent"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.onInit=function(){this.name="WndRedEnvelope",this.layer=Global.UI.PopLayer,this.resPath="hall/prefabs/ui/Rebate/RedEnvelopeUI",this.destoryType=r.DestoryType.None},t.prototype.initView=function(){this.model=Global.ModelManager.getModel("HallModel"),this.addCommonClick("openBtn",this.onSureBtnClick,this),this.rabateLbl=this.getComponent("rebateLbl",cc.Label),this.openSke=this.getComponent("openBtn",sp.Skeleton),this.goodLuck=this.getChild("goodLuck"),this.winMoney=this.getChild("winMoney"),this.winMoney2=this.getChild("winMoney2"),this.goodLuckTitle=this.getChild("goodLuckTitle"),this.newPersonTitle=this.getChild("newPersonTitle"),this.winMoneyTitle=this.getChild("winMoneyTitle")},t.prototype.onSureBtnClick=function(){var e=this;this.openSke.clearTrack(0),this.openSke.setAnimation(0,"idle_NO",!1),Global.HallServer.send(a.NetAppface.mod,a.NetAppface.ReceiveRewardPack,{id:this.data.id},function(){e.closeWnd()},function(e){Global.UI.fastTip(e._errstr)},!1)},t.prototype.onOpen=function(e){this.openSke&&(this.openSke.clearTrack(0),this.openSke.setAnimation(0,"idle_Loop",!0)),this.data=e[0],this.closeCallback=e[1];var t=this.data.pack_type;1===t?(this.goodLuck.active=!1,this.goodLuckTitle.active=!1,this.winMoney.active=!1,this.winMoney2.active=!1,this.newPersonTitle.active=!0,this.winMoneyTitle.active=!1):2===t?(this.goodLuck.active=!0,this.goodLuckTitle.active=!0,this.winMoney.active=!1,this.winMoney2.active=!1,this.newPersonTitle.active=!1,this.winMoneyTitle.active=!1):(this.goodLuck.active=!1,this.goodLuckTitle.active=!1,this.winMoney.active=!0,this.winMoney2.active=!0,this.newPersonTitle.active=!1,this.winMoneyTitle.active=!0),this.rabateLbl.string=Global.Toolkit.formatPointStr(this.data.point||0,!0)},t.prototype.closeWnd=function(){this.closeCallback&&this.closeCallback(),this.close()},t.prototype.onClose=function(){},t.prototype.onDispose=function(){},t}(r.default);o.default=s,cc._RF.pop()},{"../../../core/net/hall/NetEvent":"NetEvent","../../../core/ui/WndBase":"WndBase"}],WndRegist:[function(e,t,o){"use strict";cc._RF.push(t,"880ffKSfs9DiKnW6dOi/mNX","WndRegist");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/ui/WndBase"),a=e("./view/PhoneInputView"),s=e("./view/AutoCodeView"),l=e("./view/PwdInputView"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.clickTagMap={},t}return n(t,e),t.prototype.onInit=function(){this.name="WndRegist",this.layer="PopLayer",this.resPath="hall/prefabs/ui/RegistUI",this.loginModel=Global.ModelManager.getModel("LoginModel")},t.prototype.initView=function(){this.addCommonClick("bg/close",this.close,this),this.addCommonClick("sureBtn",this.onSureBtnClick,this),this.addCommonClick("cancelBtn",this.close,this),this.phoneInputView=this.addView("PhoneInputView",this.getChild("phoneContainer"),a.default),this.authCodeView=this.addView("AutoCodeView",this.getChild("authCodeView"),s.default),this.authCodeView.setPhoneInputAndType(this.phoneInputView,1),this.pwdInputView=this.addView("PwdInputView",this.getChild("pwdContainer"),l.default),this.inviteInput=this.getComponent("invite",cc.EditBox),this.inviteInput.placeholderFontColor=(new cc.Color).fromHEX("#cfe3fc"),this.inviteInput.fontColor=(new cc.Color).fromHEX("#eafdff"),this.clickTagMap.RegTag=!0},t.prototype.onOpen=function(){this.phoneInputView.subViewState=!0,this.authCodeView.subViewState=!0,this.pwdInputView.subViewState=!0},t.prototype.onSureBtnClick=function(){var e=this;if(this.clickTagMap.RegTag)if(this.clickTagMap.RegTag=!1,this.clickTagMap.RegTimer=setTimeout(function(){e.clickTagMap.RegTag=!0},1e3),""!=this.phoneInputView.phone)if(""!=this.pwdInputView.pwd)if(""!=this.authCodeView.code)if(this.phoneInputView.isAreaVaild()){var t=this.phoneInputView.phone,o=this.authCodeView.code,i=this.phoneInputView.area,n=this.pwdInputView.pwd,r=this.inviteInput.string;Global.Toolkit.checkPWFormat(n)?(n=Global.Toolkit.md5(n),this.loginModel.reqRegist(t,n,i,o,r)):Global.UI.fastTip("\u8bf7\u8f93\u51656-16\u4f4d\u5b57\u6bcd\u6216\u6570\u5b57\u5bc6\u7801")}else Global.UI.fastTip("\u8bf7\u9009\u62e9\u6b63\u786e\u7684\u5730\u533a\u4fe1\u606f");else Global.UI.fastTip("\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801");else Global.UI.fastTip("\u8bf7\u8f93\u5165\u5bc6\u7801");else Global.UI.fastTip("\u8bf7\u8f93\u5165\u624b\u673a\u53f7\u7801")},t.prototype.onDispose=function(){e.prototype.onDispose.call(this),this.resetTag()},t.prototype.onClose=function(){this.resetTag()},t.prototype.resetTag=function(){this.clickTagMap.RegTimer&&clearTimeout(this.clickTagMap.RegTimer),this.clickTagMap.RegTag=!0},t}(r.default);o.default=c,cc._RF.pop()},{"../../../core/ui/WndBase":"WndBase","./view/AutoCodeView":"AutoCodeView","./view/PhoneInputView":"PhoneInputView","./view/PwdInputView":"PwdInputView"}],WndSafeRuleUI:[function(e,t,o){"use strict";cc._RF.push(t,"349530sXxdHBZZUj/zvOzjI","WndSafeRuleUI");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.onInit=function(){this.name="WndSafeRuleUI",this.layer=Global.UI.PopLayer,this.resPath="hall/prefabs/ui/safe/SafeRuleUI"},t.prototype.initView=function(){this.addCommonClick("close",this.close,this)},t.prototype.onOpen=function(){},t.prototype.onDispose=function(){},t}(e("../../../core/ui/WndBase").default);o.default=r,cc._RF.pop()},{"../../../core/ui/WndBase":"WndBase"}],WndScreenPortraitNotice:[function(e,t,o){"use strict";cc._RF.push(t,"7c848Jz981CHLt7xzRr0x2W","WndScreenPortraitNotice");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/ui/WndBase"),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bgSprite=null,t.noticeSpine=null,t.finishCallBack=null,t.showTime=0,t.beginShowTick=0,t}return n(t,e),t.prototype.onInit=function(){this.name="WndScreenPortraitNotice",this.layer="PopLayer",this.resPath="hall/prefabs/ui/ScreenPortraitNoticeUI",this.showBg=!1,this.destoryType=r.DestoryType.None},t.prototype.initView=function(){this.bgSprite=this.getComponent("bg",cc.Sprite),null==this.bgSprite&&Logger.error("WndScreenPortraitNotice::onInit() this.bgSprite == null"),this.noticeSpine=this.getComponent("content/spineNode",sp.Skeleton),null==this.noticeSpine&&Logger.error("WndScreenPortraitNotice::onInit() this.noticeSpine == null")},t.prototype.onOpen=function(){var e=this;if(null==this.args||0==this.args.length)return Logger.error("WndScreenPortraitNotice::onOpen() \u6ca1\u6709\u8bbe\u7f6e\u53c2\u6570"),void this.close();var t=this.args[0];if(null==t||""==t)return Logger.error("WndScreenPortraitNotice::onOpen() finishCallBack = null"),void this.close();this.finishCallBack=t;var o=this.args[1];if(o=(o=!o||o<=0?0:o)>10?10:o,this.showTime=o,this.showTime>0&&this.bgSprite&&(this.beginShowTick=Date.now(),this.bgSprite.schedule(function(){e.checkTimer()},.1)),this.noticeSpine){var i=this.showTime>0;this.noticeSpine.clearTrack(0),this.noticeSpine.addAnimation(0,"idle",i),i||this.noticeSpine.setCompleteListener(function(t){"idle"===(t.animation?t.animation.name:"")&&(e.finishCallBack&&e.finishCallBack(),e.close())})}},t.prototype.checkTimer=function(){Date.now()-this.beginShowTick>=1e3*this.showTime&&(this.finishCallBack&&this.finishCallBack(),this.bgSprite.unscheduleAllCallbacks(),this.close())},t}(r.default);o.default=a,cc._RF.pop()},{"../../../core/ui/WndBase":"WndBase"}],WndServicerUI:[function(e,t,o){"use strict";cc._RF.push(t,"49a66sXxStEKIxsmd9cyRL8","WndServicerUI");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/ui/WndBase"),a=e("../Feedback/FeedbackServiceItem"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.listNode=null,t.itemPrefab=null,t.itemList=new Array,t.itemPool=new Array,t.serviceDatas=[],t}return n(t,e),t.prototype.getItem=function(){var e;return this.itemPool.length>0?((e=this.itemPool.pop()).node.setSiblingIndex(-1),e.node.active=!0,e):((e=cc.instantiate(this.itemPrefab).getComponent(a.default)).node.setParent(this.listNode),e.node.active=!0,e)},t.prototype.recoveryItem=function(e){e.node.active=!1,this.itemPool.push(e)},t.prototype.clearItem=function(){this.listNode.y=0;for(var e=0;e<this.itemList.length;e++){var t=this.itemList[e];this.recoveryItem(t)}this.itemList=[]},t.prototype.onInit=function(){this.name="WndServicerUI",this.layer="PopLayer",this.resPath="hall/prefabs/ui/ServiceUI"},t.prototype.initView=function(){this.node.width=cc.Canvas.instance.node.width,this.node.height=cc.Canvas.instance.node.height,this.addCommonClick("close",this.close,this),this.listNode=this.getChild("ScrollView/view/ServicersNode"),this.itemPrefab=this.getChild("ScrollView/view/ServicersNode/ServicerItem"),this.itemPrefab&&(this.itemPrefab.active=!1)},t.prototype.onDispose=function(){this.itemPool=[],this.itemList=[]},t.prototype.onOpen=function(){this.args&&this.args[0]?this.serviceDatas=this.args[0]:this.serviceDatas=[],this.updateView()},t.prototype.onClose=function(){this.itemPool=[],this.listNode.removeAllChildren()},t.prototype.updateView=function(){if(this.serviceDatas){this.clearItem();for(var e=0;e<this.serviceDatas.length;e++)this.serviceDatas[e].type&&this.getItem().refreshUI(this.serviceDatas[e])}},t}(r.default);o.default=s,cc._RF.pop()},{"../../../core/ui/WndBase":"WndBase","../Feedback/FeedbackServiceItem":"FeedbackServiceItem"}],WndSetting:[function(e,t,o){"use strict";cc._RF.push(t,"a59911MeUtNA7H+CydQiKK8","WndSetting");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/ui/WndBase"),a=e("../hall/views/HallBtnHelper"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.versionLbl=null,t.musicNodeArr=[],t.soundNodeArr=[],t}return n(t,e),t.prototype.onInit=function(){this.name="WndSetting",this.layer=Global.UI.PopLayer,this.resPath="hall/prefabs/ui/PlayerInfo/SettingBox",this.model=Global.ModelManager.getModel("PlayerInfoModel")},t.prototype.initView=function(){var e=this.addCommonClick("musicSwitch",this.onMusicSwitch,this),t=this.addCommonClick("audioSwitch",this.onAudioSwitch,this);this.officalUrlText=this.getComponent("officalNode/url",cc.Label),this.save_bg=this.getComponent("officalNode/save_bg",cc.Sprite),this.addCommonClick("close",this.onCloseUI,this),this.addCommonClick("officalNode/btn",this.onBackUpGameBtn,this),this.musicNodeArr[0]=cc.find("control_shut",e),this.musicNodeArr[1]=cc.find("control_open",e),this.soundNodeArr[0]=cc.find("control_shut",t),this.soundNodeArr[1]=cc.find("control_open",t),this.versionLbl=this.getComponent("versionLabel",cc.Label);var o=Global.HotUpdateManager.nativeVersions.hall;this.setVersionLblText(o),this.initOfficalUrl()},t.prototype.onBackUpGameBtn=function(){a.default.WndBackUpOpen()},t.prototype.initOfficalUrl=function(){var e=this,t=Global.Setting.Urls.downLoadUrl.split("//"),o=t[t.length-1].split("/")[0];this.officalUrlText.string=o,setTimeout(function(){cc.isValid(e.save_bg.node)&&(e.save_bg.node.width=123+e.officalUrlText.node.width)},20)},t.prototype.onCloseUI=function(){this.close()},t.prototype.onOpen=function(){this.UpdateUI(),this.setVersionLblText()},t.prototype.UpdateUI=function(){var e=Global.Setting.settingData.musicEnable,t=Global.Setting.settingData.soundEnable;this.musicNodeArr[0].active=!e,this.musicNodeArr[1].active=e,this.soundNodeArr[0].active=!t,this.soundNodeArr[1].active=t},t.prototype.setVersionLblText=function(){this.versionLbl.string="\u7248\u672c\u53f7:"+Global.Toolkit.genLoadingAppInfo()},t.prototype.onMusicSwitch=function(){var e=Global.Setting.settingData.musicEnable;Global.Audio.setMusicEnable(!e),this.UpdateUI()},t.prototype.onAudioSwitch=function(){var e=Global.Setting.settingData.soundEnable;Global.Audio.setSoundEnable(!e),this.UpdateUI()},t}(r.default);o.default=s,cc._RF.pop()},{"../../../core/ui/WndBase":"WndBase","../hall/views/HallBtnHelper":"HallBtnHelper"}],WndShare:[function(e,t,o){"use strict";cc._RF.push(t,"0aefakj36dF56Ap9UbJ1/wH","WndShare");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/ui/WndBase"),a=e("../../tool/HallPopMsgHelper"),s=e("../Activity/ActivityConstants"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.shortUrl="",t}return n(t,e),t.prototype.onInit=function(){this.name="WndShare",this.layer="PopLayer",this.resPath="hall/prefabs/ui/Share",this.destoryType=r.DestoryType.None,this.shareData=Global.ModelManager.getModel("ShareModel")},t.prototype.initView=function(){var e=this;this.shareMoney=this.node.getChildByName("money").getComponent(cc.Label),this.shareMoney.string=this.shareData.ShareMoney.toString(),this.addCommonClick("wx",this.ShareWX,this),this.addCommonClick("pyq",this.SharePYQ,this),this.addCommonClick("close",this.close,this);var t={url:Global.Setting.Urls.inviteUrl};Global.HallServer.send(NetAppface.mod,"GetUserShareUrl",t,function(t){Logger.log(t),e.shortUrl=t.url},null,!0,30)},t.prototype.ShareWX=function(){var e=this;Global.NativeEvent.checkWXInstall(function(t){0==t.result?Global.NativeEvent.shareWX(0,5,Global.Setting.wxFirendShareTitle,"",e.shortUrl,Global.Setting.wxMomentShareContent,e.shareCallBack.bind(e)):Global.UI.fastTip("\u8bf7\u5b89\u88c5\u5fae\u4fe1")})},t.prototype.shareCallBack=function(e){var t=0;0===Number(e.result)?Global.HallServer.send(NetAppface.mod,"ShareGetPoint",{ptype:1},function(e){0!==(t=e.point)?(Global.UI.show("WndRebateGet",t,a.BindAwardUIType.share),Global.HallServer.send(NetAppface.mod,NetAppface.GetUserPoint,{})):Global.UI.fastTip("\u5206\u4eab\u6210\u529f")},null,!0,0):Global.UI.fastTip("\u5206\u4eab\u5931\u8d25")},t.prototype.SharePYQ=function(){var e=this;Global.NativeEvent.checkWXInstall(function(t){0==t.result?Global.NativeEvent.shareWX(1,5,Global.Setting.wxMomentShareTitle,"",e.shortUrl,Global.Setting.wxMomentShareContent,e.shareCallBack.bind(e)):Global.UI.fastTip("\u8bf7\u5b89\u88c5\u5fae\u4fe1")})},t.prototype.onClose=function(){a.default.Instance.releaseLock(s.ActivityType.shareActivity)},t}(r.default);o.default=l,cc._RF.pop()},{"../../../core/ui/WndBase":"WndBase","../../tool/HallPopMsgHelper":"HallPopMsgHelper","../Activity/ActivityConstants":"ActivityConstants"}],WndSpreadCenter:[function(e,t,o){"use strict";cc._RF.push(t,"dcc17w9R55ByZr/aWhK+qQz","WndSpreadCenter");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/ui/WndBase"),a=e("../../../core/tool/AppHelper"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.onInit=function(){this.name="WndSpreadCenter",this.layer=Global.UI.PopLayer,this.resPath="hall/prefabs/ui/SpreedCenterUI"},t.prototype.initView=function(){this.qrNode=this.getChild("qrNode"),this.addCommonClick("close",this.close,this);var e=Global.customApp.getAppConfig();e&&e.qrcodePos?this.qrNode.setPosition(cc.v2(e.qrcodePos[0],e.qrcodePos[1])):e&&e.qrcodeX&&(this.qrNode.x=e.qrcodeX),this.SpreadModel=Global.ModelManager.getModel("SpreadModel");var t=this.getComponent("close",cc.Widget);null!=t&&(t.target=cc.Canvas.instance.node)},t.prototype.onOpen=function(){var e=Global.Setting.Urls.inviteUrl;e=this.SpreadModel.Url||e,Global.Toolkit.initQRCode(this.qrNode,e,5)},t.prototype.onClose=function(){},t.prototype.onServiceClick=function(){Global.NativeEvent.copyTextToClipboard(Global.Setting.spreadWx,this.copyTextToClipboardCallBack.bind(this))},t.prototype.copyTextToClipboardCallBack=function(e){0==e.result?(Global.UI.fastTip("\u590d\u5236\u6210\u529f"),Global.NativeEvent.awakeWechatApp(this.awakeWeChatCallBack.bind(this))):Global.UI.fastTip("\u590d\u5236\u5931\u8d25")},t.prototype.awakeWeChatCallBack=function(e){0==e.result||(-1==e.result?(Logger.log("\u8bf7\u5148\u5b89\u88c5\u5fae\u4fe1"),Global.UI.showSingleBox("\u8bf7\u5148\u5b89\u88c5\u5fae\u4fe1",null)):(Logger.log("\u6253\u5f00\u5fae\u4fe1\u5931\u8d25"),Global.UI.showSingleBox("\u6253\u5f00\u5fae\u4fe1\u5931\u8d25",null)))},t.prototype.onWxFriendClick=function(){this.wxShare(0,Global.Setting.wxFirendShareTitle,Global.Setting.wxFirendShareContent)},t.prototype.onMomentClick=function(){this.wxShare(1,Global.Setting.wxMomentShareTitle,Global.Setting.wxMomentShareContent)},t.prototype.wxShare=function(e,t,o){if(a.default.enableWxShare){var i=Global.Setting.Urls.inviteUrl;i=this.SpreadModel.Url||i,Global.NativeEvent.checkWXInstall(function(n){0==n.result?Global.NativeEvent.shareWX(e,5,t,Global.Setting.wxIconUrl,i,o,null):Global.UI.fastTip("\u8bf7\u5b89\u88c5\u5fae\u4fe1")})}},t}(r.default);o.default=s,cc._RF.pop()},{"../../../core/tool/AppHelper":"AppHelper","../../../core/ui/WndBase":"WndBase"}],WndSpreadGiftActivityView:[function(e,t,o){"use strict";cc._RF.push(t,"a73fab4kS5MIJRdAXZGI3Mw","WndSpreadGiftActivityView");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.RedPackState=void 0;var r,a=e("../../../../core/component/YXButton"),s=e("../../../../core/ui/WndBase"),l=e("../../../../hallcommon/model/RechargeGiftModel"),c=e("../../../tool/HallPopMsgHelper"),p=e("../ActivityConstants"),h=e("./SpreadGiftItemView"),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.achieveIndex=-1,t}return n(t,e),t.prototype.onInit=function(){this.name="WndSpreadGiftActivityView",this.isNeedDelay=!1,this.layer=Global.UI.PopLayer,this.resPath="hall/prefabs/ui/SpreadGift/spreadGiftNode"},t.prototype.initView=function(){this.model=Global.ModelManager.getModel("RechargeGiftModel"),this.model.on(l.default.GetAward,this,this.onGetAward),this.model.on(l.default.GetCfg,this,this.onGetConfig),this.personLabel=this.getComponent("count",cc.Label),this.monthAwardLabel=this.getComponent("monthAward",cc.Label),this.rechargePointLabel=this.getComponent("rechargePoint",cc.Label);for(var e=0;e<7;e++)this.addCommonClick(cc.js.formatStr("sco/view/awardPanel/redPack_%s",e),this.onAwardBtnClicked,this);this.addCommonClick("close",this.close,this)},t.prototype.onClickLeftSco=function(){this.clickLeft.getComponent(a.default).interactable=!1,this.sc0Node.scrollToLeft(.5),this.clickReight.getComponent(a.default).interactable=!0},t.prototype.onClickReightSco=function(){this.clickReight.getComponent(a.default).interactable=!1,this.sc0Node.scrollToRight(.5),this.clickLeft.getComponent(a.default).interactable=!0},t.prototype.onAwardBtnClicked=function(){this.model.reqReceiveActivityAward(p.ActivityType.spreadAward)},t.prototype.onOpen=function(){this.model.reqGetActivityCfg(!1)},t.prototype.onClose=function(){c.default.Instance.releaseLock(p.ActivityType.spreadAward)},t.prototype.onGetAward=function(e){if(!e||e.atype==p.ActivityType.spreadAward){Global.UI.show("WndRebateGet",e.award);var t=this.getComponent(cc.js.formatStr("sco/view/awardPanel/redPack_%s",this.achieveIndex),h.default);t&&t.RefreshState(r.Open,null),Global.Event.event(p.ActivityConstants.HIDE_RED_PORT,e.atype)}},t.prototype.onDispose=function(){this.model.off(l.default.GetAward,this,this.onGetAward),this.model.off(l.default.GetCfg,this,this.onGetConfig)},t.prototype.onGetConfig=function(e){if(null!=e){Global.Event.event(p.ActivityConstants.SHOW_ACT_WAITTING,!1);var t=e.data;if(null!=t)for(var o=0;o<t.length;o++)if(t[o].atype==p.ActivityType.spreadAward){var i=t[o].cfg;this.achieveIndex=i.doc,this.personLabel.string=cc.js.formatStr("%s",i.num),this.rechargePointLabel.string=Global.Toolkit.formatPointStr(i.pay);for(var n=0;n<i.list.length;n++){var r=i.list[n],a=this.getSpreadGiftItemState(i.doc,n),s=this.getComponent(cc.js.formatStr("sco/view/awardPanel/redPack_%s",n),h.default);s&&s.RefreshState(a,r),n==i.list.length-1&&(this.monthAwardLabel.string=Global.Toolkit.formatPointStr(i.list[n].point))}}}},t.prototype.getSpreadGiftItemState=function(e,t){return-1===e?r.Normal:e===t?r.HightLight:r.Normal},t}(s.default);o.default=u,function(e){e[e.Normal=0]="Normal",e[e.HightLight=1]="HightLight",e[e.Open=2]="Open",e[e.None=3]="None"}(r=o.RedPackState||(o.RedPackState={})),cc._RF.pop()},{"../../../../core/component/YXButton":"YXButton","../../../../core/ui/WndBase":"WndBase","../../../../hallcommon/model/RechargeGiftModel":"RechargeGiftModel","../../../tool/HallPopMsgHelper":"HallPopMsgHelper","../ActivityConstants":"ActivityConstants","./SpreadGiftItemView":"SpreadGiftItemView"}],WndSpread:[function(e,t,o){"use strict";cc._RF.push(t,"b2764O5t6tDLq3+BijLfan6","WndSpread");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__awaiter||function(e,t,o,i){return new(o||(o=Promise))(function(n,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,s)}l((i=i.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var o,i,n,r,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(e){return function(t){return l([e,t])}}function l(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,i&&(n=2&r[0]?i.return:r[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,r[1])).done)return n;switch(i=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){a.label=r[1];break}if(6===r[0]&&a.label<n[1]){a.label=n[1],n=r;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(r);break}n[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(s){r=[6,s],i=0}finally{o=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=e("../../../../../scripts/logic/core/ui/WndBase"),l=e("./WndMyGroup"),c=e("./SpreadTutorialWin"),p=e("./WndMySpread"),h=e("../../tool/HallPopMsgHelper"),u=e("./CaptureTool"),d=e("./WndAwardDetail"),f=e("./ProxyWin"),g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.toggleArray=[],t.curWin=1,t.subViewPath={MySpread:"hall/prefabs/ui/SpreadUI/subView/MySpread",MyGroup:"hall/prefabs/ui/SpreadUI/subView/MyGroup",SpreadTutorial:"hall/prefabs/ui/SpreadUI/subView/SpreadTutorial",WndAwardDetail:"hall/prefabs/ui/SpreadUI/subView/AwardDetailPanel",ProxyWin:"hall/prefabs/ui/SpreadUI/subView/ProxyUI"},t.viewKeyTypeMap={MySpread:p.default,MyGroup:l.default,SpreadTutorial:c.default,WndAwardDetail:d.default,ProxyWin:f.default},t}return n(t,e),t.prototype.onInit=function(){this.isNeedDelay=!0,this.name="WndSpread",this.layer=Global.UI.PopLayer,this.resPath="hall/prefabs/ui/SpreadUI/SpreadUI",this.SpreadModel=Global.ModelManager.getModel("SpreadModel")},t.prototype.initView=function(){this.subViewParentNode=this.getChild("RightPanel"),this.CaptureTool=this.getChild("SpreedCenterUI").getComponent(u.default),this.CaptureTool&&(this.CaptureTool.node.active=!1),this.qrNode=this.getChild("SpreedCenterUI/qrNode"),this.MySpreadToggle=this.getChild("LeftPanel/scrollview/view/content/MySpread"),this.MyGroupToggle=this.getChild("LeftPanel/scrollview/view/content/MyGroup"),this.SpreadTutorialToggle=this.getChild("LeftPanel/scrollview/view/content/SpreadTutorial"),this.GradeSearchToggle=this.getChild("LeftPanel/scrollview/view/content/GradeSearch"),this.ProxyWinToggle=this.getChild("LeftPanel/scrollview/view/content/ProxyBonus"),this.MySpreadToggle.on("click",this.changeInfoNode,this),this.MyGroupToggle.on("click",this.changeInfoNode,this),this.SpreadTutorialToggle.on("click",this.changeInfoNode,this),this.GradeSearchToggle.on("click",this.changeInfoNode,this),this.ProxyWinToggle.on("click",this.changeInfoNode,this),this.addCommonClick("bg_popup_almost/close",this.close,this),this.initSubViewClass(this.viewKeyTypeMap),this.InitScripts();var e=this.getComponent("SpreedCenterUI/bg",cc.Sprite);e&&Global.customApp.loadSpreedBg(e),this.toggleArray.push(this.MySpreadToggle),this.toggleArray.push(this.MyGroupToggle),this.toggleArray.push(this.SpreadTutorialToggle),this.toggleArray.push(this.GradeSearchToggle),this.toggleArray.push(this.ProxyWinToggle)},t.prototype.InitQrcode=function(e){Global.Toolkit.initQRCode(this.qrNode,e,10)},t.prototype.InitScripts=function(){return r(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,this.initSubView(this.subViewPath,this.viewKeyTypeMap,this.subViewParentNode)];case 1:return e.sent(),[2]}})})},t.prototype.changeInfoNode=function(e){Global.Audio.playBtnSound();var t=1;e.node==this.MySpreadToggle?t=1:e.node==this.MyGroupToggle?t=2:e.node==this.SpreadTutorialToggle?t=3:e.node==this.GradeSearchToggle?t=4:e.node==this.ProxyWinToggle&&(t=5),t!=this.curWin&&(this.curWin=t,this.updateInfoNode())},t.prototype.updateInfoNode=function(){this.closeAllWin(),1==this.curWin?(this.MySpread.subViewState=!0,this.ToggleClicked(this.MySpreadToggle)):2==this.curWin?(this.MyGroup&&(this.MyGroup.subViewState=!0),this.ToggleClicked(this.MyGroupToggle)):3==this.curWin?(this.SpreadTutorial&&(this.SpreadTutorial.subViewState=!0),this.ToggleClicked(this.SpreadTutorialToggle)):4==this.curWin?(this.WndAwardDetail&&(this.WndAwardDetail.subViewState=!0),this.ToggleClicked(this.GradeSearchToggle)):5==this.curWin&&(this.ProxyWin&&(this.ProxyWin.subViewState=!0),this.ToggleClicked(this.ProxyWinToggle))},t.prototype.closeAllWin=function(){this.MySpread&&(this.MySpread.subViewState=!1),this.MyGroup&&(this.MyGroup.subViewState=!1),this.SpreadTutorial&&(this.SpreadTutorial.subViewState=!1),this.WndAwardDetail&&(this.WndAwardDetail.subViewState=!1),this.ProxyWin&&(this.ProxyWin.subViewState=!1)},t.prototype.ToggleClicked=function(e){if(null!=e)for(var t=0;t<this.toggleArray.length;t++){var o=this.toggleArray[t],i=o.getChildByName("checkmark"),n=o.getChildByName("Background");o==e?(i.active=!0,n.active=!1):(i.active=!1,n.active=!0)}},t.prototype.ResetToggle=function(){for(var e=0;e<this.toggleArray.length;e++){var t=this.toggleArray[e],o=t.getChildByName("checkmark"),i=t.getChildByName("Background");o.active=!1,i.active=!0}},t.prototype.OnDataPrepared=function(){e.prototype.OnDataPrepared.call(this)},t.prototype.afterOpen=function(){},t.prototype.onOpen=function(){this.updateInfoNode();var e=Global.Setting.Urls.inviteUrl;e=this.SpreadModel.Url||e,this.InitQrcode(e)},t.prototype.onClose=function(){h.default.Instance.releaseLock(h.PopWndName.Spread),this.SpreadModel.CheckRedFlag(),this.curWin=1},t.prototype.onDispose=function(){this.toggleArray=[]},t}(s.default);o.default=g,cc._RF.pop()},{"../../../../../scripts/logic/core/ui/WndBase":"WndBase","../../tool/HallPopMsgHelper":"HallPopMsgHelper","./CaptureTool":"CaptureTool","./ProxyWin":"ProxyWin","./SpreadTutorialWin":"SpreadTutorialWin","./WndAwardDetail":"WndAwardDetail","./WndMyGroup":"WndMyGroup","./WndMySpread":"WndMySpread"}],WndTimeLimitedRechargeGift:[function(e,t,o){"use strict";cc._RF.push(t,"c883473LoFDQLH4GqYNXpTN","WndTimeLimitedRechargeGift");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.TimeLimitedBoxState=void 0;var r,a=e("../../../../hallcommon/model/RechargeGiftModel"),s=e("../ActivityConstants"),l=e("../../../../core/ui/WndBase"),c=e("./TimeLimitedAwardBoxItem"),p=e("../../../tool/HallPopMsgHelper"),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.examplePoint=1e3,t.timer=null,t.awardBtnArr=[],t.egArr=[],t.levelCfg=[],t.reachCfg=[],t.conditionTabel={},t.conditionLabelTable=[],t.clickNode=null,t}return n(t,e),t.prototype.onInit=function(){this.name="WndTimeLimitedRechargeGift",this.isNeedDelay=!0,this.layer=Global.UI.PopLayer,this.resPath="hall/prefabs/ui/TimeLimitedActivity/TimeLimitedRecharge"},t.prototype.initView=function(){this.model=Global.ModelManager.getModel("RechargeGiftModel"),this.joinBtn=this.addCommonClick("button",this.onJoinButtonClicked,this),this.joinedBtn=this.getChild("joined"),this.addCommonClick("close",this.close,this),this.progress=this.getComponent("progressBar",cc.ProgressBar),this.winProgress=this.getComponent("WinProgress/WinProgressLabel",cc.RichText),this.progress.progress=0,this.timerLabel=this.getComponent("WinProgress/timerLabel",cc.Label),this.awardPanel=this.getChild("AwarPanel");for(var e=0;e<3;e++)this.awardBtnArr[e]=Global.UIHelper.addCommonClick(this.awardPanel,cc.js.formatStr("Award_%s",e),this.onAwardBtnClicked,this),Global.Setting.SkinConfig.isDarkgold?(this.egArr[e]=this.getComponent("content/"+cc.js.formatStr("eg%s",e+1),cc.RichText),this.conditionLabelTable[e]=this.getComponent("content/"+cc.js.formatStr("condition%s",e+1),cc.RichText)):(this.egArr[e]=this.getComponent("content/"+cc.js.formatStr("eg%s",e+1),cc.Label),this.conditionLabelTable[e]=this.getComponent("content/"+cc.js.formatStr("condition%s",e+1),cc.Label)),this.conditionTabel[e]||(this.conditionTabel[e]={}),this.conditionTabel[e][0]=this.getChild("content/"+cc.js.formatStr("condition%s",e+1)+"/no"),this.conditionTabel[e][1]=this.getChild("content/"+cc.js.formatStr("condition%s",e+1)+"/yes");this.model.on(a.default.GetLimitTimeFirstPayActivityPointReq,this,this.onGetAward),this.model.on(a.default.GetLimitTimeFirstPayActivityCfg,this,this.onGetConfig),cc.game.on(cc.game.EVENT_SHOW,this.setTimer,this)},t.prototype.onAwardBtnClicked=function(e){var t=e.node;if(this.clickNode=t,t&&t.isValid){var o=t.getComponent(c.default);o&&this.model.reqGetLimitTimeFirstPayActivityPointReq(o.key)}},t.prototype.onJoinButtonClicked=function(){Global.UI.show("WndRecharge","vippay")},t.prototype.close=function(){Global.UI.close(this.name),p.default.Instance.releaseLock(s.ActivityType.TimeLimitedActivity)},t.prototype.onOpen=function(){this.model.reqGetLimitTimeFirstPayActivityCfg()},t.prototype.onGetAward=function(e){if(e){if(Global.UI.show("WndRebateGet",e.point),this.clickNode&&this.clickNode.isValid){var t=this.clickNode.getComponent(c.default);t&&t.setBoxState(r.AlreadyGot)}this.changeReceiveState(e.key),this.checkIsAnyNotReceive()||(this.model.TimelimitedStatus=0,Global.Event.event(GlobalEvent.TimeLimitedRechargeStatusChange,!0),this.close())}},t.prototype.onClose=function(){this.clickNode=null,this.levelCfg=[],this.reachCfg=[],this.clearTimeOut()},t.prototype.onGetConfig=function(e){this.OnDataPrepared(),null!=e&&(Global.Event.event(s.ActivityConstants.SHOW_ACT_WAITTING,!1),this.joinBtn.active=1==e.status,this.joinedBtn.active=e.status>1,this.refreshPanel(e))},t.prototype.refreshPanel=function(e){null!=e&&(this.setTimer(),this.assembyData(e),this.refreshConditionContent(e),this.refreshEgContent(e),this.refreshAwardPanel(e),this.setProgress(e))},t.prototype.assembyData=function(e){this.levelCfg.push(e.one_code),this.levelCfg.push(e.two_code),this.levelCfg.push(e.three_code);var t=e.data;this.reachCfg.push(t.one_lv),this.reachCfg.push(t.two_lv),this.reachCfg.push(t.three_lv)},t.prototype.refreshConditionContent=function(e){var t=e.status,o=this.checkReachAnyLevel(e);this.conditionTabel&&(this.conditionTabel[0][0].active=1==t,this.conditionTabel[0][1].active=t>1,this.conditionTabel[1][0].active=!o,this.conditionTabel[1][1].active=o,this.conditionTabel[2][0].active=3!=t,this.conditionTabel[2][1].active=3==t,Global.Setting.SkinConfig.isDarkgold?(this.conditionLabelTable[0].string=t>1?"<i><color = #8FC31F>\u6761\u4ef6\u4e00 \uff1a\u8be5\u6d3b\u52a8\u4ec5\u9650\u4f1a\u5458\u7b2c\u4e00\u7b14\u3010\u8d60\u9001\u4e13\u533a\u5165\u6b3e\u3011\u5145\u503c\u81ea\u52a8\u53c2\u4e0e\uff1b</c></i>":"<i><color = #F5D8A7>\u6761\u4ef6\u4e00 \uff1a\u8be5\u6d3b\u52a8\u4ec5\u9650\u4f1a\u5458\u7b2c\u4e00\u7b14\u3010\u8d60\u9001\u4e13\u533a\u5165\u6b3e\u3011\u5145\u503c\u81ea\u52a8\u53c2\u4e0e</c></i>",this.conditionLabelTable[1].string=o?"<i><color = #8FC31F>\u6761\u4ef6\u4e8c \uff1a\u8fbe\u5230\u5bf9\u5e94\u7684\u6d41\u6c34\u6253\u7801\u91cf\uff1b</c></i>":"<i><color = #F5D8A7>\u6761\u4ef6\u4e8c \uff1a\u8fbe\u5230\u5bf9\u5e94\u7684\u6d41\u6c34\u6253\u7801\u91cf\uff1b</c></i>",this.conditionLabelTable[2].string=3==t?"<i><color = #8FC31F>\u6761\u4ef6\u4e09 \uff1a\u6b21\u65e5\u5145\u503c\u4efb\u610f\u91d1\u989d\uff1b</c></i>":"<i><color = #F5D8A7>\u6761\u4ef6\u4e09 \uff1a\u6b21\u65e5\u5145\u503c\u4efb\u610f\u91d1\u989d\uff1b</c></i>"):Global.Setting.SkinConfig.isGreen&&(this.conditionLabelTable[0].node.color=t>1?(new cc.Color).fromHEX("#22AC38"):(new cc.Color).fromHEX("#9D5725"),this.conditionLabelTable[1].node.color=o?(new cc.Color).fromHEX("#22AC38"):(new cc.Color).fromHEX("#9D5725"),this.conditionLabelTable[2].node.color=3==t?(new cc.Color).fromHEX("#22AC38"):(new cc.Color).fromHEX("#9D5725")))},t.prototype.refreshEgContent=function(e){var t="\u5f53\u4f1a\u5458\u8fbe\u5230\uff081000+%s\uff09*%s=%s\u6d41\u6c34\u5373\u53ef\u83b7\u5f97%s\u5143\u9996\u5145\u5f69\u91d1",o=e.config.list;if(o)for(var i=0,n=0;n<o.length;n++){var r=o[n],a=r.rate,s=r.dama_multi;i+=this.examplePoint*a/100;var l=(this.examplePoint+i)*s;Global.Setting.SkinConfig.isDarkgold?(t=n+1+".\u5f53\u4f1a\u5458\u8fbe\u5230\uff081000+%s\uff09*%s=<color= #FFF55B>%s</c>\u6d41\u6c34\u5373\u53ef\u83b7\u5f97%s\u5143\u9996\u5145\u5f69\u91d1",this.egArr[n].string="<i>"+t+"</i>"):(Global.Setting.SkinConfig.isGreen&&(t=n+1+".\u5f53\u4f1a\u5458\u8fbe\u5230\uff081000+%s\uff09*%s=<color= #EB6100>%s</c>\u6d41\u6c34\u5373\u53ef\u83b7\u5f97%s\u5143\u9996\u5145\u5f69\u91d1",this.egArr[n].string="<i>"+t+"</i>"),this.egArr[n].string=cc.js.formatStr(n+1+"."+t,i,s,l,this.examplePoint*a/100))}},t.prototype.refreshAwardPanel=function(e){var t=e.config.list;if(t)for(var o=0;o<t.length;o++){var i=t[o];this.awardBtnArr[o].getComponent(c.default).refreshState(e,i,o,this.levelCfg,this.reachCfg)}},t.prototype.checkReachAnyLevel=function(e){var t=!1,o=e.put_code;if(0==this.levelCfg.length)return t;for(var i=0;i<this.levelCfg.length;i++){var n=this.levelCfg[i];if(n&&o>=n){t=!0;break}}return t},t.prototype.setTimer=function(){var e=this;if(this.model.TimelimitedStatus>1)this.timerLabel.node.active=!1;else{this.clearTimeOut();var t=(new Date).getTime(),o=1e3*this.model.CountDown-t;o=Math.ceil(o/1e3),this.timerLabel.string=Global.Toolkit.secondFormatHMS(o),this.timer=setInterval(function(){e.timerLabel.string=Global.Toolkit.secondFormatHMS(o),(o-=1)<=0&&(e.timerLabel.node.active=!1)},1e3)}},t.prototype.clearTimeOut=function(){this.timer&&clearInterval(this.timer),this.timer=null},t.prototype.setProgress=function(e){this.progress.progress=e.put_code/e.three_code,e.three_code||(this.progress.progress=0);var t=Global.Toolkit.formatPointStr(e.put_code)||"0",o=Global.Toolkit.formatPointStr(e.three_code)||"0";this.winProgress.string=t+"/"+o+"</c>"},t.prototype.changeReceiveState=function(e){0===this.reachCfg[e-1]&&(this.reachCfg[e-1]=1)},t.prototype.checkIsAnyNotReceive=function(){for(var e=0;e<this.reachCfg.length;e++)if(!this.reachCfg[e])return!0;return!1},t.prototype.onDispose=function(){this.clickNode=null,this.levelCfg=[],this.reachCfg=[],this.model.off(a.default.GetLimitTimeFirstPayActivityPointReq,this,this.onGetAward),this.model.off(a.default.GetLimitTimeFirstPayActivityCfg,this,this.onGetConfig),cc.game.off(cc.game.EVENT_SHOW,this.setTimer,this)},t}(l.default);o.default=h,function(e){e[e.Normal=0]="Normal",e[e.TodayAchieved=1]="TodayAchieved",e[e.AlreadyGot=2]="AlreadyGot"}(r=o.TimeLimitedBoxState||(o.TimeLimitedBoxState={})),cc._RF.pop()},{"../../../../core/ui/WndBase":"WndBase","../../../../hallcommon/model/RechargeGiftModel":"RechargeGiftModel","../../../tool/HallPopMsgHelper":"HallPopMsgHelper","../ActivityConstants":"ActivityConstants","./TimeLimitedAwardBoxItem":"TimeLimitedAwardBoxItem"}],WndToggleAccount:[function(e,t,o){"use strict";cc._RF.push(t,"8b8630Z1a1Iqb/j6sYtr6o3","WndToggleAccount");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.onInit=function(){this.name="WndToggleAccount",this.layer="PopLayer",this.resPath="hall/prefabs/ui/PersonalInfo/ToggleAccountUI",this.model=Global.ModelManager.getModel("PersonalInfoModel")},t.prototype.initView=function(){this.addCommonClick("cancelBtn",this.cancelClick,this),this.addCommonClick("sureBtn",this.sureClick,this),this.addCommonClick("close",this.closeWnd,this)},t.prototype.onOpen=function(){},t.prototype.closeWnd=function(){this.close()},t.prototype.cancelClick=function(){this.close()},t.prototype.sureClick=function(){Global.SceneManager.goToLogin()},t}(e("../../../core/ui/WndBase").default);o.default=r,cc._RF.pop()},{"../../../core/ui/WndBase":"WndBase"}],WndTurntableRule:[function(e,t,o){"use strict";cc._RF.push(t,"4b0d81kmQ5P45bVj9epwxx1","WndTurntableRule");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.onInit=function(){this.name="WndTurntableRule",this.layer="PopLayer",this.resPath="hall/prefabs/ui/luckyDraw/TurntableRuleUI"},t.prototype.initView=function(){Global.UIHelper.addCommonClick(this.node,"popNode/close",this.close,this)},t.prototype.onOpen=function(){},t}(e("../../../../core/ui/WndBase").default);o.default=r,cc._RF.pop()},{"../../../../core/ui/WndBase":"WndBase"}],WndTurntableView:[function(e,t,o){"use strict";cc._RF.push(t,"db4beJNVFJHY5uGF5csWw3L","WndTurntableView");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__awaiter||function(e,t,o,i){return new(o||(o=Promise))(function(n,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,s)}l((i=i.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var o,i,n,r,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(e){return function(t){return l([e,t])}}function l(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,i&&(n=2&r[0]?i.return:r[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,r[1])).done)return n;switch(i=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){a.label=r[1];break}if(6===r[0]&&a.label<n[1]){a.label=n[1],n=r;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(r);break}n[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(s){r=[6,s],i=0}finally{o=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=e("../../../../core/ui/WndBase"),l=e("../../../../hallcommon/model/ZhuanpanModel"),c=e("../../../tool/HallPopMsgHelper"),p=e("../ActivityConstants"),h=e("./TurnTable"),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.speed=30,t.lunboIndex=-1,t.labelArr=[],t.itemArr=new Array,t.maskNode=null,t.xyGapArr=[0,-16,0,26],t.subViewPath={turnTable:"hall/prefabs/ui/luckyDraw/turnTable"},t.viewKeyTypeMap={turnTable:h.default},t.frameTime=16,t}return n(t,e),t.prototype.onInit=function(){this.name="WndTurntableView",this.isNeedDelay=!1,this.layer=Global.UI.PopLayer,this.resPath="hall/prefabs/ui/luckyDraw/turnTableNode"},t.prototype.initView=function(){this.model=Global.ModelManager.getModel("ZhuanpanModel"),this.model.on(l.default.RefreshRecordUI,this,this.updateIndex),this.model.on(l.default.RefreshScore,this,this.refreshScore);for(var e=0;e<5;e++)this.labelArr[e]=this.getComponent("turnTableView/jifen/label_jifen_"+e,cc.Label);this.addCommonClick("turnTableView/jifen/btn_rule",this.onRuleBtnClicked,this),this.addCommonClick("close",this.close,this),this.maskNode=this.getChild("turnTableView/lunbo/mask");var t=this.getChild("turnTableView/lunbo/mask/lay");for(t.getChildByName("itemRichText1").getComponent(cc.RichText).string="",t.getChildByName("itemRichText2").getComponent(cc.RichText).string="",e=0;e<6;e++)e>0&&(t=cc.instantiate(t)),this.itemArr.push(t),t.setParent(this.maskNode),t.y=this.xyGapArr[1]-e*this.xyGapArr[3];this.initSubViewClass(this.viewKeyTypeMap),this.InitScripts()},t.prototype.InitScripts=function(){return r(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,this.initSubView(this.subViewPath,this.viewKeyTypeMap,this.getChild("turnTableView"))];case 1:return e.sent(),[2]}})})},t.prototype.updateIndex=function(e){this.lunboIndex=e},t.prototype.onRuleBtnClicked=function(){Global.UI.show("WndTurntableRule")},t.prototype.refreshScore=function(){var e=this.model.data;e&&(this.labelArr[0].string=""+e.coin,this.labelArr[1].string=""+e.week_login_coin,this.labelArr[2].string=""+e.week_bet_coin,this.labelArr[3].string=""+e.week_share_coin,this.labelArr[4].string=""+e.week_share_bet_coin)},t.prototype.onOpen=function(){this.model.reqActivityCfg(),this.model.reqLunbo(),this.turnTable.subViewState=!0,this.timer=setInterval(this.runCarousel.bind(this),this.frameTime)},t.prototype.runCarousel=function(){var e=this.frameTime/1e3;if(this.lunboIndex<0)this.UpdateCarouselUI();else for(var t=e*this.speed,o=0;o<this.itemArr.length;o++){var i=this.itemArr[o];i.y+=t,i.y>=this.xyGapArr[1]+this.xyGapArr[3]&&(i.y-=6*this.xyGapArr[3],this.UpdateRichText(i))}},t.prototype.onDispose=function(){this.timer&&(clearTimeout(this.timer),this.timer=null),this.itemArr=[],this.model.off(l.default.RefreshRecordUI,this,this.updateIndex),this.model.off(l.default.RefreshScore,this,this.refreshScore)},t.prototype.UpdateCarouselUI=function(){if(this.model.lunboDataArr.length>0)for(var e=0;e<this.itemArr.length;e++){var t=this.itemArr[e];this.UpdateRichText(t)}},t.prototype.UpdateRichText=function(e){var t=this.model.lunboDataArr;if(!(t.length<=0)){this.lunboIndex++,this.lunboIndex>=t.length&&(this.lunboIndex=0);var o=t[this.lunboIndex],i=Global.Setting.SkinConfig.zhuanpanColors[0],n=Global.Setting.SkinConfig.zhuanpanColors[1];e.getChildByName("itemRichText1").getComponent(cc.RichText).string="\u606d\u559c\u73a9\u5bb6 <color="+i+">"+o.name+"</c>",e.getChildByName("itemRichText2").getComponent(cc.RichText).string="\u83b7\u5f97 <color="+n+">"+o.point_name+"</c>",this.lunboIndex==t.length-1&&this.model.reqLunbo(1e3)}},t.prototype.onClose=function(){this.timer&&(clearTimeout(this.timer),this.timer=null),c.default.Instance.releaseLock(p.ActivityType.zhuanpan)},t}(s.default);o.default=u,cc._RF.pop()},{"../../../../core/ui/WndBase":"WndBase","../../../../hallcommon/model/ZhuanpanModel":"ZhuanpanModel","../../../tool/HallPopMsgHelper":"HallPopMsgHelper","../ActivityConstants":"ActivityConstants","./TurnTable":"TurnTable"}],WndUnionBandConfirm:[function(e,t,o){"use strict";cc._RF.push(t,"f14fcLL1URMxocpkiDBr8Jy","WndUnionBandConfirm");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../../../core/ui/WndBase"),a=e("./ExtractEvent"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.onInit=function(){this.name="WndUnionBandConfirm",this.layer=Global.UI.PopLayer,this.resPath="hall/prefabs/ui/money/extractCash/unionBandConfirmUI"},t.prototype.initView=function(){this.node.width=cc.Canvas.instance.node.width,this.node.height=cc.Canvas.instance.node.height,this.model=Global.ModelManager.getModel("ExtractModel"),this.nameLabel=this.getComponent("NameLabel",cc.Label),this.accountLabel=this.getComponent("AccountLabel",cc.Label),this.bankbranchLabel=this.getComponent("BankbranchLabel",cc.Label),this.openBankLabel=this.getComponent("OpenBankLabel",cc.Label),this.PrivinceLabel=this.getComponent("ProvinceLabel",cc.Label),this.CityLabel=this.getComponent("CityLabel",cc.Label),this.addCommonClick("close",this.backBtnFunc,this),this.addCommonClick("confirmBtn",this.confirmBtnFunc,this),this.model.on(a.ExtractEvent.BankBindInfoOver,this,this.close)},t.prototype.onOpen=function(e){this.nameData=e[0],this.accountData=e[1],this.bankbranchData=e[2],this.openBankData=e[3],this.provinceData=e[4],this.cityData=e[5],this.bankCode=e[6],this.nameLabel.string=this.nameData,this.accountLabel.string=this.accountData,this.bankbranchLabel.string=this.bankbranchData,this.openBankLabel.string=this.openBankData,this.PrivinceLabel.string=this.provinceData,this.CityLabel.string=this.cityData},t.prototype.confirmBtnFunc=function(){this.model.reqBindUnionInfo(this.nameData,this.accountData,this.openBankData,this.bankbranchData,this.provinceData,this.cityData,this.bankCode)},t.prototype.backBtnFunc=function(){this.close()},t}(r.default);o.default=s,cc._RF.pop()},{"../../../../../core/ui/WndBase":"WndBase","./ExtractEvent":"ExtractEvent"}],WndVip2:[function(e,t,o){"use strict";cc._RF.push(t,"457443Z1mhEmrILmuOpjL8f","WndVip2");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/ui/WndBase"),a=e("../../../hallcommon/model/PlayerInfoModel"),s=e("./VipView"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pageView=null,t.vipViewArr=[],t.jiantouNodeArr=[],t.itemNode=null,t.vipCount=15,t.uiInit=!1,t.VipListReward=[],t.LockvipView=-1,t}return n(t,e),t.prototype.onInit=function(){t.instance=this,this.isNeedDelay=!0,this.name="WndVip2",this.layer=Global.UI.PopLayer,this.resPath="hall/prefabs/ui/PlayerInfo/VipUI2"},t.prototype.onDispose=function(){this.vipViewArr=[],this.uiInit=!1,t.instance=null},t.prototype.initView=function(){var e=this;this.addCommonClick("bg/close",this.closeBtnFunc,this),this.pageView=cc.find("pageview",this.node).getComponent(cc.PageView),this.pageView.node.on("page-turning",this.PageTurnCallback,this),this.itemNode=cc.find("pageview/view/content/page_1",this.node),this.itemNode.active=!1,this.itemNode.parent.width=this.itemNode.width*a.default.instance.vip_cfg.length;var t=1;this.vipCount=a.default.instance.vip_cfg.length+1,Global.Component.schedule(function(){if(t>=e.vipCount)return e.itemNode.parent.width=e.itemNode.width*a.default.instance.vip_cfg.length,e.PageTurnCallback(),e.uiInit=!0,void e.OnDataPrepared();for(var o=t+2,i=t;i<o;i++){if(i>=e.vipCount)return void t++;var n=cc.instantiate(e.itemNode);n.name="page_"+t,n.active=!0,n.x=(t-1)*e.itemNode.width;var r=n.getComponent(s.default);r.vip=t,r.initView(),e.vipViewArr.push(r),n.setParent(e.itemNode.parent),t++}},0,this.vipCount/2),this.jiantouNodeArr[0]=Global.UIHelper.addCommonClick(this.node,"jiantou_left",this.leftBtnFunc,this),this.jiantouNodeArr[1]=Global.UIHelper.addCommonClick(this.node,"jiantou_right",this.rightBtnFunc,this);var o=cc.scaleTo(.8,1.2,1.2),i=cc.scaleTo(.8,1,1),n=cc.sequence(o,i),r=cc.repeatForever(n);this.jiantouNodeArr[1].runAction(r),o=cc.scaleTo(.8,1.2,1.2),i=cc.scaleTo(.8,1,1),n=cc.sequence(o,i),r=cc.repeatForever(n),this.jiantouNodeArr[0].runAction(r)},t.prototype.onOpen=function(){this.uiInit&&this.OnDataPrepared(),Global.Event.on(GlobalEvent.CHANGEVIP,this,this.UseInfoUpdateUI)},t.prototype.openAnimFinish=function(){this.PageTurnCallback(),this.LockvipView=Global.PlayerData.vip,this.UpdateUI(),this.UpdateJiantou()},t.prototype.onClose=function(){Global.Event.off(GlobalEvent.CHANGEVIP,this,this.UseInfoUpdateUI)},t.prototype.closeBtnFunc=function(){this.close()},t.prototype.UpdateUI=function(){var e=this;Global.HallServer.send(NetAppface.mod,NetAppface.CheckVipReward,null,function(t){if(t.list){e.VipListReward=t.list;for(var o=0,i=0;i<e.vipViewArr.length;i++){var n=e.vipViewArr[i];e.VipListReward[i]?(n.UpdateUI(e.VipListReward[i]),0==e.VipListReward[i].status&&Global.PlayerData.vip>i&&(o=1)):n.UpdateUI()}a.default.instance.is_vip_reward=o,Global.Event.event(GlobalEvent.VIPREWARD,null),e.LockvipView<=0&&(e.LockvipView=Global.PlayerData.vip),e.LockvipView>=a.default.instance.vip_cfg.length&&(e.LockvipView=a.default.instance.vipExpArr.length-1),e.pageView.scrollToPage(e.LockvipView,.01)}},function(e){Global.UI.fastTip(e._errstr)},!1,60)},t.prototype.UseInfoUpdateUI=function(){Global.HallServer.clearCache(NetAppface.mod,NetAppface.CheckVipReward,null),this.UpdateUI()},t.prototype.UpdateJiantou=function(){var e=this.pageView.getCurrentPageIndex();this.LockvipView=this.pageView.getCurrentPageIndex(),e>this.vipCount-1&&(e=this.vipCount-1),e<=0?(this.jiantouNodeArr[0].active=!1,this.jiantouNodeArr[1].active=!0):e>=a.default.instance.vip_cfg.length-1?(this.jiantouNodeArr[0].active=!0,this.jiantouNodeArr[1].active=!1):(this.jiantouNodeArr[0].active=!0,this.jiantouNodeArr[1].active=!0)},t.prototype.PageTurnCallback=function(){var e=this.pageView.getCurrentPageIndex();this.LockvipView=this.pageView.getCurrentPageIndex(),this.pageView.content.width=a.default.instance.vip_cfg.length*this.itemNode.width,e>this.vipCount-1&&(e=this.vipCount-1);for(var t=0;t<this.vipViewArr.length;t++)this.vipViewArr[t].node.active=!(t<e-1||t>e+1);this.UpdateJiantou()},t.prototype.leftBtnFunc=function(){var e=this.pageView.getCurrentPageIndex();this.LockvipView=this.pageView.getCurrentPageIndex(),e>0&&this.pageView.scrollToPage(e-1,.3)},t.prototype.rightBtnFunc=function(){var e=this.pageView.getCurrentPageIndex();this.LockvipView=this.pageView.getCurrentPageIndex(),e<a.default.instance.vip_cfg.length-1&&this.pageView.scrollToPage(e+1,.3)},t.instance=null,t}(r.default);o.default=l,cc._RF.pop()},{"../../../core/ui/WndBase":"WndBase","../../../hallcommon/model/PlayerInfoModel":"PlayerInfoModel","./VipView":"VipView"}],WndVip3:[function(e,t,o){"use strict";cc._RF.push(t,"ef842w7rYhES7DY7xDbI7Xh","WndVip3");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.ItemType=o.AwardBtnState=void 0;var r=e("../../../core/ui/WndBase"),a=e("../../../hallcommon/model/PlayerInfoModel"),s=e("./VipGiftView"),l=e("./VipViewUI"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pageView=null,t.vipViewArr=[],t.banned=!1,t.currentSelect=0,t.jiantouNodeArr=[],t.itemNode=null,t.vipCount=15,t._uiInit=!1,t.LockvipView=-1,t}return n(t,e),Object.defineProperty(t.prototype,"uiInit",{get:function(){return this._uiInit},set:function(e){this._uiInit=e,e&&this.UpdateUI()},enumerable:!1,configurable:!0}),t.prototype.onInit=function(){this.isNeedDelay=!0,this.name="WndVip3",this.layer=Global.UI.PopLayer,this.resPath="hall/prefabs/ui/PlayerInfo/VipUI3",this.model=Global.ModelManager.getModel("PlayerInfoModel")},t.prototype.onDispose=function(){this.vipViewArr=[],this.VipReward=null,this.uiInit=!1,Global.Event.off(GlobalEvent.UPDATEVIPDATA,this,this.updateData),Global.Event.off(GlobalEvent.CHANGEVIP,this,this.UseInfoUpdateUI)},t.prototype.initView=function(){var e=this;this.addCommonClick("bg/close",this.closeBtnFunc,this),this.pageView=cc.find("pageview",this.node).getComponent(cc.PageView),this.pageView.node.on("page-turning",this.PageTurnCallback,this),Global.UIHelper.addCommonClick(this.node,"gift/info_node/rule",this.openRule,this),this.itemNode=cc.find("pageview/view/content/page_1",this.node),this.itemNode.active=!1,this.itemNode.parent.width=this.itemNode.width*a.default.instance.vip_cfg.length;var t=1;this.vipCount=a.default.instance.vip_cfg.length+1,this.giftNode=this.getChild("gift"),this.giftNode&&(this.giftViewUI=this.giftNode.getComponent(s.default),this.giftViewUI&&this.giftViewUI.initView()),this.layout=cc.find("title",this.node).getComponent(cc.Layout),this.giftBtn=cc.find("title/gift",this.node),this.giftBtn&&this.giftBtn.on("click",this.changePanel,this),this.moreBtn=cc.find("title/more",this.node),this.moreBtn&&this.moreBtn.on("click",this.changePanel,this),Global.Component.schedule(function(){if(t>e.vipCount)return e.itemNode.parent.width=e.itemNode.width*a.default.instance.vip_cfg.length,void(e.uiInit=!0);for(var o=t+1,i=t;i<o;i++){if(i>=e.vipCount)return void t++;var n=cc.instantiate(e.itemNode);n.name="page_"+t,n.active=!0,n.x=(t-1)*e.itemNode.width;var r=n.getComponent(l.default);r.vip=t,r.initView(),e.vipViewArr.push(r),n.setParent(e.itemNode.parent),t++}},0,this.vipCount),this.jiantouNodeArr[0]=Global.UIHelper.addCommonClick(this.node,"jiantou_left",this.leftBtnFunc,this),this.jiantouNodeArr[1]=Global.UIHelper.addCommonClick(this.node,"jiantou_right",this.rightBtnFunc,this);var o=cc.scaleTo(.8,1.2,1.2),i=cc.scaleTo(.8,1,1),n=cc.sequence(o,i),r=cc.repeatForever(n);this.jiantouNodeArr[1].runAction(r),o=cc.scaleTo(.8,1.2,1.2),i=cc.scaleTo(.8,1,1),n=cc.sequence(o,i),r=cc.repeatForever(n),this.jiantouNodeArr[0].runAction(r)},t.prototype.onOpen=function(){Global.Event.on(GlobalEvent.CHANGEVIP,this,this.UseInfoUpdateUI),Global.Event.on(GlobalEvent.UPDATEVIPDATA,this,this.updateData),this.LockvipView=Global.PlayerData.vip,this.uiInit&&this.UpdateUI()},t.prototype.updateData=function(e){if(e){var t=e.index,o=e.type;0===o?this.VipReward.list.length>t&&(this.VipReward.list[t].status=1):1===o?this.VipReward.week.last_get=1:2===o&&(this.VipReward.month.last_get=1),this.UpdateUI()}},t.prototype.openAnimFinish=function(){},t.prototype.openRule=function(){Global.UI.show("WndVipRule")},t.prototype.onClose=function(){this.VipReward=null,this.pageView.enabled=!0,Global.Event.event("SHOWPREVILEGE",!0),this.giftNode.active=!1,Global.Event.off(GlobalEvent.CHANGEVIP,this,this.UseInfoUpdateUI),Global.Event.off(GlobalEvent.UPDATEVIPDATA,this,this.updateData)},t.prototype.changePanel=function(e){var t=this;0===e?(this.giftNode.active=!0,this.setToggleChecked(this.giftBtn,!0),this.setToggleChecked(this.moreBtn,!1),this.moreBtn.setSiblingIndex(0),this.giftBtn.setSiblingIndex(1),Global.Event.event("SHOWPREVILEGE",!1),this.giftViewUI.refreshUI(this.VipReward,this.LockvipView),this.currentSelect=0,setTimeout(function(){t.UpdateJiantou("0")},100)):1===e?(this.moreBtn.setSiblingIndex(1),this.giftBtn.setSiblingIndex(0),this.giftNode.active=!1,this.setToggleChecked(this.giftBtn,!1),this.setToggleChecked(this.moreBtn,!0),Global.Event.event("SHOWPREVILEGE",!0),this.currentSelect=1,this.UpdateJiantou()):e.node&&"gift"===e.node.name?(this.moreBtn.setSiblingIndex(0),this.giftBtn.setSiblingIndex(1),this.currentSelect=0,this.giftNode.active=!0,this.giftViewUI.refreshUI(this.VipReward,this.LockvipView),Global.Event.event("SHOWPREVILEGE",!1),this.setToggleChecked(this.giftBtn,!0),this.setToggleChecked(this.moreBtn,!1),this.UpdateJiantou("0")):e.node&&"more"===e.node.name&&(this.moreBtn.setSiblingIndex(1),this.giftBtn.setSiblingIndex(0),this.currentSelect=1,this.giftNode.active=!1,Global.Event.event("SHOWPREVILEGE",!0),this.setToggleChecked(this.giftBtn,!1),this.setToggleChecked(this.moreBtn,!0),this.UpdateJiantou())},t.prototype.closeBtnFunc=function(){this.close()},t.prototype.UpdateUI=function(){var e=this;if(!a.default.instance.vip_reward){this.layout&&(this.layout.enabled=!0);for(var t=0;t<this.vipViewArr.length;t++)(i=this.vipViewArr[t]).UpdateUI(this.VipReward,t);return this.OnDataPrepared(),this.LockvipView<=0&&(this.LockvipView=Global.PlayerData.vip),this.LockvipView>=a.default.instance.vip_cfg.length&&(this.LockvipView=a.default.instance.vipExpArr.length-1),Global.Event.event(GlobalEvent.VIPREWARD,null),this.pageView.scrollToPage(this.LockvipView,.01),this.closeNotNeedItem(),this.giftNode.active=!1,this.giftBtn.active=!1,void Global.Event.event("SHOWPREVILEGE",!0)}if(this.VipReward){this.layout&&(this.layout.enabled=!1);var o=0;for(t=0;t<this.vipViewArr.length;t++){var i=this.vipViewArr[t];this.VipReward.list&&t<this.VipReward.list.length&&this.VipReward.list[t]&&(i.UpdateUI(this.VipReward,t),0===this.VipReward.list[t].status&&Global.PlayerData.vip>=this.VipReward.list[t].level&&(o=1))}return a.default.instance.is_vip_reward=o,this.checkReward(this.VipReward),this.LockvipView<=0&&(this.LockvipView=Global.PlayerData.vip),this.LockvipView>=a.default.instance.vip_cfg.length&&(this.LockvipView=a.default.instance.vipExpArr.length-1),Global.Event.event(GlobalEvent.VIPREWARD,null),this.pageView.scrollToPage(this.LockvipView,.01),this.closeNotNeedItem(),void(1===a.default.instance.vip_reward?this.changePanel(0):this.changePanel(1))}Global.HallServer.send(NetAppface.mod,NetAppface.NewCheckVipReward,null,function(t){if(t.list){e.layout&&(e.layout.enabled=!1),e.VipReward=t;var o=0;e.OnDataPrepared();for(var i=0;i<e.vipViewArr.length;i++){var n=e.vipViewArr[i];e.VipReward.list&&i<e.VipReward.list.length&&e.VipReward.list[i]&&(n.UpdateUI(e.VipReward,i),0==e.VipReward.list[i].status&&Global.PlayerData.vip>=e.VipReward.list[i].level&&(o=1))}a.default.instance.is_vip_reward=o,e.checkReward(e.VipReward),Global.Event.event(GlobalEvent.VIPREWARD,null),e.LockvipView<=0&&(e.LockvipView=Global.PlayerData.vip),e.LockvipView>=a.default.instance.vip_cfg.length&&(e.LockvipView=a.default.instance.vipExpArr.length-1),e.pageView.scrollToPage(e.LockvipView,.01),e.closeNotNeedItem(),1===a.default.instance.vip_reward?e.changePanel(0):e.changePanel(1)}},function(e){Global.UI.fastTip(e._errstr),Global.Event.event(GlobalEvent.HIDE_NET_WAITING,"WndVip3")},!1)},t.prototype.closeNotNeedItem=function(){for(var e=this.LockvipView,t=0;t<this.vipViewArr.length;t++)this.vipViewArr[t].node.active=!(t<e-1||t>e+1)},t.prototype.checkReward=function(e){if(e){var t=e.week,o=e.month;t.last_get?a.default.instance.is_week_reward=0:a.default.instance.is_week_reward=1,o.last_get?a.default.instance.is_month_reward=0:a.default.instance.is_month_reward=1}},t.prototype.UseInfoUpdateUI=function(){Global.HallServer.clearCache(NetAppface.mod,NetAppface.NewCheckVipReward,null),this.VipReward=null,this.UpdateUI()},t.prototype.UpdateJiantou=function(e){var t=this.pageView.getCurrentPageIndex();this.LockvipView=this.pageView.getCurrentPageIndex(),this.pageView.enabled=!0,t>this.vipCount-1&&(t=this.vipCount-1),t<=0?(this.jiantouNodeArr[0].active=!1,this.jiantouNodeArr[1].active=!0):t>=a.default.instance.vip_cfg.length-1?(this.jiantouNodeArr[0].active=!0,this.jiantouNodeArr[1].active=!1):(this.jiantouNodeArr[0].active=!0,this.jiantouNodeArr[1].active=!0),"0"===e&&(this.jiantouNodeArr[0].active=!1,this.jiantouNodeArr[1].active=!1,this.pageView.enabled=!1)},t.prototype.setJiantouActive=function(e){this.jiantouNodeArr[0].active=e,this.jiantouNodeArr[1].active=e},t.prototype.PageTurnCallback=function(){var e=this.pageView.getCurrentPageIndex();this.LockvipView=this.pageView.getCurrentPageIndex(),this.pageView.content.width=a.default.instance.vip_cfg.length*this.itemNode.width,e>this.vipCount-1&&(e=this.vipCount-1);for(var t=0;t<this.vipViewArr.length;t++)this.vipViewArr[t].node.active=!(t<e-1||t>e+1);this.UpdateJiantou()},t.prototype.leftBtnFunc=function(){Global.Event.event("SHOWPREVILEGE",!0),this.giftNode.active=!1;var e=this.pageView.getCurrentPageIndex();this.LockvipView=this.pageView.getCurrentPageIndex(),e>0&&this.pageView.scrollToPage(e-1,.3)},t.prototype.rightBtnFunc=function(){Global.Event.event("SHOWPREVILEGE",!0),this.giftNode.active=!1;var e=this.pageView.getCurrentPageIndex();this.LockvipView=this.pageView.getCurrentPageIndex(),e<a.default.instance.vip_cfg.length-1&&this.pageView.scrollToPage(e+1,.3)},t.prototype.setToggleChecked=function(e,t){var o=e.getChildByName("check"),i=e.getChildByName("unchecked");o&&(o.active=t),i&&(i.active=!t)},t}(r.default);o.default=c,function(e){e[e.NOTREADY=0]="NOTREADY",e[e.READY=1]="READY",e[e.ACHIEVED=2]="ACHIEVED",e[e.REACHED=3]="REACHED"}(o.AwardBtnState||(o.AwardBtnState={})),function(e){e[e.LEVEL=0]="LEVEL",e[e.WEEK=1]="WEEK",e[e.MONTH=2]="MONTH"}(o.ItemType||(o.ItemType={})),cc._RF.pop()},{"../../../core/ui/WndBase":"WndBase","../../../hallcommon/model/PlayerInfoModel":"PlayerInfoModel","./VipGiftView":"VipGiftView","./VipViewUI":"VipViewUI"}],WndVipQuickPayChat:[function(e,t,o){"use strict";cc._RF.push(t,"2944aTZJ7BKBL+F+AHX7UKH","WndVipQuickPayChat");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/ui/WndBase"),a=e("../../../core/net/tcp/italkmsg_pb"),s=e("../../../hallcommon/model/HallModel"),l=e("../../../hallcommon/model/ServicerModel"),c=e("./ChatCenterNode"),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spriteString={1e3:"\u7528\u652f\u4ed8\u5b9d\u5145\u503c",1001:"\u7528\u5fae\u4fe1\u5145\u503c",1002:"\u7528\u94f6\u884c\u5361\u5145\u503c",1e4:"\u6211\u5145\u597d\u4e86"},t.isPressed=!1,t.isPhoto=!1,t.emojText="<img src='%s' />",t.severHeadFrame=null,t.data=new Array,t.depositBottom=165,t.depositH=60,t.depositData=new Array,t.isOpen=!1,t.copyText="",t.emojMap={0:"\u5927\u7b11",1:"\u5f00\u5fc3",2:"\u6cea\u54ed",3:"\u5c34\u5c2c",4:"\u5feb\u4e50",5:"\u5a9a\u773c",6:"\u5fae\u7b11",7:"\u998b\u5634",8:"\u58a8\u955c",9:"\u8272",10:"\u98de\u543b",11:"\u7231\u60c5",12:"\u561f\u5634",13:"\u5439\u53e3\u54e8",14:"\u53ef\u7231",15:"\u5e78\u798f",16:"\u62cd\u624b",17:"\u5d07\u62dc",18:"\u601d\u8003",19:"\u6311\u7709",20:"\u5e73\u6de1",21:"\u65e0\u5948",22:"\u5931\u671b",23:"\u767d\u773c",24:"\u574f\u7b11",25:"\u8870",26:"\u538b\u529b",27:"\u5403\u60ca",28:"\u95ed\u5634",29:"\u60ca\u8bb6",30:"\u56f0",31:"\u538c\u70e6",32:"\u7761\u89c9",33:"\u5982\u91ca\u91cd\u8d1f",34:"\u9b3c\u8138",35:"\u820c\u5934",36:"\u8c03\u76ae",37:"\u6d41\u53e3\u6c34",38:"\u4e0d\u5c51",39:"\u60b2\u4f24",40:"\u56f0\u60d1",41:"\u8d22\u8ff7",42:"\u5174\u594b",43:"\u4e0d\u6ee1",44:"\u59d4\u5c48",45:"\u7ea0\u7ed3",46:"\u4f24\u5fc3",47:"\u62c5\u5fe7",48:"\u6124\u6012",49:"\u54ed",50:"\u6d41\u6cea",51:"\u5446",52:"\u5bb3\u6015",53:"\u9707\u60ca",54:"\u60b2\u4f24\u75b2\u5026",55:"\u6293\u72c2",56:"\u5c34\u5c2c\u5730\u7b11",57:"\u51b7\u6c57",58:"\u60ca\u5413",59:"\u4e0d\u660e",60:"\u6ed1\u7a3d",61:"\u4e2d\u6bd2",62:"\u53d1\u6012",63:"\u4e0d\u723d",64:"\u8bed\u65e0\u4f26\u6b21",65:"\u53e3\u7f69",66:"\u611f\u5192",67:"\u53d7\u4f24",68:"\u6076\u5fc3",69:"\u5410",70:"\u6253\u55b7\u568f",71:"\u5929\u4f7f",72:"\u725b\u4ed4",73:"\u5339\u8bfa\u66f9",74:"\u5618",75:"\u6342\u5634",76:"\u89c2\u5bdf",77:"\u53d1\u5446",78:"\u9b54\u738b",79:"\u6076\u9b54\u751f\u6c14",80:"\u5c0f\u4e11",81:"\u602a\u7269",82:"\u5996\u602a",83:"\u6b7b\u4ea1",84:"\u6d77\u76d7",85:"\u5916\u661f\u4eba",86:"\u8499\u4f4f\u773c\u775b",87:"\u5835\u4e0a\u8033\u6735",88:"\u6342\u4f4f\u5634\u5df4",89:"\u9752\u82f9\u679c",90:"\u8304\u5b50",91:"\u725b\u6cb9\u679c",92:"\u9999\u8549",93:"\u6a31\u6843",94:"\u8461\u8404",95:"\u80e1\u841d\u535c",96:"\u9ec4\u74dc",97:"\u7389\u7c73",98:"\u8fa3\u6912",99:"\u7315\u7334\u6843",100:"\u67e0\u6aac",101:"\u54c8\u5bc6\u74dc",102:"\u68a8",103:"\u82f9\u679c",104:"\u8349\u8393",105:"\u6a59\u5b50",106:"\u897f\u74dc",107:"\u6930\u5b50",108:"\u756a\u8304",109:"\u6843\u5b50",110:"\u82b1\u751f",111:"\u5730\u74dc",112:"\u571f\u8c46",113:"\u86cb",114:"\u8089",115:"\u73ab\u7470",116:"\u5411\u65e5\u8475",117:"\u5976\u74f6",118:"\u6cd5\u5f0f\u9762\u5305",119:"\u751c\u751c\u5708",120:"\u86cb\u7cd5",121:"\u9762\u5305",122:"\u5de7\u514b\u529b",123:"\u5976\u916a",124:"\u997a\u5b50",125:"\u7c73\u996d",126:"\u714e\u86cb",127:"\u725b\u89d2\u5305",128:"\u9999\u69df",129:"\u5496\u5561",130:"\u996e\u6599",131:"\u85af\u6761",132:"\u6c49\u5821",133:"\u70ed\u72d7",134:"\u7206\u7c73\u82b1",135:"\u62ab\u8428",136:"\u9e21\u817f",137:"\u70b8\u867e",138:"\u4e09\u660e\u6cbb",139:"\u4fbf\u5f53",140:"\u679c\u51bb",141:"\u56e2\u5b50",142:"\u5bff\u53f8",143:"\u6e05\u9152",144:"\u996d\u56e2",145:"\u8089\u5939\u998d",146:"\u5377\u997c",147:"\u70d9\u997c",148:"\u7c73\u997c",149:"\u6912\u76d0\u5377\u997c",150:"\u5e78\u8fd0\u997c\u5e72",151:"\u66f2\u5947",152:"\u871c\u7f50",153:"\u6392\u9aa8",154:"\u7cd6\u679c",155:"\u68d2\u68d2\u7cd6"},t}return n(t,e),t.prototype.onInit=function(){this.name="WndVipQuickPayChat",this.layer=Global.UI.PopLayer,this.resPath="hall/prefabs/ui/Recharge/VipQuickPayChatUI",this.destoryType=r.DestoryType.None},t.prototype.initView=function(){cc.Canvas.instance.node.width<cc.Canvas.instance.node.height?(this.node.width=cc.Canvas.instance.node.width,this.node.height=cc.Canvas.instance.node.height):(this.node.width=cc.Canvas.instance.node.height,this.node.height=cc.Canvas.instance.node.width),this.title=this.getChild("content/topNode/title_label").getComponent(cc.Label),this.centerNode=this.getChild("content/centerNode").getComponent(c.default),this.endEditNode=this.getChild("content/centerNode/endEditNode"),this.addCommonClick("content/centerNode/endEditNode",this.endEditing,this),this.botNode=this.getChild("content/botNode"),this.copyBtn=this.getChild("copy"),this.depositNode=this.getChild("content/botNode/depositNode"),this.depositNode.active=!1,this.inputBox=this.getChild("content/botNode/botBox/contentNode/inputEditBox").getComponent(cc.EditBox),this.inputBox.node.on("editing-return",this.editingReturn,this),this.inputBox.node.on("text-changed",this.textChangeCallback,this),this.inputBox.node.on("editing-did-began",this.editingBeganCallback,this),this.emojPanel=this.getChild("content/botNode/emojPanel"),this.photoPanel=this.getChild("content/botNode/photoPanel"),this.emojScrollView=this.getChild("content/botNode/emojPanel/ScrollView").getComponent(cc.ScrollView),this.emojTemplateItem=this.getChild("content/botNode/emojPanel/emojTemplateItem"),this.emojTemplateItem.active=!1,this.depositScrollView=this.getChild("content/botNode/depositNode/scrollView").getComponent(cc.ScrollView),this.depositItem=this.getChild("content/botNode/depositNode/scrollView/view/content/item"),this.depositItem.active=!1,this.plus=this.addCommonClick("content/botNode/botBox/key_btnPlus/kuozhan",this.kuoZhan,this),this.addCommonClick("content/botNode/botBox/key_btnEmoj",this.openEmojPanel,this),this.addCommonClick("content/topNode/btnBack",this.goBack,this),this.addCommonClick("content/botNode/photoPanel/album",this.openAlbum,this),this.addCommonClick("content/botNode/photoPanel/camera",this.openCamera,this),this.sendBtn=this.addCommonClick("content/botNode/botBox/key_btnPlus/send_btn",this.sendMessage,this),this.copyBtn=this.addCommonClick("copy",this.copyMsgText,this),this.copyBtn.active=!1,this.initEmoj()},t.prototype.initEmoj=function(){for(var e in this.emojMap){var t=cc.instantiate(this.emojTemplateItem).getComponent(cc.Sprite);t.node.active=!0;var o=this.emojMap[e];t.spriteFrame=this.getLocalEmoj(o),t.node.attr({key:e,name:o}),t.node.on(cc.Node.EventType.TOUCH_END,this.clickEmoj,this),this.emojScrollView.content.addChild(t.node)}},t.prototype.initDepositList=function(e){this.depositScrollView.content.removeAllChildren();var t=0;this.centerNode.getComponent(cc.Widget).bottom=this.depositBottom,e.length>1&&(this.depositNode.active=!0);for(var o=0;o<e.length;o++)if(this.spriteString[e[o]]){var i=cc.instantiate(this.depositItem),n=cc.find("bg",i).getComponent(cc.Sprite);Global.ResourceManager.loadAutoAtlas(n,"hall/texture/hall/chat/chat",e[o]+"_s",null,!1),Global.UIHelper.addCommonClick(i,"bg",this.depositSend,this,cc.Button.Transition.NONE).string=e[o],i.width=n.node.width,t+=i.width-5,i.active=!0,this.depositScrollView.content.addChild(i)}this.depositScrollView.content.setContentSize(t,0)},t.prototype.depositSend=function(e){e&&e.node&&this.spriteString[e.node.string]&&Global.ChatServer.sendChatTextMsg(this.spriteString[e.node.string],e.node.string+"")},t.prototype.clickEmoj=function(e){var t=e.target;this.inputBox.string=this.inputBox.string.concat("&["+t.name+"]&"),this.textChangeCallback()},t.prototype.onOpen=function(){this.isOpen=!0,Global.ChatServer.severUserid&&0!=Global.ChatServer.severUserid.length||Global.UI.fastTip("\u5f53\u524d\u6ca1\u6709\u5ba2\u670d\u5728\u7ebf\uff0c\u8bf7\u7559\u8a00");var e=cc.view.getFrameSize();this.node.height=e.height*(this.node.width/e.width),null!=this.args&&this.args.length>0&&(this.title.string=this.args[0]||"default"),Global.ChatServer.sendOfflineMsg(),Global.ChatServer.QuickData&&Global.ChatServer.QuickData.pay_type&&Global.ChatServer.QuickData.pay_type.length>0&&(this.depositData=Global.ChatServer.QuickData.pay_type.concat([1e4]),this.initDepositList(this.depositData)),Global.Event.on(GlobalEvent.setCopypostion,this,this.setCopypostion)},t.prototype.endEditing=function(){this.endEditNode.active=!1,this.isPhoto=!1,this.isPressed=!1,this.hideToolBar()},t.prototype.editingBeganCallback=function(){this.endEditNode.active=!1,this.isPhoto=!1,this.isPressed=!1,this.hideToolBar()},t.prototype.editingReturn=function(){this.sendMessage()},t.prototype.textChangeCallback=function(){this.inputBox.string.length>0&&!this.isNull(this.inputBox.string)?(this.plus.active=!1,this.sendBtn.active=!0):(this.plus.active=!0,this.sendBtn.active=!1)},t.prototype.openAlbum=function(){var e=this;cc.sys.os==cc.sys.OS_IOS?Global.Component.scheduleOnce(function(){Global.Event.event(GlobalEvent.SHOW_NET_WAITING,"videcompress",120,"\u4e0a\u4f20\u4e2d")},.5):Global.Event.event(GlobalEvent.SHOW_NET_WAITING,"videcompress",120,"\u4e0a\u4f20\u4e2d"),Global.NativeEvent.nstartOpenAlbum(2,51200,120,200,20,function(t){if(Global.Event.event(GlobalEvent.FORCE_HIDE_WAITING,"videcompress"),0==t.result){if(!Global.ChatServer.socketStatus())return Global.UI.fastTip("\u804a\u5929\u7cfb\u7edf\u6682\u65e0\u8fde\u63a5,\u8bf7\u7a0d\u540e\u518d\u8bd5"),void Global.ChatServer.connect();var o=t.funcParam;if(2==o.type){var i=new a.italk.pb.ItalkMsgContent;i.size=o.size,i.second=o.second,i.width=o.width,i.height=o.height,i.url=Global.Setting.alioss_file_url+o.url,i.thumburl=Global.Setting.alioss_file_url+o.url,Global.ChatServer.sendChatMoveMsg(i)}else e.sendChatImage(t.funcParam)}else Logger.error("\u53d6\u6d88\u9009\u62e9\u56fe\u7247---")})},t.prototype.openCamera=function(){var e=this;cc.sys.os==cc.sys.OS_IOS?Global.Component.scheduleOnce(function(){Global.Event.event(GlobalEvent.SHOW_NET_WAITING,"videcompress",60,"\u4e0a\u4f20\u4e2d")},.5):Global.Event.event(GlobalEvent.SHOW_NET_WAITING,"videcompress",60,"\u4e0a\u4f20\u4e2d"),Global.NativeEvent.nstartOpenCamera(2,200,20,function(t){if(Global.Event.event(GlobalEvent.FORCE_HIDE_WAITING,"videcompress"),!Global.ChatServer.socketStatus())return Global.UI.fastTip("\u804a\u5929\u7cfb\u7edf\u6682\u65e0\u8fde\u63a5,\u8bf7\u7a0d\u540e\u518d\u8bd5"),void Global.ChatServer.connect();0==t.result&&e.sendChatImage(t.funcParam)})},t.prototype.sendChatImage=function(e){var t=this;Logger.error("\u53d6\u6d88\u9009\u62e9 -- \u4e0a\u4f20\u4e2dloading"),Global.Event.event(GlobalEvent.SHOW_NET_WAITING,"uploadfile",15,"\u4e0a\u4f20\u4e2d");var o,i=e.filePath.split("."),n=i[i.length-1];o=e.fileData;var r={name:Global.ChatServer.uuid()+"."+n,value:o,token:Global.ChatServer.token},a="SetOssFile";"mp4"==n&&(a="SetOssVideoFile"),Global.ChatServer.sendImageWithParam("/login/ossfile",a,r,function(o){t.getThumbuImageData(e,o,n)},function(e){Global.Event.event(GlobalEvent.HIDE_NET_WAITING,"uploadfile"),Global.UI.fastTip(e._errstr)})},t.prototype.getThumbuImageData=function(e,t,o){var i=e.thumImage,n={name:Global.ChatServer.uuid()+".jpg",value:i,token:Global.ChatServer.token};Global.ChatServer.sendImageWithParam("/login/ossfile","SetOssFile",n,function(i){Global.Event.event(GlobalEvent.HIDE_NET_WAITING,"uploadfile");var n=new a.italk.pb.ItalkMsgContent;n.size=e.size,e.second&&(n.second=e.second),n.width=e.width,n.height=e.height,n.url=t.url,n.thumburl=i.url,"mp4"==o?Global.ChatServer.sendChatMoveMsg(n):Global.ChatServer.sendChatImageMsg(n)},function(e){Global.Event.event(GlobalEvent.HIDE_NET_WAITING,"uploadfile"),Global.UI.fastTip(e._errstr)})},t.prototype.transformArrayBufferToBase64=function(e){for(var t="",o=new Uint8Array(e),i=o.byteLength,n=0;n<i;n++)t+=String.fromCharCode(o[n]);return btoa(t)},t.prototype.kuoZhan=function(){if(this.endEditNode.active=!0,this.photoPanel.active=!0,this.emojPanel.active=!1,this.isPhoto=!this.isPhoto,this.isPressed=!1,this.isPhoto){var e=this.botNode.getComponent(cc.Widget);e.bottom=-140,this.centerNode.getComponent(cc.Widget).bottom=470+e.bottom+(this.depositNode.active?this.depositH:0),this.botNode.getComponent(cc.Widget).updateAlignment(),this.centerNode.getComponent(cc.Widget).updateAlignment(),this.updateUI(this.title.string)}else this.hideToolBar()},t.prototype.openEmojPanel=function(){if(this.endEditNode.active=!0,this.photoPanel.active=!1,this.emojPanel.active=!0,this.isPressed=!this.isPressed,this.isPhoto=!1,this.isPressed){var e=this.botNode.getComponent(cc.Widget);e.bottom=0,this.centerNode.getComponent(cc.Widget).bottom=470+e.bottom+(this.depositNode.active?this.depositH:0),this.botNode.getComponent(cc.Widget).updateAlignment(),this.centerNode.getComponent(cc.Widget).updateAlignment(),this.updateUI(this.title.string)}else this.hideToolBar()},t.prototype.hideToolBar=function(){this.botNode.getComponent(cc.Widget).bottom=-365,this.centerNode.getComponent(cc.Widget).bottom=105+(this.depositNode.active?this.depositH:0),this.botNode.getComponent(cc.Widget).updateAlignment(),this.centerNode.getComponent(cc.Widget).updateAlignment(),this.updateUI(this.title.string)},t.prototype.goBack=function(){this.data=[],this.depositNode.active=!1,this.close()},t.prototype.onClose=function(){this.data=[],Global.ChatServer.QuickData=null,this.updateUI(this.title.string),this.isOpen=!1,Global.ChatServer.serverType==l.CustomerEntranceType.LoginService?Global.Event.event(GlobalEvent.CloseRedSpot,s.HallRedSpotType.LoginKefu):Global.ChatServer.serverType==l.CustomerEntranceType.HallService&&Global.Event.event(GlobalEvent.CloseRedSpot,s.HallRedSpotType.Kefu),this.hideToolBar(),this.clearInputMsg(),Global.NativeEvent.changeOrientationH(!0),Global.UI.adjuestCanvasScreenStretch(cc.Canvas.instance)},t.prototype.isNull=function(e){return""==e||new RegExp("^[ ]+$").test(e)},t.prototype.sendMessage=function(){if(!Global.ChatServer.socketStatus())return Global.UI.fastTip("\u804a\u5929\u7cfb\u7edf\u6682\u65e0\u8fde\u63a5,\u8bf7\u7a0d\u540e\u518d\u8bd5"),void Global.ChatServer.connect();var e=this.inputBox.string.trim();if(this.isNull(e))this.clearInputMsg();else{var t=e.split("&"),o="";if(t.length>1)for(var i=0;i<t.length;i++){var n=t[i];o+=n,-1==n.indexOf("[")||-1==n.indexOf("]")||cc.js.formatStr(this.emojText,n)}else o=e;Global.ChatServer.sendChatTextMsg(o),this.clearInputMsg()}},t.prototype.clearBracket=function(e){var t=new RegExp(/\[|]/g);return e.replace(t,"")},t.prototype.replaceLocalImg=function(e){var t=e,o=new RegExp(/\[.*?\]/g),i=t.replace(o,"&["),n=e.match(o);if(null!=n)for(var r=0;r<n.length;r++){var a=cc.js.formatStr(this.emojText,n[r]);i=i.replace("&[",a)}return this.clearBracket(i)},t.prototype.clearInputMsg=function(){this.inputBox.string="",this.textChangeCallback()},t.prototype.onDispose=function(){this.isOpen=!1,this.title=null,this.centerNode=null},t.prototype.getLocalEmoj=function(e,t,o,i){if(null==e||null==e||""==e)return Logger.error("sfName is empty, return!!!"),null;var n=Global.ResourceManager.getSprite("hall/texture/chat/emoj",e);return null==n?(Logger.error("\u627e\u4e0d\u5230\u8868\u60c5 sfName = "+e+", return!!!"),null):(null!=t&&null!=t&&(o=null!=o?o:t.node.width,i=null!=i?i:t.node.height,t.spriteFrame=n,t.node.width=o,t.node.height=i),n)},t.prototype.loadSeverHeader=function(e,t){cc.loader.load({url:e,type:"jpg"},function(e,o){var i=new cc.SpriteFrame(o);t(i)})},t.prototype.updateUI=function(e,t){void 0===t&&(t=!0),this.centerNode?(this.title.string=e,this.centerNode.data=this.data,this.centerNode.severHeadFrame=this.severHeadFrame,this.isOpen&&this.centerNode.updateUI(t)):(this.data=[],Logger.error("this.centerNode \u4e3a\u7a7a"))},t.prototype.setCopypostion=function(e,t){var o=this.copyBtn.parent.convertToNodeSpaceAR(e);this.copyBtn.position=o,this.copyBtn.active=!0,this.copyText=t},t.prototype.copyMsgText=function(){this.copyBtn.active=!1,this.centerNode.copyBtnActive=!1,Global.NativeEvent.copyTextToClipboard(this.copyText,function(e){0==e.result?Global.UI.fastTip("\u590d\u5236\u6210\u529f"):Global.UI.fastTip("\u590d\u5236\u5931\u8d25")})},t}(r.default);o.default=p,cc._RF.pop()},{"../../../core/net/tcp/italkmsg_pb":"italkmsg_pb","../../../core/ui/WndBase":"WndBase","../../../hallcommon/model/HallModel":"HallModel","../../../hallcommon/model/ServicerModel":"ServicerModel","./ChatCenterNode":"ChatCenterNode"}],WndVipRule:[function(e,t,o){"use strict";cc._RF.push(t,"76022t0lq1Buqdd3s9rFewD","WndVipRule");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.onInit=function(){this.name="WndVipRule",this.layer=Global.UI.PopLayer,this.resPath="hall/prefabs/ui/PlayerInfo/vipRule"},t.prototype.onDispose=function(){},t.prototype.initView=function(){this.addCommonClick("close",this.close,this)},t.prototype.onOpen=function(){},t}(e("../../../core/ui/WndBase").default);o.default=r,cc._RF.pop()},{"../../../core/ui/WndBase":"WndBase"}],WndVip:[function(e,t,o){"use strict";cc._RF.push(t,"73013VL1XpPdI+pUg3mw/fI","WndVip");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/ui/WndBase"),a=e("../../../hallcommon/model/PlayerInfoModel"),s=e("./VipView"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pageView=null,t.vipViewArr=[],t.jiantouNodeArr=[],t.itemNode=null,t.vipCount=15,t.uiInit=!1,t.LockvipView=-1,t.spriteVipArr=[],t.richTextNextVip=null,t.processBar=null,t.labelJiasu=null,t}return n(t,e),t.prototype.onInit=function(){t.instance=this,this.isNeedDelay=!0,this.name="WndVip",this.layer=Global.UI.PopLayer,this.resPath="hall/prefabs/ui/PlayerInfo/VipUI"},t.prototype.onDispose=function(){this.vipViewArr=[],this.uiInit=!1,t.instance=null},t.prototype.initView=function(){var e=this;this.addCommonClick("bg/close",this.closeBtnFunc,this),this.spriteVipArr[0]=cc.find("top/vip0",this.node).getComponent(cc.Sprite),this.spriteVipArr[1]=cc.find("top/vip1",this.node).getComponent(cc.Sprite),this.richTextNextVip=cc.find("top/richText_vip",this.node).getComponent(cc.RichText),this.processBar=cc.find("top/process_di/progressBar",this.node).getComponent(cc.ProgressBar),this.labelJiasu=cc.find("top/label_jiasu",this.node).getComponent(cc.Label),this.pageView=cc.find("pageview",this.node).getComponent(cc.PageView),this.pageView.node.on("page-turning",this.PageTurnCallback,this),this.itemNode=cc.find("pageview/view/content/page_1",this.node),this.itemNode.active=!1,this.itemNode.parent.width=this.itemNode.width*a.default.instance.vip_cfg.length;var t=1;this.vipCount=a.default.instance.vip_cfg.length+1,Global.Component.schedule(function(){if(t>=e.vipCount)return e.itemNode.parent.width=e.itemNode.width*a.default.instance.vip_cfg.length,e.PageTurnCallback(),e.uiInit=!0,void e.OnDataPrepared();for(var o=t+2,i=t;i<o;i++){if(i>=e.vipCount)return void t++;var n=cc.instantiate(e.itemNode);n.name="page_"+t,n.active=!0,n.x=(t-1)*e.itemNode.width;var r=n.getComponent(s.default);r.vip=t,r.initView(),e.vipViewArr.push(r),n.setParent(e.itemNode.parent),t++}},0,this.vipCount/2),this.jiantouNodeArr[0]=Global.UIHelper.addCommonClick(this.node,"jiantou_left",this.leftBtnFunc,this),this.jiantouNodeArr[1]=Global.UIHelper.addCommonClick(this.node,"jiantou_right",this.rightBtnFunc,this);var o=cc.scaleTo(.8,1.2,1.2),i=cc.scaleTo(.8,1,1),n=cc.sequence(o,i),r=cc.repeatForever(n);this.jiantouNodeArr[1].runAction(r),o=cc.scaleTo(.8,1.2,1.2),i=cc.scaleTo(.8,1,1),n=cc.sequence(o,i),r=cc.repeatForever(n),this.jiantouNodeArr[0].runAction(r)},t.prototype.onOpen=function(){this.uiInit&&this.OnDataPrepared(),Global.Event.on(GlobalEvent.CHANGEVIP,this,this.UpdateUI)},t.prototype.openAnimFinish=function(){this.PageTurnCallback(),this.LockvipView=Global.PlayerData.vip,this.UpdateUI(),this.UpdateJiantou()},t.prototype.onClose=function(){Global.Event.off(GlobalEvent.CHANGEVIP,this,this.UpdateUI)},t.prototype.closeBtnFunc=function(){this.close()},t.prototype.UpdateUI=function(){var e,t=Global.PlayerData.vip,o=t+1,i=1,n=a.default.instance.GetVipUpgradeExp(o);(e=n-Global.PlayerData.vipExp)>0?(this.richTextNextVip.string="<b><outline color=#315200 width=2>\u518d\u5145\u503c</outline><outline color=#784c00 width=2><color=#fed306>"+e+"</color></outline><outline color=#315200 width=2>\u5143\uff0c\u5373\u53ef\u5347\u7ea7</outline></b>",t<o&&(i=Global.PlayerData.vipExp/n)):(this.richTextNextVip.string="<b><outline color=#315200 width=2>\u606d\u559c\u60a8\u5df2\u6210\u4e3a\u81f3\u5c0aVIP"+t+"</outline></b>",this.getChild("top/vip1").active=!1),this.processBar.progress=i;var r="hall/texture/hall/playerInfo/AutoAtlas_playerinfo",s="icon_v"+t;Global.ResourceManager.loadAutoAtlas(this.spriteVipArr[0],r,s,null,!1);var l="icon_v"+o;Global.ResourceManager.loadAutoAtlas(this.spriteVipArr[1],r,l,null,!1),Global.PlayerData.vip>0&&Global.PlayerData.vip<4?this.labelJiasu.node.active=!0:this.labelJiasu.node.active=!1;for(var c=0;c<this.vipViewArr.length;c++)this.vipViewArr[c].UpdateUI();this.LockvipView<=0&&(this.LockvipView=Global.PlayerData.vip),this.LockvipView>=a.default.instance.vip_cfg.length&&(this.LockvipView=a.default.instance.vip_cfg.length-1),this.pageView.scrollToPage(this.LockvipView,.01)},t.prototype.UpdateJiantou=function(){var e=this.pageView.getCurrentPageIndex();this.LockvipView=this.pageView.getCurrentPageIndex(),e>this.vipCount-1&&(e=this.vipCount-1),e<=0?(this.jiantouNodeArr[0].active=!1,this.jiantouNodeArr[1].active=!0):e>=a.default.instance.vip_cfg.length-1?(this.jiantouNodeArr[0].active=!0,this.jiantouNodeArr[1].active=!1):(this.jiantouNodeArr[0].active=!0,this.jiantouNodeArr[1].active=!0)},t.prototype.PageTurnCallback=function(){var e=this.pageView.getCurrentPageIndex();this.LockvipView=this.pageView.getCurrentPageIndex(),this.pageView.content.width=a.default.instance.vip_cfg.length*this.itemNode.width,e>this.vipCount-1&&(e=this.vipCount-1);for(var t=0;t<this.vipViewArr.length;t++)this.vipViewArr[t].node.active=!(t<e-1||t>e+1);this.UpdateJiantou()},t.prototype.leftBtnFunc=function(){var e=this.pageView.getCurrentPageIndex();this.LockvipView=this.pageView.getCurrentPageIndex(),e>0&&this.pageView.scrollToPage(e-1,.3)},t.prototype.rightBtnFunc=function(){var e=this.pageView.getCurrentPageIndex();this.LockvipView=this.pageView.getCurrentPageIndex(),e<a.default.instance.vip_cfg.length-1&&this.pageView.scrollToPage(e+1,.3)},t.instance=null,t}(r.default);o.default=l,cc._RF.pop()},{"../../../core/ui/WndBase":"WndBase","../../../hallcommon/model/PlayerInfoModel":"PlayerInfoModel","./VipView":"VipView"}],WndWeChatRechange:[function(e,t,o){"use strict";cc._RF.push(t,"ccb37MynCxC4LhsyfIFkwhE","WndWeChatRechange");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../core/ui/WndBase"),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.onInit=function(){this.name="WndWeChatRechange",this.layer=Global.UI.PopLayer,this.resPath="hall/prefabs/ui/Recharge/WeChatRechangeUI",this.destoryType=r.DestoryType.None},t.prototype.initView=function(){this.node.width=cc.Canvas.instance.node.width,this.node.height=cc.Canvas.instance.node.height,this.codeSprite=this.getChild("bankNode/qrCodeSprite").getComponent(cc.Sprite),this.addCommonClick("headNode/btnBack",this.goBack,this,cc.Button.Transition.NONE),this.addCommonClick("headNode/helpNode",this.goBack,this,cc.Button.Transition.NONE),this.addCommonClick("bankNode/copyNode",this.saveQRCode,this,cc.Button.Transition.NONE)},t.prototype.onOpen=function(){var e=this,t=this.args[0];this.qrCodeURl=t.url,this.codeSprite.spriteFrame=null,Global.Event.event(GlobalEvent.SHOW_NET_WAITING,!0),cc.loader.load(this.qrCodeURl,function(t,o){if(e.node&&e.node.isValid){var i=new cc.SpriteFrame(o);e.codeSprite.sizeMode=cc.Sprite.SizeMode.CUSTOM,e.codeSprite.spriteFrame=i,Global.Event.event(GlobalEvent.SHOW_NET_WAITING,!1)}})},t.prototype.goBack=function(){this.close()},t.prototype.saveQRCode=function(){},t}(r.default);o.default=a,cc._RF.pop()},{"../../../core/ui/WndBase":"WndBase"}],WndaliBandConfirm:[function(e,t,o){"use strict";cc._RF.push(t,"1ee02+2l4VFWZJaUENyoQNV","WndaliBandConfirm");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../../../core/ui/WndBase"),a=e("./ExtractEvent"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.onInit=function(){this.name="WndaliBandConfirm",this.layer=Global.UI.PopLayer,this.resPath="hall/prefabs/ui/money/extractCash/aliBandConfirmUI",this.model=Global.ModelManager.getModel("ExtractModel")},t.prototype.initView=function(){this.node.width=cc.Canvas.instance.node.width,this.node.height=cc.Canvas.instance.node.height,this.nameLabel=this.getComponent("NameLabel",cc.Label),this.accountLabel=this.getComponent("AccountLabel",cc.Label),this.addCommonClick("close",this.backBtnFunc,this),this.addCommonClick("confirmBtn",this.confirmBtnFunc,this),this.model.on(a.ExtractEvent.BankBindInfoOver,this,this.close)},t.prototype.onOpen=function(e){this.nameData=e[0],this.accountData=e[1],this.nameLabel.string=this.nameData,this.accountLabel.string=this.accountData},t.prototype.confirmBtnFunc=function(){this.model.reqBindAliInfo(this.nameData,this.accountData)},t.prototype.backBtnFunc=function(){this.close()},t}(r.default);o.default=s,cc._RF.pop()},{"../../../../../core/ui/WndBase":"WndBase","./ExtractEvent":"ExtractEvent"}],WordArray:[function(e,t,o){"use strict";cc._RF.push(t,"706cdinkTJEj4Bp36iwQagP","WordArray"),Object.defineProperty(o,"__esModule",{value:!0}),o.WordArray=void 0;var i=e("../enc/Hex"),n=function(){function e(e,t){this.words=e||[],this.sigBytes=void 0!==t?t:4*this.words.length}return e.random=function(t){for(var o=[],i=function(e){var t=987654321,o=4294967295;return function(){var i=((t=36969*(65535&t)+(t>>16)&o)<<16)+(e=18e3*(65535&e)+(e>>16)&o)&o;return i/=4294967296,(i+=.5)*(Math.random()>.5?1:-1)}},n=0,r=void 0;n<t;n+=4){var a=i(4294967296*(r||Math.random()));r=987654071*a(),o.push(4294967296*a()|0)}return new e(o,t)},e.prototype.toString=function(e){return(e||i.Hex).stringify(this)},e.prototype.concat=function(e){if(this.clamp(),this.sigBytes%4)for(var t=0;t<e.sigBytes;t++){var o=e.words[t>>>2]>>>24-t%4*8&255;this.words[this.sigBytes+t>>>2]|=o<<24-(this.sigBytes+t)%4*8}else for(t=0;t<e.sigBytes;t+=4)this.words[this.sigBytes+t>>>2]=e.words[t>>>2];return this.sigBytes+=e.sigBytes,this},e.prototype.clamp=function(){this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4)},e.prototype.clone=function(){return new e(this.words.slice(0),this.sigBytes)},e}();o.WordArray=n,cc._RF.pop()},{"../enc/Hex":"Hex"}],YXButton:[function(e,t,o){"use strict";cc._RF.push(t,"ee8d2nly8dFiaE172e5AlM9","YXButton");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,l=(a.property,a.disallowMultiple),c=a.menu,p=(a.executionOrder,a.requireComponent,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bindedObject=[],t.CLICK_INTERVAL=.2,t.enableClickInterval=!0,t._isClickValid=!0,t}return n(t,e),Object.defineProperty(t.prototype,"isClickValid",{get:function(){return this._isClickValid||!this.enableClickInterval},set:function(e){this._isClickValid=e},enumerable:!1,configurable:!0}),t.prototype.setBind=function(e){this.bindedObject=this.bindedObject.concat(e)},t.prototype._onTouchCancel=function(){e.prototype._onTouchCancel.call(this),this.setParam()},t.prototype._onTouchBegan=function(t){e.prototype._onTouchBegan.call(this,t),this.setParam()},t.prototype._onTouchEnded=function(t){e.prototype._onTouchEnded.call(this,t),this.setParam()},t.prototype.setParam=function(){for(var e=0;e<this.bindedObject.length;e++){var t=this.bindedObject[e];t.toScale=this._toScale,t.fromScale=this._fromScale,t.transitionFinished=this._transitionFinished,t.Time=this.time,t.Duration=this.duration}},t.prototype.setActive=function(e){for(var t=0;t<this.bindedObject.length;t++){var o=this.bindedObject[t].node;o&&cc.isValid(o)&&(o.active=e)}},r([s,l(),c("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/YXButton")],t)}(cc.Button));o.default=p,cc._RF.pop()},{}],YXTween:[function(e,t,o){"use strict";cc._RF.push(t,"b074a2+7X9Feqsp9V0YzFNv","YXTween");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.YXTween=void 0;var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.start=function(){return this.target?(this&&cc.director.getActionManager().removeAction(this._finalAction),this._finalAction=this._union(),Game.Tween.actionMgr.addAction(this._finalAction,this._target,!1),this):(Logger.warn("Please set target to tween first"),this)},t}(cc.Tween);o.YXTween=r,cc._RF.pop()},{}],YunDun:[function(e,t,o){"use strict";cc._RF.push(t,"22f3982r3lCf4xkatUtRq2i","YunDun"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../logic/hallcommon/const/HallStorageKey"),n=e("./AppDunControl"),r=e("../../../logic/core/tool/ReportTool"),a=function(){function e(e){var t=this;this.isDunInit=!1,this._isSupport=!1,this.sdkName="yundun",this._dunType=0,this._dunType=e,Global.NativeEvent.isSupportSDK(this.sdkName,null,function(o){0==o.result?t._isSupport=!0:Logger.error("checkAppIsSupportDunByType dunType = "+e+" isSupport = false")})}return e.prototype.isAppSupport=function(){return this._isSupport},e.prototype.checkCfgIsValid=function(e){return!!(e&&e.accessKey&&e.uuid)},e.prototype.init=function(e,t){var o=this;if(Logger.error("init YunDun SDK"),this.checkCfgIsValid(e))if(this.isDunInit)Logger.error("init YunDun SDK this.isTDunInit  = true");else{var a=this.getInitState();Logger.error("init YunDun SDK state = "+a);var s=e.accessKey,l=e.uuid;a==n.DUNSTATE.INIT&&s&&l&&(Logger.error("initYunDunSDK"),Global.NativeEvent.initYunDunSDK(s,l,function(e){if(Logger.error("initYunDunSDK ret = "+JSON.stringify(e)),e){var a=Number(e.result);if(0==a||0==a)o.isDunInit=!0,Global.Event.event(GlobalEvent.DunInitFinish),Global.Setting.storage.set(i.default.DunInitRecord+"_"+n.DUNTYPE.YUN_DUN,1),Logger.error("initYunDunSDK ret = 0 success ");else{Logger.error("initYunDunSDK ret != 0 failed ");var s={result:"ret != 0 "+a,type:n.DUNTYPE.YUN_DUN};Global.ReportTool.ReportClientError(r.ReportTool.REPORT_TYPE_INIT_DUN_ERROR,s)}}else Logger.error("initYunDunSDK retObj == null failed "),s={result:"initYunDunSDK retObj == null failed",type:n.DUNTYPE.YUN_DUN},Global.ReportTool.ReportClientError(r.ReportTool.REPORT_TYPE_INIT_DUN_ERROR,s);t&&t()}))}else Logger.error("init YunDun SDK checkCfgIsValid  = false")},e.prototype.isInit=function(){return this.isDunInit||0==this.getInitState()&&(this.isDunInit=!0),this.isDunInit},e.prototype.getInitState=function(){return Global.NativeEvent.getYunDunInitRet()},e.prototype.getServerIPAndPort=function(e,t){if(this.isDunInit){var o=Global.NativeEvent.getYunDunServerIPAndPort(e,t);if(o){Logger.error("getServerIPAndPort serverIPAndPortJson = "+o);var i=JSON.parse(o);if(i&&null!=i.result&&(0==i.result||0==i.result)&&i.serverIp&&i.serverPort)return{ip:i.serverIp,port:i.serverPort}}else Logger.error("getServerIPAndPort serverIPAndPortJson = null");return null}Logger.error("YunDun getServerIPAndPort isDunInit = false")},e}();o.default=a,cc._RF.pop()},{"../../../logic/core/tool/ReportTool":"ReportTool","../../../logic/hallcommon/const/HallStorageKey":"HallStorageKey","./AppDunControl":"AppDunControl"}],ZADun:[function(e,t,o){"use strict";cc._RF.push(t,"80641GWMqtI0pjbu24Sl34C","ZADun"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../logic/hallcommon/const/HallStorageKey"),n=e("../../../logic/core/tool/ReportTool"),r=e("./AppDunControl"),a=function(){function e(e){var t=this;this.isDunInit=!1,this._isSupport=!1,this.sdkName="zadun",this._dunType=0,this._dunType=e,Global.NativeEvent.isSupportSDK(this.sdkName,null,function(o){0==o.result?t._isSupport=!0:Logger.error("checkAppIsSupportDunByType dunType = "+e+" isSupport = false")})}return e.prototype.isAppSupport=function(){return this._isSupport},e.prototype.checkCfgIsValid=function(e){return!(!e||!e.key2)},e.prototype.init=function(e,t){var o=this;if(Logger.error("init ZADun SDK"),this.checkCfgIsValid(e))if(this.isDunInit)Logger.error("init ZADun SDK this.isTDunInit  = true");else if(this._isSupport){var a=this.getInitState();Logger.error("init ZADun SDK state = "+a);var s=e.key2;a==r.DUNSTATE.INIT&&s&&Global.NativeEvent.initZADunSDK(s,function(e){if(e){var a=Number(e.result);if(0==a||0==a)o.isDunInit=!0,Global.Event.event(GlobalEvent.DunInitFinish),Global.Setting.storage.set(i.default.DunInitRecord+"_"+r.DUNTYPE.ZA_DUN,1),Logger.error("initZADunSDK ret = 0 success ");else{Logger.error("initZADunSDK ret != 0 failed ");var s=e.funcParam?e.funcParam:"",l={result:"ret != 0 "+a,type:r.DUNTYPE.ZA_DUN,error_msg:s};Global.ReportTool.ReportClientError(n.ReportTool.REPORT_TYPE_INIT_DUN_ERROR,l)}}else Logger.error("initZADunSDK retObj == null failed "),l={result:"initZADunSDK retObj == null failed",type:r.DUNTYPE.ZA_DUN},Global.ReportTool.ReportClientError(n.ReportTool.REPORT_TYPE_INIT_DUN_ERROR,l);t&&t()})}else Logger.error("init ZADun SDK is not support");else Logger.error("init ZADun SDK checkCfgIsValid  = false")},e.prototype.getInitState=function(){return this._isSupport?Global.NativeEvent.getZADunInitRet():r.DUNSTATE.FAILED},e.prototype.getPort=function(e){var t;return t=Global.NativeEvent.getZADunPortByAddr("",e),Logger.error("ZADun getPort port = "+t),t},e.prototype.getServerIPAndPort=function(e,t){if(this.isDunInit)return{ip:"127.0.0.1",port:this.getPort(t)};Logger.error("ZADun getServerIPAndPort isDunInit = false")},e.prototype.isInit=function(){return!!this._isSupport&&(this.isDunInit||0==this.getInitState()&&(this.isDunInit=!0),this.isDunInit)},e}();o.default=a,cc._RF.pop()},{"../../../logic/core/tool/ReportTool":"ReportTool","../../../logic/hallcommon/const/HallStorageKey":"HallStorageKey","./AppDunControl":"AppDunControl"}],ZhuanpanModel:[function(e,t,o){"use strict";cc._RF.push(t,"6ea3a/vZ1NIfp26V5SKwaog","ZhuanpanModel");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../framework/model/ModelBase"),a=e("../../hall/ui/Activity/ActivityConstants"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.awardResult=-1,t.data=null,t.lunboDataArr=[],t.bOpen=!1,t._Status=!1,t}return n(t,e),t.prototype.onInit=function(){t.instance=this},Object.defineProperty(t.prototype,"Status",{get:function(){return this._Status},enumerable:!1,configurable:!0}),t.prototype.SetStatus=function(e){this._Status=e},Object.defineProperty(t.prototype,"Name",{get:function(){return"ZhuanpanModel"},enumerable:!1,configurable:!0}),t.prototype.clear=function(){this.SetStatus(!1)},t.prototype.reqActivityCfg=function(){var e=this;Global.HallServer.send(NetAppface.mod,"GetActivityCfg",{},function(o){Global.Event.event(a.ActivityConstants.SHOW_ACT_WAITTING,!1);for(var i=o.data,n=0;n<i.length;n++){var r=i[n];r.atype==a.ActivityType.zhuanpan&&(e.data=r.cfg,e.event(t.RefreshPanelUI,e.data),e.event(t.RefreshScore))}}.bind(this),function(){Global.Event.event(a.ActivityConstants.SHOW_ACT_WAITTING,!1),Logger.error("zhuanpanModel reqActivityCfg failed")}.bind(this),!1)},t.prototype.reqChoujiang=function(e){var o={atype:a.ActivityType.zhuanpan,type:e},i=this;Global.HallServer.sendWithNoRetry(NetAppface.mod,"ReceiveActivityAward",o,function(e){var o=e.award;if(0!=o){var n=e.num,r=e.coin;i.data.coin=r,r<50&&Global.Event.event(a.ActivityConstants.HIDE_RED_PORT,a.ActivityType.zhuanpan),i.awardResult=o,i.event(t.StartDrawLucky,n),i.event(t.RefreshScore)}else Global.UI.fastTip("\u8f6c\u76d8\u6d3b\u52a8\u5df2\u7ed3\u675f\uff01")}.bind(this),function(){Logger.error("zhuanpanModel reqChoujiang failed")}.bind(this),!1)},t.prototype.reqLunbo=function(e){void 0===e&&(e=-1);var o=this;Global.HallServer.send(NetAppface.mod,"GetActivityAwardRecord",{id:0},function(i){o.lunboDataArr=i.data,o.event(t.RefreshRecordUI,e)}.bind(this),function(e){Logger.error("zhuanpanModel reqLunbo failed:"+JSON.stringify(e))}.bind(this),!1)},t.instance=null,t.RefreshPanelUI="RefreshPanelUI",t.RefreshRecordUI="RefreshRecordUI",t.RefreshScore="RefreshScore",t.StartDrawLucky="StartDrawLucky",t}(r.default);o.default=s,cc._RF.pop()},{"../../../framework/model/ModelBase":"ModelBase","../../hall/ui/Activity/ActivityConstants":"ActivityConstants"}],aliBandWin:[function(e,t,o){"use strict";cc._RF.push(t,"3fc639/i29DZpe+xej3jPN9","aliBandWin");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nameEditBox=null,t.aliAccountEditBox=null,t}return n(t,e),t.prototype.initView=function(){this.nameEditBox=this.getComponent("NameEditBox",cc.EditBox),this.aliAccountEditBox=this.getComponent("AccountEditBox",cc.EditBox),this.addCommonClick("bandBtn",this.bandBtnFunc,this)},t.prototype.checkTextEmptyAndShowTips=function(e,t){return!(e.length<=0&&(Global.UI.fastTip(t),1))},t.prototype.checkSpecialCharAndShowTips=function(e,t,o){for(var i=0;i<e.length;i++){var n=e.charAt(i);if(t.indexOf(n)>=0)return Global.UI.fastTip(o),!1}return!0},t.prototype.bandBtnFunc=function(){this.checkTextEmptyAndShowTips(this.nameEditBox.string,"\u59d3\u540d\u4e0d\u80fd\u4e3a\u7a7a")&&this.checkTextEmptyAndShowTips(this.aliAccountEditBox.string,"\u8d26\u6237\u4e0d\u80fd\u4e3a\u7a7a")&&this.checkSpecialCharAndShowTips(this.aliAccountEditBox.string," ","\u8d26\u53f7\u4e2d\u6709\u975e\u6cd5\u5b57\u7b26\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165")&&Global.UI.show("WndaliBandConfirm",this.nameEditBox.string,this.aliAccountEditBox.string)},t}(e("../../../../../core/ui/ViewBase").default);o.default=r,cc._RF.pop()},{"../../../../../core/ui/ViewBase":"ViewBase"}],aliExtractCashWin:[function(e,t,o){"use strict";cc._RF.push(t,"f97f8Z6ynZB47yG2yuiV4p8","aliExtractCashWin");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.aliAccountLabel=null,t}return n(t,e),t.prototype.initView=function(){e.prototype.initView.call(this),this.aliAccountLabel=this.getComponent("aliAccountBox/aliAccountTextLabel",cc.RichText)},t.prototype.onSubViewShow=function(){e.prototype.onSubViewShow.call(this);var t=this.model.bankDatas||{};this.info="1.\u652f\u4ed8\u5b9d\u5355\u6b21\u63d0\u73b0\u989d\u5ea6\u4e3a%s~%s\u5143\uff0c\u4e14\u53ea\u80fd\u4e3a10\u7684\u500d\u6570\n2.\u6bcf\u4eba\u6bcf\u5929\u652f\u4ed8\u5b9d\u6700\u591a\u63d0\u73b0%s\u5143\uff0c\u6700\u591a\u63d0\u73b0%s\u6b21\n3.\u6bcf\u7b14\u63d0\u73b0\u9700\u8fbe\u5230\u5145\u503c\u91d1\u989d\u4e00\u500d\u6d41\u6c34\uff0c\u4e14\u4f59\u989d\u81f3\u5c11\u4fdd\u7559%s\u5143",this.rateLabel.string=this.model.getRateInfo(),this.info+=this.model.getPutInfo(2),this.msgLabel.string=cc.js.formatStr(this.info,t.ali_min_put_point,t.ali_max_put_point,t.ali_day_max_put_point,t.ali_put_day_max_num,t.forzen_point),this.aliAccountLabel.string="<b>"+t.ali_account+"</b>"||""},t.prototype.checkData=function(){var e=parseInt(this.ecNumEditBox.string);return e<this.model.getAliMinLimit()?(Global.UI.fastTip("\u63d0\u73b0\u91d1\u989d\u8d85\u51fa\u9650\u5236\u8303\u56f4"),!1):e>this.model.getAliMaxLimit()?(Global.UI.fastTip("\u63d0\u73b0\u91d1\u989d\u8d85\u51fa\u9650\u5236\u8303\u56f4"),!1):e%10!=0?(Global.UI.fastTip("\u63d0\u73b0\u91d1\u989d\u53ea\u80fd\u4e3a10\u7684\u500d\u6570"),!1):!(e>Global.PlayerData.point/Global.Setting.glodRatio&&(Global.UI.fastTip("\u53d1\u8d77\u63d0\u73b0\u5931\u8d25\uff0c\u4f60\u7684\u53ef\u63d0\u73b0\u91d1\u989d\u4e0d\u8db3"),1))},t.prototype.confirmBtn=function(){if(this.checkData()){var e=parseInt(this.ecNumEditBox.string);this.model.reqAliApplyCash(e)}else this.resetBtnFunc()},t.prototype.updateChipList=function(){},t}(e("../common/ExtractCashWin").default);o.default=r,cc._RF.pop()},{"../common/ExtractCashWin":"ExtractCashWin"}],"crypto-ts":[function(e,t,o){"use strict";cc._RF.push(t,"7c0cdLJMOZIM7nYUxsW9Zog","crypto-ts"),Object.defineProperty(o,"__esModule",{value:!0}),o.SHA256=o.AES=o.mode=o.pad=o.enc=o.algo=o.lib=void 0;var i=e("./lib/WordArray"),n=e("./lib/BlockCipher"),r=e("./lib/CipherParams"),a=e("./lib/Hasher"),s=e("./lib/SerializableCipher"),l=e("./lib/PasswordBasedCipher");o.lib={BlockCipher:n.BlockCipher,WordArray:i.WordArray,CipherParams:r.CipherParams,Hasher:a.Hasher,SerializableCipher:s.SerializableCipher,PasswordBasedCipher:l.PasswordBasedCipher};var c=e("./algo/AES"),p=e("./algo/SHA256");o.algo={AES:c.AES,SHA256:p.SHA256};var h=e("./enc/Utf8"),u=e("./enc/Hex");o.enc={Utf8:h.Utf8,Hex:u.Hex};var d=e("./pad/NoPadding"),f=e("./pad/PKCS7");o.pad={NoPadding:d.NoPadding,PKCS7:f.PKCS7};var g=e("./mode/CBC"),m=e("./mode/ECB");o.mode={CBC:g.CBC,ECB:m.ECB},o.AES=o.lib.BlockCipher._createHelper(o.algo.AES),o.SHA256=o.lib.Hasher._createHelper(o.algo.SHA256),cc._RF.pop()},{"./algo/AES":"AES","./algo/SHA256":"SHA256","./enc/Hex":"Hex","./enc/Utf8":"Utf8","./lib/BlockCipher":"BlockCipher","./lib/CipherParams":"CipherParams","./lib/Hasher":"Hasher","./lib/PasswordBasedCipher":"PasswordBasedCipher","./lib/SerializableCipher":"SerializableCipher","./lib/WordArray":"WordArray","./mode/CBC":"CBC","./mode/ECB":"ECB","./pad/NoPadding":"NoPadding","./pad/PKCS7":"PKCS7"}],index:[function(e,t,o){"use strict";cc._RF.push(t,"b1337/tLypFgLWU34nB4Qie","index");var i=this&&this.__createBinding||(Object.create?function(e,t,o,i){void 0===i&&(i=o),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[o]}})}:function(e,t,o,i){void 0===i&&(i=o),e[i]=t[o]}),n=this&&this.__exportStar||function(e,t){for(var o in e)"default"===o||Object.prototype.hasOwnProperty.call(t,o)||i(t,e,o)};Object.defineProperty(o,"__esModule",{value:!0}),n(e("./Utf8"),o),cc._RF.pop()},{"./Utf8":"Utf8"}],int64:[function(e,t,o){"use strict";cc._RF.push(t,"cc1ae8uf1FPdJwTVWbg8jHt","int64"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function e(e,t){this._buildHex(),e instanceof Array?(this.buffer=e,this.offset=t||0):"[object Uint8Array]"==Object.prototype.toString.call(e)?(this.buffer=Array.apply([],e),this.offset=t||0):(this.buffer=this.buffer||[],this.offset=0,this.setValue.apply(this,arguments))}return e.prototype._buildHex=function(){for(var t=0;t<256;t++)e._HEX[t]=(t>15?"":"0")+t.toString(16)},e.prototype._2scomp=function(){for(var e=this.buffer,t=this.offset,o=1,i=t+7;i>=t;i--){var n=(255^e[i])+o;e[i]=255&n,o=n>>8}},e.prototype.setValue=function(t,o){var i=!1;if(1==arguments.length)if("number"==typeof t){if(i=t<0,o=(t=Math.abs(t))%e.VAL32,(t/=e.VAL32)>e.VAL32)throw new RangeError(t+" is outside Int64 range");t|=0}else{if("string"!=typeof t)throw new Error(t+" must be a Number or String");o=(t=(t+"").replace(/^0x/,"")).substr(-8),t=t.length>8?t.substr(0,t.length-8):"",t=parseInt(t,16),o=parseInt(o,16)}for(var n=this.buffer,r=this.offset,a=7;a>=0;a--)n[r+a]=255&o,o=4==a?t:o>>>8;i&&this._2scomp()},e.prototype.toNumber=function(t){void 0===t&&(t=!1);for(var o=this.buffer,i=this.offset,n=128&o[i],r=0,a=1,s=7,l=1;s>=0;s--,l*=256){var c=o[i+s];n&&(a=(c=(255^c)+a)>>8,c&=255),r+=c*l}return!t&&r>=e.MAX_INT?n?-1/0:1/0:n?-r:r},e.prototype.valueOf=function(){return this.toNumber(!1)},e.prototype.toString=function(e){return void 0===e&&(e=10),this.valueOf().toString(e)},e.prototype.toOctetString=function(t){void 0===t&&(t="");for(var o=new Array(8),i=this.buffer,n=this.offset,r=0;r<8;r++)o[r]=e._HEX[i[n+r]];return o.join(t||"")},e.prototype.toBuffer=function(e){return void 0===e&&(e=!1),e&&0===this.offset?this.buffer:Array.call([],this.buffer)},e.prototype.compare=function(e){if((128&this.buffer[this.offset])!=(128&e.buffer[e.offset]))return e.buffer[e.offset]-this.buffer[this.offset];for(var t=0;t<8;t++)if(this.buffer[this.offset+t]!==e.buffer[e.offset+t])return this.buffer[this.offset+t]-e.buffer[e.offset+t];return 0},e.prototype.equals=function(e){return 0===this.compare(e)},e.prototype.inspect=function(){return"[Int64 value:"+this+" octets:"+this.toOctetString(" ")+"]"},e.MASK31=2147483647,e.VAL31=2147483648,e.MASK32=4294967295,e.VAL32=4294967296,e.MAX_INT=Math.pow(2,53),e.MIN_INT=-Math.pow(2,53),e._HEX=new Array,e}();o.default=i,cc._RF.pop()},{}],italk_msg_buffer:[function(e,t,o){"use strict";cc._RF.push(t,"93473X1UjNMWIbmuPVKH5R5","italk_msg_buffer"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./italkmsg_crc"),n=function(){function e(){}return e.buildBufer=function(e,t){var o=e.length,n=Math.floor(o/10240),r=o%10240,a=new Uint8Array(24+o);a[0]=2,a[1]=t.valueOf(),a[2]=n,a[3]=0,a[4]=255&r,a[5]=255&r>>8;var s=i.default.crc16(a);a[6]=255&s,a[7]=255&s>>8;for(var l=0;l<o;l++)a[24+l]=e[l];return a},e}();o.default=n,cc._RF.pop()},{"./italkmsg_crc":"italkmsg_crc"}],italkmsg_crc:[function(e,t,o){"use strict";cc._RF.push(t,"b24b5fZc1VDfaEVXJtaTiPN","italkmsg_crc"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function e(){}return e.crc16Add=function(e,t){return this.crc16Tab[255&(e>>8^t)]^e<<8&65535},e.crc16=function(e){var t,o=0;for(t=0;t<6;t++)o=this.crc16Add(o,e[t]);return o},e.crcuuid=function(e){var t,o=0;for(t=0;t<36;t++)o=this.crc16Add(o,e[t]);return o},e.crc16Tab=new Array(0,4129,8258,12387,16516,20645,24774,28903,33032,37161,41290,45419,49548,53677,57806,61935,4657,528,12915,8786,21173,17044,29431,25302,37689,33560,45947,41818,54205,50076,62463,58334,9314,13379,1056,5121,25830,29895,17572,21637,42346,46411,34088,38153,58862,62927,50604,54669,13907,9842,5649,1584,30423,26358,22165,18100,46939,42874,38681,34616,63455,59390,55197,51132,18628,22757,26758,30887,2112,6241,10242,14371,51660,55789,59790,63919,35144,39273,43274,47403,23285,19156,31415,27286,6769,2640,14899,10770,56317,52188,64447,60318,39801,35672,47931,43802,27814,31879,19684,23749,11298,15363,3168,7233,60846,64911,52716,56781,44330,48395,36200,40265,32407,28342,24277,20212,15891,11826,7761,3696,65439,61374,57309,53244,48923,44858,40793,36728,37256,33193,45514,41451,53516,49453,61774,57711,4224,161,12482,8419,20484,16421,28742,24679,33721,37784,41979,46042,49981,54044,58239,62302,689,4752,8947,13010,16949,21012,25207,29270,46570,42443,38312,34185,62830,58703,54572,50445,13538,9411,5280,1153,29798,25671,21540,17413,42971,47098,34713,38840,59231,63358,50973,55100,9939,14066,1681,5808,26199,30326,17941,22068,55628,51565,63758,59695,39368,35305,47498,43435,22596,18533,30726,26663,6336,2273,14466,10403,52093,56156,60223,64286,35833,39896,43963,48026,19061,23124,27191,31254,2801,6864,10931,14994,64814,60687,56684,52557,48554,44427,40424,36297,31782,27655,23652,19525,15522,11395,7392,3265,61215,65342,53085,57212,44955,49082,36825,40952,28183,32310,20053,24180,11923,16050,3793,7920),e}();o.default=i,cc._RF.pop()},{}],italkmsg_pb:[function(e,t){"use strict";cc._RF.push(t,"f9841bDVA1Ns5H9XpT0X9zt","italkmsg_pb");var o,i,n,r,a=protobuf,s=a.Reader,l=a.Writer,c=a.util,p=a.roots.default||(a.roots.default={});p.italk=((r={}).pb=((n={}).ItalkTypeEnum=(o={},(i=Object.create(o))[o[0]="ITKCECHO"]=0,i[o[1]="ITKSECHO"]=1,i[o[2]="ITKHEART"]=2,i[o[3]="ITKRegister"]=3,i[o[4]="ITKSubscribe"]=4,i[o[5]="ITKPublish"]=5,i[o[6]="ITKPull"]=6,i[o[7]="ITKAbnormalFeedback"]=7,i[o[8]="ITKBusinessStatistics"]=8,i[o[9]="ITKFeedbackServer"]=9,i[o[10]="ITKServerSet"]=10,i[o[11]="ITKServerSetPack"]=11,i[o[20]="ITKLoginNEW"]=20,i[o[21]="ITKLogin"]=21,i[o[22]="ITKChat"]=22,i[o[23]="ITKCommon"]=23,i[o[40]="ITKServerChat"]=40,i[o[41]="ITKServerChatEcho"]=41,i[o[42]="ITKServerCommon"]=42,i[o[43]="ITKServerCommonEcho"]=43,i[o[62]="ITKHeartECHO"]=62,i[o[63]="ITKRegisterECHO"]=63,i[o[64]="ITKSubscribeECHO"]=64,i[o[65]="ITKPublishECHO"]=65,i[o[66]="ITKPullECHO"]=66,i[o[67]="ITKAbnormalFeedbackECHO"]=67,i[o[68]="ITKBusinessStatisticsECHO"]=68,i[o[69]="ITKFeedbackServerECHO"]=69,i[o[70]="ITKServerSetECHO"]=70,i[o[71]="ITKServerSetPackECHO"]=71,i[o[81]="ITKLoginECHO"]=81,i[o[82]="ITKChatECHO"]=82,i[o[83]="ITKCommonECHO"]=83,i),n.ItalkErrorEnum=function(){var e={},t=Object.create(e);return t[e[0]="ITKOK"]=0,t[e[1]="ITKERROR"]=1,t[e[2]="ITKXXX"]=2,t}(),n.ItalkEchoInfo=function(){function e(e){if(e)for(var t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.type=0,e.prototype.error=0,e.prototype.Info="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.type&&e.hasOwnProperty("type")&&t.uint32(8).int32(e.type),null!=e.error&&e.hasOwnProperty("error")&&t.uint32(16).int32(e.error),null!=e.Info&&e.hasOwnProperty("Info")&&t.uint32(26).string(e.Info),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var o=void 0===t?e.len:e.pos+t,i=new p.italk.pb.ItalkEchoInfo;e.pos<o;){var n=e.uint32();switch(n>>>3){case 1:i.type=e.int32();break;case 2:i.error=e.int32();break;case 3:i.Info=e.string();break;default:e.skipType(7&n)}}return i},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 20:case 21:case 22:case 23:case 40:case 41:case 42:case 43:case 62:case 63:case 64:case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 81:case 82:case 83:}if(null!=e.error&&e.hasOwnProperty("error"))switch(e.error){default:return"error: enum value expected";case 0:case 1:case 2:}return null!=e.Info&&e.hasOwnProperty("Info")&&!c.isString(e.Info)?"Info: string expected":null},e.fromObject=function(e){if(e instanceof p.italk.pb.ItalkEchoInfo)return e;var t=new p.italk.pb.ItalkEchoInfo;switch(e.type){case"ITKCECHO":case 0:t.type=0;break;case"ITKSECHO":case 1:t.type=1;break;case"ITKHEART":case 2:t.type=2;break;case"ITKRegister":case 3:t.type=3;break;case"ITKSubscribe":case 4:t.type=4;break;case"ITKPublish":case 5:t.type=5;break;case"ITKPull":case 6:t.type=6;break;case"ITKAbnormalFeedback":case 7:t.type=7;break;case"ITKBusinessStatistics":case 8:t.type=8;break;case"ITKFeedbackServer":case 9:t.type=9;break;case"ITKServerSet":case 10:t.type=10;break;case"ITKServerSetPack":case 11:t.type=11;break;case"ITKLoginNEW":case 20:t.type=20;break;case"ITKLogin":case 21:t.type=21;break;case"ITKChat":case 22:t.type=22;break;case"ITKCommon":case 23:t.type=23;break;case"ITKServerChat":case 40:t.type=40;break;case"ITKServerChatEcho":case 41:t.type=41;break;case"ITKServerCommon":case 42:t.type=42;break;case"ITKServerCommonEcho":case 43:t.type=43;break;case"ITKHeartECHO":case 62:t.type=62;break;case"ITKRegisterECHO":case 63:t.type=63;break;case"ITKSubscribeECHO":case 64:t.type=64;break;case"ITKPublishECHO":case 65:t.type=65;break;case"ITKPullECHO":case 66:t.type=66;break;case"ITKAbnormalFeedbackECHO":case 67:t.type=67;break;case"ITKBusinessStatisticsECHO":case 68:t.type=68;break;case"ITKFeedbackServerECHO":case 69:t.type=69;break;case"ITKServerSetECHO":case 70:t.type=70;break;case"ITKServerSetPackECHO":case 71:t.type=71;break;case"ITKLoginECHO":case 81:t.type=81;break;case"ITKChatECHO":case 82:t.type=82;break;case"ITKCommonECHO":case 83:t.type=83}switch(e.error){case"ITKOK":case 0:t.error=0;break;case"ITKERROR":case 1:t.error=1;break;case"ITKXXX":case 2:t.error=2}return null!=e.Info&&(t.Info=String(e.Info)),t},e.toObject=function(e,t){t||(t={});var o={};return t.defaults&&(o.type=t.enums===String?"ITKCECHO":0,o.error=t.enums===String?"ITKOK":0,o.Info=""),null!=e.type&&e.hasOwnProperty("type")&&(o.type=t.enums===String?p.italk.pb.ItalkTypeEnum[e.type]:e.type),null!=e.error&&e.hasOwnProperty("error")&&(o.error=t.enums===String?p.italk.pb.ItalkErrorEnum[e.error]:e.error),null!=e.Info&&e.hasOwnProperty("Info")&&(o.Info=e.Info),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),n.ItalkHeartMsg=function(){function e(e){if(e)for(var t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.msgType=0,e.prototype.heartCount=c.Long?c.Long.fromBits(0,0,!0):0,e.prototype.number=c.Long?c.Long.fromBits(0,0,!0):0,e.prototype.token="",e.prototype.serverInfo="",e.prototype.userid="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.msgType&&e.hasOwnProperty("msgType")&&t.uint32(8).int32(e.msgType),null!=e.heartCount&&e.hasOwnProperty("heartCount")&&t.uint32(16).uint64(e.heartCount),null!=e.number&&e.hasOwnProperty("number")&&t.uint32(24).uint64(e.number),null!=e.token&&e.hasOwnProperty("token")&&t.uint32(34).string(e.token),null!=e.serverInfo&&e.hasOwnProperty("serverInfo")&&t.uint32(42).string(e.serverInfo),null!=e.userid&&e.hasOwnProperty("userid")&&t.uint32(50).string(e.userid),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var o=void 0===t?e.len:e.pos+t,i=new p.italk.pb.ItalkHeartMsg;e.pos<o;){var n=e.uint32();switch(n>>>3){case 1:i.msgType=e.int32();break;case 2:i.heartCount=e.uint64();break;case 3:i.number=e.uint64();break;case 4:i.token=e.string();break;case 5:i.serverInfo=e.string();break;case 6:i.userid=e.string();break;default:e.skipType(7&n)}}return i},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.msgType&&e.hasOwnProperty("msgType"))switch(e.msgType){default:return"msgType: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 20:case 21:case 22:case 23:case 40:case 41:case 42:case 43:case 62:case 63:case 64:case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 81:case 82:case 83:}return null!=e.heartCount&&e.hasOwnProperty("heartCount")&&!(c.isInteger(e.heartCount)||e.heartCount&&c.isInteger(e.heartCount.low)&&c.isInteger(e.heartCount.high))?"heartCount: integer|Long expected":null!=e.number&&e.hasOwnProperty("number")&&!(c.isInteger(e.number)||e.number&&c.isInteger(e.number.low)&&c.isInteger(e.number.high))?"number: integer|Long expected":null!=e.token&&e.hasOwnProperty("token")&&!c.isString(e.token)?"token: string expected":null!=e.serverInfo&&e.hasOwnProperty("serverInfo")&&!c.isString(e.serverInfo)?"serverInfo: string expected":null!=e.userid&&e.hasOwnProperty("userid")&&!c.isString(e.userid)?"userid: string expected":null},e.fromObject=function(e){if(e instanceof p.italk.pb.ItalkHeartMsg)return e;var t=new p.italk.pb.ItalkHeartMsg;switch(e.msgType){case"ITKCECHO":case 0:t.msgType=0;break;case"ITKSECHO":case 1:t.msgType=1;break;case"ITKHEART":case 2:t.msgType=2;break;case"ITKRegister":case 3:t.msgType=3;break;case"ITKSubscribe":case 4:t.msgType=4;break;case"ITKPublish":case 5:t.msgType=5;break;case"ITKPull":case 6:t.msgType=6;break;case"ITKAbnormalFeedback":case 7:t.msgType=7;break;case"ITKBusinessStatistics":case 8:t.msgType=8;break;case"ITKFeedbackServer":case 9:t.msgType=9;break;case"ITKServerSet":case 10:t.msgType=10;break;case"ITKServerSetPack":case 11:t.msgType=11;break;case"ITKLoginNEW":case 20:t.msgType=20;break;case"ITKLogin":case 21:t.msgType=21;break;case"ITKChat":case 22:t.msgType=22;break;case"ITKCommon":case 23:t.msgType=23;break;case"ITKServerChat":case 40:t.msgType=40;break;case"ITKServerChatEcho":case 41:t.msgType=41;break;case"ITKServerCommon":case 42:t.msgType=42;break;case"ITKServerCommonEcho":case 43:t.msgType=43;break;case"ITKHeartECHO":case 62:t.msgType=62;break;case"ITKRegisterECHO":case 63:t.msgType=63;break;case"ITKSubscribeECHO":case 64:t.msgType=64;break;case"ITKPublishECHO":case 65:t.msgType=65;break;case"ITKPullECHO":case 66:t.msgType=66;break;case"ITKAbnormalFeedbackECHO":case 67:t.msgType=67;break;case"ITKBusinessStatisticsECHO":case 68:t.msgType=68;break;case"ITKFeedbackServerECHO":case 69:t.msgType=69;break;case"ITKServerSetECHO":case 70:t.msgType=70;break;case"ITKServerSetPackECHO":case 71:t.msgType=71;break;case"ITKLoginECHO":case 81:t.msgType=81;break;case"ITKChatECHO":case 82:t.msgType=82;break;case"ITKCommonECHO":case 83:t.msgType=83}return null!=e.heartCount&&(c.Long?(t.heartCount=c.Long.fromValue(e.heartCount)).unsigned=!0:"string"==typeof e.heartCount?t.heartCount=parseInt(e.heartCount,10):"number"==typeof e.heartCount?t.heartCount=e.heartCount:"object"==typeof e.heartCount&&(t.heartCount=new c.LongBits(e.heartCount.low>>>0,e.heartCount.high>>>0).toNumber(!0))),null!=e.number&&(c.Long?(t.number=c.Long.fromValue(e.number)).unsigned=!0:"string"==typeof e.number?t.number=parseInt(e.number,10):"number"==typeof e.number?t.number=e.number:"object"==typeof e.number&&(t.number=new c.LongBits(e.number.low>>>0,e.number.high>>>0).toNumber(!0))),null!=e.token&&(t.token=String(e.token)),null!=e.serverInfo&&(t.serverInfo=String(e.serverInfo)),null!=e.userid&&(t.userid=String(e.userid)),t},e.toObject=function(e,t){t||(t={});var o={};if(t.defaults){if(o.msgType=t.enums===String?"ITKCECHO":0,c.Long){var i=new c.Long(0,0,!0);o.heartCount=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else o.heartCount=t.longs===String?"0":0;c.Long?(i=new c.Long(0,0,!0),o.number=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):o.number=t.longs===String?"0":0,o.token="",o.serverInfo="",o.userid=""}return null!=e.msgType&&e.hasOwnProperty("msgType")&&(o.msgType=t.enums===String?p.italk.pb.ItalkTypeEnum[e.msgType]:e.msgType),null!=e.heartCount&&e.hasOwnProperty("heartCount")&&("number"==typeof e.heartCount?o.heartCount=t.longs===String?String(e.heartCount):e.heartCount:o.heartCount=t.longs===String?c.Long.prototype.toString.call(e.heartCount):t.longs===Number?new c.LongBits(e.heartCount.low>>>0,e.heartCount.high>>>0).toNumber(!0):e.heartCount),null!=e.number&&e.hasOwnProperty("number")&&("number"==typeof e.number?o.number=t.longs===String?String(e.number):e.number:o.number=t.longs===String?c.Long.prototype.toString.call(e.number):t.longs===Number?new c.LongBits(e.number.low>>>0,e.number.high>>>0).toNumber(!0):e.number),null!=e.token&&e.hasOwnProperty("token")&&(o.token=e.token),null!=e.serverInfo&&e.hasOwnProperty("serverInfo")&&(o.serverInfo=e.serverInfo),null!=e.userid&&e.hasOwnProperty("userid")&&(o.userid=e.userid),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),n.ItalkHeartEchoMsg=function(){function e(e){if(e)for(var t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.msgType=0,e.prototype.echoInfo=null,e.prototype.heartCount=c.Long?c.Long.fromBits(0,0,!0):0,e.prototype.number=c.Long?c.Long.fromBits(0,0,!0):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.msgType&&e.hasOwnProperty("msgType")&&t.uint32(8).int32(e.msgType),null!=e.echoInfo&&e.hasOwnProperty("echoInfo")&&p.italk.pb.ItalkEchoInfo.encode(e.echoInfo,t.uint32(18).fork()).ldelim(),null!=e.heartCount&&e.hasOwnProperty("heartCount")&&t.uint32(24).uint64(e.heartCount),null!=e.number&&e.hasOwnProperty("number")&&t.uint32(32).uint64(e.number),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var o=void 0===t?e.len:e.pos+t,i=new p.italk.pb.ItalkHeartEchoMsg;e.pos<o;){var n=e.uint32();switch(n>>>3){case 1:i.msgType=e.int32();break;case 2:i.echoInfo=p.italk.pb.ItalkEchoInfo.decode(e,e.uint32());break;case 3:i.heartCount=e.uint64();break;case 4:i.number=e.uint64();break;default:e.skipType(7&n)}}return i},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.msgType&&e.hasOwnProperty("msgType"))switch(e.msgType){default:return"msgType: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 20:case 21:case 22:case 23:case 40:case 41:case 42:case 43:case 62:case 63:case 64:case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 81:case 82:case 83:}if(null!=e.echoInfo&&e.hasOwnProperty("echoInfo")){var t=p.italk.pb.ItalkEchoInfo.verify(e.echoInfo);if(t)return"echoInfo."+t}return null!=e.heartCount&&e.hasOwnProperty("heartCount")&&!(c.isInteger(e.heartCount)||e.heartCount&&c.isInteger(e.heartCount.low)&&c.isInteger(e.heartCount.high))?"heartCount: integer|Long expected":null!=e.number&&e.hasOwnProperty("number")&&!(c.isInteger(e.number)||e.number&&c.isInteger(e.number.low)&&c.isInteger(e.number.high))?"number: integer|Long expected":null},e.fromObject=function(e){if(e instanceof p.italk.pb.ItalkHeartEchoMsg)return e;var t=new p.italk.pb.ItalkHeartEchoMsg;switch(e.msgType){case"ITKCECHO":case 0:t.msgType=0;break;case"ITKSECHO":case 1:t.msgType=1;break;case"ITKHEART":case 2:t.msgType=2;break;case"ITKRegister":case 3:t.msgType=3;break;case"ITKSubscribe":case 4:t.msgType=4;break;case"ITKPublish":case 5:t.msgType=5;break;case"ITKPull":case 6:t.msgType=6;break;case"ITKAbnormalFeedback":case 7:t.msgType=7;break;case"ITKBusinessStatistics":case 8:t.msgType=8;break;case"ITKFeedbackServer":case 9:t.msgType=9;break;case"ITKServerSet":case 10:t.msgType=10;break;case"ITKServerSetPack":case 11:t.msgType=11;break;case"ITKLoginNEW":case 20:t.msgType=20;break;case"ITKLogin":case 21:t.msgType=21;break;case"ITKChat":case 22:t.msgType=22;break;case"ITKCommon":case 23:t.msgType=23;break;case"ITKServerChat":case 40:t.msgType=40;break;case"ITKServerChatEcho":case 41:t.msgType=41;break;case"ITKServerCommon":case 42:t.msgType=42;break;case"ITKServerCommonEcho":case 43:t.msgType=43;break;case"ITKHeartECHO":case 62:t.msgType=62;break;case"ITKRegisterECHO":case 63:t.msgType=63;break;case"ITKSubscribeECHO":case 64:t.msgType=64;break;case"ITKPublishECHO":case 65:t.msgType=65;break;case"ITKPullECHO":case 66:t.msgType=66;break;case"ITKAbnormalFeedbackECHO":case 67:t.msgType=67;break;case"ITKBusinessStatisticsECHO":case 68:t.msgType=68;break;case"ITKFeedbackServerECHO":case 69:t.msgType=69;break;case"ITKServerSetECHO":case 70:t.msgType=70;break;case"ITKServerSetPackECHO":case 71:t.msgType=71;break;case"ITKLoginECHO":case 81:t.msgType=81;break;case"ITKChatECHO":case 82:t.msgType=82;break;case"ITKCommonECHO":case 83:t.msgType=83}if(null!=e.echoInfo){if("object"!=typeof e.echoInfo)throw TypeError(".italk.pb.ItalkHeartEchoMsg.echoInfo: object expected");t.echoInfo=p.italk.pb.ItalkEchoInfo.fromObject(e.echoInfo)}return null!=e.heartCount&&(c.Long?(t.heartCount=c.Long.fromValue(e.heartCount)).unsigned=!0:"string"==typeof e.heartCount?t.heartCount=parseInt(e.heartCount,10):"number"==typeof e.heartCount?t.heartCount=e.heartCount:"object"==typeof e.heartCount&&(t.heartCount=new c.LongBits(e.heartCount.low>>>0,e.heartCount.high>>>0).toNumber(!0))),null!=e.number&&(c.Long?(t.number=c.Long.fromValue(e.number)).unsigned=!0:"string"==typeof e.number?t.number=parseInt(e.number,10):"number"==typeof e.number?t.number=e.number:"object"==typeof e.number&&(t.number=new c.LongBits(e.number.low>>>0,e.number.high>>>0).toNumber(!0))),t},e.toObject=function(e,t){t||(t={});var o={};if(t.defaults){if(o.msgType=t.enums===String?"ITKCECHO":0,o.echoInfo=null,c.Long){var i=new c.Long(0,0,!0);o.heartCount=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else o.heartCount=t.longs===String?"0":0;c.Long?(i=new c.Long(0,0,!0),o.number=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):o.number=t.longs===String?"0":0}return null!=e.msgType&&e.hasOwnProperty("msgType")&&(o.msgType=t.enums===String?p.italk.pb.ItalkTypeEnum[e.msgType]:e.msgType),null!=e.echoInfo&&e.hasOwnProperty("echoInfo")&&(o.echoInfo=p.italk.pb.ItalkEchoInfo.toObject(e.echoInfo,t)),null!=e.heartCount&&e.hasOwnProperty("heartCount")&&("number"==typeof e.heartCount?o.heartCount=t.longs===String?String(e.heartCount):e.heartCount:o.heartCount=t.longs===String?c.Long.prototype.toString.call(e.heartCount):t.longs===Number?new c.LongBits(e.heartCount.low>>>0,e.heartCount.high>>>0).toNumber(!0):e.heartCount),null!=e.number&&e.hasOwnProperty("number")&&("number"==typeof e.number?o.number=t.longs===String?String(e.number):e.number:o.number=t.longs===String?c.Long.prototype.toString.call(e.number):t.longs===Number?new c.LongBits(e.number.low>>>0,e.number.high>>>0).toNumber(!0):e.number),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),n.ItalkMsgStatusEnum=function(){var e={},t=Object.create(e);return t[e[0]="ITKUnsend"]=0,t[e[1]="ITKSending"]=1,t[e[2]="ITKSended"]=2,t[e[3]="ITKSendFailed"]=3,t[e[4]="ITKReceiverReceived"]=4,t[e[5]="ITKSenderReceived"]=5,t[e[6]="ITKReceiverReaded"]=6,t[e[7]="ITKSenderReaded"]=7,t[e[8]="ITKReceiverDestroyed"]=8,t[e[9]="ITKSenderDestroyed"]=9,t[e[10]="ITKReceiverTimeout"]=10,t[e[11]="ITKSenderTimeout"]=11,t[e[12]="ITKSenderRevoke"]=12,t[e[13]="ITKReceiverRevoke"]=13,t[e[21]="ITKMsgStatus1"]=21,t[e[22]="ITKMsgStatus2"]=22,t[e[23]="ITKMsgStatus3"]=23,t[e[24]="ITKMsgStatus4"]=24,t[e[25]="ITKMsgStatus5"]=25,t[e[26]="ITKMsgStatus6"]=26,t}(),n.ItalkChatTypeEnum=function(){var e={},t=Object.create(e);return t[e[0]="ITKSingleChat"]=0,t[e[1]="ITKGroupChat"]=1,t}(),n.ItalkBusinessTypeEnum=function(){var e={},t=Object.create(e);return t[e[0]="ITKSMS"]=0,t[e[1]="ITKPic"]=1,t[e[2]="ITKSound"]=2,t[e[3]="ITKShortVideo"]=3,t[e[4]="ITKFile"]=4,t[e[5]="ITKLocation"]=5,t[e[6]="ITKRedPacket"]=6,t[e[7]="ITKVoiceCall"]=7,t[e[8]="ITKVideoCall"]=8,t[e[9]="ITKServerPush"]=9,t[e[10]="ITKAddFriendRequest"]=10,t[e[11]="ITKNeedFriendVerify"]=11,t[e[12]="ITKAddFriendSucccess"]=12,t[e[13]="ITKVerifyFriendAnswer"]=13,t[e[14]="ITKVerifyFriendSuccess"]=14,t[e[15]="ITKGroupCreate"]=15,t[e[16]="ITKGroupMemberQuit"]=16,t[e[17]="ITKGroupMemberAdd"]=17,t[e[18]="ITKGroupOwnerTransfer"]=18,t[e[19]="ITKInviteGroupMember"]=19,t[e[20]="ITKVerifyInivitation"]=20,t[e[21]="ITKDeleteGroupMember"]=21,t[e[22]="ITKChatStatusChange"]=22,t[e[23]="ITKSystemNotification"]=23,t[e[24]="ITKRevokeMsg"]=24,t[e[25]="ITkDestroyed"]=25,t[e[26]="ITKReturnRedPacket"]=26,t[e[27]="ITKRemoveMsgID"]=27,t[e[28]="ITKOtherMachineLogin"]=28,t[e[29]="ITKRequestLogin"]=29,t[e[30]="ITKAuthLogin"]=30,t[e[31]="ITKUserChange"]=31,t[e[32]="ITKAppState"]=32,t[e[41]="ITKBussniesstype1"]=41,t[e[42]="ITKBussniesstype2"]=42,t[e[43]="ITKBussniesstype3"]=43,t[e[44]="ITKBussniesstype4"]=44,t[e[45]="ITKBussniesstype5"]=45,t[e[46]="ITKBussniesstype6"]=46,t[e[47]="ITKBussniesstype7"]=47,t[e[48]="ITKBussniesstype8"]=48,t[e[49]="ITKBussniesstype9"]=49,t[e[50]="ITKBussniesstype10"]=50,t[e[51]="ITKBussniesstype11"]=51,t[e[52]="ITKBussniesstype12"]=52,t[e[53]="ITKBussniesstype13"]=53,t[e[54]="ITKBussniesstype14"]=54,t[e[55]="ITKBussniesstype15"]=55,t[e[56]="ITKBussniesstype16"]=56,t[e[57]="ITKBussniesstype17"]=57,t[e[58]="ITKBussniesstype18"]=58,t[e[59]="ITKBussniesstype19"]=59,t[e[60]="ITKBussniesstype20"]=60,t[e[61]="ITKBussniesstype21"]=61,t[e[62]="ITKBussniesstype22"]=62,t[e[63]="ITKBussniesstype23"]=63,t[e[64]="ITKBussniesstype24"]=64,t[e[65]="ITKBussniesstype25"]=65,t[e[66]="ITKBussniesstype26"]=66,t[e[67]="ITKBussniesstype27"]=67,t[e[68]="ITKBussniesstype28"]=68,t[e[69]="ITKBussniesstype29"]=69,t[e[70]="ITKBussniesstype30"]=70,t[e[71]="ITKBussniesstype31"]=71,t[e[72]="ITKBussniesstype32"]=72,t[e[73]="ITKBussniesstype33"]=73,t[e[74]="ITKBussniesstype34"]=74,t[e[75]="ITKBussniesstype35"]=75,t[e[76]="ITKBussniesstype36"]=76,t[e[77]="ITKBussniesstype37"]=77,t[e[78]="ITKBussniesstype38"]=78,t[e[79]="ITKBussniesstype39"]=79,t[e[80]="ITKBussniesstype40"]=80,t[e[81]="ITKBussniesstype41"]=81,t[e[82]="ITKBussniesstype42"]=82,t[e[83]="ITKRecodeMsg"]=83,t}(),n.ItalkFormatTypeEnum=function(){var e={},t=Object.create(e);return t[e[0]="ITKBmp"]=0,t[e[1]="ITKJpg"]=1,t[e[2]="ITKPng"]=2,t[e[3]="ITKGif"]=3,t[e[4]="ITKOtherFormat"]=4,t}(),n.ItalkMsgErrorEnum=function(){var e={},t=Object.create(e);return t[e[0]="ITKToAccountNotExist"]=0,t[e[1]="ITKWrongMsgContent"]=1,t[e[2]="ITKOtherError"]=2,t}(),n.ItalkAddFriendStatusEnum=function(){var e={},t=Object.create(e);return t[e[0]="ITKAdded"]=0,t[e[1]="ITKWaitVerification"]=1,t}(),n.ItalkMsgContent=function(){function e(e){if(e)for(var t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.text="",e.prototype.size=0,e.prototype.imageformat=0,e.prototype.width=0,e.prototype.height=0,e.prototype.thumburl="",e.prototype.url="",e.prototype.second=0,e.prototype.filename="",e.prototype.desc="",e.prototype.latitude="",e.prototype.longitude="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.text&&e.hasOwnProperty("text")&&t.uint32(10).string(e.text),null!=e.size&&e.hasOwnProperty("size")&&t.uint32(16).int32(e.size),null!=e.imageformat&&e.hasOwnProperty("imageformat")&&t.uint32(24).int32(e.imageformat),null!=e.width&&e.hasOwnProperty("width")&&t.uint32(32).int32(e.width),null!=e.height&&e.hasOwnProperty("height")&&t.uint32(40).int32(e.height),null!=e.thumburl&&e.hasOwnProperty("thumburl")&&t.uint32(50).string(e.thumburl),null!=e.url&&e.hasOwnProperty("url")&&t.uint32(58).string(e.url),null!=e.second&&e.hasOwnProperty("second")&&t.uint32(64).int32(e.second),null!=e.filename&&e.hasOwnProperty("filename")&&t.uint32(74).string(e.filename),null!=e.desc&&e.hasOwnProperty("desc")&&t.uint32(82).string(e.desc),null!=e.latitude&&e.hasOwnProperty("latitude")&&t.uint32(90).string(e.latitude),null!=e.longitude&&e.hasOwnProperty("longitude")&&t.uint32(98).string(e.longitude),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var o=void 0===t?e.len:e.pos+t,i=new p.italk.pb.ItalkMsgContent;e.pos<o;){var n=e.uint32();switch(n>>>3){case 1:i.text=e.string();break;case 2:i.size=e.int32();break;case 3:i.imageformat=e.int32();break;case 4:i.width=e.int32();break;case 5:i.height=e.int32();break;case 6:i.thumburl=e.string();break;case 7:i.url=e.string();break;case 8:i.second=e.int32();break;case 9:i.filename=e.string();break;case 10:i.desc=e.string();break;case 11:i.latitude=e.string();break;case 12:i.longitude=e.string();break;default:e.skipType(7&n)}}return i},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.text&&e.hasOwnProperty("text")&&!c.isString(e.text))return"text: string expected";if(null!=e.size&&e.hasOwnProperty("size")&&!c.isInteger(e.size))return"size: integer expected";if(null!=e.imageformat&&e.hasOwnProperty("imageformat"))switch(e.imageformat){default:return"imageformat: enum value expected";case 0:case 1:case 2:case 3:case 4:}return null!=e.width&&e.hasOwnProperty("width")&&!c.isInteger(e.width)?"width: integer expected":null!=e.height&&e.hasOwnProperty("height")&&!c.isInteger(e.height)?"height: integer expected":null!=e.thumburl&&e.hasOwnProperty("thumburl")&&!c.isString(e.thumburl)?"thumburl: string expected":null!=e.url&&e.hasOwnProperty("url")&&!c.isString(e.url)?"url: string expected":null!=e.second&&e.hasOwnProperty("second")&&!c.isInteger(e.second)?"second: integer expected":null!=e.filename&&e.hasOwnProperty("filename")&&!c.isString(e.filename)?"filename: string expected":null!=e.desc&&e.hasOwnProperty("desc")&&!c.isString(e.desc)?"desc: string expected":null!=e.latitude&&e.hasOwnProperty("latitude")&&!c.isString(e.latitude)?"latitude: string expected":null!=e.longitude&&e.hasOwnProperty("longitude")&&!c.isString(e.longitude)?"longitude: string expected":null},e.fromObject=function(e){if(e instanceof p.italk.pb.ItalkMsgContent)return e;var t=new p.italk.pb.ItalkMsgContent;switch(null!=e.text&&(t.text=String(e.text)),null!=e.size&&(t.size=0|e.size),e.imageformat){case"ITKBmp":case 0:t.imageformat=0;break;case"ITKJpg":case 1:t.imageformat=1;break;case"ITKPng":case 2:t.imageformat=2;break;case"ITKGif":case 3:t.imageformat=3;break;case"ITKOtherFormat":case 4:t.imageformat=4}return null!=e.width&&(t.width=0|e.width),null!=e.height&&(t.height=0|e.height),null!=e.thumburl&&(t.thumburl=String(e.thumburl)),null!=e.url&&(t.url=String(e.url)),null!=e.second&&(t.second=0|e.second),null!=e.filename&&(t.filename=String(e.filename)),null!=e.desc&&(t.desc=String(e.desc)),null!=e.latitude&&(t.latitude=String(e.latitude)),null!=e.longitude&&(t.longitude=String(e.longitude)),t},e.toObject=function(e,t){t||(t={});var o={};return t.defaults&&(o.text="",o.size=0,o.imageformat=t.enums===String?"ITKBmp":0,o.width=0,o.height=0,o.thumburl="",o.url="",o.second=0,o.filename="",o.desc="",o.latitude="",o.longitude=""),null!=e.text&&e.hasOwnProperty("text")&&(o.text=e.text),null!=e.size&&e.hasOwnProperty("size")&&(o.size=e.size),null!=e.imageformat&&e.hasOwnProperty("imageformat")&&(o.imageformat=t.enums===String?p.italk.pb.ItalkFormatTypeEnum[e.imageformat]:e.imageformat),null!=e.width&&e.hasOwnProperty("width")&&(o.width=e.width),null!=e.height&&e.hasOwnProperty("height")&&(o.height=e.height),null!=e.thumburl&&e.hasOwnProperty("thumburl")&&(o.thumburl=e.thumburl),null!=e.url&&e.hasOwnProperty("url")&&(o.url=e.url),null!=e.second&&e.hasOwnProperty("second")&&(o.second=e.second),null!=e.filename&&e.hasOwnProperty("filename")&&(o.filename=e.filename),null!=e.desc&&e.hasOwnProperty("desc")&&(o.desc=e.desc),null!=e.latitude&&e.hasOwnProperty("latitude")&&(o.latitude=e.latitude),null!=e.longitude&&e.hasOwnProperty("longitude")&&(o.longitude=e.longitude),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),n.ItalkRecordMsg=function(){function e(e){if(this.chatMsgList=[],this.briefInfo=[],e)for(var t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.recordMsg=null,e.prototype.level=0,e.prototype.CurCount=0,e.prototype.chatMsgList=c.emptyArray,e.prototype.briefInfo=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.recordMsg&&e.hasOwnProperty("recordMsg")&&p.italk.pb.ItalkRecordMsg.encode(e.recordMsg,t.uint32(10).fork()).ldelim(),null!=e.level&&e.hasOwnProperty("level")&&t.uint32(16).int32(e.level),null!=e.CurCount&&e.hasOwnProperty("CurCount")&&t.uint32(24).int32(e.CurCount),null!=e.chatMsgList&&e.chatMsgList.length)for(var o=0;o<e.chatMsgList.length;++o)p.italk.pb.ItalkChatMsg.encode(e.chatMsgList[o],t.uint32(42).fork()).ldelim();if(null!=e.briefInfo&&e.briefInfo.length)for(o=0;o<e.briefInfo.length;++o)t.uint32(50).string(e.briefInfo[o]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var o=void 0===t?e.len:e.pos+t,i=new p.italk.pb.ItalkRecordMsg;e.pos<o;){var n=e.uint32();switch(n>>>3){case 1:i.recordMsg=p.italk.pb.ItalkRecordMsg.decode(e,e.uint32());break;case 2:i.level=e.int32();break;case 3:i.CurCount=e.int32();break;case 5:i.chatMsgList&&i.chatMsgList.length||(i.chatMsgList=[]),i.chatMsgList.push(p.italk.pb.ItalkChatMsg.decode(e,e.uint32()));break;case 6:i.briefInfo&&i.briefInfo.length||(i.briefInfo=[]),i.briefInfo.push(e.string());break;default:e.skipType(7&n)}}return i},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.recordMsg&&e.hasOwnProperty("recordMsg")&&(o=p.italk.pb.ItalkRecordMsg.verify(e.recordMsg)))return"recordMsg."+o;if(null!=e.level&&e.hasOwnProperty("level")&&!c.isInteger(e.level))return"level: integer expected";if(null!=e.CurCount&&e.hasOwnProperty("CurCount")&&!c.isInteger(e.CurCount))return"CurCount: integer expected";if(null!=e.chatMsgList&&e.hasOwnProperty("chatMsgList")){if(!Array.isArray(e.chatMsgList))return"chatMsgList: array expected";for(var t=0;t<e.chatMsgList.length;++t){var o;if(o=p.italk.pb.ItalkChatMsg.verify(e.chatMsgList[t]))return"chatMsgList."+o}}if(null!=e.briefInfo&&e.hasOwnProperty("briefInfo")){if(!Array.isArray(e.briefInfo))return"briefInfo: array expected";for(t=0;t<e.briefInfo.length;++t)if(!c.isString(e.briefInfo[t]))return"briefInfo: string[] expected"}return null},e.fromObject=function(e){if(e instanceof p.italk.pb.ItalkRecordMsg)return e;var t=new p.italk.pb.ItalkRecordMsg;if(null!=e.recordMsg){if("object"!=typeof e.recordMsg)throw TypeError(".italk.pb.ItalkRecordMsg.recordMsg: object expected");t.recordMsg=p.italk.pb.ItalkRecordMsg.fromObject(e.recordMsg)}if(null!=e.level&&(t.level=0|e.level),null!=e.CurCount&&(t.CurCount=0|e.CurCount),e.chatMsgList){if(!Array.isArray(e.chatMsgList))throw TypeError(".italk.pb.ItalkRecordMsg.chatMsgList: array expected");t.chatMsgList=[];for(var o=0;o<e.chatMsgList.length;++o){if("object"!=typeof e.chatMsgList[o])throw TypeError(".italk.pb.ItalkRecordMsg.chatMsgList: object expected");t.chatMsgList[o]=p.italk.pb.ItalkChatMsg.fromObject(e.chatMsgList[o])}}if(e.briefInfo){if(!Array.isArray(e.briefInfo))throw TypeError(".italk.pb.ItalkRecordMsg.briefInfo: array expected");for(t.briefInfo=[],o=0;o<e.briefInfo.length;++o)t.briefInfo[o]=String(e.briefInfo[o])}return t},e.toObject=function(e,t){t||(t={});var o={};if((t.arrays||t.defaults)&&(o.chatMsgList=[],o.briefInfo=[]),t.defaults&&(o.recordMsg=null,o.level=0,o.CurCount=0),null!=e.recordMsg&&e.hasOwnProperty("recordMsg")&&(o.recordMsg=p.italk.pb.ItalkRecordMsg.toObject(e.recordMsg,t)),null!=e.level&&e.hasOwnProperty("level")&&(o.level=e.level),null!=e.CurCount&&e.hasOwnProperty("CurCount")&&(o.CurCount=e.CurCount),e.chatMsgList&&e.chatMsgList.length){o.chatMsgList=[];for(var i=0;i<e.chatMsgList.length;++i)o.chatMsgList[i]=p.italk.pb.ItalkChatMsg.toObject(e.chatMsgList[i],t)}if(e.briefInfo&&e.briefInfo.length)for(o.briefInfo=[],i=0;i<e.briefInfo.length;++i)o.briefInfo[i]=e.briefInfo[i];return o},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),n.ItalkChatMsg=function(){function e(e){if(this.memberids=[],this.msgidList=[],e)for(var t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.msgType=0,e.prototype.userid="",e.prototype.localid=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.fid="",e.prototype.memberids=c.emptyArray,e.prototype.msgid=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.timestamp=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.burnsecond=0,e.prototype.burn=!1,e.prototype.chattype=0,e.prototype.bussinesstype=0,e.prototype.status=0,e.prototype.content=null,e.prototype.userupdatetime=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.msgindex=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.msglastindex=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.online=!1,e.prototype.offlinenum=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.msgorder=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.msguserorder=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.text1="",e.prototype.text2="",e.prototype.text3="",e.prototype.groupupdatetime=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.msgflag=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.msginfo1="",e.prototype.msgint1=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.msginfo2="",e.prototype.msgint2=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.msginfo3="",e.prototype.uuid="",e.prototype.crc=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.errorinfo="",e.prototype.number=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.msgidList=c.emptyArray,e.prototype.records=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=l.create()),null!=e.msgType&&e.hasOwnProperty("msgType")&&t.uint32(8).int32(e.msgType),null!=e.userid&&e.hasOwnProperty("userid")&&t.uint32(18).string(e.userid),null!=e.localid&&e.hasOwnProperty("localid")&&t.uint32(24).int64(e.localid),null!=e.fid&&e.hasOwnProperty("fid")&&t.uint32(34).string(e.fid),null!=e.memberids&&e.memberids.length)for(var o=0;o<e.memberids.length;++o)t.uint32(42).string(e.memberids[o]);if(null!=e.msgid&&e.hasOwnProperty("msgid")&&t.uint32(48).int64(e.msgid),null!=e.timestamp&&e.hasOwnProperty("timestamp")&&t.uint32(56).int64(e.timestamp),null!=e.burnsecond&&e.hasOwnProperty("burnsecond")&&t.uint32(64).int32(e.burnsecond),null!=e.burn&&e.hasOwnProperty("burn")&&t.uint32(72).bool(e.burn),null!=e.chattype&&e.hasOwnProperty("chattype")&&t.uint32(80).int32(e.chattype),null!=e.bussinesstype&&e.hasOwnProperty("bussinesstype")&&t.uint32(88).int32(e.bussinesstype),null!=e.status&&e.hasOwnProperty("status")&&t.uint32(96).int32(e.status),null!=e.content&&e.hasOwnProperty("content")&&p.italk.pb.ItalkMsgContent.encode(e.content,t.uint32(106).fork()).ldelim(),null!=e.userupdatetime&&e.hasOwnProperty("userupdatetime")&&t.uint32(112).int64(e.userupdatetime),null!=e.msgindex&&e.hasOwnProperty("msgindex")&&t.uint32(120).int64(e.msgindex),null!=e.msglastindex&&e.hasOwnProperty("msglastindex")&&t.uint32(128).int64(e.msglastindex),null!=e.online&&e.hasOwnProperty("online")&&t.uint32(136).bool(e.online),null!=e.offlinenum&&e.hasOwnProperty("offlinenum")&&t.uint32(144).int64(e.offlinenum),null!=e.msgorder&&e.hasOwnProperty("msgorder")&&t.uint32(152).int64(e.msgorder),null!=e.msguserorder&&e.hasOwnProperty("msguserorder")&&t.uint32(160).int64(e.msguserorder),null!=e.text1&&e.hasOwnProperty("text1")&&t.uint32(170).string(e.text1),null!=e.text2&&e.hasOwnProperty("text2")&&t.uint32(178).string(e.text2),null!=e.text3&&e.hasOwnProperty("text3")&&t.uint32(186).string(e.text3),null!=e.groupupdatetime&&e.hasOwnProperty("groupupdatetime")&&t.uint32(192).int64(e.groupupdatetime),null!=e.msgflag&&e.hasOwnProperty("msgflag")&&t.uint32(200).int64(e.msgflag),null!=e.msginfo1&&e.hasOwnProperty("msginfo1")&&t.uint32(210).string(e.msginfo1),null!=e.msgint1&&e.hasOwnProperty("msgint1")&&t.uint32(216).int64(e.msgint1),null!=e.msginfo2&&e.hasOwnProperty("msginfo2")&&t.uint32(226).string(e.msginfo2),null!=e.msgint2&&e.hasOwnProperty("msgint2")&&t.uint32(232).int64(e.msgint2),null!=e.msginfo3&&e.hasOwnProperty("msginfo3")&&t.uint32(242).string(e.msginfo3),null!=e.uuid&&e.hasOwnProperty("uuid")&&t.uint32(250).string(e.uuid),null!=e.crc&&e.hasOwnProperty("crc")&&t.uint32(256).int64(e.crc),null!=e.errorinfo&&e.hasOwnProperty("errorinfo")&&t.uint32(266).string(e.errorinfo),null!=e.number&&e.hasOwnProperty("number")&&t.uint32(272).int64(e.number),null!=e.msgidList&&e.msgidList.length){for(t.uint32(282).fork(),o=0;o<e.msgidList.length;++o)t.int64(e.msgidList[o]);t.ldelim()}return null!=e.records&&e.hasOwnProperty("records")&&p.italk.pb.ItalkRecordMsg.encode(e.records,t.uint32(290).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var o=void 0===t?e.len:e.pos+t,i=new p.italk.pb.ItalkChatMsg;e.pos<o;){var n=e.uint32();switch(n>>>3){case 1:i.msgType=e.int32();break;case 2:i.userid=e.string();break;case 3:i.localid=e.int64();break;case 4:i.fid=e.string();break;case 5:i.memberids&&i.memberids.length||(i.memberids=[]),i.memberids.push(e.string());break;case 6:i.msgid=e.int64();break;case 7:i.timestamp=e.int64();break;case 8:i.burnsecond=e.int32();break;case 9:i.burn=e.bool();break;case 10:i.chattype=e.int32();break;case 11:i.bussinesstype=e.int32();break;case 12:i.status=e.int32();break;case 13:i.content=p.italk.pb.ItalkMsgContent.decode(e,e.uint32());break;case 14:i.userupdatetime=e.int64();break;case 15:i.msgindex=e.int64();break;case 16:i.msglastindex=e.int64();break;case 17:i.online=e.bool();break;case 18:i.offlinenum=e.int64();break;case 19:i.msgorder=e.int64();break;case 20:i.msguserorder=e.int64();break;case 21:i.text1=e.string();break;case 22:i.text2=e.string();break;case 23:i.text3=e.string();break;case 24:i.groupupdatetime=e.int64();break;case 25:i.msgflag=e.int64();break;case 26:i.msginfo1=e.string();break;case 27:i.msgint1=e.int64();break;case 28:i.msginfo2=e.string();break;case 29:i.msgint2=e.int64();break;case 30:i.msginfo3=e.string();break;case 31:i.uuid=e.string();break;case 32:i.crc=e.int64();break;case 33:i.errorinfo=e.string();break;case 34:i.number=e.int64();break;case 35:if(i.msgidList&&i.msgidList.length||(i.msgidList=[]),2==(7&n))for(var r=e.uint32()+e.pos;e.pos<r;)i.msgidList.push(e.int64());else i.msgidList.push(e.int64());break;case 36:i.records=p.italk.pb.ItalkRecordMsg.decode(e,e.uint32());break;default:e.skipType(7&n)}}return i},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.msgType&&e.hasOwnProperty("msgType"))switch(e.msgType){default:return"msgType: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 20:case 21:case 22:case 23:case 40:case 41:case 42:case 43:case 62:case 63:case 64:case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 81:case 82:case 83:}if(null!=e.userid&&e.hasOwnProperty("userid")&&!c.isString(e.userid))return"userid: string expected";if(null!=e.localid&&e.hasOwnProperty("localid")&&!(c.isInteger(e.localid)||e.localid&&c.isInteger(e.localid.low)&&c.isInteger(e.localid.high)))return"localid: integer|Long expected";if(null!=e.fid&&e.hasOwnProperty("fid")&&!c.isString(e.fid))return"fid: string expected";if(null!=e.memberids&&e.hasOwnProperty("memberids")){if(!Array.isArray(e.memberids))return"memberids: array expected";for(var t=0;t<e.memberids.length;++t)if(!c.isString(e.memberids[t]))return"memberids: string[] expected"}if(null!=e.msgid&&e.hasOwnProperty("msgid")&&!(c.isInteger(e.msgid)||e.msgid&&c.isInteger(e.msgid.low)&&c.isInteger(e.msgid.high)))return"msgid: integer|Long expected";if(null!=e.timestamp&&e.hasOwnProperty("timestamp")&&!(c.isInteger(e.timestamp)||e.timestamp&&c.isInteger(e.timestamp.low)&&c.isInteger(e.timestamp.high)))return"timestamp: integer|Long expected";if(null!=e.burnsecond&&e.hasOwnProperty("burnsecond")&&!c.isInteger(e.burnsecond))return"burnsecond: integer expected";if(null!=e.burn&&e.hasOwnProperty("burn")&&"boolean"!=typeof e.burn)return"burn: boolean expected";if(null!=e.chattype&&e.hasOwnProperty("chattype"))switch(e.chattype){default:return"chattype: enum value expected";case 0:case 1:}if(null!=e.bussinesstype&&e.hasOwnProperty("bussinesstype"))switch(e.bussinesstype){default:return"bussinesstype: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:case 27:case 28:case 29:case 30:case 31:case 32:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:}if(null!=e.status&&e.hasOwnProperty("status"))switch(e.status){default:return"status: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 21:case 22:case 23:case 24:case 25:case 26:}var o;if(null!=e.content&&e.hasOwnProperty("content")&&(o=p.italk.pb.ItalkMsgContent.verify(e.content)))return"content."+o;if(null!=e.userupdatetime&&e.hasOwnProperty("userupdatetime")&&!(c.isInteger(e.userupdatetime)||e.userupdatetime&&c.isInteger(e.userupdatetime.low)&&c.isInteger(e.userupdatetime.high)))return"userupdatetime: integer|Long expected";if(null!=e.msgindex&&e.hasOwnProperty("msgindex")&&!(c.isInteger(e.msgindex)||e.msgindex&&c.isInteger(e.msgindex.low)&&c.isInteger(e.msgindex.high)))return"msgindex: integer|Long expected";if(null!=e.msglastindex&&e.hasOwnProperty("msglastindex")&&!(c.isInteger(e.msglastindex)||e.msglastindex&&c.isInteger(e.msglastindex.low)&&c.isInteger(e.msglastindex.high)))return"msglastindex: integer|Long expected";if(null!=e.online&&e.hasOwnProperty("online")&&"boolean"!=typeof e.online)return"online: boolean expected";if(null!=e.offlinenum&&e.hasOwnProperty("offlinenum")&&!(c.isInteger(e.offlinenum)||e.offlinenum&&c.isInteger(e.offlinenum.low)&&c.isInteger(e.offlinenum.high)))return"offlinenum: integer|Long expected";if(null!=e.msgorder&&e.hasOwnProperty("msgorder")&&!(c.isInteger(e.msgorder)||e.msgorder&&c.isInteger(e.msgorder.low)&&c.isInteger(e.msgorder.high)))return"msgorder: integer|Long expected";if(null!=e.msguserorder&&e.hasOwnProperty("msguserorder")&&!(c.isInteger(e.msguserorder)||e.msguserorder&&c.isInteger(e.msguserorder.low)&&c.isInteger(e.msguserorder.high)))return"msguserorder: integer|Long expected";if(null!=e.text1&&e.hasOwnProperty("text1")&&!c.isString(e.text1))return"text1: string expected";if(null!=e.text2&&e.hasOwnProperty("text2")&&!c.isString(e.text2))return"text2: string expected";if(null!=e.text3&&e.hasOwnProperty("text3")&&!c.isString(e.text3))return"text3: string expected";if(null!=e.groupupdatetime&&e.hasOwnProperty("groupupdatetime")&&!(c.isInteger(e.groupupdatetime)||e.groupupdatetime&&c.isInteger(e.groupupdatetime.low)&&c.isInteger(e.groupupdatetime.high)))return"groupupdatetime: integer|Long expected";if(null!=e.msgflag&&e.hasOwnProperty("msgflag")&&!(c.isInteger(e.msgflag)||e.msgflag&&c.isInteger(e.msgflag.low)&&c.isInteger(e.msgflag.high)))return"msgflag: integer|Long expected";if(null!=e.msginfo1&&e.hasOwnProperty("msginfo1")&&!c.isString(e.msginfo1))return"msginfo1: string expected";if(null!=e.msgint1&&e.hasOwnProperty("msgint1")&&!(c.isInteger(e.msgint1)||e.msgint1&&c.isInteger(e.msgint1.low)&&c.isInteger(e.msgint1.high)))return"msgint1: integer|Long expected";if(null!=e.msginfo2&&e.hasOwnProperty("msginfo2")&&!c.isString(e.msginfo2))return"msginfo2: string expected";if(null!=e.msgint2&&e.hasOwnProperty("msgint2")&&!(c.isInteger(e.msgint2)||e.msgint2&&c.isInteger(e.msgint2.low)&&c.isInteger(e.msgint2.high)))return"msgint2: integer|Long expected";if(null!=e.msginfo3&&e.hasOwnProperty("msginfo3")&&!c.isString(e.msginfo3))return"msginfo3: string expected";if(null!=e.uuid&&e.hasOwnProperty("uuid")&&!c.isString(e.uuid))return"uuid: string expected";if(null!=e.crc&&e.hasOwnProperty("crc")&&!(c.isInteger(e.crc)||e.crc&&c.isInteger(e.crc.low)&&c.isInteger(e.crc.high)))return"crc: integer|Long expected";if(null!=e.errorinfo&&e.hasOwnProperty("errorinfo")&&!c.isString(e.errorinfo))return"errorinfo: string expected";if(null!=e.number&&e.hasOwnProperty("number")&&!(c.isInteger(e.number)||e.number&&c.isInteger(e.number.low)&&c.isInteger(e.number.high)))return"number: integer|Long expected";if(null!=e.msgidList&&e.hasOwnProperty("msgidList")){if(!Array.isArray(e.msgidList))return"msgidList: array expected";for(t=0;t<e.msgidList.length;++t)if(!(c.isInteger(e.msgidList[t])||e.msgidList[t]&&c.isInteger(e.msgidList[t].low)&&c.isInteger(e.msgidList[t].high)))return"msgidList: integer|Long[] expected"}return null!=e.records&&e.hasOwnProperty("records")&&(o=p.italk.pb.ItalkRecordMsg.verify(e.records))?"records."+o:null},e.fromObject=function(e){if(e instanceof p.italk.pb.ItalkChatMsg)return e;var t=new p.italk.pb.ItalkChatMsg;switch(e.msgType){case"ITKCECHO":case 0:t.msgType=0;break;case"ITKSECHO":case 1:t.msgType=1;break;case"ITKHEART":case 2:t.msgType=2;break;case"ITKRegister":case 3:t.msgType=3;break;case"ITKSubscribe":case 4:t.msgType=4;break;case"ITKPublish":case 5:t.msgType=5;break;case"ITKPull":case 6:t.msgType=6;break;case"ITKAbnormalFeedback":case 7:t.msgType=7;break;case"ITKBusinessStatistics":case 8:t.msgType=8;break;case"ITKFeedbackServer":case 9:t.msgType=9;break;case"ITKServerSet":case 10:t.msgType=10;break;case"ITKServerSetPack":case 11:t.msgType=11;break;case"ITKLoginNEW":case 20:t.msgType=20;break;case"ITKLogin":case 21:t.msgType=21;break;case"ITKChat":case 22:t.msgType=22;break;case"ITKCommon":case 23:t.msgType=23;break;case"ITKServerChat":case 40:t.msgType=40;break;case"ITKServerChatEcho":case 41:t.msgType=41;break;case"ITKServerCommon":case 42:t.msgType=42;break;case"ITKServerCommonEcho":case 43:t.msgType=43;break;case"ITKHeartECHO":case 62:t.msgType=62;break;case"ITKRegisterECHO":case 63:t.msgType=63;break;case"ITKSubscribeECHO":case 64:t.msgType=64;break;case"ITKPublishECHO":case 65:t.msgType=65;break;case"ITKPullECHO":case 66:t.msgType=66;break;case"ITKAbnormalFeedbackECHO":case 67:t.msgType=67;break;case"ITKBusinessStatisticsECHO":case 68:t.msgType=68;break;case"ITKFeedbackServerECHO":case 69:t.msgType=69;break;case"ITKServerSetECHO":case 70:t.msgType=70;break;case"ITKServerSetPackECHO":case 71:t.msgType=71;break;case"ITKLoginECHO":case 81:t.msgType=81;break;case"ITKChatECHO":case 82:t.msgType=82;break;case"ITKCommonECHO":case 83:t.msgType=83}if(null!=e.userid&&(t.userid=String(e.userid)),null!=e.localid&&(c.Long?(t.localid=c.Long.fromValue(e.localid)).unsigned=!1:"string"==typeof e.localid?t.localid=parseInt(e.localid,10):"number"==typeof e.localid?t.localid=e.localid:"object"==typeof e.localid&&(t.localid=new c.LongBits(e.localid.low>>>0,e.localid.high>>>0).toNumber())),null!=e.fid&&(t.fid=String(e.fid)),e.memberids){if(!Array.isArray(e.memberids))throw TypeError(".italk.pb.ItalkChatMsg.memberids: array expected");t.memberids=[];for(var o=0;o<e.memberids.length;++o)t.memberids[o]=String(e.memberids[o])}switch(null!=e.msgid&&(c.Long?(t.msgid=c.Long.fromValue(e.msgid)).unsigned=!1:"string"==typeof e.msgid?t.msgid=parseInt(e.msgid,10):"number"==typeof e.msgid?t.msgid=e.msgid:"object"==typeof e.msgid&&(t.msgid=new c.LongBits(e.msgid.low>>>0,e.msgid.high>>>0).toNumber())),null!=e.timestamp&&(c.Long?(t.timestamp=c.Long.fromValue(e.timestamp)).unsigned=!1:"string"==typeof e.timestamp?t.timestamp=parseInt(e.timestamp,10):"number"==typeof e.timestamp?t.timestamp=e.timestamp:"object"==typeof e.timestamp&&(t.timestamp=new c.LongBits(e.timestamp.low>>>0,e.timestamp.high>>>0).toNumber())),null!=e.burnsecond&&(t.burnsecond=0|e.burnsecond),null!=e.burn&&(t.burn=Boolean(e.burn)),e.chattype){case"ITKSingleChat":case 0:t.chattype=0;break;case"ITKGroupChat":case 1:t.chattype=1}switch(e.bussinesstype){case"ITKSMS":case 0:t.bussinesstype=0;break;case"ITKPic":case 1:t.bussinesstype=1;break;case"ITKSound":case 2:t.bussinesstype=2;break;case"ITKShortVideo":case 3:t.bussinesstype=3;break;case"ITKFile":case 4:t.bussinesstype=4;break;case"ITKLocation":case 5:t.bussinesstype=5;break;case"ITKRedPacket":case 6:t.bussinesstype=6;break;case"ITKVoiceCall":case 7:t.bussinesstype=7;break;case"ITKVideoCall":case 8:t.bussinesstype=8;break;case"ITKServerPush":case 9:t.bussinesstype=9;break;case"ITKAddFriendRequest":case 10:t.bussinesstype=10;break;case"ITKNeedFriendVerify":case 11:t.bussinesstype=11;break;case"ITKAddFriendSucccess":case 12:t.bussinesstype=12;break;case"ITKVerifyFriendAnswer":case 13:t.bussinesstype=13;break;case"ITKVerifyFriendSuccess":case 14:t.bussinesstype=14;break;case"ITKGroupCreate":case 15:t.bussinesstype=15;break;case"ITKGroupMemberQuit":case 16:t.bussinesstype=16;break;case"ITKGroupMemberAdd":case 17:t.bussinesstype=17;break;case"ITKGroupOwnerTransfer":case 18:t.bussinesstype=18;break;case"ITKInviteGroupMember":case 19:t.bussinesstype=19;break;case"ITKVerifyInivitation":case 20:t.bussinesstype=20;break;case"ITKDeleteGroupMember":case 21:t.bussinesstype=21;break;case"ITKChatStatusChange":case 22:t.bussinesstype=22;break;case"ITKSystemNotification":case 23:t.bussinesstype=23;break;case"ITKRevokeMsg":case 24:t.bussinesstype=24;break;case"ITkDestroyed":case 25:t.bussinesstype=25;break;case"ITKReturnRedPacket":case 26:t.bussinesstype=26;break;case"ITKRemoveMsgID":case 27:t.bussinesstype=27;break;case"ITKOtherMachineLogin":case 28:t.bussinesstype=28;break;case"ITKRequestLogin":case 29:t.bussinesstype=29;break;case"ITKAuthLogin":case 30:t.bussinesstype=30;break;case"ITKUserChange":case 31:t.bussinesstype=31;break;case"ITKAppState":case 32:t.bussinesstype=32;break;case"ITKBussniesstype1":case 41:t.bussinesstype=41;break;case"ITKBussniesstype2":case 42:t.bussinesstype=42;break;case"ITKBussniesstype3":case 43:t.bussinesstype=43;break;case"ITKBussniesstype4":case 44:t.bussinesstype=44;break;case"ITKBussniesstype5":case 45:t.bussinesstype=45;break;case"ITKBussniesstype6":case 46:t.bussinesstype=46;break;case"ITKBussniesstype7":case 47:t.bussinesstype=47;break;case"ITKBussniesstype8":case 48:t.bussinesstype=48;break;case"ITKBussniesstype9":case 49:t.bussinesstype=49;break;case"ITKBussniesstype10":case 50:t.bussinesstype=50;break;case"ITKBussniesstype11":case 51:t.bussinesstype=51;break;case"ITKBussniesstype12":case 52:t.bussinesstype=52;break;case"ITKBussniesstype13":case 53:t.bussinesstype=53;break;case"ITKBussniesstype14":case 54:t.bussinesstype=54;break;case"ITKBussniesstype15":case 55:t.bussinesstype=55;break;case"ITKBussniesstype16":case 56:t.bussinesstype=56;break;case"ITKBussniesstype17":case 57:t.bussinesstype=57;break;case"ITKBussniesstype18":case 58:t.bussinesstype=58;break;case"ITKBussniesstype19":case 59:t.bussinesstype=59;break;case"ITKBussniesstype20":case 60:t.bussinesstype=60;break;case"ITKBussniesstype21":case 61:t.bussinesstype=61;break;case"ITKBussniesstype22":case 62:t.bussinesstype=62;break;case"ITKBussniesstype23":case 63:t.bussinesstype=63;break;case"ITKBussniesstype24":case 64:t.bussinesstype=64;break;case"ITKBussniesstype25":case 65:t.bussinesstype=65;break;case"ITKBussniesstype26":case 66:t.bussinesstype=66;break;case"ITKBussniesstype27":case 67:t.bussinesstype=67;break;case"ITKBussniesstype28":case 68:t.bussinesstype=68;break;case"ITKBussniesstype29":case 69:t.bussinesstype=69;break;case"ITKBussniesstype30":case 70:t.bussinesstype=70;break;case"ITKBussniesstype31":case 71:t.bussinesstype=71;break;case"ITKBussniesstype32":case 72:t.bussinesstype=72;break;case"ITKBussniesstype33":case 73:t.bussinesstype=73;break;case"ITKBussniesstype34":case 74:t.bussinesstype=74;break;case"ITKBussniesstype35":case 75:t.bussinesstype=75;break;case"ITKBussniesstype36":case 76:t.bussinesstype=76;break;case"ITKBussniesstype37":case 77:t.bussinesstype=77;break;case"ITKBussniesstype38":case 78:t.bussinesstype=78;break;case"ITKBussniesstype39":case 79:t.bussinesstype=79;break;case"ITKBussniesstype40":case 80:t.bussinesstype=80;break;case"ITKBussniesstype41":case 81:t.bussinesstype=81;break;case"ITKBussniesstype42":case 82:t.bussinesstype=82;break;case"ITKRecodeMsg":case 83:t.bussinesstype=83}switch(e.status){case"ITKUnsend":case 0:t.status=0;break;case"ITKSending":case 1:t.status=1;break;case"ITKSended":case 2:t.status=2;break;case"ITKSendFailed":case 3:t.status=3;break;case"ITKReceiverReceived":case 4:t.status=4;break;case"ITKSenderReceived":case 5:t.status=5;break;case"ITKReceiverReaded":case 6:t.status=6;break;case"ITKSenderReaded":case 7:t.status=7;break;case"ITKReceiverDestroyed":case 8:t.status=8;break;case"ITKSenderDestroyed":case 9:t.status=9;break;case"ITKReceiverTimeout":case 10:t.status=10;break;case"ITKSenderTimeout":case 11:t.status=11;break;case"ITKSenderRevoke":case 12:t.status=12;break;case"ITKReceiverRevoke":case 13:t.status=13;break;case"ITKMsgStatus1":case 21:t.status=21;break;case"ITKMsgStatus2":case 22:t.status=22;break;case"ITKMsgStatus3":case 23:t.status=23;break;case"ITKMsgStatus4":case 24:t.status=24;break;case"ITKMsgStatus5":case 25:t.status=25;break;case"ITKMsgStatus6":case 26:t.status=26}if(null!=e.content){if("object"!=typeof e.content)throw TypeError(".italk.pb.ItalkChatMsg.content: object expected");t.content=p.italk.pb.ItalkMsgContent.fromObject(e.content)}if(null!=e.userupdatetime&&(c.Long?(t.userupdatetime=c.Long.fromValue(e.userupdatetime)).unsigned=!1:"string"==typeof e.userupdatetime?t.userupdatetime=parseInt(e.userupdatetime,10):"number"==typeof e.userupdatetime?t.userupdatetime=e.userupdatetime:"object"==typeof e.userupdatetime&&(t.userupdatetime=new c.LongBits(e.userupdatetime.low>>>0,e.userupdatetime.high>>>0).toNumber())),null!=e.msgindex&&(c.Long?(t.msgindex=c.Long.fromValue(e.msgindex)).unsigned=!1:"string"==typeof e.msgindex?t.msgindex=parseInt(e.msgindex,10):"number"==typeof e.msgindex?t.msgindex=e.msgindex:"object"==typeof e.msgindex&&(t.msgindex=new c.LongBits(e.msgindex.low>>>0,e.msgindex.high>>>0).toNumber())),null!=e.msglastindex&&(c.Long?(t.msglastindex=c.Long.fromValue(e.msglastindex)).unsigned=!1:"string"==typeof e.msglastindex?t.msglastindex=parseInt(e.msglastindex,10):"number"==typeof e.msglastindex?t.msglastindex=e.msglastindex:"object"==typeof e.msglastindex&&(t.msglastindex=new c.LongBits(e.msglastindex.low>>>0,e.msglastindex.high>>>0).toNumber())),null!=e.online&&(t.online=Boolean(e.online)),null!=e.offlinenum&&(c.Long?(t.offlinenum=c.Long.fromValue(e.offlinenum)).unsigned=!1:"string"==typeof e.offlinenum?t.offlinenum=parseInt(e.offlinenum,10):"number"==typeof e.offlinenum?t.offlinenum=e.offlinenum:"object"==typeof e.offlinenum&&(t.offlinenum=new c.LongBits(e.offlinenum.low>>>0,e.offlinenum.high>>>0).toNumber())),null!=e.msgorder&&(c.Long?(t.msgorder=c.Long.fromValue(e.msgorder)).unsigned=!1:"string"==typeof e.msgorder?t.msgorder=parseInt(e.msgorder,10):"number"==typeof e.msgorder?t.msgorder=e.msgorder:"object"==typeof e.msgorder&&(t.msgorder=new c.LongBits(e.msgorder.low>>>0,e.msgorder.high>>>0).toNumber())),null!=e.msguserorder&&(c.Long?(t.msguserorder=c.Long.fromValue(e.msguserorder)).unsigned=!1:"string"==typeof e.msguserorder?t.msguserorder=parseInt(e.msguserorder,10):"number"==typeof e.msguserorder?t.msguserorder=e.msguserorder:"object"==typeof e.msguserorder&&(t.msguserorder=new c.LongBits(e.msguserorder.low>>>0,e.msguserorder.high>>>0).toNumber())),null!=e.text1&&(t.text1=String(e.text1)),null!=e.text2&&(t.text2=String(e.text2)),null!=e.text3&&(t.text3=String(e.text3)),null!=e.groupupdatetime&&(c.Long?(t.groupupdatetime=c.Long.fromValue(e.groupupdatetime)).unsigned=!1:"string"==typeof e.groupupdatetime?t.groupupdatetime=parseInt(e.groupupdatetime,10):"number"==typeof e.groupupdatetime?t.groupupdatetime=e.groupupdatetime:"object"==typeof e.groupupdatetime&&(t.groupupdatetime=new c.LongBits(e.groupupdatetime.low>>>0,e.groupupdatetime.high>>>0).toNumber())),null!=e.msgflag&&(c.Long?(t.msgflag=c.Long.fromValue(e.msgflag)).unsigned=!1:"string"==typeof e.msgflag?t.msgflag=parseInt(e.msgflag,10):"number"==typeof e.msgflag?t.msgflag=e.msgflag:"object"==typeof e.msgflag&&(t.msgflag=new c.LongBits(e.msgflag.low>>>0,e.msgflag.high>>>0).toNumber())),null!=e.msginfo1&&(t.msginfo1=String(e.msginfo1)),null!=e.msgint1&&(c.Long?(t.msgint1=c.Long.fromValue(e.msgint1)).unsigned=!1:"string"==typeof e.msgint1?t.msgint1=parseInt(e.msgint1,10):"number"==typeof e.msgint1?t.msgint1=e.msgint1:"object"==typeof e.msgint1&&(t.msgint1=new c.LongBits(e.msgint1.low>>>0,e.msgint1.high>>>0).toNumber())),null!=e.msginfo2&&(t.msginfo2=String(e.msginfo2)),null!=e.msgint2&&(c.Long?(t.msgint2=c.Long.fromValue(e.msgint2)).unsigned=!1:"string"==typeof e.msgint2?t.msgint2=parseInt(e.msgint2,10):"number"==typeof e.msgint2?t.msgint2=e.msgint2:"object"==typeof e.msgint2&&(t.msgint2=new c.LongBits(e.msgint2.low>>>0,e.msgint2.high>>>0).toNumber())),null!=e.msginfo3&&(t.msginfo3=String(e.msginfo3)),null!=e.uuid&&(t.uuid=String(e.uuid)),null!=e.crc&&(c.Long?(t.crc=c.Long.fromValue(e.crc)).unsigned=!1:"string"==typeof e.crc?t.crc=parseInt(e.crc,10):"number"==typeof e.crc?t.crc=e.crc:"object"==typeof e.crc&&(t.crc=new c.LongBits(e.crc.low>>>0,e.crc.high>>>0).toNumber())),null!=e.errorinfo&&(t.errorinfo=String(e.errorinfo)),null!=e.number&&(c.Long?(t.number=c.Long.fromValue(e.number)).unsigned=!1:"string"==typeof e.number?t.number=parseInt(e.number,10):"number"==typeof e.number?t.number=e.number:"object"==typeof e.number&&(t.number=new c.LongBits(e.number.low>>>0,e.number.high>>>0).toNumber())),e.msgidList){if(!Array.isArray(e.msgidList))throw TypeError(".italk.pb.ItalkChatMsg.msgidList: array expected");for(t.msgidList=[],o=0;o<e.msgidList.length;++o)c.Long?(t.msgidList[o]=c.Long.fromValue(e.msgidList[o])).unsigned=!1:"string"==typeof e.msgidList[o]?t.msgidList[o]=parseInt(e.msgidList[o],10):"number"==typeof e.msgidList[o]?t.msgidList[o]=e.msgidList[o]:"object"==typeof e.msgidList[o]&&(t.msgidList[o]=new c.LongBits(e.msgidList[o].low>>>0,e.msgidList[o].high>>>0).toNumber())}if(null!=e.records){if("object"!=typeof e.records)throw TypeError(".italk.pb.ItalkChatMsg.records: object expected");t.records=p.italk.pb.ItalkRecordMsg.fromObject(e.records)}return t},e.toObject=function(e,t){t||(t={});var o={};if((t.arrays||t.defaults)&&(o.memberids=[],o.msgidList=[]),t.defaults){if(o.msgType=t.enums===String?"ITKCECHO":0,o.userid="",c.Long){var i=new c.Long(0,0,!1);o.localid=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else o.localid=t.longs===String?"0":0;o.fid="",c.Long?(i=new c.Long(0,0,!1),o.msgid=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):o.msgid=t.longs===String?"0":0,c.Long?(i=new c.Long(0,0,!1),o.timestamp=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):o.timestamp=t.longs===String?"0":0,o.burnsecond=0,o.burn=!1,o.chattype=t.enums===String?"ITKSingleChat":0,o.bussinesstype=t.enums===String?"ITKSMS":0,o.status=t.enums===String?"ITKUnsend":0,o.content=null,c.Long?(i=new c.Long(0,0,!1),o.userupdatetime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):o.userupdatetime=t.longs===String?"0":0,c.Long?(i=new c.Long(0,0,!1),o.msgindex=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):o.msgindex=t.longs===String?"0":0,c.Long?(i=new c.Long(0,0,!1),o.msglastindex=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):o.msglastindex=t.longs===String?"0":0,o.online=!1,c.Long?(i=new c.Long(0,0,!1),o.offlinenum=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):o.offlinenum=t.longs===String?"0":0,c.Long?(i=new c.Long(0,0,!1),o.msgorder=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):o.msgorder=t.longs===String?"0":0,c.Long?(i=new c.Long(0,0,!1),o.msguserorder=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):o.msguserorder=t.longs===String?"0":0,o.text1="",o.text2="",o.text3="",c.Long?(i=new c.Long(0,0,!1),o.groupupdatetime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):o.groupupdatetime=t.longs===String?"0":0,c.Long?(i=new c.Long(0,0,!1),o.msgflag=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):o.msgflag=t.longs===String?"0":0,o.msginfo1="",c.Long?(i=new c.Long(0,0,!1),o.msgint1=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):o.msgint1=t.longs===String?"0":0,o.msginfo2="",c.Long?(i=new c.Long(0,0,!1),o.msgint2=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):o.msgint2=t.longs===String?"0":0,o.msginfo3="",o.uuid="",c.Long?(i=new c.Long(0,0,!1),o.crc=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):o.crc=t.longs===String?"0":0,o.errorinfo="",c.Long?(i=new c.Long(0,0,!1),o.number=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):o.number=t.longs===String?"0":0,o.records=null}if(null!=e.msgType&&e.hasOwnProperty("msgType")&&(o.msgType=t.enums===String?p.italk.pb.ItalkTypeEnum[e.msgType]:e.msgType),null!=e.userid&&e.hasOwnProperty("userid")&&(o.userid=e.userid),null!=e.localid&&e.hasOwnProperty("localid")&&("number"==typeof e.localid?o.localid=t.longs===String?String(e.localid):e.localid:o.localid=t.longs===String?c.Long.prototype.toString.call(e.localid):t.longs===Number?new c.LongBits(e.localid.low>>>0,e.localid.high>>>0).toNumber():e.localid),null!=e.fid&&e.hasOwnProperty("fid")&&(o.fid=e.fid),e.memberids&&e.memberids.length){o.memberids=[];for(var n=0;n<e.memberids.length;++n)o.memberids[n]=e.memberids[n]}if(null!=e.msgid&&e.hasOwnProperty("msgid")&&("number"==typeof e.msgid?o.msgid=t.longs===String?String(e.msgid):e.msgid:o.msgid=t.longs===String?c.Long.prototype.toString.call(e.msgid):t.longs===Number?new c.LongBits(e.msgid.low>>>0,e.msgid.high>>>0).toNumber():e.msgid),null!=e.timestamp&&e.hasOwnProperty("timestamp")&&("number"==typeof e.timestamp?o.timestamp=t.longs===String?String(e.timestamp):e.timestamp:o.timestamp=t.longs===String?c.Long.prototype.toString.call(e.timestamp):t.longs===Number?new c.LongBits(e.timestamp.low>>>0,e.timestamp.high>>>0).toNumber():e.timestamp),null!=e.burnsecond&&e.hasOwnProperty("burnsecond")&&(o.burnsecond=e.burnsecond),null!=e.burn&&e.hasOwnProperty("burn")&&(o.burn=e.burn),null!=e.chattype&&e.hasOwnProperty("chattype")&&(o.chattype=t.enums===String?p.italk.pb.ItalkChatTypeEnum[e.chattype]:e.chattype),null!=e.bussinesstype&&e.hasOwnProperty("bussinesstype")&&(o.bussinesstype=t.enums===String?p.italk.pb.ItalkBusinessTypeEnum[e.bussinesstype]:e.bussinesstype),null!=e.status&&e.hasOwnProperty("status")&&(o.status=t.enums===String?p.italk.pb.ItalkMsgStatusEnum[e.status]:e.status),null!=e.content&&e.hasOwnProperty("content")&&(o.content=p.italk.pb.ItalkMsgContent.toObject(e.content,t)),null!=e.userupdatetime&&e.hasOwnProperty("userupdatetime")&&("number"==typeof e.userupdatetime?o.userupdatetime=t.longs===String?String(e.userupdatetime):e.userupdatetime:o.userupdatetime=t.longs===String?c.Long.prototype.toString.call(e.userupdatetime):t.longs===Number?new c.LongBits(e.userupdatetime.low>>>0,e.userupdatetime.high>>>0).toNumber():e.userupdatetime),null!=e.msgindex&&e.hasOwnProperty("msgindex")&&("number"==typeof e.msgindex?o.msgindex=t.longs===String?String(e.msgindex):e.msgindex:o.msgindex=t.longs===String?c.Long.prototype.toString.call(e.msgindex):t.longs===Number?new c.LongBits(e.msgindex.low>>>0,e.msgindex.high>>>0).toNumber():e.msgindex),null!=e.msglastindex&&e.hasOwnProperty("msglastindex")&&("number"==typeof e.msglastindex?o.msglastindex=t.longs===String?String(e.msglastindex):e.msglastindex:o.msglastindex=t.longs===String?c.Long.prototype.toString.call(e.msglastindex):t.longs===Number?new c.LongBits(e.msglastindex.low>>>0,e.msglastindex.high>>>0).toNumber():e.msglastindex),null!=e.online&&e.hasOwnProperty("online")&&(o.online=e.online),null!=e.offlinenum&&e.hasOwnProperty("offlinenum")&&("number"==typeof e.offlinenum?o.offlinenum=t.longs===String?String(e.offlinenum):e.offlinenum:o.offlinenum=t.longs===String?c.Long.prototype.toString.call(e.offlinenum):t.longs===Number?new c.LongBits(e.offlinenum.low>>>0,e.offlinenum.high>>>0).toNumber():e.offlinenum),null!=e.msgorder&&e.hasOwnProperty("msgorder")&&("number"==typeof e.msgorder?o.msgorder=t.longs===String?String(e.msgorder):e.msgorder:o.msgorder=t.longs===String?c.Long.prototype.toString.call(e.msgorder):t.longs===Number?new c.LongBits(e.msgorder.low>>>0,e.msgorder.high>>>0).toNumber():e.msgorder),null!=e.msguserorder&&e.hasOwnProperty("msguserorder")&&("number"==typeof e.msguserorder?o.msguserorder=t.longs===String?String(e.msguserorder):e.msguserorder:o.msguserorder=t.longs===String?c.Long.prototype.toString.call(e.msguserorder):t.longs===Number?new c.LongBits(e.msguserorder.low>>>0,e.msguserorder.high>>>0).toNumber():e.msguserorder),null!=e.text1&&e.hasOwnProperty("text1")&&(o.text1=e.text1),null!=e.text2&&e.hasOwnProperty("text2")&&(o.text2=e.text2),null!=e.text3&&e.hasOwnProperty("text3")&&(o.text3=e.text3),null!=e.groupupdatetime&&e.hasOwnProperty("groupupdatetime")&&("number"==typeof e.groupupdatetime?o.groupupdatetime=t.longs===String?String(e.groupupdatetime):e.groupupdatetime:o.groupupdatetime=t.longs===String?c.Long.prototype.toString.call(e.groupupdatetime):t.longs===Number?new c.LongBits(e.groupupdatetime.low>>>0,e.groupupdatetime.high>>>0).toNumber():e.groupupdatetime),null!=e.msgflag&&e.hasOwnProperty("msgflag")&&("number"==typeof e.msgflag?o.msgflag=t.longs===String?String(e.msgflag):e.msgflag:o.msgflag=t.longs===String?c.Long.prototype.toString.call(e.msgflag):t.longs===Number?new c.LongBits(e.msgflag.low>>>0,e.msgflag.high>>>0).toNumber():e.msgflag),null!=e.msginfo1&&e.hasOwnProperty("msginfo1")&&(o.msginfo1=e.msginfo1),null!=e.msgint1&&e.hasOwnProperty("msgint1")&&("number"==typeof e.msgint1?o.msgint1=t.longs===String?String(e.msgint1):e.msgint1:o.msgint1=t.longs===String?c.Long.prototype.toString.call(e.msgint1):t.longs===Number?new c.LongBits(e.msgint1.low>>>0,e.msgint1.high>>>0).toNumber():e.msgint1),null!=e.msginfo2&&e.hasOwnProperty("msginfo2")&&(o.msginfo2=e.msginfo2),null!=e.msgint2&&e.hasOwnProperty("msgint2")&&("number"==typeof e.msgint2?o.msgint2=t.longs===String?String(e.msgint2):e.msgint2:o.msgint2=t.longs===String?c.Long.prototype.toString.call(e.msgint2):t.longs===Number?new c.LongBits(e.msgint2.low>>>0,e.msgint2.high>>>0).toNumber():e.msgint2),null!=e.msginfo3&&e.hasOwnProperty("msginfo3")&&(o.msginfo3=e.msginfo3),null!=e.uuid&&e.hasOwnProperty("uuid")&&(o.uuid=e.uuid),null!=e.crc&&e.hasOwnProperty("crc")&&("number"==typeof e.crc?o.crc=t.longs===String?String(e.crc):e.crc:o.crc=t.longs===String?c.Long.prototype.toString.call(e.crc):t.longs===Number?new c.LongBits(e.crc.low>>>0,e.crc.high>>>0).toNumber():e.crc),null!=e.errorinfo&&e.hasOwnProperty("errorinfo")&&(o.errorinfo=e.errorinfo),null!=e.number&&e.hasOwnProperty("number")&&("number"==typeof e.number?o.number=t.longs===String?String(e.number):e.number:o.number=t.longs===String?c.Long.prototype.toString.call(e.number):t.longs===Number?new c.LongBits(e.number.low>>>0,e.number.high>>>0).toNumber():e.number),e.msgidList&&e.msgidList.length)for(o.msgidList=[],n=0;n<e.msgidList.length;++n)"number"==typeof e.msgidList[n]?o.msgidList[n]=t.longs===String?String(e.msgidList[n]):e.msgidList[n]:o.msgidList[n]=t.longs===String?c.Long.prototype.toString.call(e.msgidList[n]):t.longs===Number?new c.LongBits(e.msgidList[n].low>>>0,e.msgidList[n].high>>>0).toNumber():e.msgidList[n];return null!=e.records&&e.hasOwnProperty("records")&&(o.records=p.italk.pb.ItalkRecordMsg.toObject(e.records,t)),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),n.ItalkChatEchoMsg=function(){function e(e){if(e)for(var t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.msgType=0,e.prototype.echoInfo=null,e.prototype.userid="",e.prototype.localid=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.fid="",e.prototype.msgid=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.timestamp=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.burnsecond=0,e.prototype.burn=!1,e.prototype.chattype=0,e.prototype.bussinesstype=0,e.prototype.status=0,e.prototype.msgindex=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.msgorder=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.msguserorder=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.text1="",e.prototype.text2="",e.prototype.text3="",e.prototype.uuid="",e.prototype.crc=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.number=c.Long?c.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.msgType&&e.hasOwnProperty("msgType")&&t.uint32(8).int32(e.msgType),null!=e.echoInfo&&e.hasOwnProperty("echoInfo")&&p.italk.pb.ItalkEchoInfo.encode(e.echoInfo,t.uint32(18).fork()).ldelim(),null!=e.userid&&e.hasOwnProperty("userid")&&t.uint32(26).string(e.userid),null!=e.localid&&e.hasOwnProperty("localid")&&t.uint32(32).int64(e.localid),null!=e.fid&&e.hasOwnProperty("fid")&&t.uint32(42).string(e.fid),null!=e.msgid&&e.hasOwnProperty("msgid")&&t.uint32(48).int64(e.msgid),null!=e.timestamp&&e.hasOwnProperty("timestamp")&&t.uint32(56).int64(e.timestamp),null!=e.burnsecond&&e.hasOwnProperty("burnsecond")&&t.uint32(64).int32(e.burnsecond),null!=e.burn&&e.hasOwnProperty("burn")&&t.uint32(72).bool(e.burn),null!=e.chattype&&e.hasOwnProperty("chattype")&&t.uint32(80).int32(e.chattype),null!=e.bussinesstype&&e.hasOwnProperty("bussinesstype")&&t.uint32(88).int32(e.bussinesstype),null!=e.status&&e.hasOwnProperty("status")&&t.uint32(96).int32(e.status),null!=e.msgindex&&e.hasOwnProperty("msgindex")&&t.uint32(104).int64(e.msgindex),null!=e.msgorder&&e.hasOwnProperty("msgorder")&&t.uint32(112).int64(e.msgorder),null!=e.msguserorder&&e.hasOwnProperty("msguserorder")&&t.uint32(120).int64(e.msguserorder),null!=e.text1&&e.hasOwnProperty("text1")&&t.uint32(130).string(e.text1),null!=e.text2&&e.hasOwnProperty("text2")&&t.uint32(138).string(e.text2),null!=e.text3&&e.hasOwnProperty("text3")&&t.uint32(146).string(e.text3),null!=e.uuid&&e.hasOwnProperty("uuid")&&t.uint32(154).string(e.uuid),null!=e.crc&&e.hasOwnProperty("crc")&&t.uint32(160).int64(e.crc),null!=e.number&&e.hasOwnProperty("number")&&t.uint32(168).int64(e.number),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var o=void 0===t?e.len:e.pos+t,i=new p.italk.pb.ItalkChatEchoMsg;e.pos<o;){var n=e.uint32();switch(n>>>3){case 1:i.msgType=e.int32();break;case 2:i.echoInfo=p.italk.pb.ItalkEchoInfo.decode(e,e.uint32());break;case 3:i.userid=e.string();break;case 4:i.localid=e.int64();break;case 5:i.fid=e.string();break;case 6:i.msgid=e.int64();break;case 7:i.timestamp=e.int64();break;case 8:i.burnsecond=e.int32();break;case 9:i.burn=e.bool();break;case 10:i.chattype=e.int32();break;case 11:i.bussinesstype=e.int32();break;case 12:i.status=e.int32();break;case 13:i.msgindex=e.int64();break;case 14:i.msgorder=e.int64();break;case 15:i.msguserorder=e.int64();break;case 16:i.text1=e.string();break;case 17:i.text2=e.string();break;case 18:i.text3=e.string();break;case 19:i.uuid=e.string();break;case 20:i.crc=e.int64();break;case 21:i.number=e.int64();break;default:e.skipType(7&n)}}return i},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.msgType&&e.hasOwnProperty("msgType"))switch(e.msgType){default:return"msgType: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 20:case 21:case 22:case 23:case 40:case 41:case 42:case 43:case 62:case 63:case 64:case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 81:case 82:case 83:}if(null!=e.echoInfo&&e.hasOwnProperty("echoInfo")){var t=p.italk.pb.ItalkEchoInfo.verify(e.echoInfo);if(t)return"echoInfo."+t}if(null!=e.userid&&e.hasOwnProperty("userid")&&!c.isString(e.userid))return"userid: string expected";if(null!=e.localid&&e.hasOwnProperty("localid")&&!(c.isInteger(e.localid)||e.localid&&c.isInteger(e.localid.low)&&c.isInteger(e.localid.high)))return"localid: integer|Long expected";if(null!=e.fid&&e.hasOwnProperty("fid")&&!c.isString(e.fid))return"fid: string expected";if(null!=e.msgid&&e.hasOwnProperty("msgid")&&!(c.isInteger(e.msgid)||e.msgid&&c.isInteger(e.msgid.low)&&c.isInteger(e.msgid.high)))return"msgid: integer|Long expected";if(null!=e.timestamp&&e.hasOwnProperty("timestamp")&&!(c.isInteger(e.timestamp)||e.timestamp&&c.isInteger(e.timestamp.low)&&c.isInteger(e.timestamp.high)))return"timestamp: integer|Long expected";if(null!=e.burnsecond&&e.hasOwnProperty("burnsecond")&&!c.isInteger(e.burnsecond))return"burnsecond: integer expected";if(null!=e.burn&&e.hasOwnProperty("burn")&&"boolean"!=typeof e.burn)return"burn: boolean expected";if(null!=e.chattype&&e.hasOwnProperty("chattype"))switch(e.chattype){default:return"chattype: enum value expected";case 0:case 1:}if(null!=e.bussinesstype&&e.hasOwnProperty("bussinesstype"))switch(e.bussinesstype){default:return"bussinesstype: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:case 27:case 28:case 29:case 30:case 31:case 32:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:}if(null!=e.status&&e.hasOwnProperty("status"))switch(e.status){default:return"status: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 21:case 22:case 23:case 24:case 25:case 26:}return null!=e.msgindex&&e.hasOwnProperty("msgindex")&&!(c.isInteger(e.msgindex)||e.msgindex&&c.isInteger(e.msgindex.low)&&c.isInteger(e.msgindex.high))?"msgindex: integer|Long expected":null!=e.msgorder&&e.hasOwnProperty("msgorder")&&!(c.isInteger(e.msgorder)||e.msgorder&&c.isInteger(e.msgorder.low)&&c.isInteger(e.msgorder.high))?"msgorder: integer|Long expected":null!=e.msguserorder&&e.hasOwnProperty("msguserorder")&&!(c.isInteger(e.msguserorder)||e.msguserorder&&c.isInteger(e.msguserorder.low)&&c.isInteger(e.msguserorder.high))?"msguserorder: integer|Long expected":null!=e.text1&&e.hasOwnProperty("text1")&&!c.isString(e.text1)?"text1: string expected":null!=e.text2&&e.hasOwnProperty("text2")&&!c.isString(e.text2)?"text2: string expected":null!=e.text3&&e.hasOwnProperty("text3")&&!c.isString(e.text3)?"text3: string expected":null!=e.uuid&&e.hasOwnProperty("uuid")&&!c.isString(e.uuid)?"uuid: string expected":null!=e.crc&&e.hasOwnProperty("crc")&&!(c.isInteger(e.crc)||e.crc&&c.isInteger(e.crc.low)&&c.isInteger(e.crc.high))?"crc: integer|Long expected":null!=e.number&&e.hasOwnProperty("number")&&!(c.isInteger(e.number)||e.number&&c.isInteger(e.number.low)&&c.isInteger(e.number.high))?"number: integer|Long expected":null},e.fromObject=function(e){if(e instanceof p.italk.pb.ItalkChatEchoMsg)return e;var t=new p.italk.pb.ItalkChatEchoMsg;switch(e.msgType){case"ITKCECHO":case 0:t.msgType=0;break;case"ITKSECHO":case 1:t.msgType=1;break;case"ITKHEART":case 2:t.msgType=2;break;case"ITKRegister":case 3:t.msgType=3;break;case"ITKSubscribe":case 4:t.msgType=4;break;case"ITKPublish":case 5:t.msgType=5;break;case"ITKPull":case 6:t.msgType=6;break;case"ITKAbnormalFeedback":case 7:t.msgType=7;break;case"ITKBusinessStatistics":case 8:t.msgType=8;break;case"ITKFeedbackServer":case 9:t.msgType=9;break;case"ITKServerSet":case 10:t.msgType=10;break;case"ITKServerSetPack":case 11:t.msgType=11;break;case"ITKLoginNEW":case 20:t.msgType=20;break;case"ITKLogin":case 21:t.msgType=21;break;case"ITKChat":case 22:t.msgType=22;break;case"ITKCommon":case 23:t.msgType=23;break;case"ITKServerChat":case 40:t.msgType=40;break;case"ITKServerChatEcho":case 41:t.msgType=41;break;case"ITKServerCommon":case 42:t.msgType=42;break;case"ITKServerCommonEcho":case 43:t.msgType=43;break;case"ITKHeartECHO":case 62:t.msgType=62;break;case"ITKRegisterECHO":case 63:t.msgType=63;break;case"ITKSubscribeECHO":case 64:t.msgType=64;break;case"ITKPublishECHO":case 65:t.msgType=65;break;case"ITKPullECHO":case 66:t.msgType=66;break;case"ITKAbnormalFeedbackECHO":case 67:t.msgType=67;break;case"ITKBusinessStatisticsECHO":case 68:t.msgType=68;break;case"ITKFeedbackServerECHO":case 69:t.msgType=69;break;case"ITKServerSetECHO":case 70:t.msgType=70;break;case"ITKServerSetPackECHO":case 71:t.msgType=71;break;case"ITKLoginECHO":case 81:t.msgType=81;break;case"ITKChatECHO":case 82:t.msgType=82;break;case"ITKCommonECHO":case 83:t.msgType=83}if(null!=e.echoInfo){if("object"!=typeof e.echoInfo)throw TypeError(".italk.pb.ItalkChatEchoMsg.echoInfo: object expected");t.echoInfo=p.italk.pb.ItalkEchoInfo.fromObject(e.echoInfo)}switch(null!=e.userid&&(t.userid=String(e.userid)),null!=e.localid&&(c.Long?(t.localid=c.Long.fromValue(e.localid)).unsigned=!1:"string"==typeof e.localid?t.localid=parseInt(e.localid,10):"number"==typeof e.localid?t.localid=e.localid:"object"==typeof e.localid&&(t.localid=new c.LongBits(e.localid.low>>>0,e.localid.high>>>0).toNumber())),null!=e.fid&&(t.fid=String(e.fid)),null!=e.msgid&&(c.Long?(t.msgid=c.Long.fromValue(e.msgid)).unsigned=!1:"string"==typeof e.msgid?t.msgid=parseInt(e.msgid,10):"number"==typeof e.msgid?t.msgid=e.msgid:"object"==typeof e.msgid&&(t.msgid=new c.LongBits(e.msgid.low>>>0,e.msgid.high>>>0).toNumber())),null!=e.timestamp&&(c.Long?(t.timestamp=c.Long.fromValue(e.timestamp)).unsigned=!1:"string"==typeof e.timestamp?t.timestamp=parseInt(e.timestamp,10):"number"==typeof e.timestamp?t.timestamp=e.timestamp:"object"==typeof e.timestamp&&(t.timestamp=new c.LongBits(e.timestamp.low>>>0,e.timestamp.high>>>0).toNumber())),null!=e.burnsecond&&(t.burnsecond=0|e.burnsecond),null!=e.burn&&(t.burn=Boolean(e.burn)),e.chattype){case"ITKSingleChat":case 0:t.chattype=0;break;case"ITKGroupChat":case 1:t.chattype=1}switch(e.bussinesstype){case"ITKSMS":case 0:t.bussinesstype=0;break;case"ITKPic":case 1:t.bussinesstype=1;break;case"ITKSound":case 2:t.bussinesstype=2;break;case"ITKShortVideo":case 3:t.bussinesstype=3;break;case"ITKFile":case 4:t.bussinesstype=4;break;case"ITKLocation":case 5:t.bussinesstype=5;break;case"ITKRedPacket":case 6:t.bussinesstype=6;break;case"ITKVoiceCall":case 7:t.bussinesstype=7;break;case"ITKVideoCall":case 8:t.bussinesstype=8;break;case"ITKServerPush":case 9:t.bussinesstype=9;break;case"ITKAddFriendRequest":case 10:t.bussinesstype=10;break;case"ITKNeedFriendVerify":case 11:t.bussinesstype=11;break;case"ITKAddFriendSucccess":case 12:t.bussinesstype=12;break;case"ITKVerifyFriendAnswer":case 13:t.bussinesstype=13;break;case"ITKVerifyFriendSuccess":case 14:t.bussinesstype=14;break;case"ITKGroupCreate":case 15:t.bussinesstype=15;break;case"ITKGroupMemberQuit":case 16:t.bussinesstype=16;break;case"ITKGroupMemberAdd":case 17:t.bussinesstype=17;break;case"ITKGroupOwnerTransfer":case 18:t.bussinesstype=18;break;case"ITKInviteGroupMember":case 19:t.bussinesstype=19;break;case"ITKVerifyInivitation":case 20:t.bussinesstype=20;break;case"ITKDeleteGroupMember":case 21:t.bussinesstype=21;break;case"ITKChatStatusChange":case 22:t.bussinesstype=22;break;case"ITKSystemNotification":case 23:t.bussinesstype=23;break;case"ITKRevokeMsg":case 24:t.bussinesstype=24;break;case"ITkDestroyed":case 25:t.bussinesstype=25;break;case"ITKReturnRedPacket":case 26:t.bussinesstype=26;break;case"ITKRemoveMsgID":case 27:t.bussinesstype=27;break;case"ITKOtherMachineLogin":case 28:t.bussinesstype=28;break;case"ITKRequestLogin":case 29:t.bussinesstype=29;break;case"ITKAuthLogin":case 30:t.bussinesstype=30;break;case"ITKUserChange":case 31:t.bussinesstype=31;break;case"ITKAppState":case 32:t.bussinesstype=32;break;case"ITKBussniesstype1":case 41:t.bussinesstype=41;break;case"ITKBussniesstype2":case 42:t.bussinesstype=42;break;case"ITKBussniesstype3":case 43:t.bussinesstype=43;break;case"ITKBussniesstype4":case 44:t.bussinesstype=44;break;case"ITKBussniesstype5":case 45:t.bussinesstype=45;break;case"ITKBussniesstype6":case 46:t.bussinesstype=46;break;case"ITKBussniesstype7":case 47:t.bussinesstype=47;break;case"ITKBussniesstype8":case 48:t.bussinesstype=48;break;case"ITKBussniesstype9":case 49:t.bussinesstype=49;break;case"ITKBussniesstype10":case 50:t.bussinesstype=50;break;case"ITKBussniesstype11":case 51:t.bussinesstype=51;break;case"ITKBussniesstype12":case 52:t.bussinesstype=52;break;case"ITKBussniesstype13":case 53:t.bussinesstype=53;break;case"ITKBussniesstype14":case 54:t.bussinesstype=54;break;case"ITKBussniesstype15":case 55:t.bussinesstype=55;break;case"ITKBussniesstype16":case 56:t.bussinesstype=56;break;case"ITKBussniesstype17":case 57:t.bussinesstype=57;break;case"ITKBussniesstype18":case 58:t.bussinesstype=58;break;case"ITKBussniesstype19":case 59:t.bussinesstype=59;break;case"ITKBussniesstype20":case 60:t.bussinesstype=60;break;case"ITKBussniesstype21":case 61:t.bussinesstype=61;break;case"ITKBussniesstype22":case 62:t.bussinesstype=62;break;case"ITKBussniesstype23":case 63:t.bussinesstype=63;break;case"ITKBussniesstype24":case 64:t.bussinesstype=64;break;case"ITKBussniesstype25":case 65:t.bussinesstype=65;break;case"ITKBussniesstype26":case 66:t.bussinesstype=66;break;case"ITKBussniesstype27":case 67:t.bussinesstype=67;break;case"ITKBussniesstype28":case 68:t.bussinesstype=68;break;case"ITKBussniesstype29":case 69:t.bussinesstype=69;break;case"ITKBussniesstype30":case 70:t.bussinesstype=70;break;case"ITKBussniesstype31":case 71:t.bussinesstype=71;break;case"ITKBussniesstype32":case 72:t.bussinesstype=72;break;case"ITKBussniesstype33":case 73:t.bussinesstype=73;break;case"ITKBussniesstype34":case 74:t.bussinesstype=74;break;case"ITKBussniesstype35":case 75:t.bussinesstype=75;break;case"ITKBussniesstype36":case 76:t.bussinesstype=76;break;case"ITKBussniesstype37":case 77:t.bussinesstype=77;break;case"ITKBussniesstype38":case 78:t.bussinesstype=78;break;case"ITKBussniesstype39":case 79:t.bussinesstype=79;break;case"ITKBussniesstype40":case 80:t.bussinesstype=80;break;case"ITKBussniesstype41":case 81:t.bussinesstype=81;break;case"ITKBussniesstype42":case 82:t.bussinesstype=82;break;case"ITKRecodeMsg":case 83:t.bussinesstype=83}switch(e.status){case"ITKUnsend":case 0:t.status=0;break;case"ITKSending":case 1:t.status=1;break;case"ITKSended":case 2:t.status=2;break;case"ITKSendFailed":case 3:t.status=3;break;case"ITKReceiverReceived":case 4:t.status=4;break;case"ITKSenderReceived":case 5:t.status=5;break;case"ITKReceiverReaded":case 6:t.status=6;break;case"ITKSenderReaded":case 7:t.status=7;break;case"ITKReceiverDestroyed":case 8:t.status=8;break;case"ITKSenderDestroyed":case 9:t.status=9;break;case"ITKReceiverTimeout":case 10:t.status=10;break;case"ITKSenderTimeout":case 11:t.status=11;break;case"ITKSenderRevoke":case 12:t.status=12;break;case"ITKReceiverRevoke":case 13:t.status=13;break;case"ITKMsgStatus1":case 21:t.status=21;break;case"ITKMsgStatus2":case 22:t.status=22;break;case"ITKMsgStatus3":case 23:t.status=23;break;case"ITKMsgStatus4":case 24:t.status=24;break;case"ITKMsgStatus5":case 25:t.status=25;break;case"ITKMsgStatus6":case 26:t.status=26}return null!=e.msgindex&&(c.Long?(t.msgindex=c.Long.fromValue(e.msgindex)).unsigned=!1:"string"==typeof e.msgindex?t.msgindex=parseInt(e.msgindex,10):"number"==typeof e.msgindex?t.msgindex=e.msgindex:"object"==typeof e.msgindex&&(t.msgindex=new c.LongBits(e.msgindex.low>>>0,e.msgindex.high>>>0).toNumber())),null!=e.msgorder&&(c.Long?(t.msgorder=c.Long.fromValue(e.msgorder)).unsigned=!1:"string"==typeof e.msgorder?t.msgorder=parseInt(e.msgorder,10):"number"==typeof e.msgorder?t.msgorder=e.msgorder:"object"==typeof e.msgorder&&(t.msgorder=new c.LongBits(e.msgorder.low>>>0,e.msgorder.high>>>0).toNumber())),null!=e.msguserorder&&(c.Long?(t.msguserorder=c.Long.fromValue(e.msguserorder)).unsigned=!1:"string"==typeof e.msguserorder?t.msguserorder=parseInt(e.msguserorder,10):"number"==typeof e.msguserorder?t.msguserorder=e.msguserorder:"object"==typeof e.msguserorder&&(t.msguserorder=new c.LongBits(e.msguserorder.low>>>0,e.msguserorder.high>>>0).toNumber())),null!=e.text1&&(t.text1=String(e.text1)),null!=e.text2&&(t.text2=String(e.text2)),null!=e.text3&&(t.text3=String(e.text3)),null!=e.uuid&&(t.uuid=String(e.uuid)),null!=e.crc&&(c.Long?(t.crc=c.Long.fromValue(e.crc)).unsigned=!1:"string"==typeof e.crc?t.crc=parseInt(e.crc,10):"number"==typeof e.crc?t.crc=e.crc:"object"==typeof e.crc&&(t.crc=new c.LongBits(e.crc.low>>>0,e.crc.high>>>0).toNumber())),null!=e.number&&(c.Long?(t.number=c.Long.fromValue(e.number)).unsigned=!1:"string"==typeof e.number?t.number=parseInt(e.number,10):"number"==typeof e.number?t.number=e.number:"object"==typeof e.number&&(t.number=new c.LongBits(e.number.low>>>0,e.number.high>>>0).toNumber())),t},e.toObject=function(e,t){t||(t={});var o={};if(t.defaults){if(o.msgType=t.enums===String?"ITKCECHO":0,o.echoInfo=null,o.userid="",c.Long){var i=new c.Long(0,0,!1);o.localid=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else o.localid=t.longs===String?"0":0;o.fid="",c.Long?(i=new c.Long(0,0,!1),o.msgid=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):o.msgid=t.longs===String?"0":0,c.Long?(i=new c.Long(0,0,!1),o.timestamp=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):o.timestamp=t.longs===String?"0":0,o.burnsecond=0,o.burn=!1,o.chattype=t.enums===String?"ITKSingleChat":0,o.bussinesstype=t.enums===String?"ITKSMS":0,o.status=t.enums===String?"ITKUnsend":0,c.Long?(i=new c.Long(0,0,!1),o.msgindex=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):o.msgindex=t.longs===String?"0":0,c.Long?(i=new c.Long(0,0,!1),o.msgorder=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):o.msgorder=t.longs===String?"0":0,c.Long?(i=new c.Long(0,0,!1),o.msguserorder=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):o.msguserorder=t.longs===String?"0":0,o.text1="",o.text2="",o.text3="",o.uuid="",c.Long?(i=new c.Long(0,0,!1),o.crc=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):o.crc=t.longs===String?"0":0,c.Long?(i=new c.Long(0,0,!1),o.number=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):o.number=t.longs===String?"0":0}return null!=e.msgType&&e.hasOwnProperty("msgType")&&(o.msgType=t.enums===String?p.italk.pb.ItalkTypeEnum[e.msgType]:e.msgType),null!=e.echoInfo&&e.hasOwnProperty("echoInfo")&&(o.echoInfo=p.italk.pb.ItalkEchoInfo.toObject(e.echoInfo,t)),null!=e.userid&&e.hasOwnProperty("userid")&&(o.userid=e.userid),null!=e.localid&&e.hasOwnProperty("localid")&&("number"==typeof e.localid?o.localid=t.longs===String?String(e.localid):e.localid:o.localid=t.longs===String?c.Long.prototype.toString.call(e.localid):t.longs===Number?new c.LongBits(e.localid.low>>>0,e.localid.high>>>0).toNumber():e.localid),null!=e.fid&&e.hasOwnProperty("fid")&&(o.fid=e.fid),null!=e.msgid&&e.hasOwnProperty("msgid")&&("number"==typeof e.msgid?o.msgid=t.longs===String?String(e.msgid):e.msgid:o.msgid=t.longs===String?c.Long.prototype.toString.call(e.msgid):t.longs===Number?new c.LongBits(e.msgid.low>>>0,e.msgid.high>>>0).toNumber():e.msgid),null!=e.timestamp&&e.hasOwnProperty("timestamp")&&("number"==typeof e.timestamp?o.timestamp=t.longs===String?String(e.timestamp):e.timestamp:o.timestamp=t.longs===String?c.Long.prototype.toString.call(e.timestamp):t.longs===Number?new c.LongBits(e.timestamp.low>>>0,e.timestamp.high>>>0).toNumber():e.timestamp),null!=e.burnsecond&&e.hasOwnProperty("burnsecond")&&(o.burnsecond=e.burnsecond),null!=e.burn&&e.hasOwnProperty("burn")&&(o.burn=e.burn),null!=e.chattype&&e.hasOwnProperty("chattype")&&(o.chattype=t.enums===String?p.italk.pb.ItalkChatTypeEnum[e.chattype]:e.chattype),null!=e.bussinesstype&&e.hasOwnProperty("bussinesstype")&&(o.bussinesstype=t.enums===String?p.italk.pb.ItalkBusinessTypeEnum[e.bussinesstype]:e.bussinesstype),null!=e.status&&e.hasOwnProperty("status")&&(o.status=t.enums===String?p.italk.pb.ItalkMsgStatusEnum[e.status]:e.status),null!=e.msgindex&&e.hasOwnProperty("msgindex")&&("number"==typeof e.msgindex?o.msgindex=t.longs===String?String(e.msgindex):e.msgindex:o.msgindex=t.longs===String?c.Long.prototype.toString.call(e.msgindex):t.longs===Number?new c.LongBits(e.msgindex.low>>>0,e.msgindex.high>>>0).toNumber():e.msgindex),null!=e.msgorder&&e.hasOwnProperty("msgorder")&&("number"==typeof e.msgorder?o.msgorder=t.longs===String?String(e.msgorder):e.msgorder:o.msgorder=t.longs===String?c.Long.prototype.toString.call(e.msgorder):t.longs===Number?new c.LongBits(e.msgorder.low>>>0,e.msgorder.high>>>0).toNumber():e.msgorder),null!=e.msguserorder&&e.hasOwnProperty("msguserorder")&&("number"==typeof e.msguserorder?o.msguserorder=t.longs===String?String(e.msguserorder):e.msguserorder:o.msguserorder=t.longs===String?c.Long.prototype.toString.call(e.msguserorder):t.longs===Number?new c.LongBits(e.msguserorder.low>>>0,e.msguserorder.high>>>0).toNumber():e.msguserorder),null!=e.text1&&e.hasOwnProperty("text1")&&(o.text1=e.text1),null!=e.text2&&e.hasOwnProperty("text2")&&(o.text2=e.text2),null!=e.text3&&e.hasOwnProperty("text3")&&(o.text3=e.text3),null!=e.uuid&&e.hasOwnProperty("uuid")&&(o.uuid=e.uuid),null!=e.crc&&e.hasOwnProperty("crc")&&("number"==typeof e.crc?o.crc=t.longs===String?String(e.crc):e.crc:o.crc=t.longs===String?c.Long.prototype.toString.call(e.crc):t.longs===Number?new c.LongBits(e.crc.low>>>0,e.crc.high>>>0).toNumber():e.crc),null!=e.number&&e.hasOwnProperty("number")&&("number"==typeof e.number?o.number=t.longs===String?String(e.number):e.number:o.number=t.longs===String?c.Long.prototype.toString.call(e.number):t.longs===Number?new c.LongBits(e.number.low>>>0,e.number.high>>>0).toNumber():e.number),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),n.ItalkLoginMsg=function(){function e(e){if(e)for(var t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.msgType=0,e.prototype.userid="",e.prototype.localid=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.token="",e.prototype.clientid="",e.prototype.number=c.Long?c.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.msgType&&e.hasOwnProperty("msgType")&&t.uint32(8).int32(e.msgType),null!=e.userid&&e.hasOwnProperty("userid")&&t.uint32(18).string(e.userid),null!=e.localid&&e.hasOwnProperty("localid")&&t.uint32(24).int64(e.localid),null!=e.token&&e.hasOwnProperty("token")&&t.uint32(34).string(e.token),null!=e.clientid&&e.hasOwnProperty("clientid")&&t.uint32(42).string(e.clientid),null!=e.number&&e.hasOwnProperty("number")&&t.uint32(48).int64(e.number),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var o=void 0===t?e.len:e.pos+t,i=new p.italk.pb.ItalkLoginMsg;e.pos<o;){var n=e.uint32();switch(n>>>3){case 1:i.msgType=e.int32();break;case 2:i.userid=e.string();break;case 3:i.localid=e.int64();break;case 4:i.token=e.string();break;case 5:i.clientid=e.string();break;case 6:i.number=e.int64();break;default:e.skipType(7&n)}}return i},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.msgType&&e.hasOwnProperty("msgType"))switch(e.msgType){default:return"msgType: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 20:case 21:case 22:case 23:case 40:case 41:case 42:case 43:case 62:case 63:case 64:case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 81:case 82:case 83:}return null!=e.userid&&e.hasOwnProperty("userid")&&!c.isString(e.userid)?"userid: string expected":null!=e.localid&&e.hasOwnProperty("localid")&&!(c.isInteger(e.localid)||e.localid&&c.isInteger(e.localid.low)&&c.isInteger(e.localid.high))?"localid: integer|Long expected":null!=e.token&&e.hasOwnProperty("token")&&!c.isString(e.token)?"token: string expected":null!=e.clientid&&e.hasOwnProperty("clientid")&&!c.isString(e.clientid)?"clientid: string expected":null!=e.number&&e.hasOwnProperty("number")&&!(c.isInteger(e.number)||e.number&&c.isInteger(e.number.low)&&c.isInteger(e.number.high))?"number: integer|Long expected":null},e.fromObject=function(e){if(e instanceof p.italk.pb.ItalkLoginMsg)return e;var t=new p.italk.pb.ItalkLoginMsg;switch(e.msgType){case"ITKCECHO":case 0:t.msgType=0;break;case"ITKSECHO":case 1:t.msgType=1;break;case"ITKHEART":case 2:t.msgType=2;break;case"ITKRegister":case 3:t.msgType=3;break;case"ITKSubscribe":case 4:t.msgType=4;break;case"ITKPublish":case 5:t.msgType=5;break;case"ITKPull":case 6:t.msgType=6;break;case"ITKAbnormalFeedback":case 7:t.msgType=7;break;case"ITKBusinessStatistics":case 8:t.msgType=8;break;case"ITKFeedbackServer":case 9:t.msgType=9;break;case"ITKServerSet":case 10:t.msgType=10;break;case"ITKServerSetPack":case 11:t.msgType=11;break;case"ITKLoginNEW":case 20:t.msgType=20;break;case"ITKLogin":case 21:t.msgType=21;break;case"ITKChat":case 22:t.msgType=22;break;case"ITKCommon":case 23:t.msgType=23;break;case"ITKServerChat":case 40:t.msgType=40;break;case"ITKServerChatEcho":case 41:t.msgType=41;break;case"ITKServerCommon":case 42:t.msgType=42;break;case"ITKServerCommonEcho":case 43:t.msgType=43;break;case"ITKHeartECHO":case 62:t.msgType=62;break;case"ITKRegisterECHO":case 63:t.msgType=63;break;case"ITKSubscribeECHO":case 64:t.msgType=64;break;case"ITKPublishECHO":case 65:t.msgType=65;break;case"ITKPullECHO":case 66:t.msgType=66;break;case"ITKAbnormalFeedbackECHO":case 67:t.msgType=67;break;case"ITKBusinessStatisticsECHO":case 68:t.msgType=68;break;case"ITKFeedbackServerECHO":case 69:t.msgType=69;break;case"ITKServerSetECHO":case 70:t.msgType=70;break;case"ITKServerSetPackECHO":case 71:t.msgType=71;break;case"ITKLoginECHO":case 81:t.msgType=81;break;case"ITKChatECHO":case 82:t.msgType=82;break;case"ITKCommonECHO":case 83:t.msgType=83}return null!=e.userid&&(t.userid=String(e.userid)),null!=e.localid&&(c.Long?(t.localid=c.Long.fromValue(e.localid)).unsigned=!1:"string"==typeof e.localid?t.localid=parseInt(e.localid,10):"number"==typeof e.localid?t.localid=e.localid:"object"==typeof e.localid&&(t.localid=new c.LongBits(e.localid.low>>>0,e.localid.high>>>0).toNumber())),null!=e.token&&(t.token=String(e.token)),null!=e.clientid&&(t.clientid=String(e.clientid)),null!=e.number&&(c.Long?(t.number=c.Long.fromValue(e.number)).unsigned=!1:"string"==typeof e.number?t.number=parseInt(e.number,10):"number"==typeof e.number?t.number=e.number:"object"==typeof e.number&&(t.number=new c.LongBits(e.number.low>>>0,e.number.high>>>0).toNumber())),t},e.toObject=function(e,t){t||(t={});var o={};if(t.defaults){if(o.msgType=t.enums===String?"ITKCECHO":0,o.userid="",c.Long){var i=new c.Long(0,0,!1);o.localid=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else o.localid=t.longs===String?"0":0;o.token="",o.clientid="",c.Long?(i=new c.Long(0,0,!1),o.number=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):o.number=t.longs===String?"0":0}return null!=e.msgType&&e.hasOwnProperty("msgType")&&(o.msgType=t.enums===String?p.italk.pb.ItalkTypeEnum[e.msgType]:e.msgType),null!=e.userid&&e.hasOwnProperty("userid")&&(o.userid=e.userid),null!=e.localid&&e.hasOwnProperty("localid")&&("number"==typeof e.localid?o.localid=t.longs===String?String(e.localid):e.localid:o.localid=t.longs===String?c.Long.prototype.toString.call(e.localid):t.longs===Number?new c.LongBits(e.localid.low>>>0,e.localid.high>>>0).toNumber():e.localid),null!=e.token&&e.hasOwnProperty("token")&&(o.token=e.token),null!=e.clientid&&e.hasOwnProperty("clientid")&&(o.clientid=e.clientid),null!=e.number&&e.hasOwnProperty("number")&&("number"==typeof e.number?o.number=t.longs===String?String(e.number):e.number:o.number=t.longs===String?c.Long.prototype.toString.call(e.number):t.longs===Number?new c.LongBits(e.number.low>>>0,e.number.high>>>0).toNumber():e.number),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),n.ItalkLoginEchoMsg=function(){function e(e){if(e)for(var t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.msgType=0,e.prototype.echoInfo=null,e.prototype.localid=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.userid="",e.prototype.token="",e.prototype.userno=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.number=c.Long?c.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.msgType&&e.hasOwnProperty("msgType")&&t.uint32(8).int32(e.msgType),null!=e.echoInfo&&e.hasOwnProperty("echoInfo")&&p.italk.pb.ItalkEchoInfo.encode(e.echoInfo,t.uint32(18).fork()).ldelim(),null!=e.localid&&e.hasOwnProperty("localid")&&t.uint32(24).int64(e.localid),null!=e.userid&&e.hasOwnProperty("userid")&&t.uint32(34).string(e.userid),null!=e.token&&e.hasOwnProperty("token")&&t.uint32(42).string(e.token),null!=e.userno&&e.hasOwnProperty("userno")&&t.uint32(48).int64(e.userno),null!=e.number&&e.hasOwnProperty("number")&&t.uint32(56).int64(e.number),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var o=void 0===t?e.len:e.pos+t,i=new p.italk.pb.ItalkLoginEchoMsg;e.pos<o;){var n=e.uint32();switch(n>>>3){case 1:i.msgType=e.int32();break;case 2:i.echoInfo=p.italk.pb.ItalkEchoInfo.decode(e,e.uint32());break;case 3:i.localid=e.int64();break;case 4:i.userid=e.string();break;case 5:i.token=e.string();break;case 6:i.userno=e.int64();break;case 7:i.number=e.int64();break;default:e.skipType(7&n)}}return i},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.msgType&&e.hasOwnProperty("msgType"))switch(e.msgType){default:return"msgType: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 20:case 21:case 22:case 23:case 40:case 41:case 42:case 43:case 62:case 63:case 64:case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 81:case 82:case 83:}if(null!=e.echoInfo&&e.hasOwnProperty("echoInfo")){var t=p.italk.pb.ItalkEchoInfo.verify(e.echoInfo);if(t)return"echoInfo."+t}return null!=e.localid&&e.hasOwnProperty("localid")&&!(c.isInteger(e.localid)||e.localid&&c.isInteger(e.localid.low)&&c.isInteger(e.localid.high))?"localid: integer|Long expected":null!=e.userid&&e.hasOwnProperty("userid")&&!c.isString(e.userid)?"userid: string expected":null!=e.token&&e.hasOwnProperty("token")&&!c.isString(e.token)?"token: string expected":null!=e.userno&&e.hasOwnProperty("userno")&&!(c.isInteger(e.userno)||e.userno&&c.isInteger(e.userno.low)&&c.isInteger(e.userno.high))?"userno: integer|Long expected":null!=e.number&&e.hasOwnProperty("number")&&!(c.isInteger(e.number)||e.number&&c.isInteger(e.number.low)&&c.isInteger(e.number.high))?"number: integer|Long expected":null},e.fromObject=function(e){if(e instanceof p.italk.pb.ItalkLoginEchoMsg)return e;var t=new p.italk.pb.ItalkLoginEchoMsg;switch(e.msgType){case"ITKCECHO":case 0:t.msgType=0;break;case"ITKSECHO":case 1:t.msgType=1;break;case"ITKHEART":case 2:t.msgType=2;break;case"ITKRegister":case 3:t.msgType=3;break;case"ITKSubscribe":case 4:t.msgType=4;break;case"ITKPublish":case 5:t.msgType=5;break;case"ITKPull":case 6:t.msgType=6;break;case"ITKAbnormalFeedback":case 7:t.msgType=7;break;case"ITKBusinessStatistics":case 8:t.msgType=8;break;case"ITKFeedbackServer":case 9:t.msgType=9;break;case"ITKServerSet":case 10:t.msgType=10;break;case"ITKServerSetPack":case 11:t.msgType=11;break;case"ITKLoginNEW":case 20:t.msgType=20;break;case"ITKLogin":case 21:t.msgType=21;break;case"ITKChat":case 22:t.msgType=22;break;case"ITKCommon":case 23:t.msgType=23;break;case"ITKServerChat":case 40:t.msgType=40;break;case"ITKServerChatEcho":case 41:t.msgType=41;break;case"ITKServerCommon":case 42:t.msgType=42;break;case"ITKServerCommonEcho":case 43:t.msgType=43;break;case"ITKHeartECHO":case 62:t.msgType=62;break;case"ITKRegisterECHO":case 63:t.msgType=63;break;case"ITKSubscribeECHO":case 64:t.msgType=64;break;case"ITKPublishECHO":case 65:t.msgType=65;break;case"ITKPullECHO":case 66:t.msgType=66;break;case"ITKAbnormalFeedbackECHO":case 67:t.msgType=67;break;case"ITKBusinessStatisticsECHO":case 68:t.msgType=68;break;case"ITKFeedbackServerECHO":case 69:t.msgType=69;break;case"ITKServerSetECHO":case 70:t.msgType=70;break;case"ITKServerSetPackECHO":case 71:t.msgType=71;break;case"ITKLoginECHO":case 81:t.msgType=81;break;case"ITKChatECHO":case 82:t.msgType=82;break;case"ITKCommonECHO":case 83:t.msgType=83}if(null!=e.echoInfo){if("object"!=typeof e.echoInfo)throw TypeError(".italk.pb.ItalkLoginEchoMsg.echoInfo: object expected");t.echoInfo=p.italk.pb.ItalkEchoInfo.fromObject(e.echoInfo)}return null!=e.localid&&(c.Long?(t.localid=c.Long.fromValue(e.localid)).unsigned=!1:"string"==typeof e.localid?t.localid=parseInt(e.localid,10):"number"==typeof e.localid?t.localid=e.localid:"object"==typeof e.localid&&(t.localid=new c.LongBits(e.localid.low>>>0,e.localid.high>>>0).toNumber())),null!=e.userid&&(t.userid=String(e.userid)),null!=e.token&&(t.token=String(e.token)),null!=e.userno&&(c.Long?(t.userno=c.Long.fromValue(e.userno)).unsigned=!1:"string"==typeof e.userno?t.userno=parseInt(e.userno,10):"number"==typeof e.userno?t.userno=e.userno:"object"==typeof e.userno&&(t.userno=new c.LongBits(e.userno.low>>>0,e.userno.high>>>0).toNumber())),null!=e.number&&(c.Long?(t.number=c.Long.fromValue(e.number)).unsigned=!1:"string"==typeof e.number?t.number=parseInt(e.number,10):"number"==typeof e.number?t.number=e.number:"object"==typeof e.number&&(t.number=new c.LongBits(e.number.low>>>0,e.number.high>>>0).toNumber())),t},e.toObject=function(e,t){t||(t={});var o={};if(t.defaults){if(o.msgType=t.enums===String?"ITKCECHO":0,o.echoInfo=null,c.Long){var i=new c.Long(0,0,!1);o.localid=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else o.localid=t.longs===String?"0":0;o.userid="",o.token="",c.Long?(i=new c.Long(0,0,!1),o.userno=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):o.userno=t.longs===String?"0":0,c.Long?(i=new c.Long(0,0,!1),o.number=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):o.number=t.longs===String?"0":0}return null!=e.msgType&&e.hasOwnProperty("msgType")&&(o.msgType=t.enums===String?p.italk.pb.ItalkTypeEnum[e.msgType]:e.msgType),null!=e.echoInfo&&e.hasOwnProperty("echoInfo")&&(o.echoInfo=p.italk.pb.ItalkEchoInfo.toObject(e.echoInfo,t)),null!=e.localid&&e.hasOwnProperty("localid")&&("number"==typeof e.localid?o.localid=t.longs===String?String(e.localid):e.localid:o.localid=t.longs===String?c.Long.prototype.toString.call(e.localid):t.longs===Number?new c.LongBits(e.localid.low>>>0,e.localid.high>>>0).toNumber():e.localid),null!=e.userid&&e.hasOwnProperty("userid")&&(o.userid=e.userid),null!=e.token&&e.hasOwnProperty("token")&&(o.token=e.token),null!=e.userno&&e.hasOwnProperty("userno")&&("number"==typeof e.userno?o.userno=t.longs===String?String(e.userno):e.userno:o.userno=t.longs===String?c.Long.prototype.toString.call(e.userno):t.longs===Number?new c.LongBits(e.userno.low>>>0,e.userno.high>>>0).toNumber():e.userno),null!=e.number&&e.hasOwnProperty("number")&&("number"==typeof e.number?o.number=t.longs===String?String(e.number):e.number:o.number=t.longs===String?c.Long.prototype.toString.call(e.number):t.longs===Number?new c.LongBits(e.number.low>>>0,e.number.high>>>0).toNumber():e.number),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),n.ItalkCommonMsg=function(){function e(e){if(e)for(var t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.msgType=0,e.prototype.userid="",e.prototype.localid=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.text="",e.prototype.number=c.Long?c.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.msgType&&e.hasOwnProperty("msgType")&&t.uint32(8).int32(e.msgType),null!=e.userid&&e.hasOwnProperty("userid")&&t.uint32(18).string(e.userid),null!=e.localid&&e.hasOwnProperty("localid")&&t.uint32(24).int64(e.localid),null!=e.text&&e.hasOwnProperty("text")&&t.uint32(34).string(e.text),null!=e.number&&e.hasOwnProperty("number")&&t.uint32(40).int64(e.number),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var o=void 0===t?e.len:e.pos+t,i=new p.italk.pb.ItalkCommonMsg;e.pos<o;){var n=e.uint32();switch(n>>>3){case 1:i.msgType=e.int32();break;case 2:i.userid=e.string();break;case 3:i.localid=e.int64();break;case 4:i.text=e.string();break;case 5:i.number=e.int64();break;default:e.skipType(7&n)}}return i},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.msgType&&e.hasOwnProperty("msgType"))switch(e.msgType){default:return"msgType: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 20:case 21:case 22:case 23:case 40:case 41:case 42:case 43:case 62:case 63:case 64:case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 81:case 82:case 83:}return null!=e.userid&&e.hasOwnProperty("userid")&&!c.isString(e.userid)?"userid: string expected":null!=e.localid&&e.hasOwnProperty("localid")&&!(c.isInteger(e.localid)||e.localid&&c.isInteger(e.localid.low)&&c.isInteger(e.localid.high))?"localid: integer|Long expected":null!=e.text&&e.hasOwnProperty("text")&&!c.isString(e.text)?"text: string expected":null!=e.number&&e.hasOwnProperty("number")&&!(c.isInteger(e.number)||e.number&&c.isInteger(e.number.low)&&c.isInteger(e.number.high))?"number: integer|Long expected":null},e.fromObject=function(e){if(e instanceof p.italk.pb.ItalkCommonMsg)return e;var t=new p.italk.pb.ItalkCommonMsg;switch(e.msgType){case"ITKCECHO":case 0:t.msgType=0;break;case"ITKSECHO":case 1:t.msgType=1;break;case"ITKHEART":case 2:t.msgType=2;break;case"ITKRegister":case 3:t.msgType=3;break;case"ITKSubscribe":case 4:t.msgType=4;break;case"ITKPublish":case 5:t.msgType=5;break;case"ITKPull":case 6:t.msgType=6;break;case"ITKAbnormalFeedback":case 7:t.msgType=7;break;case"ITKBusinessStatistics":case 8:t.msgType=8;break;case"ITKFeedbackServer":case 9:t.msgType=9;break;case"ITKServerSet":case 10:t.msgType=10;break;case"ITKServerSetPack":case 11:t.msgType=11;break;case"ITKLoginNEW":case 20:t.msgType=20;break;case"ITKLogin":case 21:t.msgType=21;break;case"ITKChat":case 22:t.msgType=22;break;case"ITKCommon":case 23:t.msgType=23;break;case"ITKServerChat":case 40:t.msgType=40;break;case"ITKServerChatEcho":case 41:t.msgType=41;break;case"ITKServerCommon":case 42:t.msgType=42;break;case"ITKServerCommonEcho":case 43:t.msgType=43;break;case"ITKHeartECHO":case 62:t.msgType=62;break;case"ITKRegisterECHO":case 63:t.msgType=63;break;case"ITKSubscribeECHO":case 64:t.msgType=64;break;case"ITKPublishECHO":case 65:t.msgType=65;break;case"ITKPullECHO":case 66:t.msgType=66;break;case"ITKAbnormalFeedbackECHO":case 67:t.msgType=67;break;case"ITKBusinessStatisticsECHO":case 68:t.msgType=68;break;case"ITKFeedbackServerECHO":case 69:t.msgType=69;break;case"ITKServerSetECHO":case 70:t.msgType=70;break;case"ITKServerSetPackECHO":case 71:t.msgType=71;break;case"ITKLoginECHO":case 81:t.msgType=81;break;case"ITKChatECHO":case 82:t.msgType=82;break;case"ITKCommonECHO":case 83:t.msgType=83}return null!=e.userid&&(t.userid=String(e.userid)),null!=e.localid&&(c.Long?(t.localid=c.Long.fromValue(e.localid)).unsigned=!1:"string"==typeof e.localid?t.localid=parseInt(e.localid,10):"number"==typeof e.localid?t.localid=e.localid:"object"==typeof e.localid&&(t.localid=new c.LongBits(e.localid.low>>>0,e.localid.high>>>0).toNumber())),null!=e.text&&(t.text=String(e.text)),null!=e.number&&(c.Long?(t.number=c.Long.fromValue(e.number)).unsigned=!1:"string"==typeof e.number?t.number=parseInt(e.number,10):"number"==typeof e.number?t.number=e.number:"object"==typeof e.number&&(t.number=new c.LongBits(e.number.low>>>0,e.number.high>>>0).toNumber())),t},e.toObject=function(e,t){t||(t={});var o={};if(t.defaults){if(o.msgType=t.enums===String?"ITKCECHO":0,o.userid="",c.Long){var i=new c.Long(0,0,!1);o.localid=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else o.localid=t.longs===String?"0":0;o.text="",c.Long?(i=new c.Long(0,0,!1),o.number=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):o.number=t.longs===String?"0":0}return null!=e.msgType&&e.hasOwnProperty("msgType")&&(o.msgType=t.enums===String?p.italk.pb.ItalkTypeEnum[e.msgType]:e.msgType),null!=e.userid&&e.hasOwnProperty("userid")&&(o.userid=e.userid),null!=e.localid&&e.hasOwnProperty("localid")&&("number"==typeof e.localid?o.localid=t.longs===String?String(e.localid):e.localid:o.localid=t.longs===String?c.Long.prototype.toString.call(e.localid):t.longs===Number?new c.LongBits(e.localid.low>>>0,e.localid.high>>>0).toNumber():e.localid),null!=e.text&&e.hasOwnProperty("text")&&(o.text=e.text),null!=e.number&&e.hasOwnProperty("number")&&("number"==typeof e.number?o.number=t.longs===String?String(e.number):e.number:o.number=t.longs===String?c.Long.prototype.toString.call(e.number):t.longs===Number?new c.LongBits(e.number.low>>>0,e.number.high>>>0).toNumber():e.number),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),n.ItalkCommonEchoMsg=function(){function e(e){if(e)for(var t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.msgType=0,e.prototype.echoInfo=null,e.prototype.localid=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.text="",e.prototype.number=c.Long?c.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=l.create()),null!=e.msgType&&e.hasOwnProperty("msgType")&&t.uint32(8).int32(e.msgType),null!=e.echoInfo&&e.hasOwnProperty("echoInfo")&&p.italk.pb.ItalkEchoInfo.encode(e.echoInfo,t.uint32(18).fork()).ldelim(),null!=e.localid&&e.hasOwnProperty("localid")&&t.uint32(24).int64(e.localid),null!=e.text&&e.hasOwnProperty("text")&&t.uint32(34).string(e.text),null!=e.number&&e.hasOwnProperty("number")&&t.uint32(40).int64(e.number),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var o=void 0===t?e.len:e.pos+t,i=new p.italk.pb.ItalkCommonEchoMsg;e.pos<o;){var n=e.uint32();switch(n>>>3){case 1:i.msgType=e.int32();break;case 2:i.echoInfo=p.italk.pb.ItalkEchoInfo.decode(e,e.uint32());break;case 3:i.localid=e.int64();break;case 4:i.text=e.string();break;case 5:i.number=e.int64();break;default:e.skipType(7&n)}}return i},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.msgType&&e.hasOwnProperty("msgType"))switch(e.msgType){default:return"msgType: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 20:case 21:case 22:case 23:case 40:case 41:case 42:case 43:case 62:case 63:case 64:case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 81:case 82:case 83:}if(null!=e.echoInfo&&e.hasOwnProperty("echoInfo")){var t=p.italk.pb.ItalkEchoInfo.verify(e.echoInfo);if(t)return"echoInfo."+t}return null!=e.localid&&e.hasOwnProperty("localid")&&!(c.isInteger(e.localid)||e.localid&&c.isInteger(e.localid.low)&&c.isInteger(e.localid.high))?"localid: integer|Long expected":null!=e.text&&e.hasOwnProperty("text")&&!c.isString(e.text)?"text: string expected":null!=e.number&&e.hasOwnProperty("number")&&!(c.isInteger(e.number)||e.number&&c.isInteger(e.number.low)&&c.isInteger(e.number.high))?"number: integer|Long expected":null},e.fromObject=function(e){if(e instanceof p.italk.pb.ItalkCommonEchoMsg)return e;var t=new p.italk.pb.ItalkCommonEchoMsg;switch(e.msgType){case"ITKCECHO":case 0:t.msgType=0;break;case"ITKSECHO":case 1:t.msgType=1;break;case"ITKHEART":case 2:t.msgType=2;break;case"ITKRegister":case 3:t.msgType=3;break;case"ITKSubscribe":case 4:t.msgType=4;break;case"ITKPublish":case 5:t.msgType=5;break;case"ITKPull":case 6:t.msgType=6;break;case"ITKAbnormalFeedback":case 7:t.msgType=7;break;case"ITKBusinessStatistics":case 8:t.msgType=8;break;case"ITKFeedbackServer":case 9:t.msgType=9;break;case"ITKServerSet":case 10:t.msgType=10;break;case"ITKServerSetPack":case 11:t.msgType=11;break;case"ITKLoginNEW":case 20:t.msgType=20;break;case"ITKLogin":case 21:t.msgType=21;break;case"ITKChat":case 22:t.msgType=22;break;case"ITKCommon":case 23:t.msgType=23;break;case"ITKServerChat":case 40:t.msgType=40;break;case"ITKServerChatEcho":case 41:t.msgType=41;break;case"ITKServerCommon":case 42:t.msgType=42;break;case"ITKServerCommonEcho":case 43:t.msgType=43;break;case"ITKHeartECHO":case 62:t.msgType=62;break;case"ITKRegisterECHO":case 63:t.msgType=63;break;case"ITKSubscribeECHO":case 64:t.msgType=64;break;case"ITKPublishECHO":case 65:t.msgType=65;break;case"ITKPullECHO":case 66:t.msgType=66;break;case"ITKAbnormalFeedbackECHO":case 67:t.msgType=67;break;case"ITKBusinessStatisticsECHO":case 68:t.msgType=68;break;case"ITKFeedbackServerECHO":case 69:t.msgType=69;break;case"ITKServerSetECHO":case 70:t.msgType=70;break;case"ITKServerSetPackECHO":case 71:t.msgType=71;break;case"ITKLoginECHO":case 81:t.msgType=81;break;case"ITKChatECHO":case 82:t.msgType=82;break;case"ITKCommonECHO":case 83:t.msgType=83}if(null!=e.echoInfo){if("object"!=typeof e.echoInfo)throw TypeError(".italk.pb.ItalkCommonEchoMsg.echoInfo: object expected");t.echoInfo=p.italk.pb.ItalkEchoInfo.fromObject(e.echoInfo)}return null!=e.localid&&(c.Long?(t.localid=c.Long.fromValue(e.localid)).unsigned=!1:"string"==typeof e.localid?t.localid=parseInt(e.localid,10):"number"==typeof e.localid?t.localid=e.localid:"object"==typeof e.localid&&(t.localid=new c.LongBits(e.localid.low>>>0,e.localid.high>>>0).toNumber())),null!=e.text&&(t.text=String(e.text)),null!=e.number&&(c.Long?(t.number=c.Long.fromValue(e.number)).unsigned=!1:"string"==typeof e.number?t.number=parseInt(e.number,10):"number"==typeof e.number?t.number=e.number:"object"==typeof e.number&&(t.number=new c.LongBits(e.number.low>>>0,e.number.high>>>0).toNumber())),t},e.toObject=function(e,t){t||(t={});var o={};if(t.defaults){if(o.msgType=t.enums===String?"ITKCECHO":0,o.echoInfo=null,c.Long){var i=new c.Long(0,0,!1);o.localid=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else o.localid=t.longs===String?"0":0;o.text="",c.Long?(i=new c.Long(0,0,!1),o.number=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):o.number=t.longs===String?"0":0}return null!=e.msgType&&e.hasOwnProperty("msgType")&&(o.msgType=t.enums===String?p.italk.pb.ItalkTypeEnum[e.msgType]:e.msgType),null!=e.echoInfo&&e.hasOwnProperty("echoInfo")&&(o.echoInfo=p.italk.pb.ItalkEchoInfo.toObject(e.echoInfo,t)),null!=e.localid&&e.hasOwnProperty("localid")&&("number"==typeof e.localid?o.localid=t.longs===String?String(e.localid):e.localid:o.localid=t.longs===String?c.Long.prototype.toString.call(e.localid):t.longs===Number?new c.LongBits(e.localid.low>>>0,e.localid.high>>>0).toNumber():e.localid),null!=e.text&&e.hasOwnProperty("text")&&(o.text=e.text),null!=e.number&&e.hasOwnProperty("number")&&("number"==typeof e.number?o.number=t.longs===String?String(e.number):e.number:o.number=t.longs===String?c.Long.prototype.toString.call(e.number):t.longs===Number?new c.LongBits(e.number.low>>>0,e.number.high>>>0).toNumber():e.number),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),n),r),t.exports=p,cc._RF.pop()},{}],italkmsg_unit:[function(e,t,o){"use strict";cc._RF.push(t,"abb95JsDS5JGpQoARRJ4yB8","italkmsg_unit"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function e(){}return e.getLocalId=function(){var e=(new Date).getTime();return e!=this.localidcurrtime?(this.localidcurrtime=e,this.localidindex=0):++this.localidindex,e*=1e3,(e+=this.localidindex%100*10)+5},e.localidcurrtime=0,e.localidindex=0,e}();o.default=i,cc._RF.pop()},{}],layout_utils:[function(e,t,o){"use strict";cc._RF.push(t,"c92c5UwUupPWKw+B81R0s9V","layout_utils"),Object.defineProperty(o,"__esModule",{value:!0}),o.LayoutUtil=void 0;var i=function(){function e(){}return e.vertical_layout=function(e,t,o,i,n,r){return void 0===i&&(i=1),void 0===n&&(n=0),void 0===r&&(r=0),[e%i*(t+n),-Math.floor(e/i)*(o+r)]},e.horizontal_layout=function(e,t,o,i,n,r){return void 0===i&&(i=1),void 0===n&&(n=0),void 0===r&&(r=0),[Math.floor(e/i)*(t+n),-e%i*(o+r)]},e}();o.LayoutUtil=i,cc._RF.pop()},{}],listview:[function(e,t,o){"use strict";cc._RF.push(t,"62b8aSJz8FB/qU6gCFIuAnF","listview");var i=this&&this.__spreadArrays||function(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;var i=Array(e),n=0;for(t=0;t<o;t++)for(var r=arguments[t],a=0,s=r.length;a<s;a++,n++)i[n]=r[a];return i};Object.defineProperty(o,"__esModule",{value:!0}),o.ListViewDir=o.ListView=void 0;var n,r=e("./layout_utils"),a=function(){function e(e){if(this._selected_index=-1,this.scrollview=e.scrollview,this.mask=e.mask,this.content=e.content,this.item_tpl=e.item_tpl,this.item_tpl.active=!1,this.item_width=this.item_tpl.width,this.item_height=this.item_tpl.height,this.dir=e.direction||n.Vertical,this.width=e.width||this.mask.width,this.height=e.height||this.mask.height,this.gap_x=e.gap_x||0,this.gap_y=e.gap_y||0,this.row=e.row||1,this.col=e.column||1,this.cb_host=e.cb_host,this.item_setter=e.item_setter,this.recycle_cb=e.recycle_cb,this.select_cb=e.select_cb,this.select_setter=e.select_setter,this.scroll_to_end_cb=e.scroll_to_end_cb,this.auto_scrolling=e.auto_scrolling||!1,this.node_pool=[],this.dir==n.Vertical){var t=(this.item_width+this.gap_x)*this.col-this.gap_x;t>this.width&&(Logger.log("real width > width, resize scrollview to realwidth,",this.width,"->",t),this.width=t),this.content.width=this.width}else{var o=(this.item_height+this.gap_y)*this.row-this.gap_y;o>this.height&&(Logger.log("real height > height, resize scrollview to realheight,",this.height,"->",o),this.height=o),this.content.height=this.height}this.mask.setContentSize(this.width,this.height),this.scrollview.node.setContentSize(this.width,this.height),this.scrollview.vertical=this.dir==n.Vertical,this.scrollview.horizontal=this.dir==n.Horizontal,this.scrollview.inertia=!0,this.scrollview.node.on("scrolling",this.on_scrolling,this),this.scrollview.node.on("scroll-to-bottom",this.on_scroll_to_end,this),this.scrollview.node.on("scroll-to-right",this.on_scroll_to_end,this)}return e.prototype.on_scroll_to_end=function(){this.scroll_to_end_cb&&this.scroll_to_end_cb.call(this.cb_host)},e.prototype.on_scrolling=function(){if(this.items&&this.items.length)if(this.dir==n.Vertical){var e=this.content.y;e<0&&(e=0),e>this.content.height-this.height&&(e=this.content.height-this.height);for(var t=0,o=this.items.length-1,i=(r=-e)-this.height;this.items[t].y-this.item_height>r;)t++;for(;this.items[o].y<i;)o--;t!=this.start_index&&o!=this.stop_index&&(this.start_index=t,this.stop_index=o,this.render_items())}else{var r,a=this.content.x;for(a>0&&(a=0),a<this.width-this.content.width&&(a=this.width-this.content.width),t=0,o=this.items.length-1,i=(r=-a)+this.width;this.items[t].x+this.item_width<r;)t++;for(;this.items[o].x>i;)o--;t!=this.start_index&&o!=this.stop_index&&(this.start_index=t,this.stop_index=o,this.render_items())}},e.prototype.select_item=function(e){e!=this._selected_index&&(-1!=this._selected_index&&this.inner_select_item(this._selected_index,!1),this.inner_select_item(e,!0))},e.prototype.inner_select_item=function(e,t){var o=this.items[e];o?(o.is_select=t,o.node&&this.select_setter&&this.select_setter.call(this.cb_host,o.node,t,e),t&&(this._selected_index=e,this.select_cb&&this.select_cb.call(this.cb_host,o.data,e))):Logger.warn("inner_select_item index is out of range{",0,this.items.length-1,"}",e)},e.prototype.spawn_node=function(){var e=this.node_pool.pop();if(!e){(e=cc.instantiate(this.item_tpl)).active=!0;var t=e.getComponent(cc.Button);null==t&&(t=e.addComponent(cc.Button)),e.on("click",this.onItemClick,this)}return e.parent=this.content,e},e.prototype.onItemClick=function(e){var t=Number(e.node.name);this.select_item(t)},e.prototype.recycle_item=function(e){e.node&&cc.isValid(e.node)&&(this.recycle_cb&&this.recycle_cb.call(this.cb_host,e.node),e.node.removeFromParent(),this.node_pool.push(e.node),e.node=null)},e.prototype.clear_items=function(){var e=this;this.items&&this.items.forEach(function(t){e.recycle_item(t)})},e.prototype.render_items=function(){for(var e,t=0;t<this.start_index;t++)(e=this.items[t]).node&&this.recycle_item(e);for(t=this.items.length-1;t>this.stop_index;t--)(e=this.items[t]).node&&this.recycle_item(e);for(t=this.start_index;t<=this.stop_index;t++)(e=this.items[t]).node||(e.node=this.spawn_node(t),this.item_setter.call(this.cb_host,e.node,e.data,t),this.select_setter&&this.select_setter.call(this.cb_host,e.node,e.is_select,t)),e.node.name=t.toString(),e.node.setPosition(e.x,e.y)},e.prototype.pack_item=function(e){return{x:0,y:0,data:e,node:null,is_select:!1}},e.prototype.layout_items=function(e){for(var t,o,i=e,a=this.items.length;i<a;i++){var s=this.items[i];this.dir==n.Vertical?(t=r.LayoutUtil.vertical_layout(i,this.item_width,this.item_height,this.col,this.gap_x,this.gap_y),s.x=t[0],s.y=t[1]):(o=r.LayoutUtil.horizontal_layout(i,this.item_width,this.item_height,this.row,this.gap_x,this.gap_y),s.x=o[0],s.y=o[1])}},e.prototype.resize_content=function(){if(this.items.length<=0)return this.content.width=0,void(this.content.height=0);var e=this.items[this.items.length-1];this.dir==n.Vertical?this.content.height=Math.max(this.height,this.item_height-e.y):this.content.width=Math.max(this.width,e.x+this.item_width)},e.prototype.set_data=function(e){var t=this;this.clear_items(),this.items=[],this._datas=e,e.forEach(function(e){var o=t.pack_item(e);t.items.push(o)}),this.layout_items(0),this.resize_content(),this.start_index=-1,this.stop_index=-1,this.dir==n.Vertical?this.content.y=0:this.content.x=0,this.items.length>0&&this.on_scrolling()},e.prototype.insert_data=function(e){for(var t,o,n=this,r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];if(0!=r.length)if(this.items||(this.items=[]),this._datas||(this._datas=[]),e<0||e>this.items.length)Logger.warn("invalid index",e);else{var s=e==this.items.length,l=[];r.forEach(function(e){var t=n.pack_item(e);l.push(t)}),(t=this._datas).splice.apply(t,i([e,0],r)),(o=this.items).splice.apply(o,i([e,0],l)),this.layout_items(e),this.resize_content(),this.start_index=-1,this.stop_index=-1,this.auto_scrolling&&s&&this.scroll_to_end(),this.on_scrolling()}else Logger.log("nothing to insert")},e.prototype.remove_data=function(e,t){var o=this;if(void 0===t&&(t=1),this.items)if(e<0||e>=this.items.length)Logger.warn("invalid index",e);else if(t<1)Logger.log("nothing to remove");else{var i=this.items.length,n=this.items.splice(e,t);this._datas.splice(e,t),n.forEach(function(e){o.recycle_item(e)}),e+t<i&&this.layout_items(e),this.resize_content(),this.items.length>0&&(this.start_index=-1,this.stop_index=-1,this.on_scrolling())}else Logger.log("call set_data before call this method")},e.prototype.append_data=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.items||(this.items=[]),this.insert_data.apply(this,i([this.items.length],e))},e.prototype.scroll_to=function(e){if(this.dir==n.Vertical){var t=this.height-this.content.height;if(t>=0)return void Logger.log("no need to scroll");var o=r.LayoutUtil.vertical_layout(e,this.item_width,this.item_height,this.col,this.gap_x,this.gap_y),i=(o[0],o[1]);i<t&&(i=t,Logger.log("content reach bottom")),i>0&&(i=0,Logger.log("content reach top")),this.scrollview.setContentPosition(cc.v2(this.content.x,-i)),this.on_scrolling()}else{var a=this.content.width-this.width;if(a<=0)return void Logger.log("no need to scroll");var s=r.LayoutUtil.horizontal_layout(e,this.item_width,this.item_height,this.row,this.gap_x,this.gap_y),l=s[0];s[1],l>a&&(l=a,Logger.log("content reach right")),l<0&&(l=0,Logger.log("content reach left")),this.scrollview.setContentPosition(cc.v2(-l,this.content.position.y)),this.on_scrolling()}},e.prototype.scroll_to_end=function(){this.dir==n.Vertical?this.scrollview.scrollToBottom():this.scrollview.scrollToRight()},e.prototype.refresh_item=function(e,t){if(this.items)if(e<0||e>=this.items.length)Logger.warn("invalid index",e);else{var o=this.items[e];o.data=t,this._datas[e]=t,o.node&&(this.recycle_cb&&this.recycle_cb.call(this.cb_host,o.node),this.item_setter.call(this.cb_host,o.node,o.data,e))}else Logger.log("call set_data before call this method")},e.prototype.destroy=function(){this.clear_items(),this.node_pool.forEach(function(e){e.destroy()}),this.node_pool=null,this.items=null,this._datas=null,cc.isValid(this.scrollview.node)&&(this.scrollview.node.off("scrolling",this.on_scrolling,this),this.scrollview.node.off("scroll-to-bottom",this.on_scroll_to_end,this),this.scrollview.node.off("scroll-to-right",this.on_scroll_to_end,this))},Object.defineProperty(e.prototype,"datas",{get:function(){return this._datas},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selected_index",{get:function(){return this._selected_index},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectd_data",{get:function(){var e=this.items[this._selected_index];return e?e.data:null},enumerable:!1,configurable:!0}),e}();o.ListView=a,function(e){e[e.Vertical=1]="Vertical",e[e.Horizontal=2]="Horizontal"}(n=o.ListViewDir||(o.ListViewDir={})),cc._RF.pop()},{"./layout_utils":"layout_utils"}],oldVipView:[function(e,t,o){"use strict";cc._RF.push(t,"3265choTYpJ1YX9LV0DIwPI","oldVipView");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../../hallcommon/model/PlayerInfoModel"),s=e("../hall/views/HallBtnHelper"),l=cc._decorator,c=l.ccclass,p=(l.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.vip=0,t.spriteVipArr=[],t.richTextNextVip=null,t.processBar=null,t.labelJiasu=null,t.richTextVip=null,t.spriteIconArr=[],t.richTextArr=[],t.spriteVipIcon=null,t.labelTequanArr=[],t.btnNodeArr=[],t.hasInit=!1,t.status=2,t}var o;return n(t,e),o=t,t.prototype.initView=function(){o.instance=this,this.spriteVipArr[0]=cc.find("top/vip0",this.node).getComponent(cc.Sprite),this.spriteVipArr[1]=cc.find("top/vip1",this.node).getComponent(cc.Sprite),this.richTextNextVip=cc.find("top/richText_vip",this.node).getComponent(cc.RichText),this.processBar=cc.find("top/process_di/progressBar",this.node).getComponent(cc.ProgressBar),this.labelJiasu=cc.find("top/label_jiasu",this.node).getComponent(cc.Label),this.richTextVip=cc.find("bottom/title/richText_vip",this.node).getComponent(cc.RichText);for(var e=0;e<2;e++)this.spriteIconArr[e]=cc.find("bottom/item_"+e+"/icon",this.node).getComponent(cc.Sprite),this.richTextArr[e]=cc.find("bottom/item_"+e+"/richText_name",this.node).getComponent(cc.RichText);var t=cc.find("bottom/item_2",this.node);for(t&&(this.richTextArr[2]=cc.find("richText_name",t).getComponent(cc.RichText),this.btnNodeArr[0]=Global.UIHelper.addCommonClick(this.node,"bottom/item_2/button_uplingqu",this.jihuoBtnFunc,this),this.btnNodeArr[0].active=!1,this.btnNodeArr[1]=cc.find("button_yilingqu",t),this.btnNodeArr[1].active=!1,this.btnNodeArr[2]=Global.UIHelper.addCommonClick(this.node,"bottom/item_2/button_lingqu",this.ReqGetReward,this),this.btnNodeArr[2].active=!1),this.spriteVipIcon=cc.find("bottom/info_node/icon_vip",this.node).getComponent(cc.Sprite),e=0;e<4;e++)this.labelTequanArr[e]=cc.find("bottom/info_node/labelLayout/label_"+(e+1),this.node).getComponent(cc.Label),this.labelTequanArr[e].node.active=!1;Global.UIHelper.addCommonClick(this.node,"bottom/info_node/button_jihuo",this.jihuoBtnFunc,this),this.UpdateUI()},t.prototype.ReqGetReward=function(){var e=this,t={level:this.vip};Global.HallServer.send(NetAppface.mod,NetAppface.ReciveVipReward,t,function(t){Global.UI.show("WndRebateGet",t.point),e.status=t.status,e.btnNodeArr[1].active=!0,e.btnNodeArr[2].active=!1,e.btnNodeArr[0].active=!1,Global.Event.event(GlobalEvent.CHANGEVIP)},function(e){Global.UI.fastTip(e._errstr)})},t.prototype.onDestroy=function(){o.instance=null},t.prototype.init=function(){},t.prototype.UpdateUI=function(e){if(this.richTextNextVip){var t=cc.find("bottom/info_node/button_jihuo",this.node);Global.PlayerData.vip>=this.vip&&(t.active=!1),Global.PlayerData.vip>0&&Global.PlayerData.vip<4?this.labelJiasu.node.active=!0:this.labelJiasu.node.active=!1;var o=Global.PlayerData.vip,i=this.vip-1,n=this.vip,r=o+1;o<n&&(i=o,r=n);var s,l=1,c=a.default.instance.GetVipUpgradeExp(r);(s=c-Global.PlayerData.vipExp)>0?(this.richTextNextVip.string="\u518d\u5145\u503c<color=#ff9485>"+s+"</color>\u5143\uff0c\u5373\u53ef\u8fbe\u5230<color=#ffdb4a>VIP"+r+"</color>",o<n&&(l=Global.PlayerData.vipExp/c)):this.richTextNextVip.string="<b>\u606d\u559c\u60a8\u5df2\u6210\u4e3a\u81f3\u5c0aVIP"+o+"</b>",this.processBar.progress=l,this.richTextVip.string="VIP"+n+"\u4f1a\u5458\u5c0a\u4eab";var p="hall/texture/hall/playerInfo/AutoAtlas_playerinfo",h="vip_tq"+i;Global.ResourceManager.loadAutoAtlas(this.spriteVipArr[0],p,h,null,!1);var u="vip_tq"+n;if(Global.ResourceManager.loadAutoAtlas(this.spriteVipArr[1],p,u,null,!1),Global.Toolkit.loadLocalHeadFrame(this.spriteIconArr[0],""+n),n>9){this.richTextArr[1].string="<b>V"+n+"\u4e13\u5c5e\u8868\u60c5</b>";var d="biaoqing_"+n;Global.ResourceManager.loadAutoAtlas(this.spriteIconArr[1],p,d,null,!1)}else this.richTextArr[1].string="<b>V"+n+"\u6355\u9c7c\u70ae\u53f0</b>",d="paotai_"+n,Global.ResourceManager.loadAutoAtlas(this.spriteIconArr[1],p,d,null,!1);this.richTextArr[2]&&e&&(this.richTextArr[2].string=Global.Toolkit.GetMoneyFormat(e.point)+"\u5143");var f=a.default.instance.vip_cfg[this.vip-1];f&&f.ngame>0&&(this.labelTequanArr[1].string="\u8fdb\u5165\u6e38\u620f\u540e\u5168\u573a\u901a\u62a5",this.labelTequanArr[1].node.active=!0),Global.Toolkit.loadLocalVip(this.spriteVipIcon,n),1==this.vip?(this.labelTequanArr[0].string="\u4e13\u5c5e\u5728\u7ebf\u5ba2\u670d\uff0c24\u5c0f\u65f6\u670d\u52a1",this.labelTequanArr[0].node.active=!0,this.labelTequanArr[2].string="\u4e13\u5c5e\u652f\u4ed8\u901a\u9053\uff0c\u66f4\u52a0\u7a33\u5b9a\u5feb\u6377",this.labelTequanArr[2].node.active=!0):this.vip>1&&this.vip<8?(this.labelTequanArr[0].string="\u6d3b\u52a8\u53ef\u9886\u53d6\u66f4\u591a\u5956\u52b1",this.labelTequanArr[0].node.active=!0,this.labelTequanArr[2].string="\u4e13\u5c5e\u5728\u7ebf\u5ba2\u670d\uff0c24\u5c0f\u65f6\u670d\u52a1",this.labelTequanArr[2].node.active=!0,this.labelTequanArr[3].string="\u4e13\u5c5e\u652f\u4ed8\u901a\u9053\uff0c\u66f4\u52a0\u7a33\u5b9a\u5feb\u6377",this.labelTequanArr[3].node.active=!0):this.vip>2&&this.vip<8?(this.labelTequanArr[0].string="\u6d3b\u52a8\u53ef\u9886\u53d6\u66f4\u591a\u5956\u52b1",this.labelTequanArr[0].node.active=!0,this.labelTequanArr[2].string="\u4e13\u5c5e\u5728\u7ebf\u5ba2\u670d\uff0c24\u5c0f\u65f6\u670d\u52a1",this.labelTequanArr[2].node.active=!0,this.labelTequanArr[3].string="\u4e13\u5c5e\u652f\u4ed8\u901a\u9053\uff0c\u66f4\u52a0\u7a33\u5b9a\u5feb\u6377",this.labelTequanArr[3].node.active=!0):this.vip>7&&(this.labelTequanArr[0].string="\u6d3b\u52a8\u53ef\u9886\u53d6\u66f4\u591a\u5956\u52b1",this.labelTequanArr[0].node.active=!0,this.labelTequanArr[2].string="\u4e13\u5c5e\u5728\u7ebf\u5ba2\u670d\uff0c24\u5c0f\u65f6\u670d\u52a1",this.labelTequanArr[2].node.active=!0,this.labelTequanArr[3].string="\u4e13\u5c5e\u652f\u4ed8\u901a\u9053\uff0c\u66f4\u52a0\u7a33\u5b9a\u5feb\u6377",this.labelTequanArr[3].node.active=!0),cc.find("bottom/item_2",this.node)&&(e&&(this.status=e.status),o<n?(this.btnNodeArr[0].active=!0,this.btnNodeArr[1].active=!1,this.btnNodeArr[2].active=!1):0==this.status?(this.btnNodeArr[2].active=!0,this.btnNodeArr[0].active=!1,this.btnNodeArr[1].active=!1):1==this.status&&(this.btnNodeArr[1].active=!0,this.btnNodeArr[2].active=!1,this.btnNodeArr[0].active=!1))}},t.prototype.jihuoBtnFunc=function(){s.default.WndRechargeOpen()},t.instance=null,o=r([c],t)}(cc.Component));o.default=p,cc._RF.pop()},{"../../../hallcommon/model/PlayerInfoModel":"PlayerInfoModel","../hall/views/HallBtnHelper":"HallBtnHelper"}],overseasBankWin:[function(e,t,o){"use strict";cc._RF.push(t,"69e9cyNFqJE3YlYdSjKh00V","overseasBankWin");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../../../core/ui/ViewBase"),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nameEditBox=null,t.accountEditBox=null,t.openBankLabel=null,t.openBankTipNode=null,t}return n(t,e),t.prototype.initView=function(){var e=this;this.model=Global.ModelManager.getModel("ExtractModel"),this.nameEditBox=this.getComponent("NameEditBox",cc.EditBox),this.accountEditBox=this.getComponent("AccountEditBox",cc.EditBox),this.openBankLabel=this.getComponent("OpeningbankBox/TEXT_LABEL",cc.Label),this.openBankTipNode=this.getChild("OpeningbankBox/PLACEHOLDER_LABEL"),this.icon=this.getChild("OpeningbankBox/SelectBranch"),this.chooseOverseasBankView=new s,this.chooseOverseasBankView.onSelect=this.selectBankFunc.bind(this),this.chooseOverseasBankView.setNode(this.getChild("chooseBank")),this.chooseOverseasBankView.active=!1,this.updateChooseAreaView(),this.addCommonClick("OpeningbankBox",function(){e.chooseOverseasBankView.active=!0},this,null),this.addCommonClick("bandBtn",this.bandBtnFunc,this)},t.prototype.updateChooseAreaView=function(){this.chooseOverseasBankView.active=!1},t.prototype.SwitchLabelState=function(e){Logger.log("\u9009\u62e9\u4e86\u54ea\u4e2a\u94f6\u884c",e),this.openBankLabel.string=e,this.openBankLabel.node.active=!0,this.openBankTipNode.active=!1,this.chooseOverseasBankView.active=!1},t.prototype.selectBankFunc=function(e){Global.Audio.playBtnSound(),Logger.log("\u9009\u62e9\u4e86\u5565",e),this.SwitchLabelState(e),this.updateChooseAreaView()},t.prototype.bandBtnFunc=function(){this.checkTextEmptyAndShowTips(this.accountEditBox.string,"\u94f6\u884c\u5361\u4e0d\u80fd\u4e3a\u7a7a")&&this.checkTextEmptyAndShowTips(this.nameEditBox.string,"\u59d3\u540d\u4e0d\u80fd\u4e3a\u7a7a")&&this.checkTextEmptyAndShowTips(this.openBankLabel.string,"\u8bf7\u9009\u62e9\u5f00\u6237\u94f6\u884c")&&this.checkSpecialCharAndShowTips(this.accountEditBox.string," ","\u8d26\u53f7\u4e2d\u6709\u975e\u6cd5\u5b57\u7b26\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165")&&Global.UI.show("WndOverseasBandConfirm",this.nameEditBox.string,this.accountEditBox.string,this.openBankLabel.string)},t.prototype.checkTextEmptyAndShowTips=function(e,t){return!(e.length<=0&&(Global.UI.fastTip(t),1))},t.prototype.checkSpecialCharAndShowTips=function(e,t,o){for(var i=0;i<e.length;i++){var n=e.charAt(i);if(t.indexOf(n)>=0)return Global.UI.fastTip(o),!1}return!0},t}(r.default);o.default=a;var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.itemList=[],t.comfirmBtn=null,t.dataIndex=0,t}return n(t,e),t.prototype.initView=function(){var e=this;this.item=this.getChild("scrollview/view/content/item"),this.item.active=!1,this.contentRoot=this.getChild("scrollview/view/content"),this.scroll=this.getComponent("scrollview",cc.ScrollView),this.comfirmBtn=this.getChild("btnComfirm"),this.comfirmBtn.on("click",this.onComfirmClick,this),this.model=Global.ModelManager.getModel("ExtractModel"),this.addCommonClick("mask",function(){e.active=!1},this,null),this.initItems()},t.prototype.onSubViewShow=function(){this.scroll.scrollToTop(0)},t.prototype.onComfirmClick=function(){if(this.datas[this.dataIndex]){var e=this.datas[this.dataIndex];this.onSelect&&this.onSelect(e)}},t.prototype.initItems=function(){var e=this;this.datas=this.model.getOverseasBankArray();for(var t=function(t){var i=o.datas[t];Logger.log("\u94f6\u884c",i);var n=cc.instantiate(o.item);n.active=!0,cc.find("checkToggle/Background/bankName",n).getComponent(cc.Label).string=i,cc.find("checkToggle/checkmark/bankName",n).getComponent(cc.Label).string=i,o.contentRoot.addChild(n);var r=t,a=n.getChildByName("checkToggle").getComponent(cc.Toggle);n.on(cc.Node.EventType.TOUCH_END,function(){a.isChecked=!0,e.onItemClick(r)},o),o.itemList.push(n)},o=this,i=0;i<this.datas.length;i++)t(i)},t.prototype.onItemClick=function(e){this.dataIndex=e},t}(r.default);cc._RF.pop()},{"../../../../../core/ui/ViewBase":"ViewBase"}],overseasExtractCashWin:[function(e,t,o){"use strict";cc._RF.push(t,"61306RoVaxCVqcoUY9dvHJh","overseasExtractCashWin");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.OverseasAccountLabel=null,t}return n(t,e),t.prototype.initView=function(){e.prototype.initView.call(this),this.OverseasAccountLabel=this.getComponent("OverseasAccountBox/OverseasAccountLabel",cc.RichText)},t.prototype.onSubViewShow=function(){e.prototype.onSubViewShow.call(this);var t=this.model.bankDatas||{};this.info="tips\uff1a\nIf you have any questions, please contact customer service!\n\u6e29\u99a8\u63d0\u793a\uff1a\n\u5982\u6709\u95ee\u9898\uff0c\u8bf7\u8054\u7cfb\u5ba2\u670d\u54a8\u8be2\uff01",this.msgLabel.string=this.info,this.OverseasAccountLabel.string="<b>"+t.over_sea_entrus_bank_account+"</b>"||""},t.prototype.checkData=function(){var e=parseInt(this.ecNumEditBox.string);return e<this.model.getOverseasMaxLimit()?(Global.UI.fastTip("\u63d0\u73b0\u91d1\u989d\u8d85\u51fa\u9650\u5236\u8303\u56f4"),!1):e>this.model.getOverseasMinLimit()?(Global.UI.fastTip("\u63d0\u73b0\u91d1\u989d\u8d85\u51fa\u9650\u5236\u8303\u56f4"),!1):e%10!=0?(Global.UI.fastTip("\u63d0\u73b0\u91d1\u989d\u53ea\u80fd\u4e3a10\u7684\u500d\u6570"),!1):!(e>Global.PlayerData.point/Global.Setting.glodRatio&&(Global.UI.fastTip("\u53d1\u8d77\u63d0\u73b0\u5931\u8d25\uff0c\u4f60\u7684\u53ef\u63d0\u73b0\u91d1\u989d\u4e0d\u8db3"),1))},t.prototype.confirmBtn=function(){if(this.checkData()){var e=parseInt(this.ecNumEditBox.string);this.model.reqOverseasApplyCash(e)}else this.resetBtnFunc()},t.prototype.updateChipList=function(){},t}(e("../common/ExtractCashWin").default);o.default=r,cc._RF.pop()},{"../common/ExtractCashWin":"ExtractCashWin"}],qrcode:[function(e,t){"use strict";function o(e){this.mode=n.MODE_8BIT_BYTE,this.data=e,this.parsedData=[];for(var t=0,o=this.data.length;t<o;t++){var i=[],r=this.data.charCodeAt(t);r>65536?(i[0]=240|(1835008&r)>>>18,i[1]=128|(258048&r)>>>12,i[2]=128|(4032&r)>>>6,i[3]=128|63&r):r>2048?(i[0]=224|(61440&r)>>>12,i[1]=128|(4032&r)>>>6,i[2]=128|63&r):r>128?(i[0]=192|(1984&r)>>>6,i[1]=128|63&r):i[0]=r,this.parsedData.push(i)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function i(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=new Array}cc._RF.push(t,"43022E0pYBJX71efNi/ZvuL","qrcode"),o.prototype={getLength:function(){return this.parsedData.length},write:function(e){for(var t=0,o=this.parsedData.length;t<o;t++)e.put(this.parsedData[t],8)}},i.prototype={addData:function(e){var t=new o(e);this.dataList.push(t),this.dataCache=null},isDark:function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=p.getRSBlocks(e,this.errorCorrectLevel),o=new h,i=0,n=0;n<t.length;n++)i+=t[n].dataCount;for(n=0;n<this.dataList.length;n++){var r=this.dataList[n];o.put(r.mode,4),o.put(r.getLength(),a.getLengthInBits(r.mode,e)),r.write(o)}if(o.getLengthInBits()<=8*i)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var o=0;o<this.moduleCount;o++){this.modules[o]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[o][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=i.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(e,t){for(var o=-1;o<=7;o++)if(!(e+o<=-1||this.moduleCount<=e+o))for(var i=-1;i<=7;i++)t+i<=-1||this.moduleCount<=t+i||(this.modules[e+o][t+i]=0<=o&&o<=6&&(0==i||6==i)||0<=i&&i<=6&&(0==o||6==o)||2<=o&&o<=4&&2<=i&&i<=4)},getBestMaskPattern:function(){for(var e=0,t=0,o=0;o<8;o++){this.makeImpl(!0,o);var i=a.getLostPoint(this);(0==o||e>i)&&(e=i,t=o)}return t},createMovieClip:function(e,t,o){var i=e.createEmptyMovieClip(t,o);this.make();for(var n=0;n<this.modules.length;n++)for(var r=1*n,a=0;a<this.modules[n].length;a++){var s=1*a;this.modules[n][a]&&(i.beginFill(0,100),i.moveTo(s,r),i.lineTo(s+1,r),i.lineTo(s+1,r+1),i.lineTo(s,r+1),i.endFill())}return i},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var e=a.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var o=0;o<e.length;o++){var i=e[t],n=e[o];if(null==this.modules[i][n])for(var r=-2;r<=2;r++)for(var s=-2;s<=2;s++)this.modules[i+r][n+s]=-2==r||2==r||-2==s||2==s||0==r&&0==s}},setupTypeNumber:function(e){for(var t=a.getBCHTypeNumber(this.typeNumber),o=0;o<18;o++){var i=!e&&1==(t>>o&1);this.modules[Math.floor(o/3)][o%3+this.moduleCount-8-3]=i}for(o=0;o<18;o++)i=!e&&1==(t>>o&1),this.modules[o%3+this.moduleCount-8-3][Math.floor(o/3)]=i},setupTypeInfo:function(e,t){for(var o=this.errorCorrectLevel<<3|t,i=a.getBCHTypeInfo(o),n=0;n<15;n++){var r=!e&&1==(i>>n&1);n<6?this.modules[n][8]=r:n<8?this.modules[n+1][8]=r:this.modules[this.moduleCount-15+n][8]=r}for(n=0;n<15;n++)r=!e&&1==(i>>n&1),n<8?this.modules[8][this.moduleCount-n-1]=r:n<9?this.modules[8][15-n-1+1]=r:this.modules[8][15-n-1]=r;this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var o=-1,i=this.moduleCount-1,n=7,r=0,s=this.moduleCount-1;s>0;s-=2)for(6==s&&s--;;){for(var l=0;l<2;l++)if(null==this.modules[i][s-l]){var c=!1;r<e.length&&(c=1==(e[r]>>>n&1)),a.getMask(t,i,s-l)&&(c=!c),this.modules[i][s-l]=c,-1==--n&&(r++,n=7)}if((i+=o)<0||this.moduleCount<=i){i-=o,o=-o;break}}}},i.PAD0=236,i.PAD1=17,i.createData=function(e,t,o){for(var n=p.getRSBlocks(e,t),r=new h,s=0;s<o.length;s++){var l=o[s];r.put(l.mode,4),r.put(l.getLength(),a.getLengthInBits(l.mode,e)),l.write(r)}var c=0;for(s=0;s<n.length;s++)c+=n[s].dataCount;if(r.getLengthInBits()>8*c)throw new Error("code length overflow. ("+r.getLengthInBits()+">"+8*c+")");for(r.getLengthInBits()+4<=8*c&&r.put(0,4);r.getLengthInBits()%8!=0;)r.putBit(!1);for(;!(r.getLengthInBits()>=8*c||(r.put(i.PAD0,8),r.getLengthInBits()>=8*c));)r.put(i.PAD1,8);return i.createBytes(r,n)},i.createBytes=function(e,t){for(var o=0,i=0,n=0,r=new Array(t.length),s=new Array(t.length),l=0;l<t.length;l++){var p=t[l].dataCount,h=t[l].totalCount-p;i=Math.max(i,p),n=Math.max(n,h),r[l]=new Array(p);for(var u=0;u<r[l].length;u++)r[l][u]=255&e.buffer[u+o];o+=p;var d=a.getErrorCorrectPolynomial(h),f=new c(r[l],d.getLength()-1).mod(d);for(s[l]=new Array(d.getLength()-1),u=0;u<s[l].length;u++){var g=u+f.getLength()-s[l].length;s[l][u]=g>=0?f.get(g):0}}var m=0;for(u=0;u<t.length;u++)m+=t[u].totalCount;var y=new Array(m),b=0;for(u=0;u<i;u++)for(l=0;l<t.length;l++)u<r[l].length&&(y[b++]=r[l][u]);for(u=0;u<n;u++)for(l=0;l<t.length;l++)u<s[l].length&&(y[b++]=s[l][u]);return y};for(var n={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},r={L:1,M:0,Q:3,H:2},a={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;a.getBCHDigit(t)-a.getBCHDigit(a.G15)>=0;)t^=a.G15<<a.getBCHDigit(t)-a.getBCHDigit(a.G15);return(e<<10|t)^a.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;a.getBCHDigit(t)-a.getBCHDigit(a.G18)>=0;)t^=a.G18<<a.getBCHDigit(t)-a.getBCHDigit(a.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return a.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,o){switch(e){case 0:return(t+o)%2==0;case 1:return t%2==0;case 2:return o%3==0;case 3:return(t+o)%3==0;case 4:return(Math.floor(t/2)+Math.floor(o/3))%2==0;case 5:return t*o%2+t*o%3==0;case 6:return(t*o%2+t*o%3)%2==0;case 7:return(t*o%3+(t+o)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new c([1],0),o=0;o<e;o++)t=t.multiply(new c([1,s.gexp(o)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case n.MODE_NUMBER:return 10;case n.MODE_ALPHA_NUM:return 9;case n.MODE_8BIT_BYTE:case n.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case n.MODE_NUMBER:return 12;case n.MODE_ALPHA_NUM:return 11;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case n.MODE_NUMBER:return 14;case n.MODE_ALPHA_NUM:return 13;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),o=0,i=0;i<t;i++)for(var n=0;n<t;n++){for(var r=0,a=e.isDark(i,n),s=-1;s<=1;s++)if(!(i+s<0||t<=i+s))for(var l=-1;l<=1;l++)n+l<0||t<=n+l||0==s&&0==l||a==e.isDark(i+s,n+l)&&r++;r>5&&(o+=3+r-5)}for(i=0;i<t-1;i++)for(n=0;n<t-1;n++){var c=0;e.isDark(i,n)&&c++,e.isDark(i+1,n)&&c++,e.isDark(i,n+1)&&c++,e.isDark(i+1,n+1)&&c++,0!=c&&4!=c||(o+=3)}for(i=0;i<t;i++)for(n=0;n<t-6;n++)e.isDark(i,n)&&!e.isDark(i,n+1)&&e.isDark(i,n+2)&&e.isDark(i,n+3)&&e.isDark(i,n+4)&&!e.isDark(i,n+5)&&e.isDark(i,n+6)&&(o+=40);for(n=0;n<t;n++)for(i=0;i<t-6;i++)e.isDark(i,n)&&!e.isDark(i+1,n)&&e.isDark(i+2,n)&&e.isDark(i+3,n)&&e.isDark(i+4,n)&&!e.isDark(i+5,n)&&e.isDark(i+6,n)&&(o+=40);var p=0;for(n=0;n<t;n++)for(i=0;i<t;i++)e.isDark(i,n)&&p++;return o+Math.abs(100*p/t/t-50)/5*10}},s={glog:function(e){if(e<1)throw new Error("glog("+e+")");return s.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return s.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},l=0;l<8;l++)s.EXP_TABLE[l]=1<<l;for(l=8;l<256;l++)s.EXP_TABLE[l]=s.EXP_TABLE[l-4]^s.EXP_TABLE[l-5]^s.EXP_TABLE[l-6]^s.EXP_TABLE[l-8];for(l=0;l<255;l++)s.LOG_TABLE[s.EXP_TABLE[l]]=l;function c(e,t){if(null==e.length)throw new Error(e.length+"/"+t);for(var o=0;o<e.length&&0==e[o];)o++;this.num=new Array(e.length-o+t);for(var i=0;i<e.length-o;i++)this.num[i]=e[i+o]}function p(e,t){this.totalCount=e,this.dataCount=t}function h(){this.buffer=new Array,this.length=0}c.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),o=0;o<this.getLength();o++)for(var i=0;i<e.getLength();i++)t[o+i]^=s.gexp(s.glog(this.get(o))+s.glog(e.get(i)));return new c(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=s.glog(this.get(0))-s.glog(e.get(0)),o=new Array(this.getLength()),i=0;i<this.getLength();i++)o[i]=this.get(i);for(i=0;i<e.getLength();i++)o[i]^=s.gexp(s.glog(e.get(i))+t);return new c(o,0).mod(e)}},p.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],p.getRSBlocks=function(e,t){var o=p.getRsBlockTable(e,t);if(null==o)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var i=o.length/3,n=new Array,r=0;r<i;r++)for(var a=o[3*r+0],s=o[3*r+1],l=o[3*r+2],c=0;c<a;c++)n.push(new p(s,l));return n},p.getRsBlockTable=function(e,t){switch(t){case r.L:return p.RS_BLOCK_TABLE[4*(e-1)+0];case r.M:return p.RS_BLOCK_TABLE[4*(e-1)+1];case r.Q:return p.RS_BLOCK_TABLE[4*(e-1)+2];case r.H:return p.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},h.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var o=0;o<t;o++)this.putBit(1==(e>>>t-o-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},t.exports={},t.exports.QRCode=i,t.exports.QRErrorCorrectLevel=r,cc._RF.pop()},{}],"state-machine":[function(e,t,o){"use strict";var i;cc._RF.push(t,"e8b7fuYA1NLyLAfSPmW0xTI","state-machine"),i=function(){return function(e){var t={};function o(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,o),n.l=!0,n.exports}return o.m=e,o.c=t,o.i=function(e){return e},o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=5)}([function(e){e.exports=function(e,t){var o,i,n;for(o=1;o<arguments.length;o++)for(n in i=arguments[o])i.hasOwnProperty(n)&&(e[n]=i[n]);return e}},function(e,t,o){var i=o(0);e.exports={build:function(e,t){var o,n,r,a=t.plugins;for(o=0,n=a.length;o<n;o++)(r=a[o]).methods&&i(e,r.methods),r.properties&&Object.defineProperties(e,r.properties)},hook:function(e,t,o){var i,n,r,a,s=e.config.plugins,l=[e.context];for(o&&(l=l.concat(o)),i=0,n=s.length;i<n;i++)a=s[i],(r=s[i][t])&&r.apply(a,l)}}},function(e){function t(e){if(0===e.length)return e;var t,o,i=e.split(/[_-]/);if(1===i.length&&i[0][0].toLowerCase()===i[0][0])return e;for(o=i[0].toLowerCase(),t=1;t<i.length;t++)o=o+i[t].charAt(0).toUpperCase()+i[t].substring(1).toLowerCase();return o}t.prepended=function(e,o){return e+(o=t(o))[0].toUpperCase()+o.substring(1)},e.exports=t},function(e,t,o){var i=o(0),n=o(2);function r(e,t){e=e||{},this.options=e,this.defaults=t.defaults,this.states=[],this.transitions=[],this.map={},this.lifecycle=this.configureLifecycle(),this.init=this.configureInitTransition(e.init),this.data=this.configureData(e.data),this.methods=this.configureMethods(e.methods),this.map[this.defaults.wildcard]={},this.configureTransitions(e.transitions||[]),this.plugins=this.configurePlugins(e.plugins,t.plugin)}i(r.prototype,{addState:function(e){this.map[e]||(this.states.push(e),this.addStateLifecycleNames(e),this.map[e]={})},addStateLifecycleNames:function(e){this.lifecycle.onEnter[e]=n.prepended("onEnter",e),this.lifecycle.onLeave[e]=n.prepended("onLeave",e),this.lifecycle.on[e]=n.prepended("on",e)},addTransition:function(e){this.transitions.indexOf(e)<0&&(this.transitions.push(e),this.addTransitionLifecycleNames(e))},addTransitionLifecycleNames:function(e){this.lifecycle.onBefore[e]=n.prepended("onBefore",e),this.lifecycle.onAfter[e]=n.prepended("onAfter",e),this.lifecycle.on[e]=n.prepended("on",e)},mapTransition:function(e){var t=e.name,o=e.from,i=e.to;return this.addState(o),"function"!=typeof i&&this.addState(i),this.addTransition(t),this.map[o][t]=e,e},configureLifecycle:function(){return{onBefore:{transition:"onBeforeTransition"},onAfter:{transition:"onAfterTransition"},onEnter:{state:"onEnterState"},onLeave:{state:"onLeaveState"},on:{transition:"onTransition"}}},configureInitTransition:function(e){return"string"==typeof e?this.mapTransition(i({},this.defaults.init,{to:e,active:!0})):"object"==typeof e?this.mapTransition(i({},this.defaults.init,e,{active:!0})):(this.addState(this.defaults.init.from),this.defaults.init)},configureData:function(e){return"function"==typeof e?e:"object"==typeof e?function(){return e}:function(){return{}}},configureMethods:function(e){return e||{}},configurePlugins:function(e){var t,o,i;for(t=0,o=(e=e||[]).length;t<o;t++)"function"==typeof(i=e[t])&&(e[t]=i=i()),i.configure&&i.configure(this);return e},configureTransitions:function(e){var t,o,i,n,r,a=this.defaults.wildcard;for(o=0;o<e.length;o++)for(i=e[o],n=Array.isArray(i.from)?i.from:[i.from||a],r=i.to||a,t=0;t<n.length;t++)this.mapTransition({name:i.name,from:n[t],to:r})},transitionFor:function(e,t){var o=this.defaults.wildcard;return this.map[e][t]||this.map[o][t]},transitionsFor:function(e){var t=this.defaults.wildcard;return Object.keys(this.map[e]).concat(Object.keys(this.map[t]))},allStates:function(){return this.states},allTransitions:function(){return this.transitions}}),e.exports=r},function(e,t,o){var i=o(0),n=o(6),r=o(1),a=[null,[]];function s(e,t){this.context=e,this.config=t,this.state=t.init.from,this.observers=[e]}i(s.prototype,{init:function(e){if(i(this.context,this.config.data.apply(this.context,e)),r.hook(this,"init"),this.config.init.active)return this.fire(this.config.init.name,[])},is:function(e){return Array.isArray(e)?e.indexOf(this.state)>=0:this.state===e},isPending:function(){return this.pending},can:function(e){return!this.isPending()&&!!this.seek(e)},cannot:function(e){return!this.can(e)},allStates:function(){return this.config.allStates()},allTransitions:function(){return this.config.allTransitions()},transitions:function(){return this.config.transitionsFor(this.state)},seek:function(e,t){var o=this.config.defaults.wildcard,i=this.config.transitionFor(this.state,e),n=i&&i.to;return"function"==typeof n?n.apply(this.context,t):n===o?this.state:n},fire:function(e,t){return this.transit(e,this.state,this.seek(e,t),t)},transit:function(e,t,o,i){var n=this.config.lifecycle,r=this.config.options.observeUnchangedState||t!==o;return o?this.isPending()?this.context.onPendingTransition(e,t,o):(this.config.addState(o),this.beginTransit(),i.unshift({transition:e,from:t,to:o,fsm:this.context}),this.observeEvents([this.observersForEvent(n.onBefore.transition),this.observersForEvent(n.onBefore[e]),r?this.observersForEvent(n.onLeave.state):a,r?this.observersForEvent(n.onLeave[t]):a,this.observersForEvent(n.on.transition),r?["doTransit",[this]]:a,r?this.observersForEvent(n.onEnter.state):a,r?this.observersForEvent(n.onEnter[o]):a,r?this.observersForEvent(n.on[o]):a,this.observersForEvent(n.onAfter.transition),this.observersForEvent(n.onAfter[e]),this.observersForEvent(n.on[e])],i)):this.context.onInvalidTransition(e,t,o)},beginTransit:function(){this.pending=!0},endTransit:function(e){return this.pending=!1,e},failTransit:function(e){throw this.pending=!1,e},doTransit:function(e){this.state=e.to},observe:function(e){if(2===e.length){var t={};t[e[0]]=e[1],this.observers.push(t)}else this.observers.push(e[0])},observersForEvent:function(e){for(var t,o=0,i=this.observers.length,n=[];o<i;o++)(t=this.observers[o])[e]&&n.push(t);return[e,n,!0]},observeEvents:function(e,t,o,i){if(0===e.length)return this.endTransit(void 0===i||i);var n=e[0][0],a=e[0][1],s=e[0][2];if(t[0].event=n,n&&s&&n!==o&&r.hook(this,"lifecycle",t),0===a.length)return e.shift(),this.observeEvents(e,t,n,i);var l=a.shift(),c=l[n].apply(l,t);return c&&"function"==typeof c.then?c.then(this.observeEvents.bind(this,e,t,n)).catch(this.failTransit.bind(this)):!1===c?this.endTransit(!1):this.observeEvents(e,t,n,c)},onInvalidTransition:function(e,t,o){throw new n("transition is invalid in current state",e,t,o,this.state)},onPendingTransition:function(e,t,o){throw new n("transition is invalid while previous transition is still in progress",e,t,o,this.state)}}),e.exports=s},function(e,t,o){var i=o(0),n=o(2),r=o(1),a=o(3),s=o(4),l={is:function(e){return this._fsm.is(e)},can:function(e){return this._fsm.can(e)},cannot:function(e){return this._fsm.cannot(e)},observe:function(){return this._fsm.observe(arguments)},transitions:function(){return this._fsm.transitions()},allTransitions:function(){return this._fsm.allTransitions()},allStates:function(){return this._fsm.allStates()},onInvalidTransition:function(e,t,o){return this._fsm.onInvalidTransition(e,t,o)},onPendingTransition:function(e,t,o){return this._fsm.onPendingTransition(e,t,o)}},c={state:{configurable:!1,enumerable:!0,get:function(){return this._fsm.state},set:function(){throw Error("use transitions to change state")}}};function p(e){return h(this||{},e)}function h(e,t){return u(e,new a(t,p)),e._fsm(),e}function u(e,t){if("object"!=typeof e||Array.isArray(e))throw Error("StateMachine can only be applied to objects");r.build(e,t),Object.defineProperties(e,c),i(e,l),i(e,t.methods),t.allTransitions().forEach(function(t){e[n(t)]=function(){return this._fsm.fire(t,[].slice.call(arguments))}}),e._fsm=function(){this._fsm=new s(this,t),this._fsm.init(arguments)}}p.version="3.0.1",p.factory=function(){var e,t;"function"==typeof arguments[0]?(e=arguments[0],t=arguments[1]||{}):(e=function(){this._fsm.apply(this,arguments)},t=arguments[0]||{});var o=new a(t,p);return u(e.prototype,o),e.prototype._fsm.config=o,e},p.apply=h,p.defaults={wildcard:"*",init:{name:"init",from:"none"}},e.exports=p},function(e){e.exports=function(e,t,o,i,n){this.message=e,this.transition=t,this.from=o,this.to=i,this.current=n}}])},"object"==typeof o&&"object"==typeof t?t.exports=i():"function"==typeof define&&define.amd?define("StateMachine",[],i):"object"==typeof o?o.StateMachine=i():(void 0).StateMachine=i(),cc._RF.pop()},{}],underscore:[function(e,t,o){"use strict";cc._RF.push(t,"4fe6bvK/4dKDYmOBtzjivAw","underscore"),function(){var e=o,i=e._,n=Array.prototype,r=Object.prototype,a=Function.prototype,s=n.push,l=n.slice,c=r.toString,p=r.hasOwnProperty,h=Array.isArray,u=Object.keys,d=a.bind,f=Object.create,g=function(){},m=function e(t){return t instanceof e?t:this instanceof e?void(this._wrapped=t):new e(t)};t.exports=m,m.VERSION="1.8.3";var y=function(e,t,o){if(void 0===t)return e;switch(null==o?3:o){case 1:return function(o){return e.call(t,o)};case 2:return function(o,i){return e.call(t,o,i)};case 3:return function(o,i,n){return e.call(t,o,i,n)};case 4:return function(o,i,n,r){return e.call(t,o,i,n,r)}}return function(){return e.apply(t,arguments)}},b=function(e,t,o){return null==e?m.identity:m.isFunction(e)?y(e,t,o):m.isObject(e)?m.matcher(e):m.property(e)};m.iteratee=function(e,t){return b(e,t,1/0)};var v=function(e,t){return function(o){var i=arguments.length;if(i<2||null==o)return o;for(var n=1;n<i;n++)for(var r=arguments[n],a=e(r),s=a.length,l=0;l<s;l++){var c=a[l];t&&void 0!==o[c]||(o[c]=r[c])}return o}},_=function(e){if(!m.isObject(e))return{};if(f)return f(e);g.prototype=e;var t=new g;return g.prototype=null,t},S=function(e){return function(t){return null==t?void 0:t[e]}},C=Math.pow(2,53)-1,w=S("length"),I=function(e){var t=w(e);return"number"==typeof t&&t>=0&&t<=C};function T(e){function t(t,o,i,n,r,a){for(;r>=0&&r<a;r+=e){var s=n?n[r]:r;i=o(i,t[s],s,t)}return i}return function(o,i,n,r){i=y(i,r,4);var a=!I(o)&&m.keys(o),s=(a||o).length,l=e>0?0:s-1;return arguments.length<3&&(n=o[a?a[l]:l],l+=e),t(o,i,n,a,l,s)}}m.each=m.forEach=function(e,t,o){var i,n;if(t=y(t,o),I(e))for(i=0,n=e.length;i<n;i++)t(e[i],i,e);else{var r=m.keys(e);for(i=0,n=r.length;i<n;i++)t(e[r[i]],r[i],e)}return e},m.map=m.collect=function(e,t,o){t=b(t,o);for(var i=!I(e)&&m.keys(e),n=(i||e).length,r=Array(n),a=0;a<n;a++){var s=i?i[a]:a;r[a]=t(e[s],s,e)}return r},m.reduce=m.foldl=m.inject=T(1),m.reduceRight=m.foldr=T(-1),m.find=m.detect=function(e,t,o){var i;if(void 0!==(i=I(e)?m.findIndex(e,t,o):m.findKey(e,t,o))&&-1!==i)return e[i]},m.filter=m.select=function(e,t,o){var i=[];return t=b(t,o),m.each(e,function(e,o,n){t(e,o,n)&&i.push(e)}),i},m.reject=function(e,t,o){return m.filter(e,m.negate(b(t)),o)},m.every=m.all=function(e,t,o){t=b(t,o);for(var i=!I(e)&&m.keys(e),n=(i||e).length,r=0;r<n;r++){var a=i?i[r]:r;if(!t(e[a],a,e))return!1}return!0},m.some=m.any=function(e,t,o){t=b(t,o);for(var i=!I(e)&&m.keys(e),n=(i||e).length,r=0;r<n;r++){var a=i?i[r]:r;if(t(e[a],a,e))return!0}return!1},m.contains=m.includes=m.include=function(e,t,o,i){return I(e)||(e=m.values(e)),("number"!=typeof o||i)&&(o=0),m.indexOf(e,t,o)>=0},m.invoke=function(e,t){var o=l.call(arguments,2),i=m.isFunction(t);return m.map(e,function(e){var n=i?t:e[t];return null==n?n:n.apply(e,o)})},m.pluck=function(e,t){return m.map(e,m.property(t))},m.where=function(e,t){return m.filter(e,m.matcher(t))},m.findWhere=function(e,t){return m.find(e,m.matcher(t))},m.max=function(e,t,o){var i,n,r=-1/0,a=-1/0;if(null==t&&null!=e)for(var s=0,l=(e=I(e)?e:m.values(e)).length;s<l;s++)(i=e[s])>r&&(r=i);else t=b(t,o),m.each(e,function(e,o,i){((n=t(e,o,i))>a||n===-1/0&&r===-1/0)&&(r=e,a=n)});return r},m.min=function(e,t,o){var i,n,r=1/0,a=1/0;if(null==t&&null!=e)for(var s=0,l=(e=I(e)?e:m.values(e)).length;s<l;s++)(i=e[s])<r&&(r=i);else t=b(t,o),m.each(e,function(e,o,i){((n=t(e,o,i))<a||n===1/0&&r===1/0)&&(r=e,a=n)});return r},m.shuffle=function(e){for(var t,o=I(e)?e:m.values(e),i=o.length,n=Array(i),r=0;r<i;r++)(t=m.random(0,r))!==r&&(n[r]=n[t]),n[t]=o[r];return n},m.sample=function(e,t,o){return null==t||o?(I(e)||(e=m.values(e)),e[m.random(e.length-1)]):m.shuffle(e).slice(0,Math.max(0,t))},m.sortBy=function(e,t,o){return t=b(t,o),m.pluck(m.map(e,function(e,o,i){return{value:e,index:o,criteria:t(e,o,i)}}).sort(function(e,t){var o=e.criteria,i=t.criteria;if(o!==i){if(o>i||void 0===o)return 1;if(o<i||void 0===i)return-1}return e.index-t.index}),"value")};var P=function(e){return function(t,o,i){var n={};return o=b(o,i),m.each(t,function(i,r){var a=o(i,r,t);e(n,i,a)}),n}};m.groupBy=P(function(e,t,o){m.has(e,o)?e[o].push(t):e[o]=[t]}),m.indexBy=P(function(e,t,o){e[o]=t}),m.countBy=P(function(e,t,o){m.has(e,o)?e[o]++:e[o]=1}),m.toArray=function(e){return e?m.isArray(e)?l.call(e):I(e)?m.map(e,m.identity):m.values(e):[]},m.size=function(e){return null==e?0:I(e)?e.length:m.keys(e).length},m.partition=function(e,t,o){t=b(t,o);var i=[],n=[];return m.each(e,function(e,o,r){(t(e,o,r)?i:n).push(e)}),[i,n]},m.first=m.head=m.take=function(e,t,o){if(null!=e)return null==t||o?e[0]:m.initial(e,e.length-t)},m.initial=function(e,t,o){return l.call(e,0,Math.max(0,e.length-(null==t||o?1:t)))},m.last=function(e,t,o){if(null!=e)return null==t||o?e[e.length-1]:m.rest(e,Math.max(0,e.length-t))},m.rest=m.tail=m.drop=function(e,t,o){return l.call(e,null==t||o?1:t)},m.compact=function(e){return m.filter(e,m.identity)};var k=function e(t,o,i,n){for(var r=[],a=0,s=n||0,l=w(t);s<l;s++){var c=t[s];if(I(c)&&(m.isArray(c)||m.isArguments(c))){o||(c=e(c,o,i));var p=0,h=c.length;for(r.length+=h;p<h;)r[a++]=c[p++]}else i||(r[a++]=c)}return r};function G(e){return function(t,o,i){o=b(o,i);for(var n=w(t),r=e>0?0:n-1;r>=0&&r<n;r+=e)if(o(t[r],r,t))return r;return-1}}function L(e,t,o){return function(i,n,r){var a=0,s=w(i);if("number"==typeof r)e>0?a=r>=0?r:Math.max(r+s,a):s=r>=0?Math.min(r+1,s):r+s+1;else if(o&&r&&s)return i[r=o(i,n)]===n?r:-1;if(n!=n)return(r=t(l.call(i,a,s),m.isNaN))>=0?r+a:-1;for(r=e>0?a:s-1;r>=0&&r<s;r+=e)if(i[r]===n)return r;return-1}}m.flatten=function(e,t){return k(e,t,!1)},m.without=function(e){return m.difference(e,l.call(arguments,1))},m.uniq=m.unique=function(e,t,o,i){m.isBoolean(t)||(i=o,o=t,t=!1),null!=o&&(o=b(o,i));for(var n=[],r=[],a=0,s=w(e);a<s;a++){var l=e[a],c=o?o(l,a,e):l;t?(a&&r===c||n.push(l),r=c):o?m.contains(r,c)||(r.push(c),n.push(l)):m.contains(n,l)||n.push(l)}return n},m.union=function(){return m.uniq(k(arguments,!0,!0))},m.intersection=function(e){for(var t=[],o=arguments.length,i=0,n=w(e);i<n;i++){var r=e[i];if(!m.contains(t,r)){for(var a=1;a<o&&m.contains(arguments[a],r);a++);a===o&&t.push(r)}}return t},m.difference=function(e){var t=k(arguments,!0,!0,1);return m.filter(e,function(e){return!m.contains(t,e)})},m.zip=function(){return m.unzip(arguments)},m.unzip=function(e){for(var t=e&&m.max(e,w).length||0,o=Array(t),i=0;i<t;i++)o[i]=m.pluck(e,i);return o},m.object=function(e,t){for(var o={},i=0,n=w(e);i<n;i++)t?o[e[i]]=t[i]:o[e[i][0]]=e[i][1];return o},m.findIndex=G(1),m.findLastIndex=G(-1),m.sortedIndex=function(e,t,o,i){for(var n=(o=b(o,i,1))(t),r=0,a=w(e);r<a;){var s=Math.floor((r+a)/2);o(e[s])<n?r=s+1:a=s}return r},m.indexOf=L(1,m.findIndex,m.sortedIndex),m.lastIndexOf=L(-1,m.findLastIndex),m.range=function(e,t,o){null==t&&(t=e||0,e=0),o=o||1;for(var i=Math.max(Math.ceil((t-e)/o),0),n=Array(i),r=0;r<i;r++,e+=o)n[r]=e;return n};var A=function(e,t,o,i,n){if(!(i instanceof t))return e.apply(o,n);var r=_(e.prototype),a=e.apply(r,n);return m.isObject(a)?a:r};m.bind=function(e,t){if(d&&e.bind===d)return d.apply(e,l.call(arguments,1));if(!m.isFunction(e))throw new TypeError("Bind must be called on a function");var o=l.call(arguments,2),i=function i(){return A(e,i,t,this,o.concat(l.call(arguments)))};return i},m.partial=function(e){var t=l.call(arguments,1),o=function o(){for(var i=0,n=t.length,r=Array(n),a=0;a<n;a++)r[a]=t[a]===m?arguments[i++]:t[a];for(;i<arguments.length;)r.push(arguments[i++]);return A(e,o,this,this,r)};return o},m.bindAll=function(e){var t,o,i=arguments.length;if(i<=1)throw new Error("bindAll must be passed function names");for(t=1;t<i;t++)e[o=arguments[t]]=m.bind(e[o],e);return e},m.memoize=function(e,t){var o=function o(i){var n=o.cache,r=""+(t?t.apply(this,arguments):i);return m.has(n,r)||(n[r]=e.apply(this,arguments)),n[r]};return o.cache={},o},m.delay=function(e,t){var o=l.call(arguments,2);return setTimeout(function(){return e.apply(null,o)},t)},m.defer=m.partial(m.delay,m,1),m.throttle=function(e,t,o){var i,n,r,a=null,s=0;o||(o={});var l=function(){s=!1===o.leading?0:m.now(),a=null,r=e.apply(i,n),a||(i=n=null)};return function(){var c=m.now();s||!1!==o.leading||(s=c);var p=t-(c-s);return i=this,n=arguments,p<=0||p>t?(a&&(clearTimeout(a),a=null),s=c,r=e.apply(i,n),a||(i=n=null)):a||!1===o.trailing||(a=setTimeout(l,p)),r}},m.debounce=function(e,t,o){var i,n,r,a,s,l=function l(){var c=m.now()-a;c<t&&c>=0?i=setTimeout(l,t-c):(i=null,o||(s=e.apply(r,n),i||(r=n=null)))};return function(){r=this,n=arguments,a=m.now();var c=o&&!i;return i||(i=setTimeout(l,t)),c&&(s=e.apply(r,n),r=n=null),s}},m.wrap=function(e,t){return m.partial(t,e)},m.negate=function(e){return function(){return!e.apply(this,arguments)}},m.compose=function(){var e=arguments,t=e.length-1;return function(){for(var o=t,i=e[t].apply(this,arguments);o--;)i=e[o].call(this,i);return i}},m.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},m.before=function(e,t){var o;return function(){return--e>0&&(o=t.apply(this,arguments)),e<=1&&(t=null),o}},m.once=m.partial(m.before,2);var N=!{toString:null}.propertyIsEnumerable("toString"),M=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function R(e,t){var o=M.length,i=e.constructor,n=m.isFunction(i)&&i.prototype||r,a="constructor";for(m.has(e,a)&&!m.contains(t,a)&&t.push(a);o--;)(a=M[o])in e&&e[a]!==n[a]&&!m.contains(t,a)&&t.push(a)}m.keys=function(e){if(!m.isObject(e))return[];if(u)return u(e);var t=[];for(var o in e)m.has(e,o)&&t.push(o);return N&&R(e,t),t},m.allKeys=function(e){if(!m.isObject(e))return[];var t=[];for(var o in e)t.push(o);return N&&R(e,t),t},m.values=function(e){for(var t=m.keys(e),o=t.length,i=Array(o),n=0;n<o;n++)i[n]=e[t[n]];return i},m.mapObject=function(e,t,o){t=b(t,o);for(var i,n=m.keys(e),r=n.length,a={},s=0;s<r;s++)a[i=n[s]]=t(e[i],i,e);return a},m.pairs=function(e){for(var t=m.keys(e),o=t.length,i=Array(o),n=0;n<o;n++)i[n]=[t[n],e[t[n]]];return i},m.invert=function(e){for(var t={},o=m.keys(e),i=0,n=o.length;i<n;i++)t[e[o[i]]]=o[i];return t},m.functions=m.methods=function(e){var t=[];for(var o in e)m.isFunction(e[o])&&t.push(o);return t.sort()},m.extend=v(m.allKeys),m.extendOwn=m.assign=v(m.keys),m.findKey=function(e,t,o){t=b(t,o);for(var i,n=m.keys(e),r=0,a=n.length;r<a;r++)if(t(e[i=n[r]],i,e))return i},m.pick=function(e,t,o){var i,n,r={},a=e;if(null==a)return r;m.isFunction(t)?(n=m.allKeys(a),i=y(t,o)):(n=k(arguments,!1,!1,1),i=function(e,t,o){return t in o},a=Object(a));for(var s=0,l=n.length;s<l;s++){var c=n[s],p=a[c];i(p,c,a)&&(r[c]=p)}return r},m.omit=function(e,t,o){if(m.isFunction(t))t=m.negate(t);else{var i=m.map(k(arguments,!1,!1,1),String);t=function(e,t){return!m.contains(i,t)}}return m.pick(e,t,o)},m.defaults=v(m.allKeys,!0),m.create=function(e,t){var o=_(e);return t&&m.extendOwn(o,t),o},m.clone=function(e){return m.isObject(e)?m.isArray(e)?e.slice():m.extend({},e):e},m.tap=function(e,t){return t(e),e},m.isMatch=function(e,t){var o=m.keys(t),i=o.length;if(null==e)return!i;for(var n=Object(e),r=0;r<i;r++){var a=o[r];if(t[a]!==n[a]||!(a in n))return!1}return!0};var O=function e(t,o,i,n){if(t===o)return 0!==t||1/t==1/o;if(null==t||null==o)return t===o;t instanceof m&&(t=t._wrapped),o instanceof m&&(o=o._wrapped);var r=c.call(t);if(r!==c.call(o))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+o;case"[object Number]":return+t!=+t?+o!=+o:0==+t?1/+t==1/o:+t==+o;case"[object Date]":case"[object Boolean]":return+t==+o}var a="[object Array]"===r;if(!a){if("object"!=typeof t||"object"!=typeof o)return!1;var s=t.constructor,l=o.constructor;if(s!==l&&!(m.isFunction(s)&&s instanceof s&&m.isFunction(l)&&l instanceof l)&&"constructor"in t&&"constructor"in o)return!1}n=n||[];for(var p=(i=i||[]).length;p--;)if(i[p]===t)return n[p]===o;if(i.push(t),n.push(o),a){if((p=t.length)!==o.length)return!1;for(;p--;)if(!e(t[p],o[p],i,n))return!1}else{var h,u=m.keys(t);if(p=u.length,m.keys(o).length!==p)return!1;for(;p--;)if(h=u[p],!m.has(o,h)||!e(t[h],o[h],i,n))return!1}return i.pop(),n.pop(),!0};m.isEqual=function(e,t){return O(e,t)},m.isEmpty=function(e){return null==e||(I(e)&&(m.isArray(e)||m.isString(e)||m.isArguments(e))?0===e.length:0===m.keys(e).length)},m.isElement=function(e){return!(!e||1!==e.nodeType)},m.isArray=h||function(e){return"[object Array]"===c.call(e)},m.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},m.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){m["is"+e]=function(t){return c.call(t)==="[object "+e+"]"}}),m.isArguments(arguments)||(m.isArguments=function(e){return m.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(m.isFunction=function(e){return"function"==typeof e||!1}),m.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},m.isNaN=function(e){return m.isNumber(e)&&e!==+e},m.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===c.call(e)},m.isNull=function(e){return null===e},m.isUndefined=function(e){return void 0===e},m.has=function(e,t){return null!=e&&p.call(e,t)},m.noConflict=function(){return e._=i,this},m.identity=function(e){return e},m.constant=function(e){return function(){return e}},m.noop=function(){},m.property=S,m.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},m.matcher=m.matches=function(e){return e=m.extendOwn({},e),function(t){return m.isMatch(t,e)}},m.times=function(e,t,o){var i=Array(Math.max(0,e));t=y(t,o,1);for(var n=0;n<e;n++)i[n]=t(n);return i},m.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},m.now=Date.now||function(){return(new Date).getTime()};var E={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},B=m.invert(E),D=function(e){var t=function(t){return e[t]},o="(?:"+m.keys(e).join("|")+")",i=RegExp(o),n=RegExp(o,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(n,t):e}};m.escape=D(E),m.unescape=D(B),m.result=function(e,t,o){var i=null==e?void 0:e[t];return void 0===i&&(i=o),m.isFunction(i)?i.call(e):i};var U=0;m.uniqueId=function(e){var t=++U+"";return e?e+t:t},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var V=/(.)^/,x={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},H=/\\|'|\r|\n|\u2028|\u2029/g,F=function(e){return"\\"+x[e]};m.template=function(e,t,o){!t&&o&&(t=o),t=m.defaults({},t,m.templateSettings);var i=RegExp([(t.escape||V).source,(t.interpolate||V).source,(t.evaluate||V).source].join("|")+"|$","g"),n=0,r="__p+='";e.replace(i,function(t,o,i,a,s){return r+=e.slice(n,s).replace(H,F),n=s+t.length,o?r+="'+\n((__t=("+o+"))==null?'':_.escape(__t))+\n'":i?r+="'+\n((__t=("+i+"))==null?'':__t)+\n'":a&&(r+="';\n"+a+"\n__p+='"),t}),r+="';\n",t.variable||(r="with(obj||{}){\n"+r+"}\n"),r="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+r+"return __p;\n";try{var a=new Function(t.variable||"obj","_",r)}catch(c){throw c.source=r,c}var s=function(e){return a.call(this,e,m)},l=t.variable||"obj";return s.source="function("+l+"){\n"+r+"}",s},m.chain=function(e){var t=m(e);return t._chain=!0,t};var j=function(e,t){return e._chain?m(t).chain():t};m.mixin=function(e){m.each(m.functions(e),function(t){var o=m[t]=e[t];m.prototype[t]=function(){var e=[this._wrapped];return s.apply(e,arguments),j(this,o.apply(m,e))}})},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=n[e];m.prototype[e]=function(){var o=this._wrapped;return t.apply(o,arguments),"shift"!==e&&"splice"!==e||0!==o.length||delete o[0],j(this,o)}}),m.each(["concat","join","slice"],function(e){var t=n[e];m.prototype[e]=function(){return j(this,t.apply(this._wrapped,arguments))}}),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return m})}.call(void 0),cc._RF.pop()},{}],unionBandWin:[function(e,t,o){"use strict";cc._RF.push(t,"6e71eks40VET6CzUdsggple","unionBandWin");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.BankInfoType=void 0;var r,a=e("../../../../../core/ui/ViewBase"),s=e("../../../recharge/WndChooseBank"),l=e("../../../recharge/WndChooseProvince"),c=e("../../../recharge/WndChooseCity"),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nameEditBox=null,t.accountEditBox=null,t.bankbranchEditBox=null,t.openBankLabel=null,t.openBankTipNode=null,t.openProvinceLabel=null,t.openProvinceTipNode=null,t.openCityLabel=null,t.openCityTipNode=null,t.banklocationInfo=null,t.provinceCode=1e5,t.bankInfo={},t}return n(t,e),t.prototype.initView=function(){this.model=Global.ModelManager.getModel("ExtractModel"),this.nameEditBox=this.getComponent("NameEditBox",cc.EditBox),this.accountEditBox=this.getComponent("AccountEditBox",cc.EditBox),this.bankbranchEditBox=this.getComponent("BankbranchEditBox",cc.EditBox),this.openBankLabel=this.getComponent("OpeningbankBox/TEXT_LABEL",cc.Label),this.openBankTipNode=this.getChild("OpeningbankBox/PLACEHOLDER_LABEL"),this.openProvinceLabel=this.getComponent("adapt/ProvinceEditBox/TEXT_LABEL",cc.Label),this.openProvinceTipNode=this.getChild("adapt/ProvinceEditBox/PLACEHOLDER_LABEL"),this.openCityLabel=this.getComponent("adapt/CityEditBox/TEXT_LABEL",cc.Label),this.openCityTipNode=this.getChild("adapt/CityEditBox/PLACEHOLDER_LABEL"),this.cityBg=this.getChild("adapt/CityEditBox/BACKGROUND_SPRITE").getComponent(cc.Sprite),this.banklocationInfo=Global.ResourceManager.getRes("hall/config/location",cc.JsonAsset).json,this.model.BankLocationInfo=this.banklocationInfo,this.icon=this.getChild("OpeningbankBox/SelectBranch"),s.default.instance.onSelect=this.selectBankFunc.bind(this),l.default.instance.onSelect=this.selectProvinceFunc.bind(this),c.default.instance.onSelect=this.selectCityFunc.bind(this),this.switchKey=!1,this.updateChooseAreaView(),this.addCommonClick("OpeningbankBox",function(){Global.UI.show("WndChooseBank")},this,null),this.addCommonClick("adapt/ProvinceEditBox",function(){Global.UI.show("WndChooseProvince")},this,null),this.addCommonClick("adapt/CityEditBox",this.openCityView,this,null),this.addCommonClick("bandBtn",this.bandBtnFunc,this)},t.prototype.SetCityContentState=function(e){this.cityBg.node.color=e?cc.color(255,255,255,255):cc.color(150,150,150,150)},t.prototype.openCityView=function(){this.openProvinceLabel.string&&Global.UI.show("WndChooseCity")},t.prototype.onSubViewShow=function(){this.openBankLabel.string="",this.openBankTipNode.active=!0,this.SetCityContentState(!1)},t.prototype.onSubViewHide=function(){this.openBankLabel.string="",this.openCityLabel.string="",this.openProvinceLabel.string="",this.provinceCode=1e5,this.nameEditBox.string="",this.accountEditBox.string="",this.bankbranchEditBox.string="",this.openBankTipNode.active=!0,this.openCityTipNode.active=!0,this.openProvinceTipNode.active=!0},t.prototype.updateChooseAreaView=function(){s.default.instance.closeWnd(),this.icon.scaleY=this.switchKey?1:-1},t.prototype.updateChooseProvinceView=function(){l.default.instance.closeWnd(),this.icon.scaleY=this.switchKey?1:-1},t.prototype.updataChooseCityView=function(){c.default.instance.closeWnd(),this.icon.scaleY=this.switchKey?1:-1},t.prototype.switchChooseAreaView=function(){l.default.instance.closeWnd(),this.openBankTipNode.active=!0},t.prototype.selectBankFunc=function(e,t){Global.Audio.playBtnSound(),this.SwitchLabelState(e,t),this.updateChooseAreaView()},t.prototype.selectProvinceFunc=function(e,t){Global.Audio.playBtnSound(),this.SwitchLabelState(e,t),this.updateChooseProvinceView()},t.prototype.selectCityFunc=function(e,t){Global.Audio.playBtnSound(),this.SwitchLabelState(e,t),this.updataChooseCityView()},t.prototype.SwitchLabelState=function(e,t){switch(e){case r.BankName:this.openBankLabel.string=t,this.openBankLabel.node.active=!0,this.openBankTipNode.active=!1;break;case r.Province:this.openProvinceLabel.string=t,this.openProvinceLabel.node.active=!0,this.openProvinceTipNode.active=!1,this.openCityLabel.node.active=!1,this.openCityTipNode.active=!0,this.SetCityContentState(!0);break;case r.City:this.openCityLabel.string=t,this.openCityLabel.node.active=!0,this.openCityTipNode.active=!1}},t.prototype.checkTextEmptyAndShowTips=function(e,t){return!(e.length<=0&&(Global.UI.fastTip(t),1))},t.prototype.checkSpecialCharAndShowTips=function(e,t,o){for(var i=0;i<e.length;i++){var n=e.charAt(i);if(t.indexOf(n)>=0)return Global.UI.fastTip(o),!1}return!0},t.prototype.bandBtnFunc=function(){this.checkTextEmptyAndShowTips(this.accountEditBox.string,"\u94f6\u884c\u5361\u4e0d\u80fd\u4e3a\u7a7a")&&this.checkTextEmptyAndShowTips(this.nameEditBox.string,"\u59d3\u540d\u4e0d\u80fd\u4e3a\u7a7a")&&this.checkTextEmptyAndShowTips(this.openBankLabel.string,"\u8bf7\u9009\u62e9\u5f00\u6237\u94f6\u884c")&&this.checkTextEmptyAndShowTips(this.openProvinceLabel.string,"\u8bf7\u9009\u62e9\u5f00\u6237\u7701\u4efd")&&this.checkTextEmptyAndShowTips(this.openCityLabel.string,"\u8bf7\u9009\u62e9\u5f00\u6237\u57ce\u5e02")&&this.checkSpecialCharAndShowTips(this.accountEditBox.string," ","\u8d26\u53f7\u4e2d\u6709\u975e\u6cd5\u5b57\u7b26\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165")&&this.checkTextEmptyAndShowTips(this.bankbranchEditBox.string,"\u5f00\u6237\u652f\u884c\u4e0d\u80fd\u4e3a\u7a7a")&&Global.UI.show("WndUnionBandConfirm",this.nameEditBox.string,this.accountEditBox.string,this.bankbranchEditBox.string,this.openBankLabel.string,this.openProvinceLabel.string,this.openCityLabel.string,this.model.getBankCoke(this.openBankLabel.string))},t}(a.default);o.default=p,function(e){e[e.BankName=1]="BankName",e[e.Province=2]="Province",e[e.City=3]="City"}(r=o.BankInfoType||(o.BankInfoType={})),cc._RF.pop()},{"../../../../../core/ui/ViewBase":"ViewBase","../../../recharge/WndChooseBank":"WndChooseBank","../../../recharge/WndChooseCity":"WndChooseCity","../../../recharge/WndChooseProvince":"WndChooseProvince"}],unionExtractCashWin:[function(e,t,o){"use strict";cc._RF.push(t,"924ben4i0ZFz5Rj/f99jAg4","unionExtractCashWin");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.unionAccountLabel=null,t}return n(t,e),t.prototype.initView=function(){e.prototype.initView.call(this),this.unionAccountLabel=this.getComponent("unionAccountBox/unionAccountLabel",cc.RichText)},t.prototype.onSubViewShow=function(){e.prototype.onSubViewShow.call(this);var t=this.model.bankDatas||{};this.info="1.\u5355\u6b21\u63d0\u73b0\u989d\u5ea6\u4e3a%s\u5143~%s\u5143\uff0c\u4e14\u53ea\u80fd\u4e3a10\u7684\u500d\u6570\n2.\u6bcf\u4eba\u6bcf\u5929\u63d0\u73b0\u6b21\u6570\u6700\u591a\u4e3a%s\u6b21\uff0c\u94b1\u5305\u4f59\u989d\u81f3\u5c11\u4fdd\u7559%s\u5143\n3.\u6bcf\u7b14\u63d0\u73b0\u9700\u8fbe\u5230\u5145\u503c\u91d1\u989d\u7684\u4e00\u500d\u6d41\u6c34\uff0c\u8be6\u60c5\u8bf7\u54a8\u8be2\u5ba2\u670d",this.rateLabel.string=this.model.getRateInfo(),this.info+=this.model.getPutInfo(1),this.msgLabel.string=cc.js.formatStr(this.info,t.bank_min_put_point,t.bank_max_put_point,t.bank_put_day_max_num,t.forzen_point),this.unionAccountLabel.string="<b>"+t.entrus_bank_account+"</b>"||""},t.prototype.checkData=function(){var e=parseInt(this.ecNumEditBox.string);return e<this.model.getUnionMinLimit()?(Global.UI.fastTip("\u63d0\u73b0\u91d1\u989d\u8d85\u51fa\u9650\u5236\u8303\u56f4"),!1):e>this.model.getUnionMaxLimit()?(Global.UI.fastTip("\u63d0\u73b0\u91d1\u989d\u8d85\u51fa\u9650\u5236\u8303\u56f4"),!1):e%10!=0?(Global.UI.fastTip("\u63d0\u73b0\u91d1\u989d\u53ea\u80fd\u4e3a10\u7684\u500d\u6570"),!1):!(e>Global.PlayerData.point/Global.Setting.glodRatio&&(Global.UI.fastTip("\u53d1\u8d77\u63d0\u73b0\u5931\u8d25\uff0c\u4f60\u7684\u53ef\u63d0\u73b0\u91d1\u989d\u4e0d\u8db3"),1))},t.prototype.confirmBtn=function(){if(this.checkData()){var e=parseInt(this.ecNumEditBox.string);this.model.reqUnionApplyCash(e)}else this.resetBtnFunc()},t.prototype.updateChipList=function(){},t}(e("../common/ExtractCashWin").default);o.default=r,cc._RF.pop()},{"../common/ExtractCashWin":"ExtractCashWin"}],use_reversed_rotateTo:[function(e,t){"use strict";cc._RF.push(t,"c6e05lxTbtFnbjq8j3+nIgw","use_reversed_rotateTo"),cc.RotateTo._reverse=!0,cc._RF.pop()},{}],"use_v2.1.x_cc.Action":[function(e,t){"use strict";cc._RF.push(t,"fe19fOB3u9GoaS4kDUb2/zY","use_v2.1.x_cc.Action"),cc.macro.ROTATE_ACTION_CCW=!0,cc._RF.pop()},{}]},{},["StartGame","AudioManager","ConfigBase","ConfigManager","Logger","EventDispatcher","EventHandler","Fsm","FsmManager","FsmState","Base64Cls","LZString","AES","EvpKDF","MD5","SHA256","crypto-ts","Base64","Encoding","Hex","Latin1","Utf8","index","Formatter","OpenSSL","KDF","OpenSSLKdf","Base","BlockCipher","BufferedBlockAlgorithm","BufferedBlockAlgorithmConfig","Cipher","CipherParams","CipherParamsInterface","Hasher","PasswordBasedCipher","SerializableCipher","WordArray","BlockCipherMode","BlockCipherModeAlgorithm","CBC","CBCDecryptor","CBCEncryptor","ECB","ECBDecryptor","ECBEncryptor","NoPadding","PKCS7","Padding","qrcode","underscore","ModelBase","ModelMananger","ModuleBase","ModuleManager","GameWebView","NativeJSBBridge","NatvieEvent","WebNative","AliDNS","DNSControl","IDNS","OldVersionDNS","WangsuDns","AliDun","AppDunControl","IDun","TDun","YunDun","ZADun","HttpProxy","HttpRequest","NetSocket","ReleaseItem","ResourceManager","ISection","SectionBase","SectionManager","BaseSetting","BaseSettingData","Storage","UIManagerEx","UIPannel","layout_utils","listview","Game","Global","GlobalEvent","AdmissionBoxComp","BindingButtonEffect","BlackBgComp","ButtonPlus","CircleScrollMenuComp","ComponentProvider","DriverComponent","EventComp","GameLoadingComp","InteractHeadTipComp","InteractPlayComp","IntoGameAnimComp","IntoHallAnimComp","ItemAction","PaoMaDengComp","PaoMaDengCompNew","PaoMaDengItem","PlayerWallet","PolygonButtonHit","PrivateMarqueeComp","ScreenShakeAction","ScrollViewCarmack","ScrollViewPlus","TaskComp","TextRollSceen.ts","UIAnimComponent","WebViewControl","WifiComp","YXButton","BaseGameHandler","CommandDefine","GameControl","GamePreloadTool","GameServer","GameTimeChecker","TweenManager","ViewSet","YXTween","DataBridge","GameContext","PvpWaitMatchHandler","SessionHandler","PVPPlayerData","PvpSitHelper","BaseServerHelper","CallbackHandlerHelper","GameErrorHelper","GameHeartBeatHelper","HandlerHelper","ReconnectHelper","SocketHelper","CCLoaderHelper","HotUpdateManager","PBHelper","UpdateHelper","GameHotUpdateComponent","AppHotUpdateProxy","HotUpdateProxy","LoadingConst","LoadingFacade","LoadingMediator","PreLoadProxy","WndDownLoadApkUI","WndGameMaintainUI","WndGameRestoreUI","WndGameUpdateUI","WndGameUpgrade","ChatServer","List","ListItem","SystemTimeManager","CheckHelper","HallBroadcastHelper","HallErrorHandler","HallHeartbeatHelper","HallServer","NetEvent","int64","italk_msg_buffer","italkmsg_crc","italkmsg_pb","italkmsg_unit","SceneManager","ChannelInfo","DunHotUpdateUrlSetting","ServerRoutes","Setting","SettingData","SystemInfo","Urls","AESUtil","AppHelper","AppUpdateHelper","ArrayUtil","ChannelUtil","GameBasePool","HeadTipsManager","JSUtil","Language","PersisitHelpper","PoolBase","ReleaseHelper","ReportTool","SearchPathHelper","TaskManager","Toolkit","UIHelper","UIUtil","UrlUtil","PersistUIControl","UIManager","ViewBase","WndBase","AppCfg","HallDriver","HallSection","HallConst","HallFacade","PreModelCommand","PreViewCommand","StartUpCommand","ViewMediator","AppConfigProxy","GameHotUpdateProxy","HallPopMsgHelper","ActivityConstants","ActivityRightPanelView","AwardBoxItem","TimeLimitedAwardBoxItem","WndDailyRechargeGift","WndTimeLimitedRechargeGift","SpreadGiftActivityView","SpreadGiftItemView","WndSpreadGiftActivityView","TurnTable","TurntableView","WndTurntableRule","WndTurntableView","WndActivityCenter","RechargeGiftView","WndBackUpGame","WndBindingGift","CashBackDescription","CashBackEvent","WndDailyCashBackUI","WndGameLobbyShell","CommisionItem","CommisionLeftItem","WndCommision","GiftMoneyItem","WndDailyGiftMoneyUI","WndGiftMoneyListUI","AbsServicer","Feedback2","FeedbackConstants","FeedbackLeftItem","FeedbackListItem","FeedbackServiceItem","FeedbackShowAndWriteView","FeedbackView","InnerServicer","OuterServicer","RightPanelView","ServiceLeftItem","ServiceView","ServicerFactory","WndFeedback","WndLuckyDraw","AwardCommiItem","AwardDetailItem","AwardRecordItem","CaptureTool","GroupItem","ProxyWin","SpreadEvent","SpreadServices","SpreadTutorialWin","WndAwardDetail","WndAwardRecord","WndCommissionlist","WndLowerSearch","WndMyGroup","WndMySpread","WndSpread","WndSpreadCenter","FastTip","WndMessageBox","WndScreenPortraitNotice","ActivityToggle","PaoMaDengBaseView","WndHall","WndShare","BannerView","GameItemView","GameListView","GameListViewA","GongGaoView","GongGaoViewItem","HallBottomView","HallBtnHelper","HallGuiDelinesView","HallMoreGameTopNode","HallPaoMaDengView","HallTopView","PlayerHeadView","WndForgetPwd","WndLogin","WndPhoneLogin","WndRegist","AutoCodeView","PhoneInputView","PwdInputView","BankDrawWin","BankEvent","BankGiftRecordItem","BankSaveDrawBaseWin","BankSaveWin","WndBankChangePW","WndBankForgetPW","WndBankLogin","WndBankUI","ExtractCashWin","ExtractEvent","ExtractRecordItem","WndOverseasBandConfirm","WndUnionBandConfirm","WndaliBandConfirm","aliBandWin","aliExtractCashWin","overseasBankWin","overseasExtractCashWin","unionBandWin","unionExtractCashWin","MsgEvent","MsgItem","MsgView","NoticeView","WndMsg","WndBindPhone","WndChangePwd","WndEditName","WndToggleAccount","ChooseHeadView","DiantaiItem","HeadFrameLayerView","HeadLayerView","MusicLayerView","PersonalInfoView","SettingLayerView","VipGiftView","VipGiftViewItem","VipPrivilegeView","VipPrivilegeViewItem","VipView","VipViewUI","WndChooseHead","WndNewPlayerInfo","WndPlayerInfo","WndSetting","WndVip","WndVip2","WndVip3","WndVipRule","oldVipView","RankItem","WndRank","WndDailyRedEnvelope","WndGetRedEnvelope","WndHallRedEnvelope","WndRebateGet","WndRedEnvelope","CashListView","CashView","ChatCenterNode","MessageItem","OlPayView","RechangeView","RechargeListView","RechargeOnlineView","RechargePayView","RecordingItem","ScanCodeView","VipPayView","WndAliPayRechange","WndBankRechange","WndChatImage","WndChooseBank","WndChooseCity","WndChooseProvince","WndRechangeBankInfo","WndRechangeTip","WndRecharge","WndRechargeVipShow","WndVipQuickPayChat","WndWeChatRechange","WndBuySafeUI","WndSafeRuleUI","ServicerEvent","ServicerItem","WndServicerUI","CodeTipView","WaitingView","WndNetReconnect","WndNetWaiting","CustomApp","SkinConfig","HallStorageKey","GameData","GongGaoData","PlayerData","BankModel","BindingGiftModel","CashBackModel","CommisionModel","ExtractModel","FeedbackModel","HallModel","LoginModel","MsgModel","PersonalInfoModel","PlayerInfoModel","RankModel","RechagreTipModel","RechargeGiftModel","RechargeModel","ServicerModel","ShareModel","SignActivityModel","SpreadModel","TimeLimitedRecgargeModel","WaitingModel","ZhuanpanModel","ActivityCenterModule","BackUpGameModule","BankModule","BindingGiftModule","CashBackModule","ChooseHeadModule","CommisionModule","CommonModule","FeedbackModule","GameLobbyShellModule","HallModule","LoadingModule","LoginModule","LuckyDrawModule","MsgModule","PersonalInfoModule","PlayerInfoModule","RankModule","RechargeGiftModule","RechargeModule","SafeModule","ServicerModule","ShareModule","SpreadGiftModule","SpreadModule","TimeLimitedRechargeModule","VipQuickPayChatModule","BlueSkinModuleCfg","DarkSkinModuleCfg","FantasySkinModuleCfg","GreenSkinModuleCfg","LegendSkinModuleCfg","ModuleCfgBase","NewBlueSkinModuleCfg","PurpleSkinModuleCfg","RedSkinModuleCfg","CountDownBtn","LoopPageView","PageViewIndicatorPlus","PasswordShowToggle","PolygonBtnHit","SwitchNodeToggle","state-machine","use_reversed_rotateTo","use_v2.1.x_cc.Action"]);