window.__require=function e(t,o,n){function i(a,c){if(!o[a]){if(!t[a]){var r=a.split("/");if(r=r[r.length-1],!t[r]){var s="function"==typeof __require&&__require;if(!c&&s)return s(r,!0);if(l)return l(r,!0);throw new Error("Cannot find module '"+a+"'")}a=r}var d=o[a]={exports:{}};t[a][0].call(d.exports,function(e){return i(t[a][1][e]||e)},d,d.exports,e,t,o,n)}return o[a].exports}for(var l="function"==typeof __require&&__require,a=0;a<n.length;a++)i(n[a]);return i}({ErmjLobbyUI:[function(e,t,o){"use strict";cc._RF.push(t,"0c04b42JG1CA65ZHv59Zg/b","ErmjLobbyUI");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,n){var i,l=arguments.length,a=l<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(l<3?i(a):l>3?i(t,o,a):i(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a},a=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))(function(i,l){function a(e){try{r(n.next(e))}catch(t){l(t)}}function c(e){try{r(n.throw(e))}catch(t){l(t)}}function r(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,c)}r((n=n.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){var o,n,i,l,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return l={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function c(e){return function(t){return r([e,t])}}function r(l){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&l[0]?n.return:l[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,l[1])).done)return i;switch(n=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,n=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===l[0]||2===l[0])){a=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){a.label=l[1];break}if(6===l[0]&&a.label<i[1]){a.label=i[1],i=l;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(l);break}i[2]&&a.ops.pop(),a.trys.pop();continue}l=t.call(e,a)}catch(c){l=[6,c],n=0}finally{o=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,d=(r.property,2101),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.curGameId=d,t.defaultLevel=[{level:"l0",SceneName:"\u65b0\u624b\u573a",PointLow:3e5,PointRate:1e4},{level:"l1",SceneName:"\u8001\u70ae\u573a",PointLow:3e6,PointRate:1e5},{level:"l2",SceneName:"\u96c0\u795e\u573a",PointLow:3e7,PointRate:1e6},{level:"l3",SceneName:"\u7687\u5bb6\u573a",PointLow:2e8,PointRate:2e6}],t.levelToBtnIndexMap={l0:0,l1:1,l2:2},t.levelItemList=[],t}return i(t,e),t.prototype.onLoad=function(){this.node.width=cc.Canvas.instance.node.width,this.node.height=cc.Canvas.instance.node.height,this.topNode=cc.find("topNode",this.node),this.bottomNode=cc.find("bottomNode",this.node),this.centerNode=cc.find("centerNode",this.node),Global.UIHelper.addCommonClick(this.node,"topNode/content/leaveBtn",this.onLeaveClick,this,cc.Button.Transition.SCALE,null,!1),Global.UIHelper.addCommonClick(this.node,"topNode/content/ruleBtn",this.onRuleClick,this,cc.Button.Transition.SCALE,null,!1),Global.UIHelper.addCommonClick(this.node,"topNode/content/settingBtn",this.onSettingClick,this,cc.Button.Transition.SCALE,null,!1),Global.UIHelper.addCommonClick(this.node,"bottomNode/content/quickStartBtn",this.onQuickStartClick,this,cc.Button.Transition.SCALE,null,!1),this.selfInfoView=Global.UIHelper.safeGetComponent(this.node,"bottomNode/content",u),this.initLevel();var e=cc.find("topNode/paoMaDengBox",this.node);Global.UIHelper.addPaoMaDengComp(cc.find("topNode/paoMaDengBox/MsgBox",this.node),!1,e),Global.UIHelper.addWifiComp(cc.find("topNode/content/wifiNode",this.node),1),Global.Toolkit.adjustIphoneX([cc.find("topNode/content",this.node)]),this.animComp=Global.UIHelper.addAnimComp(this.node,this.centerNode,cc.find("mask",this.node))},t.prototype.initLevel=function(){this.levelItemList=[];for(var e=0;e<3;e++){var t=cc.find("centerNode/layout/level"+String(e),this.node),o=Global.UIHelper.safeGetComponent(t,"",p);o.setCallback(this.onLevelItemAct,this),this.levelItemList.push(o)}},t.prototype.refreshPlayerInfo=function(){this.selfInfoView.updateInfo()},t.prototype.onEnable=function(){Global.Event.on(GlobalEvent.PERSONALINFOUPDATE,this,this.refreshPlayerInfo),this.refreshPlayerInfo(),this.updateLevelItem(),Global.HallServer.send(NetAppface.mod,NetAppface.GetUserPoint,{}),this.animComp.doFullScreenOpenAnim(this.topNode,null,[this.centerNode],this.bottomNode),Game.GamePreloadTool.lazyPreloadPrefab()},t.prototype.onLeaveClick=function(){Global.Audio.playBtnSound(),Game.Event.event(GlobalEvent.OnCloseGameLobby)},t.prototype.onRuleClick=function(){return a(this,void 0,void 0,function(){var e,t;return c(this,function(o){switch(o.label){case 0:return Global.Audio.playBtnSound(),this.rulePop&&cc.isValid(this.rulePop)?(this.rulePop.active=!0,[3,3]):[3,1];case 1:return[4,Game.GamePreloadTool.preloadPrefab(Game.GamePreloadTool.rulePop,!0)];case 2:e=o.sent(),this.node&&cc.isValid(this.node)&&e&&cc.isValid(e)&&((t=cc.instantiate(e)).setParent(Global.UI.getLayer("PopLayer")),t.active=!0,this.rulePop=t),o.label=3;case 3:return[2]}})})},t.prototype.onSettingClick=function(){return a(this,void 0,void 0,function(){var e,t;return c(this,function(o){switch(o.label){case 0:return Global.Audio.playBtnSound(),this.settingPop&&cc.isValid(this.settingPop)?(this.settingPop.active=!0,[3,3]):[3,1];case 1:return[4,Game.GamePreloadTool.preloadPrefab(Game.GamePreloadTool.settingPop,!0)];case 2:e=o.sent(),this.node&&cc.isValid(this.node)&&e&&cc.isValid(e)&&((t=cc.instantiate(e)).setParent(Global.UI.getLayer("PopLayer")),t.active=!0,this.settingPop=t),o.label=3;case 3:return[2]}})})},t.prototype.onQuickStartClick=function(){Global.Audio.playBtnSound();var e=Global.GameData.getGameInfo(this.curGameId).levels;if(e&&!(e.length<=0)){for(var t=e[0].level,o=0,n=e.length-1;n>=0;n--){var i=e[n];i.PointLow<=Global.PlayerData.point&&i.PointLow>o&&(o=i,t=i.level)}Game.Event.event(GlobalEvent.OnGotoGameScene,t)}},t.prototype.updateLevelItem=function(){var e,t=Global.GameData.getGameInfo(this.curGameId);e=t&&t.levels&&!Global.Toolkit.isEmptyObject(t.levels)?t.levels:this.defaultLevel;for(var o=0;o<this.levelItemList.length;o++)this.levelItemList[o].node.active=!1;for(o=0;o<e.length;o++){var n=e[o],i=n.level,l=this.levelToBtnIndexMap[i];if(null!=l&&l<this.levelItemList.length){var a=this.levelItemList[l];this.levelItemList[l].node.active=!0,a.setLevel(i),a.setItemStyle(n.PointRate,n.PointLow)}}},t.prototype.onLevelItemAct=function(e){Game.Event.event(GlobalEvent.OnGotoGameScene,e)},t.prototype.reqEnterGame=function(e,t,o){void 0===o&&(o="default"),Game.Control.connnectAndEnterGameInLevelScene(e,t,o,null)},t.prototype.onDestroy=function(){Global.Event.off(GlobalEvent.PERSONALINFOUPDATE,this,this.refreshPlayerInfo)},t.prototype.onDisable=function(){Global.Event.off(GlobalEvent.PERSONALINFOUPDATE,this,this.refreshPlayerInfo),this.rulePop&&cc.isValid(this.rulePop)&&(this.rulePop.removeFromParent(),this.rulePop.destroy(),this.rulePop=null),this.settingPop&&cc.isValid(this.settingPop)&&(this.settingPop.removeFromParent(),this.settingPop.destroy(),this.settingPop=null)},l([s],t)}(cc.Component);o.default=h;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._enable=!0,t}return i(t,e),t.prototype.setCallback=function(e,t){this.callback=e,this.target=t},t.prototype.onLoad=function(){this.sk=cc.find("content/bg/sk",this.node).getComponent(sp.Skeleton),this.baseLbl=cc.find("content/baseNode/baseLbl",this.node).getComponent(cc.Label),this.limitLbl=cc.find("content/limitNode/limitLbl",this.node).getComponent(cc.Label),Global.UIHelper.addCommonClick(this.node,"",this.onItemClick,this,cc.Button.Transition.SCALE,null,!1)},t.prototype.setLevel=function(e){this.level=e},t.prototype.setItemStyle=function(e,t){this.baseLbl.string=Global.Toolkit.formatPointStr(e)+"\u5e95\u5206",this.limitLbl.string=""+Global.Toolkit.formatPointStr(t)},t.prototype.onItemClick=function(){Global.Audio.playBtnSound(),this._enable&&this.callback&&this.callback.call(this.target,this.level)},t.prototype.setItemGray=function(e){this._enable=!e,e&&this.sk.clearTracks(),Global.UIHelper.setNodeGray(this.sk.node,e,80),Global.UIHelper.setNodeGray(cc.find("content",this.node),e,80)},t}(cc.Component),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onLoad=function(){this.nameLbl=cc.find("nameNode/nameLbl",this.node).getComponent(cc.Label),this.idLbl=cc.find("nameNode/idLbl",this.node).getComponent(cc.Label),this.headImg=cc.find("nameNode/mask/headImg",this.node).getComponent(cc.Sprite),this.headBox=cc.find("nameNode/headBox",this.node).getComponent(cc.Sprite),this.coinLbl=cc.find("coinNode/coinLbl",this.node).getComponent(cc.Label),Global.UIHelper.addCommonClick(this.node,"coinNode/btn_cz",this.openRecharge,this)},t.prototype.openRecharge=function(){Global.Audio.playBtnSound(),Global.UI.show("WndRecharge")},t.prototype.updateInfo=function(){var e=Global.PlayerData;this.nameLbl.string=e.nickname,this.idLbl.string="ID:"+e.uid,this.coinLbl.string=Global.Toolkit.formatPointStr(e.point,!0),this.loadHeadImg(e.headimg),this.loadHeadBox(e.headkuang)},t.prototype.loadHeadImg=function(e){var t=this.headImg.node.width,o=this.headImg.node.height;this.headImg.spriteFrame=Global.Toolkit.getLocalHeadSf(e),this.headImg.node.width=t,this.headImg.node.height=o},t.prototype.loadHeadBox=function(e){this.headBox.node.width,this.headBox.node.height;var t="txkuang_vip"+e;Global.ResourceManager.loadBundleAutoAtlas("2101_preload",this.headBox,"texture/headFrame/headFrame",t,null,!0)},t}(cc.Component);cc._RF.pop()},{}],ErmjRulePop:[function(e,t,o){"use strict";cc._RF.push(t,"73b1aOCWoFDyoySqZdDgsYm","ErmjRulePop");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,n){var i,l=arguments.length,a=l<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(l<3?i(a):l>3?i(t,o,a):i(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,r=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onLoad=function(){this.node.width=cc.Canvas.instance.node.width,this.node.height=cc.Canvas.instance.node.height,this.sv=cc.find("centerNode/scrollView",this.node).getComponent(cc.ScrollView),Global.UIHelper.addCommonClick(this.node,"centerNode/close",this.closeWnd,this,cc.Button.Transition.SCALE,null,!1),Global.UIHelper.addCommonClick(this.node,"mask",this.closeWnd,this,cc.Button.Transition.NONE,cc.Button.Transition.SCALE,!1),this.animComp=Global.UIHelper.addAnimComp(this.node,cc.find("centerNode",this.node),cc.find("mask",this.node))},t.prototype.onEnable=function(){this.sv.scrollToTop(0),this.animComp.doPopupOpenAnim()},t.prototype.closeWnd=function(){var e=this;Global.Audio.playBtnSound(),this.animComp.doPopupCloseAnim(function(){e.node.active=!1})},l([c],t)}(cc.Component));o.default=r,cc._RF.pop()},{}],ErmjSettingPop:[function(e,t,o){"use strict";cc._RF.push(t,"f5246hAg6FGOoge/N2Tro9o","ErmjSettingPop");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,n){var i,l=arguments.length,a=l<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(l<3?i(a):l>3?i(t,o,a):i(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,r=a.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.version="1.0.1",t}return i(t,e),t.prototype.onLoad=function(){this.node.width=cc.Canvas.instance.node.width,this.node.height=cc.Canvas.instance.node.height,Global.UIHelper.addCommonClick(this.node,"centerNode/close",this.closeWnd,this,cc.Button.Transition.SCALE,null,!1),Global.UIHelper.addCommonClick(this.node,"mask",this.closeWnd,this,cc.Button.Transition.NONE,cc.Button.Transition.SCALE,!1),this.initVersion(),this.initToggle(),this.animComp=Global.UIHelper.addAnimComp(this.node,cc.find("centerNode",this.node),cc.find("mask",this.node))},t.prototype.onEnable=function(){this.animComp.doPopupOpenAnim()},t.prototype.initVersion=function(){this.versionLbl=cc.find("centerNode/versionLbl",this.node).getComponent(cc.Label);var e=Game.GamePreloadTool.curGameId,t=Global.GameData.getGameInfo(e);t?this.setVersion(t.native_version):this.setVersion(this.version)},t.prototype.initToggle=function(){var e=Global.Setting.settingData.musicEnable,t=Global.Setting.settingData.soundEnable,o=Global.UIHelper.safeGetComponent(this.node,"centerNode/musicToggle",d);o.setCallback(this.onMusicToggle,this);var n=Global.UIHelper.safeGetComponent(this.node,"centerNode/soundToggle",d);n.setCallback(this.onAudioToggle,this),o.isChecked=e,n.isChecked=t},t.prototype.setVersion=function(e){this.versionLbl.string="\u7248\u672c\u53f7\uff1aV"+e},t.prototype.onMusicToggle=function(e){Global.Audio.playBtnSound();var t=e.isChecked;Global.Audio.setMusicEnable(t)},t.prototype.onAudioToggle=function(e){var t=e.isChecked;Global.Audio.setSoundEnable(t),Global.Audio.playBtnSound()},t.prototype.closeWnd=function(){var e=this;Global.Audio.playBtnSound(),this.animComp.doPopupCloseAnim(function(){e.node.active=!1})},l([r],t.prototype,"version",void 0),l([c],t)}(cc.Component);o.default=s;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.setCallback=function(e,t){this.callback=e,this.target=t},t.prototype.onLoad=function(){this.normalNode=cc.find("close",this.node),this.checkNode=cc.find("open",this.node),Global.UIHelper.addCommonClick(this.node,"",this.onToggleClick,this,cc.Button.Transition.SCALE,null,!1)},t.prototype.onToggleClick=function(){this.isChecked=!this._isCheck,this.callback&&this.target&&this.callback.call(this.target,this)},Object.defineProperty(t.prototype,"isChecked",{get:function(){return this._isCheck},set:function(e){e!==this._isCheck&&(this._isCheck=e,this.updateStyle())},enumerable:!1,configurable:!0}),t.prototype.updateStyle=function(){this.normalNode.active=!this._isCheck,this.checkNode.active=!!this._isCheck},t}(cc.Component);cc._RF.pop()},{}]},{},["ErmjLobbyUI","ErmjRulePop","ErmjSettingPop"]);