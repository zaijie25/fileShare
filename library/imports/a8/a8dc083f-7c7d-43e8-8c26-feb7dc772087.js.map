{"version":3,"sources":["assets\\bbwz\\Bbwz\\scripts\\subview\\BbwzSelectChipsView.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import BbwzBaseView from \"./BbwzBaseView\";\r\nimport BbwzData from \"../data/BbwzData\";\r\nimport BbwzConstDefine from \"../data/BbwzConstDefine\";\r\nimport BbwzSkinDefine from \"../data/BbwzSkinDefine\";\r\nimport BbwzPathHelper from \"../tool/BbwzPathHelper\";\r\n\r\nexport default class BbwzSelectChipsView extends BbwzBaseView{\r\n    private selectChipsArr: SelectItem[] = [];\r\n    private curSelectIndex = 0;\r\n    private isBetStage = false;\r\n    private posArr = [];\r\n    private selectSk: sp.Skeleton;\r\n    private continueBtn: cc.Button;\r\n\r\n    constructor(node: cc.Node){\r\n        super();\r\n        this.setNode(node);\r\n    }\r\n\r\n    protected initView(){\r\n        this.selectSk = <sp.Skeleton>this.getComponent(\"content/selectSk\", sp.Skeleton);\r\n        this.selectSk.node.setScale(BbwzSkinDefine.selectScale);\r\n        for(let i =0; i< 5; i++){\r\n            let node = this.getChild(\"content/chipNode_\" + i);\r\n            let item = new SelectItem(node, i, this.onChipBtnSelect, this);\r\n            item.setItemSelect(false);\r\n            item.showGrayMask(true);\r\n            this.selectChipsArr.push(item);\r\n            this.posArr.push(item.getWorldPos());\r\n        }\r\n        this.continueBtn = BbwzConstDefine.addCommonClick(this.node, \"content/continueBtn\", this.onBetContinue, this).getComponent(cc.Button);\r\n        this.disableAllBetChipBtn();\r\n        this.updateContinueBtn(false);\r\n    }\r\n\r\n    private onChipBtnSelect(index: number){\r\n        if (this.selectChipsArr[this.curSelectIndex]){\r\n            this.selectChipsArr[this.curSelectIndex].setItemSelect(false);\r\n        }\r\n        this.curSelectIndex = index;\r\n        let item = this.selectChipsArr[index];\r\n        item.setItemSelect(true);\r\n        this.setSelectSk(true, index);\r\n\r\n        BbwzData.instance.currentSelectIndex = item.index;\r\n    }\r\n\r\n    private onBetContinue(){\r\n        BbwzConstDefine.playBtnSound();\r\n        BbwzData.instance.reqContinueBet();\r\n    }\r\n\r\n    public initChipListData(){\r\n        let chipsData = BbwzData.instance.chipList;\r\n        for (let i= 0; i < chipsData.length; i++){\r\n            let item = this.selectChipsArr[i];\r\n            if (item){\r\n                item.updateIconStyle();\r\n                item.nChip = chipsData[i];\r\n                BbwzData.instance.selectChipWolrdPos[chipsData[i]] = this.posArr[i];     // 记录选项位置\r\n            }\r\n        }\r\n    }\r\n\r\n    // 设置筹码选中特效\r\n    private setSelectSk(isShow: boolean, index?: number){\r\n        this.selectSk.node.active = isShow;\r\n        if (isShow){\r\n            let item = this.selectChipsArr[index];\r\n            let wPos = item.getWorldPos();\r\n            this.selectSk.node.setPosition(this.selectSk.node.parent.convertToNodeSpaceAR(wPos).add(BbwzSkinDefine.selectChipOffset));\r\n            this.selectSk.clearTracks();\r\n            this.selectSk.setAnimation(0, BbwzSkinDefine.skBigChipIdleArr[index], true);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 失效所有筹码\r\n     */\r\n    public disableAllBetChipBtn(){\r\n        this.isBetStage = false;\r\n        this.selectChipsArr.forEach(element => {\r\n            element.showGrayMask(true);\r\n            element.setItemSelect(false);\r\n        });\r\n        this.setSelectSk(false);\r\n    }\r\n\r\n    /**\r\n     * 生效所有筹码\r\n     */\r\n    public enableBetChipBtn(){\r\n        this.isBetStage = true;\r\n        this.selectChipsArr.forEach((element, index) => {\r\n            element.showGrayMask(false);\r\n        });\r\n        this.updateSelectBtn();\r\n    }\r\n\r\n    public updateSelectBtn(looking: boolean = false){\r\n        if (!this.isBetStage){\r\n            return;\r\n        }\r\n\r\n        if (this.selectChipsArr[this.curSelectIndex]){\r\n            this.selectChipsArr[this.curSelectIndex].setItemSelect(false);\r\n            this.setSelectSk(false);\r\n        }\r\n\r\n        let isFind = false;\r\n        for (let i= this.selectChipsArr.length-1; i >=0; i--){\r\n            let btn = this.selectChipsArr[i];\r\n            if (btn.isEnable){\r\n                btn.showGrayMask(false);\r\n                if (looking && !isFind){\r\n                    this.curSelectIndex = i;\r\n                    isFind = true;\r\n                }\r\n                if (this.curSelectIndex == i){\r\n                    BbwzData.instance.currentSelectIndex = btn.index;\r\n                    btn.setItemSelect(true);\r\n                    this.setSelectSk(true, btn.index);\r\n                }\r\n            }\r\n            else{\r\n                btn.setItemSelect(false);\r\n                btn.showGrayMask(true);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 设置筹码按钮是否有效\r\n     * @param point 余额\r\n     * @param leftLimit 剩余下注上限额\r\n     * @param minLimit 下注下限额\r\n     */\r\n    public checkBtnSelectActive(point: number, leftLimit: number, minLimit: number){\r\n        let isWorking = point >= minLimit;\r\n        this.selectChipsArr.forEach((ele, index) => {\r\n            if (isWorking){\r\n                // ele.isEnable = ele.nChip <= point && ele.nChip <= leftLimit;\r\n                ele.isEnable = ele.nChip <= point;\r\n            }\r\n            else{\r\n                ele.isEnable = false;\r\n            }\r\n        });\r\n        // let isFind = this.chipBtnList[this.curSelectIndex].nChip > point || this.chipBtnList[this.curSelectIndex].nChip > leftLimit;   // 当前所选筹码大于余额或者上限余额\r\n        let isFind = this.selectChipsArr[this.curSelectIndex].nChip > point;\r\n        // 余额不足会记录最后一次所选\r\n        this.updateSelectBtn(isFind);\r\n    }\r\n\r\n    public updateContinueBtn(isEnable: boolean){\r\n        // let isEnable: boolean = BbwzData.instance.canContinueBet();\r\n        this.continueBtn.interactable = isEnable;\r\n        Global.UIHelper.setNodeGray(this.continueBtn.node, !isEnable);\r\n    }\r\n\r\n    public clearByRound(){\r\n        this.disableAllBetChipBtn();\r\n        this.updateContinueBtn(false);\r\n    }\r\n}\r\n\r\nclass SelectItem extends BbwzBaseView{\r\n    private iconSp: cc.Sprite;\r\n    private _nChip = 0;\r\n    private _enable = true;\r\n    private itemBtn: cc.Button;\r\n    private isGray: boolean;\r\n    private selectScale = BbwzSkinDefine.selectScale;\r\n    constructor(node: cc.Node, public index: number, private callback: Function, private target: any){\r\n        super();\r\n        this.setNode(node);\r\n    }\r\n\r\n    protected initView(){\r\n        this.iconSp = <cc.Sprite>this.getComponent(\"sprite_di\", cc.Sprite);\r\n        BbwzConstDefine.addCommonClick(this.node, \"\", this.onChipSelect, this, null);\r\n        this.itemBtn = Global.UIHelper.safeGetComponent(this.node, \"\", cc.Button);\r\n    }\r\n\r\n    public updateIconStyle(){\r\n        let strArr = BbwzData.instance.getSelectChipsIconStr();\r\n        Global.ResourceManager.loadBundleAutoAtlas(BbwzConstDefine.GAME_ID,this.iconSp, BbwzPathHelper.gameTexturePath + \"atlas/dynamic/atlas_dynamic\", strArr[this.index], null, true);\r\n    }\r\n\r\n    private onChipSelect(){\r\n        Global.Audio.playBundleSound(BbwzConstDefine.GAME_ID,BbwzConstDefine.SOUND_CHIP_CHANGE, true);\r\n        if (this.isEnable && this.callback){\r\n            this.callback.call(this.target, this.index);\r\n        }\r\n    }\r\n\r\n    public setItemSelect(isSelect: boolean){\r\n        this.node.scale = isSelect && this.selectScale || 1;\r\n    }\r\n\r\n    public showGrayMask(isShow: boolean){\r\n        if (this.isGray != isShow){\r\n            this.isGray = isShow;\r\n            Global.UIHelper.setNodeGray(this.node, isShow);\r\n            this.itemBtn.interactable = !isShow;\r\n        }\r\n    }\r\n\r\n    public set nChip(num: number){\r\n        this._nChip = num;\r\n    }\r\n\r\n    public get nChip(){\r\n        return this._nChip;\r\n    }\r\n\r\n    public set isEnable(flag: boolean){\r\n        if (this._enable == flag)\r\n            return;\r\n        this._enable = flag;\r\n    }\r\n\r\n    public get isEnable(){\r\n        return this._enable;\r\n    }\r\n\r\n    public getWorldPos(){\r\n        return this.node.convertToWorldSpaceAR(this.iconSp.node.position);\r\n    }\r\n}"]}