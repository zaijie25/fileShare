{"version":3,"sources":["assets\\hall\\scripts\\logic\\hallcommon\\app\\CustomApp.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import AppHelper from \"../../core/tool/AppHelper\";\r\nimport HallStorageKey from \"../const/HallStorageKey\";\r\n\r\nexport default class CustomAppInfo\r\n{\r\n    public appConfig = \r\n    {\r\n        //字段不设置，使用默认值；字段为空string，表示不显示\r\n        //{bgmName:\"bgm\",loadingBg:\"loadingBg\", loginBg:\"loginBg\", logo:\"logo\", spreedBg:\"spreedBg\",showLoadingEff:false}\r\n        588:{loginBg:\"lgBg.jpg\",showLoadingEff:true, \"logo\":\"logo.png\"},\r\n        1003:{loadingBg:\"loadingBg.png\",spreedBg:\"spreedBg.png\", loginBg:\"lgBg.jpg\",showLoadingEff:true, \"logo\":\"logo.png\"},\r\n    }\r\n\r\n    public bgmName = \"bgm.mp3\";\r\n\r\n    //热更界面背景图\r\n    public loadingBg = \"loadingBg.jpg\";\r\n\r\n    //登录/hallLoading背景图\r\n    public loginBg = \"loadingBg.jpg\";\r\n\r\n    //大厅背景图\r\n    public hallBg = \"hallBg.jpg\";\r\n    //马甲包背景图\r\n    public majiabao_loadingBg = \"loadingBgBack.jpg\";\r\n\r\n    //showloginBg 为true时  使用lgBg,\r\n    public defaultLgBg = \"lgBg.jpg\";\r\n    public defaultLogo = \"logo.png\";\r\n\r\n    public appCfg = \"\"\r\n    //logo图标\r\n   // public logo = \"\";\r\n\r\n    //推广背景图\r\n    public spreedBg = \"spreedBg.jpg\";\r\n\r\n    //loading界面是否显示特效\r\n    public showLoadingEff = false;\r\n\r\n    //是否显示登录特效 平台定制\r\n    public showLoginEff = false;\r\n    //登录特效名字\r\n    public lgEffectName = \"lgEffect\";\r\n    //登录特效动画\r\n    public lgEffectAnimName = \"idle\";\r\n\r\n    private filePathMap = {}\r\n\r\n    private appId = null;\r\n\r\n    private isHallChanged = false\r\n\r\n    /**\r\n     * 加载界面需要替换的图\r\n     * tipsBg 温馨提示底图\r\n     * progressBar 进度条\r\n     * progressBarBg 进度条地图\r\n     */\r\n    private loading = {\r\n        \"tipsBg\" : \"tsy_di.png\",\r\n        \"progressBar\" : \"jdt_jdu.png\",\r\n        \"progressBarBg\" : \"jdt_di.png\",\r\n        \"checkNode\":\"tsy_zibj.png\",\r\n        \"restore\":\"xin_xiufu.png\",\r\n        \"loading_04\":\"jz_05.png\",\r\n    }\r\n\r\n    /**\r\n     *  登录需要替换的切图\r\n     * registBtn 注册按钮\r\n     * officalBtn 官网按钮\r\n     * serviceBtn 客服按钮\r\n     * vistorLoginBtn 游客登陆按钮\r\n     * wxLoginBtn 微信登录按钮\r\n     * phoneLoginBtn 手机登录按钮\r\n     */\r\n    private login = {\r\n        \"registBtn\" : \"button_sjzc.png\",\r\n        \"officalBtn\": \"button_guanwang.png\",\r\n        \"serviceBtn\": \"button_kefu.png\",\r\n        \"vistorLoginBtn\" :\"button_youke.png\",\r\n        \"wxLoginBtn\" :\"button_weixin.png\",\r\n        \"phoneLoginBtn\" :\"button_shouji.png\"\r\n    }\r\n\r\n    public getIsHallChanged()\r\n    {\r\n        return this.isHallChanged\r\n    }\r\n\r\n    public initConfig()\r\n    {\r\n        // let appId = this.getAppID();\r\n        // let config = Global.Setting.SkinConfig.appPicConfig ? Global.Setting.SkinConfig.appPicConfig[appId]: null\r\n        // //默认用688配置\r\n        // if(config != null)\r\n        // {\r\n        //     for(let key in config)\r\n        //     {\r\n        //         this[key] = config[key];\r\n        //     }\r\n        //     return\r\n        // }\r\n\r\n\r\n        this.showLoginEff = this.getFilePath(this.lgEffectName + \".atlas\", this.getAppID()) != \"\" \r\n            && this.getFilePath(this.lgEffectName + \".json\", this.getAppID()) != \"\"\r\n            && this.getFilePath(this.lgEffectName + \".png\", this.getAppID()) != \"\"\r\n        if(this.showLoginEff )\r\n        {\r\n            this.loginBg = this.defaultLgBg;\r\n        }\r\n    }\r\n\r\n\r\n    //预加载背景图\r\n    public preload(callback)\r\n    {\r\n        if(!cc.sys.isNative)\r\n        {\r\n            callback();\r\n            return;\r\n        }\r\n        this.InitOrignalAppconfig()\r\n        let appid = this.getAppID();\r\n        let appCfg = this.getAppConfigFileName(appid)\r\n\r\n        let arr = [];\r\n        if(this.loadingBg && this.loadingBg != \"\")\r\n            arr.push(this.loadingBg)\r\n\r\n        if(appCfg &&appCfg != \"\")\r\n            arr.push(appCfg)\r\n        if(this.defaultLgBg && this.defaultLgBg != \"\")\r\n            arr.push(this.defaultLgBg);\r\n        if(this.hallBg && this.hallBg != \"\")\r\n            arr.push(this.hallBg);\r\n        // if(this.logo && this.logo != \"\")\r\n        //     arr.push(this.logo);\r\n        if(this.bgmName && this.bgmName != \"\")\r\n            arr.push(this.bgmName);\r\n        if(this.showLoginEff && this.lgEffectName && this.lgEffectName != \"\")\r\n        {\r\n            arr.push([this.lgEffectName + \".json\", \"txt\"]);\r\n            arr.push(this.lgEffectName + \".png\");\r\n            arr.push([this.lgEffectName + \".atlas\", \"txt\"]);\r\n        }\r\n\r\n        for (let key in this.login) {\r\n            if (this.login.hasOwnProperty(key)) {\r\n                arr.push(this.login[key])\r\n            }\r\n        }\r\n\r\n        for (let key in this.loading) {\r\n            if (this.loading.hasOwnProperty(key)) {\r\n                arr.push(this.loading[key])\r\n            }\r\n        }\r\n\r\n        let counter = 0\r\n        for (let i = 0; i < arr.length; i++) {\r\n            let path = \"\";\r\n            let type = null;\r\n            if (Array.isArray(arr[i])) {\r\n                path = this.getFilePath(arr[i][0], appid);\r\n                type = arr[i][1];\r\n            }\r\n            else\r\n                path = this.getFilePath(arr[i], appid);\r\n            if (path != \"\") {\r\n                counter++;\r\n                if (arr[i] == appCfg) {\r\n                    cc.loader.load(path, (error, jsonAsset) => {\r\n\r\n                        counter--;\r\n                        if (error != null) {\r\n                            Logger.error(\"加载skinConfig失败！！！！！\"+ error.message);\r\n                            Logger.error(\"path！！！！！\"+ path);\r\n                        }\r\n                        if(jsonAsset)\r\n                        {\r\n                            Global.Setting.SkinConfig.appPicConfig = jsonAsset\r\n                        }\r\n                        if (counter <= 0) {\r\n                            if (callback) \r\n                            {\r\n                                callback();\r\n                            }\r\n                        }\r\n                    })\r\n                    continue\r\n                }\r\n                cc.loader.load({ url: path, type: type }, (error, res) => {\r\n                    if (error != null) {\r\n                        Logger.error(\"加载资源失败\", path);\r\n                    }\r\n\r\n                    counter--;\r\n                    if (counter <= 0) {\r\n                        if (callback) {\r\n                            callback();\r\n                        }\r\n                    }\r\n                })\r\n            }\r\n        }\r\n        if(counter == 0)\r\n        {\r\n            if(callback)\r\n            {\r\n                callback();\r\n            }\r\n        }\r\n    }\r\n\r\n    public getAppConfigFileName(appid)\r\n    {\r\n        let oldFileName = cc.js.formatStr(\"%s.json\", appid)\r\n        let newFileName = \"config.json\"\r\n        let oldFilePath = this.getFilePath(oldFileName,appid)\r\n\r\n        let newFilePath = this.getFilePath(newFileName,appid)\r\n        if(jsb.fileUtils.isFileExist(oldFilePath))\r\n        {\r\n            return oldFileName\r\n\r\n        }\r\n\r\n        if(jsb.fileUtils.isFileExist(newFilePath))\r\n        {\r\n            return newFileName\r\n\r\n        }\r\n\r\n        return newFileName\r\n    }\r\n\r\n\r\n\r\n    public checkIsHotUpdateFileExist(appid)\r\n    {\r\n        //先判断热更目录下是否有文件\r\n        let hotupdatePath = Global.HotUpdateManager.updateHelper.genStoragePath(\"hall\") + \"/app/\" + appid;\r\n        return jsb.fileUtils.isDirectoryExist(hotupdatePath)\r\n    }\r\n\r\n    /**\r\n     * 获取当前appid合服后此ID与随包APPID不一致\r\n     */\r\n    public getCustomAppID()\r\n    {\r\n        let appId = 0;\r\n        let localAppid= Global.Setting.storage.getNumber(HallStorageKey.AppID, -1);\r\n        if (localAppid != -1) {\r\n            this.appId = localAppid;\r\n            return this.appId;\r\n        }\r\n        if (Global.Setting.AppConfig && Global.Setting.AppConfig.appid) {\r\n            this.appId = Global.Setting.appId;\r\n            return this.appId;\r\n        }\r\n\r\n        if (Global.Setting.SystemInfo.appID) {\r\n            this.appId = Global.Setting.SystemInfo.appID;\r\n            return this.appId;\r\n        }\r\n        \r\n    }\r\n    InitOrignalAppconfig() \r\n    {\r\n        let appid = Global.Setting.SystemInfo.appID\r\n        let appCfg = this.getAppConfigFileName(appid)\r\n        let path = this.getFilePath(appCfg, appid);\r\n        if (path != \"\") {\r\n            cc.loader.load(path, (error, jsonAsset) => {\r\n                if (error != null) {\r\n                    Logger.error(\"加载skinConfig失败！！！！！\" + error.message);\r\n                    Logger.error(\"path！！！！！\" + path);\r\n                }\r\n                if (jsonAsset) {\r\n\r\n                    Global.Setting.SkinConfig.orignalAppcfg = jsonAsset\r\n                    let storgeHall = Global.Setting.storage.get(\"HALLSTYLE\")\r\n                    if (!storgeHall ) \r\n                    {\r\n                        Global.Setting.storage.set(\"HALLSTYLE\",jsonAsset[\"hallStyle\"])\r\n                    }\r\n                }\r\n            })\r\n        }\r\n       \r\n    }\r\n\r\n\r\n\r\n    public async AsyncInitOrignalAppconfig() {\r\n        return new Promise((resolve, reject)=>{\r\n            let appid = Global.Setting.SystemInfo.appID\r\n            let appCfg = this.getAppConfigFileName(appid)\r\n            let path = this.getFilePath(appCfg, appid);\r\n            if (path != \"\") {\r\n                cc.loader.load(path, (error, jsonAsset) => {\r\n                    if (error) {\r\n                        Logger.error(\"加载skinConfig失败！！！！！\" + error.message);\r\n                        Logger.error(\"path！！！！！\" + path);\r\n                        reject(error);\r\n                    }\r\n                    else\r\n                    {\r\n                        Global.Setting.SkinConfig.orignalAppcfg = jsonAsset\r\n                        let storgeHall = Global.Setting.storage.get(\"HALLSTYLE\")\r\n                        if (storgeHall && storgeHall != jsonAsset[\"hallStyle\"] ) \r\n                        {\r\n                            Global.Setting.storage.set(\"HALLSTYLE\",jsonAsset[\"hallStyle\"])\r\n                            this.isHallChanged = true\r\n                        }\r\n                        resolve(jsonAsset);\r\n                    }\r\n                })\r\n            }\r\n            else\r\n            {\r\n                reject(null);\r\n            }\r\n        })\r\n    }\r\n\r\n    /**\r\n     * 获取实际需要预加载资源的appid\r\n     */\r\n    public getAppID(){\r\n        let appid = Global.customApp.getCustomAppID()\r\n        if(Global.Toolkit.checkMegeServer() && !Global.customApp.checkIsHotUpdateFileExist(appid))\r\n        {\r\n            appid = Global.Setting.SystemInfo.appID\r\n        }\r\n        return appid;\r\n    }\r\n\r\n    public getAppConfig(){\r\n        // let appid = this.getAppID()\r\n        // let config = null\r\n        // if(!Global.Setting.isNewAppHotUpdate)\r\n        // {\r\n        //     config = Global.Setting.SkinConfig.appPicConfig ? Global.Setting.SkinConfig.appPicConfig[appid]: null\r\n        //     return config\r\n        // }\r\n        return Global.Setting.SkinConfig.appPicConfig \r\n    }\r\n\r\n\r\n    private getAppBaseFolder()  \r\n    {\r\n        return Global.HotUpdateManager.updateHelper.genStoragePath(\"hall\") + \"/app/\";\r\n    }\r\n\r\n    // public getBgmPath()\r\n    // {\r\n    //     if(!cc.sys.isNative)\r\n    //         return \"\";\r\n    //     return this.getFilePath(this.bgmName, this.getAppID());\r\n    // }\r\n\r\n    //appid为data中的\r\n    //nativeAppid为包里的appid   避免更换appid时出问题\r\n    private getFilePath(fileName, appid, nativeAppid = null)\r\n    {\r\n        if(!cc.sys.isNative)\r\n            return \"\";\r\n        if(nativeAppid == null)\r\n            nativeAppid = appid;\r\n        if(this.filePathMap[fileName])\r\n        {\r\n            return this.filePathMap[fileName];\r\n        }\r\n        //先判断热更目录下是否有文件\r\n        let hotupdatePath = Global.HotUpdateManager.updateHelper.genStoragePath(\"hall\") + \"/app/\" + appid + \"/\";\r\n        let hotupdateFullPath = hotupdatePath + fileName;\r\n        if(jsb.fileUtils.isFileExist(hotupdateFullPath))\r\n        {\r\n            this.filePathMap[fileName] = hotupdateFullPath;\r\n            return hotupdateFullPath;\r\n        }\r\n        \r\n        //关闭合服，直接切AppID的情况，如果下载的资源里面没有则用皮肤自带的\r\n        if (Global.Setting.isCloseMegeServer){\r\n            return \"\"\r\n        }\r\n        //走随包AppID里面的资源\r\n        let packageAppid = Global.Setting.SystemInfo.appID\r\n        \r\n        //获取原生资源路径文件夹\r\n        let nativeFullPath = \"app/\" + packageAppid + \"/\" + fileName;\r\n        \r\n        if(jsb.fileUtils.isFileExist(nativeFullPath))\r\n        {\r\n            nativeFullPath = jsb.fileUtils.fullPathForFilename(nativeFullPath);\r\n            this.filePathMap[fileName] =  nativeFullPath;\r\n            Logger.error(\"use native path\", nativeFullPath);\r\n            return nativeFullPath;\r\n        }\r\n        return \"\";\r\n    }\r\n\r\n    //加载loading界面资源\r\n    public loadLoadingBg(bgSp:cc.Sprite)\r\n    {\r\n        if(!cc.sys.isNative)\r\n            return;\r\n        //获取原生资源路径文件夹\r\n        let nativeFullPath = this.majiabao_loadingBg;\r\n        if(jsb.fileUtils.isFileExist(nativeFullPath))\r\n        {\r\n            this.loadMaJiaBaoLoaingBg(bgSp,nativeFullPath)\r\n        }else {\r\n\r\n            this.loadSprite(bgSp, this.loadingBg);\r\n        }\r\n    }\r\n\r\n    public loadingLoginPics(btnContainer:cc.Node)\r\n    {\r\n        if(!cc.sys.isNative)\r\n        {\r\n            return\r\n        }\r\n        if(!btnContainer)\r\n        {\r\n            return\r\n        }\r\n        \r\n        let config = this.getAppConfig()\r\n        let needChange = config && !config[\"showDefaut\"] //默认按钮有特效 新配置的没有 如果需要配置需要隐藏特效\r\n        let regist :cc.Sprite = cc.find(\"RegistBtn\",btnContainer).getComponent(cc.Sprite)\r\n        let offical:cc.Sprite = cc.find(\"gnx_guanwang\",btnContainer).getComponent(cc.Sprite)\r\n        let service:cc.Sprite = cc.find(\"gnx_kefu\",btnContainer).getComponent(cc.Sprite)\r\n        let vistor:cc.Sprite = cc.find(\"guestBtn\",btnContainer).getComponent(cc.Sprite)\r\n        \r\n        if( vistor && vistor.node)\r\n        {\r\n            let defaultNode :cc.Node = cc.find(\"defaut\",vistor.node) // 默认按钮有特效\r\n            if(defaultNode && needChange)\r\n            {\r\n                defaultNode.active = false\r\n            }\r\n            this.loadSprite(vistor, this.login.vistorLoginBtn);\r\n\r\n        }\r\n        let wechat:cc.Sprite = cc.find(\"wxBtn\",btnContainer).getComponent(cc.Sprite)\r\n        if( wechat && wechat.node)\r\n        {\r\n            let defaultNode :cc.Node = cc.find(\"defaut\",wechat.node)\r\n            if(defaultNode && needChange)\r\n            {\r\n                defaultNode.active = false\r\n            }\r\n            this.loadSprite(wechat, this.login.wxLoginBtn,);\r\n\r\n        }\r\n        let phone:cc.Sprite = cc.find(\"phoneBtn\",btnContainer).getComponent(cc.Sprite)\r\n\r\n        if( phone && phone.node)\r\n        {\r\n            let defaultNode :cc.Node = cc.find(\"defaut\",phone.node)\r\n            if(defaultNode && needChange)\r\n            {\r\n                defaultNode.active = false\r\n            }\r\n            this.loadSprite(phone, this.login.phoneLoginBtn,);\r\n\r\n        }\r\n        this.loadSprite(regist, this.login.registBtn);\r\n        this.loadSprite(offical, this.login.officalBtn);\r\n        this.loadSprite(service, this.login.serviceBtn);\r\n    }\r\n    /**\r\n     * \r\n     *  \"appPicConfig\": {\r\n\t\t\"588\": {\r\n\t\t\t\"showLoginEff\":false,\r\n\t\t\t\"registBtnPos\":[-538,295],\r\n\t\t\t\"serviceBtnPos\":[-440,295],\r\n\t\t\t\"officalBtnPos\":[-342,295],\r\n\t\t\t\"vistorLoginBtnPos\":[375,5],\r\n\t\t\t\"wechatLoginBtnPos\":[375,-123],\r\n\t\t\t\"phoneLoginBtnPos\":[375,-250],\r\n\t\t\t\"layout\":0\r\n\t\t\t\t\r\n\t\t}\r\n\t}\r\n     *  \r\n     */\r\n    \r\n\r\n    public ChangeLoadingTxtColorAndFontSize(txt:cc.Label,infolabel:cc.Label,versionLabel:cc.Label)\r\n    {\r\n\r\n        let config = this.getAppConfig()\r\n        if(config )\r\n        {\r\n            if(txt)\r\n            {\r\n                if( config.txtColor)\r\n                {\r\n                    txt.node.color = new cc.Color().fromHEX(config.txtColor);\r\n                }\r\n                if(config.txtFontSize)\r\n                {\r\n                    txt.fontSize = config.txtFontSize\r\n                }\r\n            }\r\n            if(infolabel)\r\n            {\r\n                if( config.infoLabelColor)\r\n                {\r\n                    infolabel.node.color = new cc.Color().fromHEX(config.infoLabelColor);\r\n                }\r\n                if(config.infoLabelFontSize)\r\n                {\r\n                    infolabel.fontSize = config.infoLabelFontSize\r\n                }\r\n            }\r\n\r\n            if(versionLabel)\r\n            {\r\n                if( config.versionLabelColor)\r\n                {\r\n                    versionLabel.node.color = new cc.Color().fromHEX(config.versionLabelColor);\r\n                }\r\n                if(config.versionLabelFontSize)\r\n                {\r\n                    versionLabel.fontSize = config.versionLabelFontSize\r\n                }\r\n                \r\n            }\r\n            \r\n        }\r\n    }\r\n\r\n\r\n    public setOfficalBtnPos(officalBtn:cc.Node,kefuBtn:cc.Node)\r\n    {\r\n        \r\n        let config = this.getAppConfig()\r\n\r\n        if(config && officalBtn && config.loadingOfficalBtnPos)\r\n        {\r\n            officalBtn.setPosition((cc.v2(config.loadingOfficalBtnPos[0], config.loadingOfficalBtnPos[1])))\r\n        }\r\n        if(config && kefuBtn && config.loadingkefuBtnPos)\r\n        {\r\n            kefuBtn.setPosition((cc.v2(config.loadingkefuBtnPos[0], config.loadingkefuBtnPos[1])))\r\n        }\r\n\r\n    }\r\n\r\n    public ChangeLoadingPosCfg(tipsBg:cc.Node,loadingBar:cc.Node,checkNode:cc.Node,restoreNode = null)\r\n    {\r\n        let config = this.getAppConfig()\r\n        if(config)\r\n        {\r\n            if(tipsBg && config.tipsBgPos)\r\n            {\r\n                tipsBg.setPosition((cc.v2(config.tipsBgPos[0], config.tipsBgPos[1])))\r\n            }\r\n            if(loadingBar && config.loadingBarPos)\r\n            {\r\n                loadingBar.setPosition((cc.v2(config.loadingBarPos[0], config.loadingBarPos[1])))\r\n            }\r\n            if(restoreNode && config.restorePos)\r\n            {\r\n                restoreNode.setPosition((cc.v2(config.restorePos[0], config.restorePos[1])))\r\n            }\r\n            if(checkNode && config.checkNodePos)\r\n            {\r\n                let checkSp = checkNode.getComponent(cc.Sprite)\r\n                if(checkSp){\r\n                    this.loadSprite(checkSp, this.loading.checkNode,(height) =>{\r\n                        checkSp.spriteFrame.insetLeft = 150\r\n                        checkSp.spriteFrame.insetRight = 150\r\n                        checkSp.node.height = height\r\n                        checkSp.sizeMode = cc.Sprite.SizeMode.CUSTOM\r\n                        checkSp.type = cc.Sprite.Type.SLICED\r\n                    });\r\n                }\r\n                checkNode.setPosition((cc.v2(config.checkNodePos[0], config.checkNodePos[1])))\r\n            }\r\n        }\r\n\r\n    }\r\n   \r\n\r\n    //加载提示背景 进度条\r\n    public loadLoadingPics(tipsBg:cc.Sprite,bar:cc.Sprite,bar1:cc.Sprite,checkNode:cc.Sprite,\r\n        loading_04:cc.Sprite,officalBtn:cc.Sprite,restore:cc.Sprite = null,kefuBtn:cc.Sprite = null,maskNode:cc.Sprite = null)\r\n    {\r\n        if(!cc.sys.isNative)\r\n        {\r\n            return\r\n        }\r\n        let config = this.getAppConfig()\r\n        if(this.loading)\r\n        {\r\n            this.loadSprite(tipsBg, this.loading.tipsBg,(height) =>{\r\n                tipsBg.spriteFrame.insetLeft = 200\r\n                tipsBg.spriteFrame.insetRight = 200\r\n                tipsBg.node.height = height\r\n                tipsBg.sizeMode = cc.Sprite.SizeMode.CUSTOM\r\n                tipsBg.type = cc.Sprite.Type.SLICED\r\n            });\r\n            this.loadSprite(bar, this.loading.progressBarBg,(height)=>{\r\n                bar.spriteFrame.insetLeft = 30\r\n                bar.spriteFrame.insetRight = 30\r\n                bar.node.height = height\r\n                bar.sizeMode = cc.Sprite.SizeMode.CUSTOM\r\n                bar.type = cc.Sprite.Type.SLICED\r\n            });\r\n            //全屏适配\r\n            if(config &&config.fullScreen && bar1 && bar && cc.isValid(bar1.node) && cc.isValid(bar.node)){\r\n                bar1.node.width = cc.Canvas.instance.node.width\r\n                bar.node.width = cc.Canvas.instance.node.width\r\n                bar.node.setPosition(cc.v2(-0.5* bar.node.width,bar.node.position.y))\r\n                bar1.node.setPosition(cc.v2(-0.5* bar1.node.width,bar1.node.position.y))\r\n                let progressBar = bar1.node.getComponent(cc.ProgressBar)\r\n                if(progressBar)\r\n                {\r\n                    progressBar.totalLength = cc.Canvas.instance.node.width\r\n                }\r\n            }\r\n            this.loadSprite(bar1, this.loading.progressBar,(height)=>{\r\n                bar1.spriteFrame.insetLeft = 30\r\n                bar1.spriteFrame.insetRight = 30\r\n                bar1.node.height = height\r\n                bar1.sizeMode = cc.Sprite.SizeMode.CUSTOM\r\n                bar1.type = cc.Sprite.Type.SLICED\r\n            });\r\n            if(restore){\r\n                this.loadSprite(restore, this.loading.restore);\r\n            }\r\n            this.loadSprite(checkNode, this.loading.checkNode,(height)=>{\r\n                checkNode.node.height = height\r\n            });\r\n            \r\n            this.loadSprite(loading_04, this.loading.loading_04,(height)=>{\r\n                loading_04.spriteFrame.insetLeft = 3\r\n                loading_04.spriteFrame.insetRight = 3\r\n                loading_04.node.height = height\r\n                loading_04.node.width = cc.Canvas.instance.node.width\r\n                loading_04.sizeMode = cc.Sprite.SizeMode.CUSTOM\r\n                loading_04.type = cc.Sprite.Type.SLICED\r\n            });\r\n\r\n            this.loadSprite(officalBtn, this.login.officalBtn);\r\n            if(kefuBtn)\r\n            {\r\n                this.loadSprite(kefuBtn, this.login.serviceBtn);\r\n            }\r\n        }\r\n    }\r\n\r\n    //加载Banner界面资源\r\n    public loadBannerBg(bgSp:cc.Sprite,name:string,callback?)\r\n    {\r\n        let path = this.getFilePath(name, this.getAppID());\r\n        if(path){\r\n            this.loadSprite(bgSp, name,callback);\r\n        }\r\n        else\r\n        {\r\n            if(callback)\r\n            {\r\n                callback()\r\n            }\r\n        }\r\n    }\r\n    //登录背景/hallscene背景\r\n    public loadLoginBg(bgSp)\r\n    {\r\n        let config = this.getAppConfig()\r\n        //默认用688配置\r\n        if(config != null)\r\n        {\r\n            if(config.loginBg)\r\n            {\r\n                this.loadSprite(bgSp, config.loginBg)\r\n                return\r\n            }\r\n        }\r\n        this.loadSprite(bgSp, this.loginBg)\r\n    }\r\n    //登录背景/hallscene背景\r\n    public loadHallBg(bgSp)\r\n    {\r\n        this.loadSprite(bgSp, this.hallBg)\r\n    }\r\n\r\n    public loadSpreedBg(bgSp)\r\n    {\r\n        this.loadSprite(bgSp, this.spreedBg);\r\n    }\r\n\r\n    private loadMaJiaBaoLoaingBg(bgSp,nativeFullPath){\r\n        nativeFullPath = jsb.fileUtils.fullPathForFilename(nativeFullPath);\r\n        this.filePathMap[this.majiabao_loadingBg] =  nativeFullPath;\r\n        let texture = cc.loader.getRes(nativeFullPath);\r\n        if(texture != null)\r\n        {\r\n            if(bgSp && bgSp.node.isValid)\r\n            {   \r\n                bgSp.spriteFrame = new cc.SpriteFrame(texture);\r\n            }\r\n        }\r\n        else\r\n        {\r\n            cc.loader.load(nativeFullPath, (error, texture)=>{\r\n                if(error != null)\r\n                    return;\r\n                if(bgSp && bgSp.node.isValid)\r\n                {   \r\n                    bgSp.spriteFrame = new cc.SpriteFrame(texture);\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    public loadLoginEffect(effectNode:cc.Node)\r\n    {\r\n        if(!cc.sys.isNative)\r\n            return;\r\n        if(effectNode == null)\r\n            return;\r\n        if(!this.showLoginEff)\r\n            return;\r\n        let ske = effectNode.getComponent(sp.Skeleton);\r\n        if(ske == null)\r\n            return;\r\n        let atlasPath = this.getFilePath(this.lgEffectName + \".atlas\", this.getAppID());\r\n        let pngPath = this.getFilePath(this.lgEffectName + \".png\", this.getAppID());\r\n        let skeInfoPath = this.getFilePath(this.lgEffectName + \".json\", this.getAppID());\r\n        let atlas = Global.ResourceManager.getRes(atlasPath, \"txt\");\r\n        let png = cc.loader.getRes(pngPath);\r\n        let skeInfo = Global.ResourceManager.getRes(skeInfoPath, \"txt\");\r\n        if(atlas == null || png == null || skeInfo == null)\r\n            return;\r\n        var asset = new sp.SkeletonData();\r\n        asset[\"_uuid\"] = skeInfoPath;\r\n        asset.skeletonJson = JSON.parse(skeInfo);\r\n        asset.atlasText = atlas;\r\n        asset.textures = [png];\r\n        asset[\"textureNames\"] = [\"lgEffect.png\"];\r\n        ske.skeletonData = asset;\r\n        ske.animation = 'idle';\r\n        ske._updateSkeletonData();\r\n    }\r\n\r\n    // public loadLogo(loSp)\r\n    // {\r\n    //     this.loadSprite(loSp, this.logo);\r\n    // }\r\n\r\n    //获取bgm原生地址\r\n    public getDefaultBgmUrl()\r\n    {\r\n        if(!cc.sys.isNative)\r\n            return \"\"\r\n        return this.getFilePath(this.bgmName, this.getAppID());\r\n    }\r\n\r\n    private loadSprite(bgSp:cc.Sprite, fileName,callback?)\r\n    {\r\n        \r\n        if(!cc.sys.isNative || !bgSp )\r\n            return;\r\n        \r\n       \r\n        let path = this.getFilePath(fileName, this.getAppID());\r\n        if(!path)\r\n        {\r\n            return\r\n        }\r\n        let texture :cc.Texture2D = cc.loader.getRes(path);\r\n        if(texture != null)\r\n        {\r\n            if(bgSp && bgSp.node.isValid)\r\n            {   \r\n                bgSp.spriteFrame = new cc.SpriteFrame(texture);\r\n                if(callback)\r\n                {\r\n                    callback(texture.height)\r\n                }\r\n            }\r\n        }\r\n        else\r\n        {\r\n            cc.loader.load(path, (error, texture:cc.Texture2D)=>{\r\n                if(error != null)\r\n                    return;\r\n                if (bgSp && bgSp.node.isValid) {\r\n                    bgSp.spriteFrame = new cc.SpriteFrame(texture);\r\n                    if (callback) {\r\n                        callback(texture.height)\r\n                    }\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n    public loadHallBundle(onComplete?: (err: Error, bundle: cc.AssetManager.Bundle) => void){\r\n        let hallstyle = this.getHallBundleName()\r\n        Global.ResourceManager.loadBundle(hallstyle,(err,bundle:cc.AssetManager.Bundle)=>{\r\n            if (err){\r\n                Logger.error(\"load failed hallstyle \" + hallstyle)\r\n                return;\r\n            }\r\n            if (onComplete){\r\n                onComplete(err,bundle)\r\n            }\r\n\r\n        })\r\n    }\r\n\r\n    public getHallBundleName(){\r\n        let config = Global.Setting.SkinConfig.orignalAppcfg\r\n        let hallstyle = \"hall_style_0\"\r\n        if (config && config.hallStyle){\r\n            hallstyle = config.hallStyle\r\n        }\r\n        return hallstyle\r\n    }\r\n\r\n    public getHallBundlePath(){\r\n        let bundleName = this.getHallBundleName()\r\n        let bundlePath = bundleName\r\n        if (cc.sys.isNative){\r\n            let bundleDir = Global.HotUpdateManager.updateHelper.genStoragePath(\"hall\") + \"/\" + bundleName\r\n            if (jsb && jsb.fileUtils.isDirectoryExist(bundleDir)) {\r\n                bundlePath = jsb.fileUtils.fullPathForFilename(bundleDir)\r\n            }else if(jsb && jsb.fileUtils.isDirectoryExist(bundleName)){\r\n                bundlePath = jsb.fileUtils.fullPathForFilename(bundleName)\r\n            }\r\n        }\r\n        Logger.error(\"getHallBundlePath bundlePath = \" + bundlePath)\r\n        return bundlePath\r\n    }\r\n\r\n\r\n    public getHallBundleRes(path,type?: typeof cc.Asset){\r\n        let bundleName = this.getHallBundleName()\r\n        if (bundleName){\r\n            let res:any = Global.ResourceManager.getBundleRes(bundleName,path,type)\r\n            if (res){\r\n                return res\r\n            }else {\r\n                Logger.error(\"getHallBundleRes getBundleRes null\")\r\n            }\r\n            \r\n        }else {\r\n            Logger.error(\"getHallBundleRes bundleName null\")\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport  enum BTNINDEX\r\n{\r\n    RegistBtn = 0 ,\r\n    OfficalBtn = 1 ,\r\n    ServiceBtn = 2,\r\n    VistorLoginBtn = 3,\r\n    WeChatLoginBtn = 4,\r\n    PhoneLoginBtn = 5\r\n\r\n\r\n}\r\n\r\n"]}