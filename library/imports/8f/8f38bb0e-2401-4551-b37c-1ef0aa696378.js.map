{"version":3,"sources":["assets\\hall\\scripts\\logic\\hall\\ui\\playerInfo\\WndVip3_bad.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import WndBase, { DestoryType } from \"../../../core/ui/WndBase\";\r\nimport PlayerInfoModel from \"../../../hallcommon/model/PlayerInfoModel\";\r\nimport VipGiftView from \"./VipGiftView\";\r\nimport VipView from \"./VipView\";\r\nimport VipViewUI from \"./VipViewUI\";\r\n\r\nexport default class WndVip3 extends WndBase {\r\n    /**\r\n     * 滑动容器\r\n     */\r\n    pageView: cc.PageView = null;\r\n\r\n    private giftViewUI:VipGiftView\r\n    /**\r\n     * pageview对象数组\r\n     */\r\n    vipViewArr: VipViewUI[] = [];\r\n\r\n    banned = false\r\n\r\n    giftBtn:cc.Node\r\n    moreBtn:cc.Node\r\n\r\n    giftNode:cc.Node\r\n\r\n    private currentSelect = 0\r\n\r\n    private layout:cc.Layout\r\n\r\n\r\n    model:PlayerInfoModel\r\n    /**\r\n     * 左右箭头数组\r\n     */\r\n    jiantouNodeArr: cc.Node[] = [];\r\n\r\n    private itemNode: cc.Node = null\r\n\r\n    private vipCount: number = 15;\r\n\r\n    private _uiInit = false;\r\n    \r\n\r\n    private get uiInit()\r\n    {\r\n        return this._uiInit\r\n    } \r\n\r\n    private set uiInit( val)\r\n    {\r\n        this._uiInit = val\r\n        if(val)\r\n            this.UpdateUI()\r\n    } \r\n\r\n    private VipReward :any;\r\n    /**\r\n     * 当前显示的页面\r\n     */\r\n    private LockvipView = -1;\r\n    /**\r\n     * 初始化脚本\r\n     */\r\n    protected onInit() {\r\n        this.isNeedDelay = true\r\n        this.name = \"WndVip3\";\r\n        this.layer = Global.UI.PopLayer;\r\n        this.resPath = \"hall/prefabs/ui/PlayerInfo/VipUI3\";\r\n        // this.destoryType = DestoryType.ChangeScene;\r\n        this.model = <PlayerInfoModel>Global.ModelManager.getModel(\"PlayerInfoModel\");\r\n    }\r\n\r\n    onDispose() {\r\n        this.vipViewArr = []\r\n        this.VipReward = null\r\n        this.uiInit = false;\r\n        Global.Event.off(GlobalEvent.UPDATEVIPDATA, this, this.updateData)\r\n        Global.Event.off(GlobalEvent.CHANGEVIP, this, this.UseInfoUpdateUI)\r\n    }\r\n\r\n    /**\r\n     * 初始化UI\r\n     */\r\n    protected initView() {\r\n        this.addCommonClick(\"bg/close\", this.closeBtnFunc, this);\r\n        this.pageView = cc.find(\"pageview\", this.node).getComponent(cc.PageView);\r\n        this.pageView.node.on(\"page-turning\", this.PageTurnCallback, this);\r\n        Global.UIHelper.addCommonClick(this.node, \"gift/info_node/rule\", this.openRule, this);\r\n        this.itemNode = cc.find(\"pageview/view/content/page_1\", this.node);\r\n        this.itemNode.active = false;\r\n        this.itemNode.parent.width = this.itemNode.width * PlayerInfoModel.instance.vip_cfg.length;\r\n        let index = 1;\r\n        this.vipCount = PlayerInfoModel.instance.vip_cfg.length + 1;\r\n        this.giftNode = this.getChild(\"gift\")\r\n        if(this.giftNode)\r\n        {\r\n            this.giftViewUI = this.giftNode.getComponent(VipGiftView)\r\n            if(this.giftViewUI)\r\n            {\r\n                this.giftViewUI.initView()\r\n            }\r\n        }\r\n        this.layout = cc.find(\"title\",this.node).getComponent(cc.Layout)\r\n        this.giftBtn = cc.find(\"title/gift\", this.node)\r\n        if(this.giftBtn)\r\n        {\r\n            this.giftBtn.on(\"click\", this.changePanel, this);\r\n        }\r\n        this.moreBtn = cc.find(\"title/more\", this.node)\r\n        if(this.moreBtn)\r\n        {\r\n            this.moreBtn.on(\"click\", this.changePanel, this);\r\n        }\r\n        \r\n        Global.Component.schedule(() => {\r\n            if (index > this.vipCount) {\r\n                this.itemNode.parent.width = this.itemNode.width * PlayerInfoModel.instance.vip_cfg.length;\r\n                //this.PageTurnCallback();\r\n                this.uiInit = true;\r\n                \r\n                return;\r\n            }\r\n            let end = index + 1;\r\n            let begin = index;\r\n            for (let i = begin; i < end; i++) {\r\n                if (i >= this.vipCount) {\r\n                    index++;\r\n                    return;\r\n                }\r\n                var item: cc.Node = cc.instantiate(this.itemNode);\r\n                item.name = \"page_\" + index;\r\n                item.active = true;\r\n                item.x = (index - 1) * this.itemNode.width;\r\n                var vipView: VipViewUI = item.getComponent(VipViewUI);\r\n                vipView.vip = index;\r\n                vipView.initView()\r\n                this.vipViewArr.push(vipView);\r\n              //  item.active = false;\r\n                item.setParent(this.itemNode.parent);\r\n                index++;\r\n            }\r\n        }, 0, this.vipCount )\r\n        this.jiantouNodeArr[0] = Global.UIHelper.addCommonClick(this.node, \"jiantou_left\", this.leftBtnFunc, this);\r\n        this.jiantouNodeArr[1] = Global.UIHelper.addCommonClick(this.node, \"jiantou_right\", this.rightBtnFunc, this);\r\n\r\n        var scaleValue = 1.2;\r\n        var time = 0.8;\r\n        var ac1 = cc.scaleTo(time, scaleValue, scaleValue);\r\n        var ac2 = cc.scaleTo(time, 1, 1);\r\n        var seq = cc.sequence(ac1, ac2);\r\n        var action = cc.repeatForever(seq);\r\n        this.jiantouNodeArr[1].runAction(action);\r\n\r\n        var ac1 = cc.scaleTo(time, scaleValue, scaleValue);\r\n        var ac2 = cc.scaleTo(time, 1, 1);\r\n        var seq = cc.sequence(ac1, ac2);\r\n        var action = cc.repeatForever(seq);\r\n        this.jiantouNodeArr[0].runAction(action);\r\n        \r\n       // this.itemNode.parent.children[0].active = true;\r\n\r\n    }\r\n\r\n    /**\r\n     * 界面打开回调\r\n     */\r\n    protected onOpen() {\r\n        Global.Event.on(GlobalEvent.CHANGEVIP, this, this.UseInfoUpdateUI)\r\n\r\n        Global.Event.on(GlobalEvent.UPDATEVIPDATA, this, this.updateData)\r\n\r\n        // this.pageView.node.active = false;\r\n        // this.UpdateJiantou();\r\n        // if (this.uiInit)\r\n        //     this.OnDataPrepared();\r\n        //this.PageTurnCallback()\r\n        this.LockvipView = Global.PlayerData.vip\r\n        if(this.uiInit)\r\n            this.UpdateUI()\r\n        \r\n        \r\n    }\r\n    updateData(data) {\r\n        if(!data) return\r\n        let index = data.index\r\n        let type = data.type\r\n        if(type === 0)\r\n        {\r\n            if(this.VipReward.list.length > index)\r\n                this.VipReward.list[index].status = 1\r\n        }\r\n        else if( type === 1)\r\n        {\r\n            this.VipReward.week.last_get = 1\r\n        }\r\n        else if (type === 2)\r\n        {\r\n            this.VipReward.month.last_get = 1\r\n        }\r\n        this.UpdateUI()\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n    openAnimFinish() {\r\n        \r\n        \r\n        // this.pageView.node.active = true;\r\n        // this.UpdateUI();\r\n    }\r\n\r\n    openRule(node: cc.Node, arg1: string, openRule: any, arg3: this) {\r\n        Global.UI.show(\"WndVipRule\")\r\n    }\r\n\r\n    /**\r\n     * 界面关闭回调\r\n     */\r\n    protected onClose() {\r\n        this.VipReward = null\r\n        this.pageView.enabled = true\r\n        Global.Event.event(\"SHOWPREVILEGE\",true)\r\n        this.giftNode.active = false\r\n        Global.Event.off(GlobalEvent.CHANGEVIP, this, this.UseInfoUpdateUI)\r\n        Global.Event.off(GlobalEvent.UPDATEVIPDATA, this, this.updateData)\r\n        \r\n    }\r\n\r\n    changePanel(target) {\r\n        if (target === 0) {\r\n            \r\n            this.giftNode.active = true\r\n            this.setToggleChecked(this.giftBtn, true)\r\n            this.setToggleChecked(this.moreBtn, false)\r\n            this.moreBtn.setSiblingIndex(0)\r\n            this.giftBtn.setSiblingIndex(1)\r\n            Global.Event.event(\"SHOWPREVILEGE\",false)\r\n            this.giftViewUI.refreshUI(this.VipReward,this.LockvipView)\r\n            this.currentSelect = 0\r\n            \r\n            setTimeout(() => {\r\n                this.UpdateJiantou(\"0\")\r\n            }, 100);\r\n            \r\n\r\n        }\r\n        else if (target === 1){\r\n            this.moreBtn.setSiblingIndex(1)\r\n            this.giftBtn.setSiblingIndex(0)\r\n            this.giftNode.active = false\r\n            this.setToggleChecked(this.giftBtn, false)\r\n            this.setToggleChecked(this.moreBtn, true)\r\n            Global.Event.event(\"SHOWPREVILEGE\",true)\r\n            this.currentSelect = 1\r\n            this.UpdateJiantou()\r\n            \r\n        }\r\n        else if (target.node &&target.node.name === \"gift\")\r\n        {\r\n            this.moreBtn.setSiblingIndex(0)\r\n            this.giftBtn.setSiblingIndex(1)\r\n            this.currentSelect = 0\r\n            this.giftNode.active = true\r\n            this.giftViewUI.refreshUI(this.VipReward,this.LockvipView)\r\n            Global.Event.event(\"SHOWPREVILEGE\",false)\r\n            this.setToggleChecked(this.giftBtn, true)\r\n            this.setToggleChecked(this.moreBtn, false)\r\n            this.UpdateJiantou(\"0\")\r\n            \r\n        }\r\n        else if (target.node &&target.node.name === \"more\")\r\n        {\r\n            this.moreBtn.setSiblingIndex(1)\r\n            this.giftBtn.setSiblingIndex(0)\r\n            this.currentSelect = 1\r\n            this.giftNode.active = false\r\n            Global.Event.event(\"SHOWPREVILEGE\",true)\r\n            this.setToggleChecked(this.giftBtn, false)\r\n            this.setToggleChecked(this.moreBtn, true)\r\n            this.UpdateJiantou()\r\n            \r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * 关闭按钮点击\r\n     */\r\n    private closeBtnFunc() {\r\n        this.close();\r\n    }\r\n\r\n    /**\r\n     * 更新界面\r\n     */\r\n    UpdateUI() {\r\n        if(!PlayerInfoModel.instance.vip_reward)\r\n        {\r\n            if(this.layout)\r\n            {\r\n                this.layout.enabled = true\r\n            }\r\n            for (var i = 0; i < this.vipViewArr.length; i++) {\r\n                var vipView: VipViewUI = this.vipViewArr[i];\r\n                vipView.UpdateUI(this.VipReward,i);\r\n            }\r\n            this.OnDataPrepared()\r\n            if (this.LockvipView <= 0) {\r\n                this.LockvipView = Global.PlayerData.vip\r\n            }\r\n            if (this.LockvipView >= PlayerInfoModel.instance.vip_cfg.length) {\r\n                this.LockvipView = PlayerInfoModel.instance.vipExpArr.length - 1;\r\n            }\r\n            Global.Event.event(GlobalEvent.VIPREWARD, null);\r\n            this.pageView.scrollToPage(this.LockvipView, 0.01);\r\n            this.closeNotNeedItem();\r\n            this.giftNode.active = false\r\n            this.giftBtn.active = false\r\n            Global.Event.event(\"SHOWPREVILEGE\",true)\r\n            \r\n            return\r\n        }\r\n        if(this.VipReward)\r\n        {\r\n            if (this.layout) {\r\n                this.layout.enabled = false\r\n            }\r\n            let status = 0;\r\n            for (var i = 0; i < this.vipViewArr.length; i++) {\r\n                var vipView: VipViewUI = this.vipViewArr[i];\r\n                if (this.VipReward.list && i < this.VipReward.list.length && this.VipReward.list[i]) {\r\n                    vipView.UpdateUI(this.VipReward, i);\r\n                    if (this.VipReward.list[i].status === 0 && Global.PlayerData.vip >= this.VipReward.list[i].level) {\r\n                        status = 1;\r\n                    }\r\n                }\r\n            }\r\n\r\n            PlayerInfoModel.instance.is_vip_reward = status;\r\n            this.checkReward(this.VipReward)\r\n            if (this.LockvipView <= 0) {\r\n                this.LockvipView = Global.PlayerData.vip\r\n            }\r\n            if (this.LockvipView >= PlayerInfoModel.instance.vip_cfg.length) {\r\n                this.LockvipView = PlayerInfoModel.instance.vipExpArr.length - 1;\r\n            }\r\n            Global.Event.event(GlobalEvent.VIPREWARD, null);\r\n            this.pageView.scrollToPage(this.LockvipView, 0.01);\r\n            this.closeNotNeedItem();\r\n            if (PlayerInfoModel.instance.vip_reward === 1) {\r\n                this.changePanel(0)\r\n            }\r\n            else {\r\n                this.changePanel(1)\r\n            }\r\n            return\r\n        }\r\n        Global.HallServer.send(NetAppface.mod, NetAppface.NewCheckVipReward, null, (data) => {\r\n            if (data.list) {\r\n                if (this.layout) {\r\n                    this.layout.enabled = false\r\n                }\r\n                this.VipReward = data;\r\n                let status = 0;\r\n                this.OnDataPrepared()\r\n                let count = 0\r\n                for (var i = 0; i < this.vipViewArr.length; i++) {\r\n                    count += 1\r\n                    var vipView: VipViewUI = this.vipViewArr[i];\r\n                    if (this.VipReward.list && i < this.VipReward.list.length && this.VipReward.list[i]) {\r\n                        vipView.UpdateUI(this.VipReward, i);\r\n                        if (this.VipReward.list[i].status == 0 && Global.PlayerData.vip >= this.VipReward.list[i].level) {\r\n                            status = 1;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                PlayerInfoModel.instance.is_vip_reward = status;\r\n                this.checkReward(this.VipReward)\r\n                Global.Event.event(GlobalEvent.VIPREWARD, null);\r\n                if (this.LockvipView <= 0) {\r\n                    this.LockvipView = Global.PlayerData.vip\r\n                }\r\n                if (this.LockvipView >= PlayerInfoModel.instance.vip_cfg.length) {\r\n                    this.LockvipView = PlayerInfoModel.instance.vipExpArr.length - 1;\r\n                }\r\n                this.pageView.scrollToPage(this.LockvipView, 0.01);\r\n\r\n                this.closeNotNeedItem();\r\n                \r\n                if (PlayerInfoModel.instance.vip_reward === 1) {\r\n                    this.changePanel(0)\r\n                }\r\n                else {\r\n                    this.changePanel(1)\r\n                }\r\n\r\n            }\r\n        }, (error) => {\r\n            Global.UI.fastTip(error._errstr);\r\n            Global.Event.event(GlobalEvent.HIDE_NET_WAITING, \"WndVip3\")\r\n            // console.log(error);\r\n        }, false);\r\n    }\r\n\r\n    closeNotNeedItem(){\r\n          //关闭不显示的item\r\n          let index = this.LockvipView;\r\n          for (let i = 0; i < this.vipViewArr.length; i++) {\r\n              if (i < index - 1 || i > index + 1)\r\n                  this.vipViewArr[i].node.active = false;\r\n              else\r\n              {\r\n                  this.vipViewArr[i].node.active = true;  \r\n              }\r\n          }\r\n    }\r\n\r\n    checkReward(data: any) {\r\n        if(!data)\r\n        {\r\n            return\r\n        }\r\n        let weekData = data.week\r\n        let month = data.month\r\n        if(!weekData.last_get)\r\n        {\r\n            PlayerInfoModel.instance.is_week_reward = 1\r\n        }\r\n        else\r\n        {\r\n            PlayerInfoModel.instance.is_week_reward = 0\r\n        }\r\n        if(!month.last_get)\r\n        {\r\n            PlayerInfoModel.instance.is_month_reward = 1\r\n        }\r\n        else\r\n        {\r\n            PlayerInfoModel.instance.is_month_reward = 0\r\n        }\r\n        \r\n    }\r\n\r\n    /**\r\n     * 通知更新界面\r\n     */\r\n    private UseInfoUpdateUI() {\r\n        Global.HallServer.clearCache(NetAppface.mod, NetAppface.NewCheckVipReward, null)\r\n        this.VipReward = null\r\n        this.UpdateUI();\r\n    }\r\n\r\n    /**\r\n     * 更新箭头\r\n     */\r\n    UpdateJiantou(flag?) {\r\n        var index = this.pageView.getCurrentPageIndex();\r\n        this.LockvipView = this.pageView.getCurrentPageIndex();\r\n       \r\n        this.pageView.enabled = true\r\n        if (index > this.vipCount - 1)\r\n            index = this.vipCount - 1;\r\n        if (index <= 0) {\r\n            this.jiantouNodeArr[0].active = false;\r\n            this.jiantouNodeArr[1].active = true;\r\n        } else if (index >= PlayerInfoModel.instance.vip_cfg.length - 1) {\r\n            this.jiantouNodeArr[0].active = true;\r\n            this.jiantouNodeArr[1].active = false;\r\n        } else {\r\n            this.jiantouNodeArr[0].active = true;\r\n            this.jiantouNodeArr[1].active = true;\r\n        }\r\n        if(flag === \"0\") // 等于0表示特权礼包界面 需要隐藏镜头 并关闭pageVIEW\r\n        {\r\n            this.jiantouNodeArr[0].active = false;\r\n            this.jiantouNodeArr[1].active = false;\r\n            this.pageView.enabled = false\r\n        }\r\n        // this.OnDataPrepared()\r\n    }\r\n\r\n    setJiantouActive(flag)\r\n    {\r\n        this.jiantouNodeArr[0].active = flag;\r\n        this.jiantouNodeArr[1].active = flag;\r\n    }\r\n\r\n    /**\r\n     * 翻页事件回调\r\n     */\r\n    PageTurnCallback(event?) {\r\n        var index = this.pageView.getCurrentPageIndex();\r\n        this.LockvipView = this.pageView.getCurrentPageIndex();\r\n\r\n\r\n        this.pageView.content.width = PlayerInfoModel.instance.vip_cfg.length * this.itemNode.width\r\n        if (index > this.vipCount - 1) {\r\n            index = this.vipCount - 1;\r\n        }\r\n        for (let i = 0; i < this.vipViewArr.length; i++) {\r\n            if (i < index - 1 || i > index + 1)\r\n                this.vipViewArr[i].node.active = false;\r\n            else\r\n            {\r\n                this.vipViewArr[i].node.active = true;  \r\n            }\r\n        }\r\n        this.UpdateJiantou()\r\n        // if(this.vipViewArr[index] && this.vipViewArr[index].currentSelect === 0)\r\n        // {\r\n        //     this.vipViewArr[index].changePanel(0)\r\n        //     this.UpdateJiantou(\"0\")\r\n        // }\r\n        // else if(this.vipViewArr[index] && this.vipViewArr[index].currentSelect === 1)\r\n        // {\r\n        //     this.vipViewArr[index].changePanel(1)\r\n        //     this.UpdateJiantou()\r\n        // }\r\n        \r\n       \r\n       \r\n            \r\n    }\r\n\r\n    /**\r\n     * 左箭头 点击\r\n     */\r\n    leftBtnFunc() {\r\n        Global.Event.event(\"SHOWPREVILEGE\",true)\r\n        this.giftNode.active = false\r\n        var index = this.pageView.getCurrentPageIndex();\r\n        this.LockvipView = this.pageView.getCurrentPageIndex();\r\n        if (index > 0) {\r\n            this.pageView.scrollToPage(index - 1, 0.3);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 右箭头 点击\r\n     */\r\n    rightBtnFunc() {\r\n        Global.Event.event(\"SHOWPREVILEGE\",true)\r\n        this.giftNode.active = false\r\n        var index = this.pageView.getCurrentPageIndex();\r\n        this.LockvipView = this.pageView.getCurrentPageIndex();\r\n        if (index < PlayerInfoModel.instance.vip_cfg.length - 1) {\r\n            this.pageView.scrollToPage(index + 1, 0.3);\r\n        }\r\n    }\r\n\r\n    setToggleChecked(targe: cc.Node, flag: boolean) {\r\n        let check = targe.getChildByName(\"check\")\r\n        let normal = targe.getChildByName(\"unchecked\")\r\n        if (check) {\r\n            check.active = flag\r\n        }\r\n        if (normal) {\r\n            normal.active = !flag\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport enum AwardBtnState\r\n{\r\n    NOTREADY = 0, //未达成\r\n    READY = 1, // 已达成未领取\r\n    ACHIEVED = 2,// 未达成 \r\n    REACHED =3 // 已领取 \r\n\r\n}\r\n\r\nexport enum ItemType\r\n{\r\n    LEVEL = 0,\r\n    WEEK = 1,\r\n    MONTH = 2\r\n}"]}