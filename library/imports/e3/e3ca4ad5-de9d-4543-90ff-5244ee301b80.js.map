{"version":3,"sources":["assets\\ddz\\ddz\\scripts\\handlers\\DdzEnterHandler.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAAA,mDAA8C;AAE9C;IAA6C,mCAAc;IAA3D;;IA+BA,CAAC;IA9Ba,qCAAW,GAArB,UAAsB,GAAG;QAErB,IAAI,GAAG,GAAG,GAAG,CAAC,IAAI,CAAC;QACnB,OAAO;QACP,IAAG,IAAI,CAAC,OAAO,CAAC,OAAO,IAAI,GAAG,EAC9B;YACI,IAAI,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC;YACpD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,MAAM,CAAC,cAAc,EAAE,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;YACpF,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;SACtD;QAED,IAAI,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC;QACpD,IAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,SAAS,CAAC,IAAI,IAAI,EAC7C;YACI,MAAM,CAAC,KAAK,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC;YACjC,OAAO;SACV;QAED,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;IAC1D,CAAC;IAGS,iCAAO,GAAjB,UAAkB,GAAG;QACjB,IAAI,GAAG,GAAG,GAAG,CAAC,IAAI,CAAA;QAClB,IAAI,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC;QACpD,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC,CAAC;QAC9E,IAAI,SAAS,IAAI,CAAC;YACd,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,eAAe,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC,KAAK,CAAC,CAAC;QACvF,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,iBAAiB,EAAE,iBAAiB,EAAE,GAAG,CAAC,CAAC;IACrE,CAAC;IACL,sBAAC;AAAD,CA/BA,AA+BC,CA/B4C,wBAAc,GA+B1D","file":"","sourceRoot":"/","sourcesContent":["import DdzBaseHandler from \"./DdzBaseHandler\";\r\n\r\nexport default class DdzEnterHandler extends DdzBaseHandler{\r\n    protected refreshData(msg)\r\n    {\r\n        let src = msg._src;\r\n        //自己进游戏\r\n        if(this.context.selfSrc == src)\r\n        {\r\n            let seatId = this.SitHelper.serverSeatStrToNum(src);\r\n            this.SitHelper.init(seatId, this.Define.MaxPlayerCount, this.Define.LocalToViewMap);\r\n            this.context.set(this.Define.FieldInSettle, false);\r\n        }\r\n \r\n        let localSeat = this.SitHelper.serverSToLocalN(src);\r\n        if(this.context.playerList[localSeat] == null)\r\n        {\r\n            Logger.error(\"服务器异常\", localSeat);\r\n            return;\r\n        }\r\n        \r\n        this.context.playerList[localSeat].setInfo(msg._para);\r\n    }\r\n\r\n\r\n    protected execute(msg){\r\n        let src = msg._src\r\n        let localSeat = this.SitHelper.serverSToLocalN(src);\r\n        this.mainUI.callPlayer(localSeat, \"show\", this.context.playerList[localSeat]);\r\n        if (localSeat == 0)\r\n            this.mainUI.selfInfoView.updateSelfPoint(this.context.playerList[localSeat].point);\r\n        Game.Event.event(Game.EVENT_ADDTIMELOCK, \"DdzEnterHandler\", 0.1);\r\n    }\r\n}"]}