{"version":3,"sources":["assets\\hall\\scripts\\framework\\fsm\\FsmManager.ts"],"names":[],"mappings":";;;;;;AAAA,6BAAwB;AAExB;IAAA;QAEY,YAAO,GAAS,EAAE,CAAC;QACnB,mBAAc,GAAY,EAAE,CAAC;IAiCzC,CAAC;IA9BU,8BAAS,GAAhB,UAAiB,IAAS;QAAT,qBAAA,EAAA,SAAS;QAEtB,IAAI,GAAG,GAAG,IAAI,aAAG,EAAE,CAAC;QACpB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QACvB,OAAO,GAAG,CAAC;IACf,CAAC;IAEM,6BAAQ,GAAf;QAEI,IAAG,IAAI,CAAC,OAAO,CAAC,MAAM,IAAI,CAAC;YACvB,OAAO;QACX,KAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAC3C;YACI,IAAG,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,EAC9B;gBACI,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gBAC5B,SAAS;aACZ;YACD,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC;SAC9B;QAED,IAAG,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,EACjC;YACI,KAAI,IAAI,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAG,CAAC,EAAE,EACxD;gBACI,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;aAClD;YACD,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,CAAC;SAClC;IACL,CAAC;IACL,iBAAC;AAAD,CApCA,AAoCC,IAAA","file":"","sourceRoot":"/","sourcesContent":["import Fsm from \"./Fsm\";\r\n\r\nexport default class FsmManager\r\n{\r\n    private fsmList:Fsm[] = [];\r\n    private removeIndexArr:number[] = [];\r\n\r\n\r\n    public createFsm(name = \"\")\r\n    {\r\n        let fsm = new Fsm();\r\n        this.fsmList.push(fsm);\r\n        return fsm;\r\n    }\r\n\r\n    public onUpdate()\r\n    {\r\n        if(this.fsmList.length == 0)\r\n            return;\r\n        for(let i = 0; i < this.fsmList.length; i++)\r\n        {\r\n            if(this.fsmList[i].isDestroyed)\r\n            {\r\n                this.removeIndexArr.push(i);\r\n                continue;\r\n            }\r\n            this.fsmList[i].onUpdate();\r\n        }\r\n\r\n        if(this.removeIndexArr.length > 0)\r\n        {\r\n            for(let i = this.removeIndexArr.length - 1; i >= 0 ; i--)\r\n            {\r\n                this.fsmList.splice(this.removeIndexArr[i], 1);\r\n            }\r\n            this.removeIndexArr.length = 0;\r\n        }\r\n    }\r\n}"]}