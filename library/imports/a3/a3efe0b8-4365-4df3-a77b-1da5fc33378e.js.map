{"version":3,"sources":["assets\\hall\\scripts\\logic\\core\\tool\\Language.ts"],"names":[],"mappings":";;;;;;AAAA;IAAA;QAEY,gBAAW,GAAG,EAAE,CAAC;IAqD7B,CAAC;IAnDG,cAAc;IACP,iCAAc,GAArB,UAAsB,YAAY;QAAlC,iBAwBC;QAtBG,IAAG,YAAY,IAAI,EAAE;YACjB,OAAO;QACX,MAAM,CAAC,eAAe,CAAC,OAAO,CAAC,YAAY,EAAE,UAAC,KAAK,EAAE,SAAS;YAE1D,IAAG,KAAK,IAAI,IAAI,EAChB;gBACI,MAAM,CAAC,KAAK,CAAC,SAAS,EAAE,YAAY,CAAC,CAAC;gBACtC,OAAO;aACV;YACD,IAAG,SAAS,IAAI,IAAI,IAAI,SAAS,CAAC,IAAI,IAAI,IAAI;gBAC1C,OAAO;YACX,KAAI,IAAI,GAAG,IAAI,SAAS,CAAC,IAAI,EAC7B;gBACI,IAAG,KAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,IAAI,EAChC;oBACI,MAAM,CAAC,KAAK,CAAC,SAAS,EAAE,GAAG,EAAE,KAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,CAAA;oBACnD,OAAO;iBACV;gBACD,KAAI,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC;aACvD;QAEL,CAAC,EAAE,EAAE,CAAC,SAAS,CAAC,CAAA;IACpB,CAAC;IAEM,0BAAO,GAAd,UAAe,GAAG;QAEd,IAAI,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;QACjC,IAAG,IAAI,IAAI,IAAI,EACf;YACI,MAAM,CAAC,KAAK,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC;YAC5B,OAAO,EAAE,CAAC;SACb;QACD,OAAO,IAAI,CAAC;IAChB,CAAC;IAEM,4BAAS,GAAhB,UAAiB,GAAG;QAAE,cAAO;aAAP,UAAO,EAAP,qBAAO,EAAP,IAAO;YAAP,6BAAO;;QAEzB,IAAI,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;QAC7B,IAAI,KAAK,GAAG,CAAC,IAAI,CAAC,CAAC;QACnB,IAAG,IAAI,EACP;YACI,KAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EACnC;gBACI,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;aACvB;SACJ;QACD,OAAO,EAAE,CAAC,EAAE,CAAC,SAAS,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;IACxC,CAAC;IACL,eAAC;AAAD,CAvDA,AAuDC,IAAA","file":"","sourceRoot":"/","sourcesContent":["export default class Language\r\n{\r\n    private languageMap = {};\r\n\r\n    //每个场景注册自己的语言包\r\n    public registLanguage(languagePath)\r\n    {\r\n        if(languagePath == \"\")\r\n            return;\r\n        Global.ResourceManager.loadRes(languagePath, (error, jsonAsset)=>\r\n        {\r\n            if(error != null)\r\n            {\r\n                Logger.error(\"加载语言包失败\", languagePath);\r\n                return;\r\n            }\r\n            if(jsonAsset == null || jsonAsset.json == null)\r\n                return;\r\n            for(let key in jsonAsset.json)\r\n            {\r\n                if(this.languageMap[key] != null)\r\n                {\r\n                    Logger.error(\"重复注册语言包\", key, this.languageMap[key])\r\n                    return;\r\n                }\r\n                this.languageMap[key] = jsonAsset.json[key].content;\r\n            }\r\n\r\n        }, cc.JsonAsset)\r\n    }\r\n\r\n    public getWord(key)\r\n    {\r\n        let word = this.languageMap[key];\r\n        if(word == null)\r\n        {\r\n            Logger.error(\"找不到语言包\", key);\r\n            return \"\";\r\n        }\r\n        return word;\r\n    }\r\n\r\n    public getWordEx(key, ...args)\r\n    {\r\n        let word = this.getWord(key);\r\n        let param = [word];\r\n        if(args)\r\n        {\r\n            for(let i = 0; i < args.length; i++)\r\n            {\r\n                param.push(args[i]);\r\n            }\r\n        }\r\n        return cc.js.formatStr.apply(param);\r\n    }\r\n}"]}