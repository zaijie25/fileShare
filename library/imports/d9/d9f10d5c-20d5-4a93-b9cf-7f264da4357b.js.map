{"version":3,"sources":["assets\\hall\\scripts\\logic\\hall\\ui\\Spread\\WndLowerSearch.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import WndBase from \"../../../core/ui/WndBase\";\r\nimport SpreadModel from \"../../../hallcommon/model/SpreadModel\";\r\nimport { NetAppface } from \"../../../core/net/hall/NetEvent\";\r\n\r\nexport default class WndLowerSearch extends WndBase {\r\n    IDLabel: cc.Label\r\n    NickNameLabel: cc.Label\r\n    RecommendLabel: cc.Label\r\n    LastLoginTime: cc.Label\r\n    PlayerLevel: cc.Label\r\n    /** 团队税收，直属业绩*/\r\n    PlayerTax: cc.Label\r\n    /** 个人税收，下属业绩*/\r\n    GroupTax: cc.Label\r\n    GroupCount: cc.Label\r\n    SpreadModel: SpreadModel\r\n    /** 团队，直属业绩*/\r\n    lab1:cc.RichText;\r\n    /** 个人，下属业绩*/\r\n    lab2:cc.RichText;\r\n\r\n\r\n\r\n    protected onInit() {\r\n        this.name = \"WndLowerSearch\";\r\n        this.layer = Global.UI.PopLayer;\r\n        this.resPath = \"hall/prefabs/ui/SpreadUI/LowerPer\";\r\n        this.SpreadModel = <SpreadModel>Global.ModelManager.getModel(\"SpreadModel\");\r\n    }\r\n\r\n    protected initView() {\r\n        this.node.width = cc.Canvas.instance.node.width;\r\n        this.node.height = cc.Canvas.instance.node.height;\r\n        this.IDLabel = this.getChild(\"Content/IDLabel/ID\").getComponent(cc.Label)\r\n        this.NickNameLabel = this.getChild(\"Content/NameLabel/Name\").getComponent(cc.Label)\r\n        this.RecommendLabel = this.getChild(\"Content/RecommendLabel/ID\").getComponent(cc.Label)\r\n        this.LastLoginTime = this.getChild(\"Panel/LastLoginTime\").getComponent(cc.Label)\r\n        this.PlayerLevel = this.getChild(\"Panel/PlayerLevel/Count\").getComponent(cc.Label)\r\n        this.PlayerTax = this.getChild(\"Panel/PlayerTax/Count\").getComponent(cc.Label)\r\n        this.GroupCount = this.getChild(\"Panel/GroupCount/Count\").getComponent(cc.Label)\r\n        this.GroupTax = this.getChild(\"Panel/GroupTax/Count\").getComponent(cc.Label)\r\n        this.lab1 = this.getChild(\"Panel/PlayerTax\").getComponent(cc.RichText)\r\n        this.lab2 = this.getChild(\"Panel/GroupTax\").getComponent(cc.RichText)\r\n        this.addCommonClick(\"close\", this.close, this)\r\n    }\r\n\r\n    protected onOpen(data) {\r\n        this.initPanel(data)\r\n\r\n\r\n    }\r\n\r\n    /*\r\n    ```\r\n{\r\n    \"_mod\": \"appface\",\r\n    \"_func\": \"GetFlowInfoList\",\r\n    \"_check\": \"\",\r\n    \"_param\": {\r\n\t\t\"user_id\":222\r\n\t\t\"name\":222\r\n\t\t\"list\":{\r\n\t\t\t\t\"time\":\"11221\"\r\n\t\t\t\"total_flow\":总业绩\r\n\t\t\t\"unter_flow\":直属业绩\r\n\t\t\t\"team_flow\":代理业绩\r\n\t\t}\r\n    }\r\n}*/\r\n    initPanel(args) {\r\n        if (args != null) {\r\n            let data = args[0]\r\n\r\n            this.NickNameLabel.string = data.name + \"（ID\" + data.user_id + \"）\"\r\n            this.RecommendLabel.string = data.pid\r\n\r\n            this.LastLoginTime.string = \"最后登录时间:\" + cc.js.formatStr(data.last_login)\r\n\r\n            this.PlayerLevel.string = data.level\r\n            this.lab1.string = \"直属业绩：\"\r\n            this.lab2.string = \"下属业绩：\"\r\n            this.PlayerTax.string = Global.Toolkit.formatPointStr(data.flow)\r\n            this.GroupTax.string = Global.Toolkit.formatPointStr(data.team_flow)\r\n            this.GroupCount.string = data.team_num\r\n\r\n        }\r\n        else {\r\n            this.NickNameLabel.string = \"\";\r\n            this.RecommendLabel.string = \"\";\r\n            this.LastLoginTime.string = \"\"\r\n            this.PlayerLevel.string = \"\"\r\n            this.PlayerTax.string = \"\"\r\n            this.GroupTax.string = \"\"\r\n            this.GroupCount.string = \"\"\r\n        }\r\n    }\r\n\r\n    GetText(num: any) {\r\n        let txt;\r\n        if (num > 10000) {\r\n            txt = (num / 10000).toFixed(2) + \"W\"\r\n        }\r\n        else {\r\n            txt = num\r\n        }\r\n        return txt\r\n    }\r\n    protected onClose() {\r\n\r\n    }\r\n}\r\n"]}