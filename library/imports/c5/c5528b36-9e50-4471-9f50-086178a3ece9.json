{
  "__type__": "cc.TextAsset",
  "_name": "italkmsg",
  "_objFlags": 0,
  "_native": "",
  "text": "syntax = \"proto3\";\r\npackage italk.pb;\r\n\r\n/*----------------------------------------0. 消息protobuffer-，客户端服务端共用---------------------------*/\r\n\r\nenum ItalkTypeEnum {\r\nITKCECHO = 0;                   //接入客户端回复消息类型\r\nITKSECHO = 1;                   //提供服务端回复消息类型\r\nITKHEART = 2;                   //客户端回复消息类型\r\nITKRegister = 3;              //注册\r\nITKSubscribe = 4;               //订阅\r\nITKPublish = 5;                 //订阅发布\r\nITKPull = 6;                    //订阅拉取\r\nITKAbnormalFeedback = 7;        //业务异常反馈\r\nITKBusinessStatistics = 8;      //业务统计反馈\r\nITKFeedbackServer = 9;          //服务器运行反馈\r\nITKServerSet = 10;          //服务器配置\r\nITKServerSetPack = 11;        //服务器配置包\r\n\r\nITKLoginNEW = 20;            //用户登录\r\nITKLogin = 21;            //用户登录\r\nITKChat = 22;                //发送消息\r\nITKCommon = 23;                     //通用消息\r\n\r\nITKServerChat = 40;                 //发送消息\r\nITKServerChatEcho = 41;             //服务器发送消息\r\nITKServerCommon = 42;                 //发送消息\r\nITKServerCommonEcho = 43;             //服务器发送消息\r\n\r\nITKHeartECHO = 62;          //心跳回复\r\nITKRegisterECHO = 63;        //注册回复\r\nITKSubscribeECHO = 64;        //订阅回复\r\nITKPublishECHO = 65;        //订阅发布回复\r\nITKPullECHO = 66;          //订阅拉取回复\r\nITKAbnormalFeedbackECHO = 67;    //业务异常反馈回复\r\nITKBusinessStatisticsECHO = 68;    //业务统计反馈回复\r\nITKFeedbackServerECHO = 69;      //服务器运行反馈回复\r\nITKServerSetECHO = 70;        //服务器配置回复\r\nITKServerSetPackECHO = 71;      //服务器配置包回复\r\n\r\nITKLoginECHO = 81;          //服务器登录回复\r\nITKChatECHO = 82;          //服务器消息状态回复\r\nITKCommonECHO = 83;          //服务器通用消息回复\r\n}\r\n\r\nenum ItalkErrorEnum {\r\nITKOK = 0;             //正确返回\r\nITKERROR = 1;         //错误返回\r\nITKXXX = 2;            //错误返回\r\n}\r\n\r\nmessage ItalkEchoInfo {\r\nItalkTypeEnum type = 1;            // 消息类型\r\nItalkErrorEnum error = 2;          // 消息返回错误类型\r\nstring Info = 3;              // 消息返回信息\r\n}\r\n\r\n\r\n/*------------------------------心跳-----------------------------------------*/\r\n\r\n// 心跳包\r\n\r\nmessage ItalkHeartMsg {\r\nItalkTypeEnum msgType = 1;\r\nuint64 heartCount = 2;\r\nuint64 number = 3;\r\nstring token = 4;\r\nstring serverInfo = 5;\r\nstring userid = 6;\r\n}\r\n\r\n// 心跳包应答\r\nmessage ItalkHeartEchoMsg {\r\nItalkTypeEnum msgType = 1;          // 消息类型\r\nItalkEchoInfo echoInfo = 2;          // 消息反馈\r\nuint64 heartCount = 3;\r\nuint64 number = 4;\r\n}\r\n\r\n\r\n/*----------------------------------------1. 消息protobuffer-，客户端服务端共用---------------------------*/\r\n\r\n\r\n// 消息状态\r\n\r\nenum ItalkMsgStatusEnum {\r\n\tITKUnsend = 0;                   // 未发送 \r\n\tITKSending = 1;                  // 发送中\r\n\tITKSended = 2;                   // 发送成功\r\n\tITKSendFailed = 3;               // 发送失败\r\n\tITKReceiverReceived = 4;         // 接收方已收到\r\n\tITKSenderReceived = 5;           // 发送方获知接收方已接收\r\n\tITKReceiverReaded = 6;           // 接收方已阅读\r\n\tITKSenderReaded = 7;             // 发送方获知接收方已阅读\r\n\tITKReceiverDestroyed = 8;        // 接收方已销毁\r\n\tITKSenderDestroyed = 9;          // 发送方收到接收方已销毁，同时自己也销毁\r\n\tITKReceiverTimeout = 10;         // 接收方已超时\r\n\tITKSenderTimeout = 11;           // 接收方获知接收方已超时\r\n\tITKSenderRevoke = 12;            // 发送方已撤销\r\n\tITKReceiverRevoke = 13;          // 接收方收到发送方的撤销通知\r\n\tITKMsgStatus1 = 21;              // 扩展状态1\r\n\tITKMsgStatus2 = 22;              // 扩展状态2\r\n\tITKMsgStatus3 = 23;              // 扩展状态3\r\n\tITKMsgStatus4 = 24;              // 扩展状态4\r\n\tITKMsgStatus5 = 25;              // 扩展状态5\r\n\tITKMsgStatus6 = 26;              // 扩展状态6\r\n}\r\n\r\n// 聊天类型\r\n\r\nenum ItalkChatTypeEnum{\r\nITKSingleChat = 0;      //单聊\r\nITKGroupChat = 1;      //群聊\r\n}\r\n\r\n// 消息类型\r\n\r\nenum ItalkBusinessTypeEnum {\r\n\tITKSMS = 0;          \t\t\t// 发送文本或表情\r\n\tITKPic = 1;          \t\t\t// 发送图片\r\n\tITKSound = 2;        \t\t\t// 发送语音\r\n\tITKShortVideo = 3;      \t\t// 发送小视频\r\n\tITKFile = 4;        \t\t\t// 发送文件\r\n\tITKLocation = 5;      \t\t\t// 发送地理位置\r\n\tITKRedPacket = 6;           \t// 发送红包\r\n\tITKVoiceCall = 7;      \t\t\t// 语音通话\r\n\tITKVideoCall = 8;      \t\t\t// 视频通话\r\n\tITKServerPush = 9;     \t \t\t// 推送\r\n\tITKAddFriendRequest = 10;    \t// 好友添加请求（客户端、服务端）\r\n\tITKNeedFriendVerify = 11;    \t// 需要向对方发起好友验证（服务端）\r\n\tITKAddFriendSucccess = 12;      // 好友添加成功（服务端）\r\n\tITKVerifyFriendAnswer = 13;    \t// 验证好友回复（客户端）\r\n\tITKVerifyFriendSuccess = 14;    // 验证好友通过（客户端）\r\n\tITKGroupCreate = 15;            // 创建群\r\n\tITKGroupMemberQuit = 16;    \t// 群成员退出\r\n\tITKGroupMemberAdd = 17;      \t// 群成员加入\r\n\tITKGroupOwnerTransfer = 18;   \t// 群主转让\r\n\tITKInviteGroupMember = 19;   \t// 邀请加入群\r\n\tITKVerifyInivitation = 20;   \t// 校验通过\r\n\tITKDeleteGroupMember = 21;   \t// 删除群成员（只有群主有权限）\r\n\tITKChatStatusChange = 22;    \t// 消息状态改变\r\n\tITKSystemNotification = 23;     // 系统通知\r\n\tITKRevokeMsg = 24;              // 撤回消息\r\n\tITkDestroyed = 25;              // 消息已销毁\r\n\tITKReturnRedPacket = 26;        // 退回红包\r\n\tITKRemoveMsgID = 27;            // 清除离线消息\r\n\tITKOtherMachineLogin = 28;\t\t// 账号在其他机器登录\r\n\tITKRequestLogin = 29;\t\t\t// 请求授权账号登录\r\n\tITKAuthLogin = 30;\t\t\t\t// 授权通过账号登录\r\n  ITKUserChange = 31;        // 用户信息变动\r\n  ITKAppState = 32;             // App 状态变动\r\n\tITKBussniesstype1 = 41;         // 扩展业务类型\r\n\tITKBussniesstype2 = 42;         // 扩展业务类型\r\n\tITKBussniesstype3 = 43;         // 扩展业务类型\r\n\tITKBussniesstype4 = 44;         // 扩展业务类型\r\n\tITKBussniesstype5 = 45;         // 扩展业务类型\r\n\tITKBussniesstype6 = 46;         // 扩展业务类型\r\n\tITKBussniesstype7 = 47;         // 扩展业务类型\r\n\tITKBussniesstype8 = 48;         // 扩展业务类型\r\n\tITKBussniesstype9 = 49;         // 扩展业务类型\r\n  ITKBussniesstype10 = 50;        // 修改个人信息\r\n  ITKBussniesstype11 = 51;        // 修改群\r\n  ITKBussniesstype12 = 52;        // 修改群呢称\r\n\tITKBussniesstype13 = 53;        // 扩展业务类型\r\n\tITKBussniesstype14 = 54;        // 扩展业务类型\r\n\tITKBussniesstype15 = 55;        // 扩展业务类型\r\n\tITKBussniesstype16 = 56;        // 扩展业务类型\r\n\tITKBussniesstype17 = 57;        // 扩展业务类型\r\n\tITKBussniesstype18 = 58;        // 扩展业务类型\r\n\tITKBussniesstype19 = 59;        // 扩展业务类型\r\n\tITKBussniesstype20 = 60;        // 扩展业务类型\r\n  ITKBussniesstype21 = 61;        // 扩展业务类型\r\n  ITKBussniesstype22 = 62;        // 扩展业务类型\r\n  ITKBussniesstype23 = 63;        // 扩展业务类型\r\n  ITKBussniesstype24 = 64;        // 扩展业务类型\r\n  ITKBussniesstype25 = 65;        // 扩展业务类型\r\n  ITKBussniesstype26 = 66;        // 扩展业务类型\r\n  ITKBussniesstype27 = 67;        // 扩展业务类型\r\n  ITKBussniesstype28 = 68;        // 扩展业务类型\r\n  ITKBussniesstype29 = 69;        // 扩展业务类型\r\n  ITKBussniesstype30 = 70;        // 扩展业务类型\r\n  ITKBussniesstype31 = 71;        // 扩展业务类型\r\n  ITKBussniesstype32 = 72;        // 扩展业务类型\r\n  ITKBussniesstype33 = 73;        // 扩展业务类型\r\n  ITKBussniesstype34 = 74;        // 扩展业务类型\r\n  ITKBussniesstype35 = 75;        // 扩展业务类型\r\n  ITKBussniesstype36 = 76;        // 扩展业务类型\r\n  ITKBussniesstype37 = 77;        // 扩展业务类型\r\n  ITKBussniesstype38 = 78;        // 扩展业务类型\r\n  ITKBussniesstype39 = 79;        // 扩展业务类型\r\n  ITKBussniesstype40 = 80;        // 删除离线返回\r\n  ITKBussniesstype41 = 81;        // 全部拉取完离线确认返回（客户端）\r\n  ITKBussniesstype42 = 82;        // 站定\r\n  ITKRecodeMsg = 83;              //聊天记录包\r\n}\r\n\r\n// 图片格式类型\r\n\r\nenum ItalkFormatTypeEnum {\r\nITKBmp = 0;                 //BMP\r\nITKJpg = 1;                //JPG\r\nITKPng = 2;                 //PNG\r\nITKGif = 3;              //GIF\r\nITKOtherFormat = 4;         //其他\r\n}\r\n\r\n// 消息的发送错误码\r\n\r\nenum ItalkMsgErrorEnum {\r\nITKToAccountNotExist = 0;   //to_account 没有注册或不存在\r\nITKWrongMsgContent = 1;       //消息内容不符合消息格式描述\r\nITKOtherError = 2;          //服务器内容错误或其他未知错误，请重试\r\n}\r\n\r\n// 添加好友应答状态\r\n\r\nenum ItalkAddFriendStatusEnum {\r\nITKAdded = 0;           //添加成功\r\nITKWaitVerification = 1;       //等待校验\r\n}\r\n\r\n/*-------------------------------------------消息内容定义----------------------------------------------------*/\r\n// 文本、图片、语音、小视频、文件、地理位置信息共用\r\n\r\nmessage ItalkMsgContent {\r\nstring text = 1;            // 文本或表情消息内容（文本、表情），表情格式 @@index@@，index表情索引\r\nint32 size = 2;             // 文件大小（图片、语音、小视频、文件）\r\nItalkFormatTypeEnum imageformat = 3;  // 图片格式（图片）\r\nint32 width = 4;            // 缩略图宽度（图片、小视频）\r\nint32 height = 5;              // 缩略图高度（图片、小视频）\r\nstring thumburl = 6;          // 缩略图地址（图片、小视频）\r\nstring url = 7;              // URL地址（图片、语音、小视频、文件）\r\nint32 second = 8;            // 时长,单位秒（语音、小视频）\r\nstring filename = 9;          // 文件名（文件）\r\nstring desc = 10;             // 地理位置描述信息（地理位置）\r\nstring latitude = 11;          // 纬度（地理位置）\r\nstring longitude = 12;          // 经度（地理位置）\r\n}\r\n\r\n/*-------------------------------------------聊天记录包内容------------------------------------------*/\r\nmessage ItalkRecordMsg {\r\n\tItalkRecordMsg recordMsg = 1;  //里面的包\r\n\tint32 level = 2;            //第几层\r\n\tint32 CurCount = 3;         //条数\r\n\trepeated ItalkChatMsg chatMsgList = 5; //msgid 数据 放数据条数\r\n\trepeated string briefInfo = 6; //简略信息展示\r\n}\r\n\t\r\n\r\n/*-------------------------------------------消息包------------------------------------------------*/\r\nmessage ItalkChatMsg {\r\n\tItalkTypeEnum msgType = 1;                  // 消息类型\r\n\tstring userid = 2;                        // 发送方账号ID\r\n\tint64 localid = 3;                      // 客户端本地消息ID\r\n\tstring fid = 4;                           // 接收方账号ID，单聊消息为用户userid，群聊消息为群组groupid\r\n\trepeated string memberids = 5;                // userid数组，添加群成员、删除群成员、创建群、邀请入群、验证通过入群 共用的用户ID数组\r\n\tint64 msgid = 6;                       // 消息ID（用于消息去重）\r\n\tint64 timestamp = 7;                    // 消息时间戳\r\n\tint32 burnsecond = 8;                    // 阅后即焚延迟时间(单位：秒)\r\n\tbool burn = 9;                         // 阅后即焚标记\r\n\tItalkChatTypeEnum chattype = 10;                // 聊天类型\r\n\tItalkBusinessTypeEnum bussinesstype = 11;          // 发送的消息类型\r\n\tItalkMsgStatusEnum status = 12;                // 消息状态\r\n\tItalkMsgContent content = 13;                 // 发送的消息内容\r\n  int64 userupdatetime = 14;                    // 用户修改时间戳\r\n  int64 msgindex = 15;                          //消息序号\r\n  int64 msglastindex = 16;                          //消息序号\r\n  bool online = 17;                           //在线离线消息\r\n  int64 offlinenum = 18;                           //离线消息数\r\n  int64  msgorder =19;                          //消息序号\r\n  int64 msguserorder=20;                      //消息排序序号\r\n  string text1=21;                           //添加备注信息\r\n  string  text2=22;                            //添加备注信息\r\n  string  text3=23;                          //添加备注信息\r\n  int64 groupupdatetime = 24;                    // 群修改时间戳\r\n  int64 msgflag = 25;\r\n  string msginfo1 = 26;\r\n  int64 msgint1 = 27;\r\n  string msginfo2 = 28;\r\n  int64 msgint2 = 29;\r\n  string msginfo3 = 30;\r\n  string uuid = 31;                               //消息唯一标识\r\n  int64 crc = 32;\r\n  string errorinfo = 33;                      // 错误信息\r\n  int64 number = 34;                      // 规律包\r\n  repeated int64 msgidList = 35;                 // msgid数组使用的值，用于返回客户端aite列表\r\n  ItalkRecordMsg records = 36;                   //消息记录包\r\n}\r\nmessage ItalkChatEchoMsg {\r\nItalkTypeEnum msgType = 1;                  // 消息类型\r\nItalkEchoInfo echoInfo = 2;                  // 消息反馈\r\nstring userid = 3;                        // 发送方账号ID\r\nint64 localid = 4;                      // 客户端本地消息ID\r\nstring fid = 5;                           // 接收方账号ID，单聊消息为用户userid，群聊消息为群组groupid\r\nint64 msgid = 6;                       // 消息ID（用于消息去重）\r\nint64 timestamp = 7;                    // 消息时间戳\r\nint32 burnsecond = 8;                    // 阅后即焚延迟时间(单位：秒)\r\nbool burn = 9;                         // 阅后即焚标记\r\nItalkChatTypeEnum chattype = 10;                // 聊天类型\r\nItalkBusinessTypeEnum bussinesstype = 11;          // 发送的消息类型\r\nItalkMsgStatusEnum status = 12;                // 消息状态\r\n  int64 msgindex = 13;                          //消息序号\r\n  int64  msgorder =14;                         //消息序号\r\n  int64 msguserorder=15;                      //消息排序序号\r\n  string text1=16;                           //添加备注信息\r\n  string  text2=17;                            //添加备注信息\r\n  string  text3=18;                          //添加备注信息\r\n  string uuid = 19;                               //消息唯一标识\r\n  int64 crc = 20;\r\n  int64 number = 21;                      // 规律包\r\n}\r\n\r\n/*-------------------------------------------用户登录消息包------------------------------------------------*/\r\n\r\nmessage ItalkLoginMsg {\r\nItalkTypeEnum msgType = 1;          // 消息类型\r\nstring userid = 2;              // 用户ID\r\nint64 localid = 3;              // 客户端本地消息ID\r\nstring token = 4;              // token\r\nstring clientid = 5;               //用户ID\r\nint64 number = 6;              // 规律包\r\n}\r\n\r\nmessage ItalkLoginEchoMsg {\r\nItalkTypeEnum msgType = 1;          // 消息类型\r\nItalkEchoInfo echoInfo = 2;          // 消息反馈\r\nint64 localid = 3;              // 客户端本地消息ID\r\nstring userid = 4;              // 用户ID\r\nstring token = 5;              // token\r\nint64 userno = 6;              //userno\r\nint64 number = 7;              // 规律包\r\n}\r\n\r\n\r\n/*-------------------------------------------通用消息包------------------------------------------------*/\r\n\r\nmessage ItalkCommonMsg {\r\nItalkTypeEnum msgType = 1;          // 消息类型\r\nstring userid = 2;               //用户ID\r\nint64 localid = 3;              // 客户端本地消息ID\r\nstring text = 4;                // 通用消息内容\r\nint64 number = 5;              // 规律包\r\n}\r\n\r\nmessage ItalkCommonEchoMsg {\r\nItalkTypeEnum msgType = 1;          // 消息类型\r\nItalkEchoInfo echoInfo = 2;          // 消息反馈\r\nint64 localid = 3;              // 客户端本地消息ID\r\nstring text = 4;                // 通用消息内容\r\nint64 number = 5;              // 规律包\r\n}\r\n\r\n\r\n\r\n"
}