{"version":3,"sources":["assets\\bbwz\\Bbwz\\scripts\\panel\\BbwzNoticePop.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,2DAAsD;AAEtD;;GAEG;AACG,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAA2C,iCAAY;IAAvD;;IA+EA,CAAC;IArEa,8BAAM,GAAhB;QACI,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC,CAAC;QACnE,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;QAC3C,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;QACjD,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;QACxF,IAAI,CAAC,aAAa,GAAG,yBAAe,CAAC,cAAc,CAAC,IAAI,CAAC,WAAW,EAAE,qBAAqB,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;QACtH,IAAI,CAAC,YAAY,GAAG,yBAAe,CAAC,cAAc,CAAC,IAAI,CAAC,WAAW,EAAE,sBAAsB,EAAE,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;QACvH,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC;QAEhF,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,iBAAiB,EAAC,IAAI,EAAC,IAAI,CAAC,YAAY,CAAC,CAAC;IACjE,CAAC;IAES,gCAAQ,GAAlB;QACI,MAAM,CAAC,EAAE,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;QACpC,IAAI,CAAC,QAAQ,CAAC,eAAe,EAAE,CAAC;IACpC,CAAC;IAES,iCAAS,GAAnB;QACI,MAAM,CAAC,EAAE,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;IACzC,CAAC;IAES,iCAAS,GAAnB;QACI,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,iBAAiB,EAAC,IAAI,EAAC,IAAI,CAAC,YAAY,CAAC,CAAC;IAClE,CAAC;IAEO,oCAAY,GAApB;QAAA,iBASC;QARG,yBAAe,CAAC,YAAY,EAAE,CAAC;QAC/B,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC;YAC3B,KAAI,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QAC7B,CAAC,CAAC,CAAC;QACH,IAAI,IAAI,CAAC,UAAU,EAAC;YAChB,IAAI,CAAC,UAAU,EAAE,CAAC;YAClB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;SAC1B;IACL,CAAC;IAEO,qCAAa,GAArB;QAAA,iBAUC;QATG,yBAAe,CAAC,YAAY,EAAE,CAAC;QAC/B,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC;YAC3B,KAAI,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QAC7B,CAAC,CAAC,CAAC;QACH,IAAI,IAAI,CAAC,WAAW,EAAC;YACjB,IAAI,CAAC,WAAW,EAAE,CAAC;YACnB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;YACxB,OAAO;SACV;IACL,CAAC;IAEM,2CAAmB,GAA1B,UAA2B,OAAe,EAAE,IAAe,EAAE,KAAgB,EAAE,IAAe;QAAlD,qBAAA,EAAA,QAAe;QACvD,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,OAAO,CAAC;QAC/B,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;QACzB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACvB,IAAG,IAAI,IAAI,CAAC,EAAC,EAAO,WAAW;YAC3B,IAAI,CAAC,aAAa,CAAC,MAAM,GAAG,IAAI,CAAC;YACjC,IAAI,CAAC,YAAY,CAAC,MAAM,GAAG,IAAI,CAAC;SACnC;aAAI;YACD,IAAI,CAAC,aAAa,CAAC,MAAM,GAAG,IAAI,CAAC;YACjC,IAAI,CAAC,YAAY,CAAC,MAAM,GAAG,KAAK,CAAC;SACpC;IACL,CAAC;IAED,iBAAiB;IACT,oCAAY,GAApB,UAAqB,MAAM;QACvB,IAAI,OAAO,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;QACxB,IAAI,IAAI,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAA,wCAAwC;QAC3E,IAAI,KAAK,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;QACtB,IAAI,KAAK,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;QACtB,IAAI,CAAC,mBAAmB,CAAC,OAAO,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;IAC1D,CAAC;IA9EgB,aAAa;QADjC,OAAO;OACa,aAAa,CA+EjC;IAAD,oBAAC;CA/ED,AA+EC,CA/E0C,EAAE,CAAC,SAAS,GA+EtD;kBA/EoB,aAAa","file":"","sourceRoot":"/","sourcesContent":["import BbwzConstDefine from \"../data/BbwzConstDefine\";\r\n\r\n/**\r\n * 弹窗 提示界面\r\n */\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class BbwzNoticePop extends cc.Component {\r\n    private maskNode: cc.Node;\r\n    private contentNode: cc.Node;\r\n    private animComp: any;\r\n    private richText: cc.RichText;\r\n    private customCbYes: Function;\r\n    private customCbNo: Function;\r\n    private buttonYesNode: cc.Node;\r\n    private buttonNoNode: cc.Node;\r\n\r\n    protected onLoad(){\r\n        this.node.setContentSize(cc.Canvas.instance.node.getContentSize());\r\n        this.maskNode = cc.find(\"mask\", this.node);\r\n        this.contentNode = cc.find(\"content\", this.node);\r\n        this.animComp = Global.UIHelper.addAnimComp(this.node, this.contentNode, this.maskNode);\r\n        this.buttonYesNode = BbwzConstDefine.addCommonClick(this.contentNode, \"btnLayout/button_no\", this.onCloseClick, this);\r\n        this.buttonNoNode = BbwzConstDefine.addCommonClick(this.contentNode, \"btnLayout/button_yes\", this.onYesBtnClick, this);\r\n        this.richText = cc.find(\"richText\", this.contentNode).getComponent(cc.RichText);\r\n\r\n        Game.Event.on(Game.EVENT_MESSAGE_BOX,this,this.onMessageBox);\r\n    }\r\n\r\n    protected onEnable(){\r\n        Global.UI.SetMessageBoxInGame(true);\r\n        this.animComp.doPopupOpenAnim();\r\n    }\r\n\r\n    protected onDisable(){\r\n        Global.UI.SetMessageBoxInGame(false);\r\n    }\r\n\r\n    protected onDestroy(){\r\n        Game.Event.off(Game.EVENT_MESSAGE_BOX,this,this.onMessageBox);\r\n    }\r\n\r\n    private onCloseClick(){\r\n        BbwzConstDefine.playBtnSound();\r\n        this.animComp.doPopupCloseAnim(()=>{\r\n            this.node.active = false;\r\n        });\r\n        if (this.customCbNo){\r\n            this.customCbNo();\r\n            this.customCbNo = null;\r\n        }\r\n    }\r\n\r\n    private onYesBtnClick(){\r\n        BbwzConstDefine.playBtnSound();\r\n        this.animComp.doPopupCloseAnim(()=>{\r\n            this.node.active = false;\r\n        });\r\n        if (this.customCbYes){\r\n            this.customCbYes();\r\n            this.customCbYes = null;\r\n            return;\r\n        }\r\n    }\r\n\r\n    public setCustomMessageBox(content: string, type:number = 0, cbYes?: Function, cbNo?: Function){\r\n        this.richText.string = content;\r\n        this.customCbYes = cbYes;\r\n        this.customCbNo = cbNo;\r\n        if(type == 0){      // layout布局\r\n            this.buttonYesNode.active = true;\r\n            this.buttonNoNode.active = true;\r\n        }else{\r\n            this.buttonYesNode.active = true;\r\n            this.buttonNoNode.active = false;\r\n        }\r\n    }\r\n    \r\n    // 大厅弹窗Messagebox\r\n    private onMessageBox(objArr) {\r\n        var content = objArr[0];\r\n        var type = parseInt(objArr[1]) - 1;//大厅type：1-有确定和取消2个按钮 2-只有确定按钮  注意与子游戏区分\r\n        var funcY = objArr[2];\r\n        var funcN = objArr[3];\r\n        this.setCustomMessageBox(content, type, funcY, funcN);\r\n    }\r\n}\r\n"]}