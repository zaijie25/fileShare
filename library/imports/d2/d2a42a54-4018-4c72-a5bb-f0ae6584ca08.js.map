{"version":3,"sources":["assets\\hall\\scripts\\logic\\hall\\ui\\money\\ui\\bank\\BankSaveDrawBaseWin.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["\r\nimport ViewBase from \"../../../../../core/ui/ViewBase\";\r\nimport BankModel from \"../../../../../hallcommon/model/BankModel\";\r\nimport GlobalEvent from \"../../../../../core/GlobalEvent\";\r\nimport WndBankUI from \"./WndBankUI\";\r\n\r\n\r\nexport default class BankSaveDrawBaseWin extends ViewBase {\r\n\r\n    protected model : BankModel;\r\n\r\n    protected myMoney : cc.Label;\r\n    protected bankMoney : cc.Label;\r\n\r\n    protected inputEditBox : cc.EditBox = null;\r\n    protected sliderPlus : SliderPlus = null;\r\n\r\n    // protected msgInfoBox :MsgInfoBox\r\n\r\n    protected curInputNum = 0;\r\n\r\n    protected initView()\r\n    {\r\n        this.model = Global.ModelManager.getModel(\"BankModel\");\r\n\r\n        // this.msgInfoBox = new MsgInfoBox()\r\n        // this.msgInfoBox.setNode(this.getChild(\"msgInfo\"))\r\n        //this.addView(\"msgInfo\",this.getChild(\"msgInfo\"),MsgInfoBox);\r\n\r\n        this.myMoney = this.getComponent(\"balanceLabel\",cc.Label);\r\n        this.bankMoney = this.getComponent(\"bankLabel\",cc.Label);\r\n\r\n        this.inputEditBox = this.getComponent(\"inputEditBox\",cc.EditBox);\r\n        this.inputEditBox.node.on('editing-did-ended',this.textChangeFunc,this);\r\n        \r\n        this.sliderPlus = new SliderPlus()\r\n        this.sliderPlus.setNode(this.getChild(\"SliderPlus\"))\r\n        this.sliderPlus.addOn(this.sliderChangeFunc,this);\r\n\r\n        this.addCommonClick(\"resetBtn\",this.resetBtnFunc,this);\r\n        this.addCommonClick(\"confirmBtn\",this.confirmBtnFunc,this);\r\n    }\r\n\r\n    protected onSubViewShow(){\r\n        Global.Event.on(GlobalEvent.PERSONALINFOUPDATE,this,this.updateMoneyView);\r\n        // this.msgInfoBox.onSubViewShow()\r\n        this.sliderPlus.active = true\r\n        this.sliderPlus.pro = 0;\r\n        this.updateMoneyView();\r\n        this.inputEditBox.string = \"\";\r\n    }\r\n\r\n    protected onSubViewHide()\r\n    {\r\n        // this.msgInfoBox.onSubViewHide()\r\n        this.sliderPlus.active = false\r\n        Global.Event.off(GlobalEvent.PERSONALINFOUPDATE,this,this.updateMoneyView);\r\n    }\r\n\r\n    protected getBaseNum(){\r\n        return 1;\r\n    }\r\n\r\n    protected updateMoneyView(){\r\n        this.myMoney.string = Global.Toolkit.formatPointStr(Global.PlayerData.point, true);\r\n        this.bankMoney.string = Global.Toolkit.formatPointStr(Global.PlayerData.bank_point, true);\r\n        this.updateView(this.sliderPlus.pro);\r\n        let wndBank = <WndBankUI>Global.UI.getWindow(\"WndBankUI\")\r\n        if(wndBank)\r\n        {\r\n            wndBank.OnDataPrepared()\r\n        }\r\n    }\r\n\r\n    /** 按滑动条更新显示 */\r\n    protected updateView( pro : number ){\r\n        var baseNum = this.getBaseNum(); //这里是元\r\n        var fBaseNum = Global.Toolkit.formatPointStr(baseNum * Global.Setting.glodRatio, true);// 捕鱼中可能出现小数点后3位，在这里统一格式加判断不然会出现0.0064这样的，钱包显示为0.00但是实际还是有钱的\r\n\r\n        if(baseNum == 0 || fBaseNum == \"0.00\"){\r\n            this.inputEditBox.string = \"0\";\r\n            this.sliderPlus.pro = 0;\r\n            return;\r\n        }\r\n        pro = Math.ceil(pro * 100) / 100;       //百分号向上取整\r\n        let num = Math.floor(baseNum * pro * 100) / 100;  //求出对应元数保留两位小数\r\n        // if(pro == 1) //因浮点数特性特殊处理，否则有误差\r\n        // {\r\n        //     num = baseNum\r\n        // }\r\n        \r\n        this.curInputNum = num;\r\n        this.inputEditBox.string = num + \"\";\r\n        this.sliderPlus.pro = pro;\r\n    }\r\n\r\n    /** 按输入框更新显示 */\r\n    protected textChangeFunc(){\r\n        var baseNum = this.getBaseNum();\r\n        if(baseNum == 0){\r\n            this.updateView(0);\r\n            return;\r\n        }\r\n        var num = parseFloat(this.inputEditBox.string == \"\" ? \"0\" : this.inputEditBox.string); //获取元数\r\n        if(num >= 0){\r\n        }else{\r\n            //可能生成NaN，这里做修正\r\n            num = 0;\r\n        }\r\n        if(num > baseNum){\r\n            this.model.showBankTips(\"输入超出范围\");\r\n        }\r\n        num = Math.min(num,baseNum);\r\n        num = Number(Global.Toolkit.formatPointStr(num*Global.Setting.glodRatio, true));\r\n        this.curInputNum = num;\r\n        var pro = Math.ceil(num / baseNum * 100) / 100; //百分号向上取整\r\n        this.sliderPlus.pro = Math.min(1,pro);\r\n        this.inputEditBox.string = num + \"\";\r\n    }\r\n\r\n\r\n    protected sliderChangeFunc(){\r\n        this.updateView( this.sliderPlus.pro );\r\n    }\r\n\r\n    protected resetBtnFunc(){\r\n        Logger.error(\"重置\",0)\r\n        this.updateView( 0 );\r\n    }\r\n\r\n    protected confirmBtnFunc(){\r\n\r\n    }\r\n\r\n}\r\n\r\n/** 银行信息盒子 */\r\nclass MsgInfoBox extends ViewBase{\r\n\r\n    private bandNode : cc.Node = null;\r\n\r\n    private msgNode : cc.Node = null;\r\n\r\n    protected initView()\r\n    {\r\n        this.bandNode = this.getChild(\"bandNode\");\r\n        this.msgNode = this.getChild(\"msgNode\");\r\n        \r\n        this.addCommonClick(\"bandNode/bandBtn\",this.bandBtnFunc,this);\r\n    }\r\n\r\n    onSubViewShow(){\r\n        // cc.log(\"--------------------MsgInfoBox————onOpen\");\r\n        Global.Event.on(GlobalEvent.PERSONALINFOUPDATE,this,this.updateView);\r\n        this.updateView();\r\n    }\r\n\r\n    onSubViewHide(){\r\n        // cc.log(\"--------------------MsgInfoBox————onClose\");\r\n        Global.Event.off(GlobalEvent.PERSONALINFOUPDATE,this,this.updateView);\r\n    }\r\n\r\n    protected updateView(){\r\n        var havePhone = (Global.PlayerData.phone != null && Global.PlayerData.phone != \"\");\r\n        this.bandNode.active = !havePhone;\r\n        this.msgNode.active = havePhone;\r\n    }\r\n\r\n    bandBtnFunc(){\r\n        //打开手机绑定\r\n        Global.UI.show(\"WndBindPhone\");\r\n    }\r\n}\r\n\r\n/** 拓展slider */\r\nclass SliderPlus extends ViewBase{\r\n\r\n    private progressBar : cc.ProgressBar = null;\r\n\r\n    private sliderBar : cc.Slider = null;\r\n\r\n    private valueLabel : cc.Label = null;\r\n    private handleNode: cc.Node;\r\n\r\n    protected initView()\r\n    {\r\n        this.progressBar = this.node.getComponent(cc.ProgressBar);\r\n        this.sliderBar = this.getComponent(\"slider\",cc.Slider);\r\n        this.valueLabel = this.getComponent(\"slider/Handle/valueBox/valueLabel\",cc.Label);\r\n\r\n        this.sliderBar.node.on('slide',this.updateView,this);\r\n        this.sliderBar.node.on(cc.Node.EventType.TOUCH_START, this.touchDown, this);\r\n        this.sliderBar.handle.node.on(cc.Node.EventType.TOUCH_END, this.touchDown, this);\r\n        this.handleNode = this.getChild(\"slider/Handle\");\r\n    }\r\n\r\n    touchDown(){\r\n        Global.Audio.playBtnSound();\r\n    }\r\n\r\n    updateView(){\r\n        var pro = this.sliderBar.progress;\r\n        this.progressBar.progress = pro;\r\n        this.valueLabel.string = pro * 100 + \"%\";\r\n    }\r\n\r\n    public set pro( pro : number ){\r\n        this.sliderBar.progress = pro;\r\n        this.progressBar.progress = pro;\r\n        if (pro == 0)           //debug 打开页面弹窗动画时，handle位置计算错误，修改ui组件麻烦，暂时暴力重设\r\n            this.forceLocate();\r\n        this.valueLabel.string = Math.floor(pro * 100) + \"%\";\r\n    }\r\n\r\n    public get pro(){\r\n        return this.sliderBar.progress;\r\n    }\r\n\r\n    public addOn(func , target){\r\n        this.sliderBar.node.on('slide',func,target);\r\n    }\r\n    public forceLocate(){\r\n        this.handleNode.setPosition(cc.v2(-312.5, 0));\r\n    }\r\n}"]}