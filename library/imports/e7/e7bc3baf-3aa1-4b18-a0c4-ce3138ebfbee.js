"use strict";
cc._RF.push(module, 'e7bc3uvOqFLGKDEzjE46/vu', 'ErmjRuleConst');
// ermj/Ermj/scripts/data/ErmjRuleConst.ts

"use strict";
var __spreadArrays = (this && this.__spreadArrays) || function () {
    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
    for (var r = Array(s), k = 0, i = 0; i < il; i++)
        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
            r[k] = a[j];
    return r;
};
var _a;
Object.defineProperty(exports, "__esModule", { value: true });
exports.ErmjTypeDefine = void 0;
var ErmjGameConst_1 = require("./ErmjGameConst");
var ErmjTypeDefine;
(function (ErmjTypeDefine) {
    ErmjTypeDefine[ErmjTypeDefine["Fan_DaSiXi"] = 1001] = "Fan_DaSiXi";
    ErmjTypeDefine[ErmjTypeDefine["Fan_DaSanYuan"] = 1002] = "Fan_DaSanYuan";
    ErmjTypeDefine[ErmjTypeDefine["Fan_JiuLianBaoDeng"] = 1003] = "Fan_JiuLianBaoDeng";
    ErmjTypeDefine[ErmjTypeDefine["Fan_SiGang"] = 1004] = "Fan_SiGang";
    ErmjTypeDefine[ErmjTypeDefine["Fan_LianQiDui"] = 1005] = "Fan_LianQiDui";
    ErmjTypeDefine[ErmjTypeDefine["Fan_TianHu"] = 1006] = "Fan_TianHu";
    ErmjTypeDefine[ErmjTypeDefine["Fan_DiHu"] = 1007] = "Fan_DiHu";
    ErmjTypeDefine[ErmjTypeDefine["Fan_RenHu"] = 1008] = "Fan_RenHu";
    ErmjTypeDefine[ErmjTypeDefine["Fan_BaiWan"] = 1009] = "Fan_BaiWan";
    ErmjTypeDefine[ErmjTypeDefine["Fan_XiaoSiXi"] = 1010] = "Fan_XiaoSiXi";
    ErmjTypeDefine[ErmjTypeDefine["Fan_XiaoSanYuan"] = 1011] = "Fan_XiaoSanYuan";
    ErmjTypeDefine[ErmjTypeDefine["Fan_ZiYiSe"] = 1012] = "Fan_ZiYiSe";
    ErmjTypeDefine[ErmjTypeDefine["Fan_SiAnKe"] = 1013] = "Fan_SiAnKe";
    ErmjTypeDefine[ErmjTypeDefine["Fan_YiSeShuangLongH"] = 1014] = "Fan_YiSeShuangLongH";
    ErmjTypeDefine[ErmjTypeDefine["Fan_YiSeSiTongShun"] = 1015] = "Fan_YiSeSiTongShun";
    ErmjTypeDefine[ErmjTypeDefine["Fan_YiSeSiJieGao"] = 1016] = "Fan_YiSeSiJieGao";
    ErmjTypeDefine[ErmjTypeDefine["Fan_YiSeSiBuGao"] = 1017] = "Fan_YiSeSiBuGao";
    ErmjTypeDefine[ErmjTypeDefine["Fan_SanGang"] = 1018] = "Fan_SanGang";
    ErmjTypeDefine[ErmjTypeDefine["Fan_HunYaoJiu"] = 1019] = "Fan_HunYaoJiu";
    ErmjTypeDefine[ErmjTypeDefine["Fan_QiDui"] = 1020] = "Fan_QiDui";
    ErmjTypeDefine[ErmjTypeDefine["Fan_QingYiSe"] = 1021] = "Fan_QingYiSe";
    ErmjTypeDefine[ErmjTypeDefine["Fan_YiSeSanTongShun"] = 1022] = "Fan_YiSeSanTongShun";
    ErmjTypeDefine[ErmjTypeDefine["Fan_YiSeSanJieGao"] = 1023] = "Fan_YiSeSanJieGao";
    ErmjTypeDefine[ErmjTypeDefine["Fan_QingLong"] = 1024] = "Fan_QingLong";
    ErmjTypeDefine[ErmjTypeDefine["Fan_YiSeSanBuGao"] = 1025] = "Fan_YiSeSanBuGao";
    ErmjTypeDefine[ErmjTypeDefine["Fan_SanAnKe"] = 1026] = "Fan_SanAnKe";
    ErmjTypeDefine[ErmjTypeDefine["Fan_TianTing"] = 1027] = "Fan_TianTing";
    ErmjTypeDefine[ErmjTypeDefine["Fan_SanFengKe"] = 1028] = "Fan_SanFengKe";
    ErmjTypeDefine[ErmjTypeDefine["Fan_DaYuWu"] = 1029] = "Fan_DaYuWu";
    ErmjTypeDefine[ErmjTypeDefine["Fan_XiaoYuWu"] = 1030] = "Fan_XiaoYuWu";
    ErmjTypeDefine[ErmjTypeDefine["Fan_MiaoShouHuiChun"] = 1031] = "Fan_MiaoShouHuiChun";
    ErmjTypeDefine[ErmjTypeDefine["Fan_HaiDiLaoYue"] = 1032] = "Fan_HaiDiLaoYue";
    ErmjTypeDefine[ErmjTypeDefine["Fan_GangShangHua"] = 1033] = "Fan_GangShangHua";
    ErmjTypeDefine[ErmjTypeDefine["Fan_QiangGang"] = 1034] = "Fan_QiangGang";
    ErmjTypeDefine[ErmjTypeDefine["Fan_PengPengHu"] = 1035] = "Fan_PengPengHu";
    ErmjTypeDefine[ErmjTypeDefine["Fan_HunYiSe"] = 1036] = "Fan_HunYiSe";
    ErmjTypeDefine[ErmjTypeDefine["Fan_QuanQiuRen"] = 1037] = "Fan_QuanQiuRen";
    ErmjTypeDefine[ErmjTypeDefine["Fan_ShuangJianKe"] = 1038] = "Fan_ShuangJianKe";
    ErmjTypeDefine[ErmjTypeDefine["Fan_ShuangAnGang"] = 1039] = "Fan_ShuangAnGang";
    ErmjTypeDefine[ErmjTypeDefine["Fan_QuanDaiYao"] = 1040] = "Fan_QuanDaiYao";
    ErmjTypeDefine[ErmjTypeDefine["Fan_BuQiuRen"] = 1041] = "Fan_BuQiuRen";
    ErmjTypeDefine[ErmjTypeDefine["Fan_ShuangMingGang"] = 1042] = "Fan_ShuangMingGang";
    ErmjTypeDefine[ErmjTypeDefine["Fan_HuJueZhang"] = 1043] = "Fan_HuJueZhang";
    ErmjTypeDefine[ErmjTypeDefine["Fan_LiZhi"] = 1044] = "Fan_LiZhi";
    ErmjTypeDefine[ErmjTypeDefine["Fan_JianKe"] = 1045] = "Fan_JianKe";
    ErmjTypeDefine[ErmjTypeDefine["Fan_MenQing"] = 1046] = "Fan_MenQing";
    ErmjTypeDefine[ErmjTypeDefine["Fan_PingHu"] = 1047] = "Fan_PingHu";
    ErmjTypeDefine[ErmjTypeDefine["Fan_SiGuiYi"] = 1048] = "Fan_SiGuiYi";
    ErmjTypeDefine[ErmjTypeDefine["Fan_ShuangAnKe"] = 1049] = "Fan_ShuangAnKe";
    ErmjTypeDefine[ErmjTypeDefine["Fan_DuanYao"] = 1050] = "Fan_DuanYao";
    ErmjTypeDefine[ErmjTypeDefine["Fan_AnGang"] = 1051] = "Fan_AnGang";
    ErmjTypeDefine[ErmjTypeDefine["Fan_ErWuBaJiang"] = 1052] = "Fan_ErWuBaJiang";
    ErmjTypeDefine[ErmjTypeDefine["Fan_YaoTouJiu"] = 1053] = "Fan_YaoTouJiu";
    ErmjTypeDefine[ErmjTypeDefine["Fan_BaoTing"] = 1054] = "Fan_BaoTing";
    ErmjTypeDefine[ErmjTypeDefine["Fan_YiBanGao"] = 1055] = "Fan_YiBanGao";
    ErmjTypeDefine[ErmjTypeDefine["Fan_LianLiu"] = 1056] = "Fan_LianLiu";
    ErmjTypeDefine[ErmjTypeDefine["Fan_LaoShaoFu"] = 1057] = "Fan_LaoShaoFu";
    ErmjTypeDefine[ErmjTypeDefine["Fan_HuaPai"] = 1058] = "Fan_HuaPai";
    ErmjTypeDefine[ErmjTypeDefine["Fan_YaoJiuKe"] = 1059] = "Fan_YaoJiuKe";
    ErmjTypeDefine[ErmjTypeDefine["Fan_MingGang"] = 1060] = "Fan_MingGang";
    ErmjTypeDefine[ErmjTypeDefine["Fan_BianZhang"] = 1061] = "Fan_BianZhang";
    ErmjTypeDefine[ErmjTypeDefine["Fan_KanZhang"] = 1062] = "Fan_KanZhang";
    ErmjTypeDefine[ErmjTypeDefine["Fan_DanDiaoJiang"] = 1063] = "Fan_DanDiaoJiang";
    ErmjTypeDefine[ErmjTypeDefine["Fan_ZiMo"] = 1064] = "Fan_ZiMo";
})(ErmjTypeDefine = exports.ErmjTypeDefine || (exports.ErmjTypeDefine = {}));
var MjValueType;
(function (MjValueType) {
    MjValueType[MjValueType["Wan"] = 1] = "Wan";
    MjValueType[MjValueType["Tiao"] = 2] = "Tiao";
    MjValueType[MjValueType["Tong"] = 3] = "Tong";
    MjValueType[MjValueType["Zi"] = 4] = "Zi";
    MjValueType[MjValueType["Hua"] = 5] = "Hua";
})(MjValueType || (MjValueType = {}));
var ErmjRuleConst = /** @class */ (function () {
    function ErmjRuleConst() {
    }
    /**
     * 计算拿牌起点
     * @return [起点牌墙本地座位, 当前牌墙里的起点索引]
     * @param bankerLocalSeat 庄家本地座位
     * @param dice
     */
    ErmjRuleConst.calculateDealBeigin = function (bankerLocalSeat, dice) {
        var total = 0;
        dice.forEach(function (num) {
            total += num;
        });
        // 当前确定方案为: 点数和为奇数表示摸牌起点为庄的对家, 偶数为庄自家, 和值为从当前牌墙第几墩开始拿 *2即从第whoStart家的第几张开始拿(索引从0开始)
        var whoStart = total % 2;
        var offset = whoStart - Game.Context.selfLocalSeat;
        return [(bankerLocalSeat + offset) % 2, 2 * total];
    };
    /**
     * 获取庄家开始的摸牌顺序本地座位数组 逆时针
     * @param bankerLocalSeat 庄家本地座位
     */
    ErmjRuleConst.getDealOrderArr = function (bankerLocalSeat) {
        var arr = [];
        for (var i = 0; i < ErmjGameConst_1.default.maxPlayerCount; i++) {
            var r = (bankerLocalSeat + i + ErmjGameConst_1.default.maxPlayerCount) % ErmjGameConst_1.default.maxPlayerCount; // 逆时针摸牌
            arr.push(r);
        }
        return arr;
    };
    /** 麻将值数组排序 */
    ErmjRuleConst.sortMjValueArr = function (arr) {
        if (!arr || Global.Toolkit.isEmptyObject(arr))
            return [];
        var tmp = __spreadArrays(arr);
        tmp.sort(function (a, b) { return a - b; });
        return tmp;
    };
    ErmjRuleConst.getMjValueType = function (value) {
        if (value >= 1 && value <= 9)
            return MjValueType.Wan;
        if (value >= 11 && value <= 19)
            return MjValueType.Tiao;
        if (value >= 21 && value <= 29)
            return MjValueType.Tong;
        if (value >= 31 && value <= 37)
            return MjValueType.Zi;
        if (value >= 41 && value <= 48)
            return MjValueType.Hua;
    };
    ErmjRuleConst.checkAlmostWin = function (value, tingArr) {
        if (!tingArr || Global.Toolkit.isEmptyObject(tingArr))
            return false;
        var valueType = this.getMjValueType(value);
        if (!valueType || valueType == MjValueType.Hua) // 花牌不搓
            return false;
        for (var i = 0; i < tingArr.length; i++) {
            var type = this.getMjValueType(tingArr[i].card);
            if (type == valueType)
                return true;
        }
        return false;
    };
    ErmjRuleConst.cardTypeConfig = (_a = {},
        _a[ErmjTypeDefine.Fan_DaSiXi] = { name: "大四喜", sp: "paixing_dsx", bg: "di_xiao" },
        _a[ErmjTypeDefine.Fan_DaSanYuan] = { name: "大三元", sp: "paixing_dsy", bg: "di_xiao" },
        _a[ErmjTypeDefine.Fan_JiuLianBaoDeng] = { name: "九莲宝灯", sp: "paixing_jlbd", bg: "di_xiao" },
        _a[ErmjTypeDefine.Fan_SiGang] = { name: "四杠", sp: "paixing_sg01", bg: "di_xiao" },
        _a[ErmjTypeDefine.Fan_LianQiDui] = { name: "连七对", sp: "paixing_lqd", bg: "di_xiao" },
        _a[ErmjTypeDefine.Fan_TianHu] = { name: "天胡", sp: "paixing_th", bg: "di_xiao" },
        _a[ErmjTypeDefine.Fan_DiHu] = { name: "地胡", sp: "paixing_dh", bg: "di_xiao" },
        _a[ErmjTypeDefine.Fan_RenHu] = { name: "人胡", sp: "paixing_rh", bg: "di_xiao" },
        _a[ErmjTypeDefine.Fan_BaiWan] = { name: "百万石", sp: "paixing_bws", bg: "di_xiao" },
        _a[ErmjTypeDefine.Fan_XiaoSiXi] = { name: "小四喜", sp: "paixing_xsx", bg: "di_xiao" },
        _a[ErmjTypeDefine.Fan_XiaoSanYuan] = { name: "小三元", sp: "paixing_xsy", bg: "di_xiao" },
        _a[ErmjTypeDefine.Fan_ZiYiSe] = { name: "字一色", sp: "paixing_zys", bg: "di_xiao" },
        _a[ErmjTypeDefine.Fan_SiAnKe] = { name: "四暗刻", sp: "paixing_sak02", bg: "di_xiao" },
        _a[ErmjTypeDefine.Fan_YiSeShuangLongH] = { name: "一色双龙会", sp: "paixing_ysslh", bg: "di_da" },
        _a[ErmjTypeDefine.Fan_YiSeSiTongShun] = { name: "一色四同顺", sp: "paixing_yssts_01", bg: "di_da" },
        _a[ErmjTypeDefine.Fan_YiSeSiJieGao] = { name: "一色四节高", sp: "paixing_yssjg_01", bg: "di_da" },
        _a[ErmjTypeDefine.Fan_YiSeSiBuGao] = { name: "一色四步高", sp: "paixing_yssbg", bg: "di_da" },
        _a[ErmjTypeDefine.Fan_SanGang] = { name: "三杠", sp: "paixing_sg", bg: "di_xiao" },
        _a[ErmjTypeDefine.Fan_HunYaoJiu] = { name: "混幺九", sp: "paixing_hyj", bg: "di_xiao" },
        _a[ErmjTypeDefine.Fan_QiDui] = { name: "七对", sp: "paixing_qd", bg: "di_xiao" },
        _a[ErmjTypeDefine.Fan_QingYiSe] = { name: "清一色", sp: "paixing_qys", bg: "di_xiao" },
        _a[ErmjTypeDefine.Fan_YiSeSanTongShun] = { name: "一色三同顺", sp: "paixing_yssts", bg: "di_da" },
        _a[ErmjTypeDefine.Fan_YiSeSanJieGao] = { name: "一色三节高", sp: "paixing_yssjg", bg: "di_da" },
        _a[ErmjTypeDefine.Fan_QingLong] = { name: "清龙", sp: "paixing_ql", bg: "di_xiao" },
        _a[ErmjTypeDefine.Fan_YiSeSanBuGao] = { name: "一色三步高", sp: "paixing_yssbg_01", bg: "di_da" },
        _a[ErmjTypeDefine.Fan_SanAnKe] = { name: "三暗刻", sp: "paixing_sak", bg: "di_xiao" },
        _a[ErmjTypeDefine.Fan_TianTing] = { name: "天听", sp: "paixing_tt", bg: "di_xiao" },
        _a[ErmjTypeDefine.Fan_SanFengKe] = { name: "三风刻", sp: "paixing_sfk", bg: "di_xiao" },
        _a[ErmjTypeDefine.Fan_DaYuWu] = { name: "大于5", sp: "paixing_dyw", bg: "di_xiao" },
        _a[ErmjTypeDefine.Fan_XiaoYuWu] = { name: "小于5", sp: "paixing_xyw", bg: "di_xiao" },
        _a[ErmjTypeDefine.Fan_MiaoShouHuiChun] = { name: "妙手回春", sp: "paixing_mshc", bg: "di_xiao" },
        _a[ErmjTypeDefine.Fan_HaiDiLaoYue] = { name: "海底捞月", sp: "paixing_hdly", bg: "di_xiao" },
        _a[ErmjTypeDefine.Fan_GangShangHua] = { name: "杠上开花", sp: "paixing_gsh", bg: "di_xiao" },
        _a[ErmjTypeDefine.Fan_QiangGang] = { name: "抢杠胡", sp: "paixing_qgh", bg: "di_xiao" },
        _a[ErmjTypeDefine.Fan_PengPengHu] = { name: "碰碰胡", sp: "paixing_pph", bg: "di_xiao" },
        _a[ErmjTypeDefine.Fan_HunYiSe] = { name: "混一色", sp: "paixing_hys", bg: "di_xiao" },
        _a[ErmjTypeDefine.Fan_QuanQiuRen] = { name: "全求人", sp: "paixing_qqr", bg: "di_xiao" },
        _a[ErmjTypeDefine.Fan_ShuangJianKe] = { name: "双箭刻", sp: "paixing_sjk", bg: "di_xiao" },
        _a[ErmjTypeDefine.Fan_ShuangAnGang] = { name: "双暗杠", sp: "paixing_sag", bg: "di_xiao" },
        _a[ErmjTypeDefine.Fan_QuanDaiYao] = { name: "全带幺", sp: "paixing_qdy", bg: "di_xiao" },
        _a[ErmjTypeDefine.Fan_BuQiuRen] = { name: "不求人", sp: "paixing_bqr", bg: "di_xiao" },
        _a[ErmjTypeDefine.Fan_ShuangMingGang] = { name: "双明杠", sp: "paixing_smg", bg: "di_xiao" },
        _a[ErmjTypeDefine.Fan_HuJueZhang] = { name: "胡绝张", sp: "paixing_hjz", bg: "di_xiao" },
        _a[ErmjTypeDefine.Fan_LiZhi] = { name: "立直", sp: "paixing_lz", bg: "di_xiao" },
        _a[ErmjTypeDefine.Fan_JianKe] = { name: "箭刻", sp: "paixing_jk", bg: "di_xiao" },
        _a[ErmjTypeDefine.Fan_MenQing] = { name: "门前清", sp: "paixing_mqq", bg: "di_xiao" },
        _a[ErmjTypeDefine.Fan_PingHu] = { name: "平胡", sp: "paixing_ph", bg: "di_xiao" },
        _a[ErmjTypeDefine.Fan_SiGuiYi] = { name: "四归一", sp: "paixing_sgy", bg: "di_xiao" },
        _a[ErmjTypeDefine.Fan_ShuangAnKe] = { name: "双暗刻", sp: "paixing_sak01", bg: "di_xiao" },
        _a[ErmjTypeDefine.Fan_DuanYao] = { name: "断幺", sp: "paixing_dy", bg: "di_xiao" },
        _a[ErmjTypeDefine.Fan_AnGang] = { name: "暗杠", sp: "paixing_ag", bg: "di_xiao" },
        _a[ErmjTypeDefine.Fan_ErWuBaJiang] = { name: "二五八将", sp: "paixing_ewbz", bg: "di_xiao" },
        _a[ErmjTypeDefine.Fan_YaoTouJiu] = { name: "幺头九", sp: "paixing_ytj", bg: "di_xiao" },
        _a[ErmjTypeDefine.Fan_BaoTing] = { name: "报听", sp: "paixing_bt", bg: "di_xiao" },
        _a[ErmjTypeDefine.Fan_YiBanGao] = { name: "一般高", sp: "paixing_ybg", bg: "di_xiao" },
        _a[ErmjTypeDefine.Fan_LianLiu] = { name: "连6", sp: "paixing_ll", bg: "di_xiao" },
        _a[ErmjTypeDefine.Fan_LaoShaoFu] = { name: "老少副", sp: "paixing_lsf", bg: "di_xiao" },
        _a[ErmjTypeDefine.Fan_HuaPai] = { name: "花牌", sp: "paixing_hp", bg: "di_xiao" },
        _a[ErmjTypeDefine.Fan_YaoJiuKe] = { name: "幺九刻", sp: "paixing_yjk", bg: "di_xiao" },
        _a[ErmjTypeDefine.Fan_MingGang] = { name: "明杠", sp: "paixing_mg", bg: "di_xiao" },
        _a[ErmjTypeDefine.Fan_BianZhang] = { name: "边张", sp: "paixing_bz", bg: "di_xiao" },
        _a[ErmjTypeDefine.Fan_KanZhang] = { name: "坎张", sp: "paixing_kz", bg: "di_xiao" },
        _a[ErmjTypeDefine.Fan_DanDiaoJiang] = { name: "单吊将", sp: "paixing_ddj", bg: "di_xiao" },
        _a[ErmjTypeDefine.Fan_ZiMo] = { name: "自摸", sp: "paixing_zm", bg: "di_xiao" },
        _a);
    /** 轮次发牌数量配置 index为轮次, value为玩家发牌数数组(庄家本地座位开始逆时针)*/
    ErmjRuleConst.dealConfig = [
        // index与getDealOrderArr计算出来的发牌数组的index一一对应
        // 配置解析: 前三轮每家各发4张, 第四轮庄发2张其他发1张
        [4, 4,],
        [4, 4,],
        [4, 4,],
        [2, 1,],
    ];
    return ErmjRuleConst;
}());
exports.default = ErmjRuleConst;

cc._RF.pop();