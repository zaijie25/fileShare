{"version":3,"sources":["assets\\hall\\scripts\\framework\\native\\GameWebView.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["\r\nconst LandscapeStr = {\r\n    \"zh-cn\":\"请转横屏\",\r\n    \"en\":\"Please turn the horizontal screen\",\r\n    \"vi-vn\":\"Vui lòng chuyển qua màn hình.\"\r\n}\r\n\r\nconst PortraitStr = {\r\n    \"zh-cn\":\"请转竖屏\",\r\n    \"en\":\"Please turn to the vertical screen\",\r\n    \"vi-vn\":\"Hãy chuyển màn hình dọc\"\r\n}\r\nexport default class GameWebView{\r\n    private container:HTMLElement = null;\r\n    private floatBtnMask:HTMLElement = null;\r\n    private floatBtn:HTMLElement = null;\r\n    private gameIframe:HTMLElement = null;\r\n    private tipsContainer:HTMLElement = null;   //提示旋转容器\r\n    private tipsTextContent:HTMLParagraphElement = null;    //提示文本内容 \r\n    private tipsContainerTagName:string = \"tipsContainer\";\r\n    private tipsTextContentTagName:string = \"tipsTextContent\";    //提示文本内容 \r\n    private containerTagName:string = \"GameContainer\";\r\n    private floatBtnMaskTagName:string = \"FloatBtnMask\"\r\n    private floatBtnTagName:string = \"FloatBtn\";\r\n    private gameIframeTagName:string = \"gameIframe\";\r\n    private canClick:boolean = true;    //浮标按钮是否能点击\r\n    private startTime:number = 0;      //触碰开始时间\r\n    private maxLeft:number = 0;         \r\n    private maxTop:number = 0;\r\n    private isShow:boolean = false;      //是否在浏览iframe\r\n    private needLandscape = false;       //是否需要强制横屏\r\n    private needPortrait = false;        //是否需要强制竖屏\r\n    private floatButtonBg = \"\";          //浮标按钮背景图\r\n    private tipsBg = \"\";                 //横竖屏提示背景图\r\n    init(){\r\n        if(document.getElementById(this.containerTagName)) return;\r\n        this.createElement();\r\n    }\r\n\r\n    private createElement(){\r\n        //创建元素\r\n        this.container = document.createElement(\"div\");\r\n        this.container.id = this.containerTagName;\r\n        this.floatBtnMask = document.createElement(\"div\");\r\n        this.floatBtnMask.id = this.floatBtnMaskTagName;\r\n        this.floatBtn = document.createElement(\"button\");\r\n        this.floatBtn.id = this.floatBtnTagName;\r\n        this.gameIframe = document.createElement(\"iframe\");\r\n        this.gameIframe.id = this.gameIframeTagName;\r\n        this.tipsContainer = document.createElement(\"div\");\r\n        this.tipsContainer.id = this.tipsContainerTagName;\r\n        this.tipsTextContent = document.createElement(\"p\");\r\n        this.tipsTextContent.id = this.tipsTextContentTagName;\r\n        //初始化样式\r\n        this.initStyle();\r\n        //挂载节点\r\n        this.mountingDom();\r\n        //初始化事件\r\n        this.initEvent();\r\n    }\r\n\r\n    private initStyle(){\r\n        //最外层容器样式\r\n        this.initContainerStyle();\r\n        //浮标按钮遮罩层样式\r\n        this.floatBtnMask.style.position = \"absolute\";\r\n        this.floatBtnMask.style.zIndex = \"50\";\r\n        this.floatBtnMask.style.left = \"0px\";\r\n        this.floatBtnMask.style.top = \"0px\";\r\n        this.floatBtnMask.style.width = \"100%\";\r\n        this.floatBtnMask.style.height = \"100%\";\r\n        this.floatBtnMask.style.display = \"none\";\r\n        //浮标按钮样式\r\n        // let imageUrl = this.getButtonImg();\r\n        this.floatBtn.style.position = \"absolute\";\r\n        this.floatBtn.style.left = \"30px\";\r\n        this.floatBtn.style.top = \"30px\";\r\n        this.floatBtn.style.width = cc.sys.isMobile || CC_DEV ? \"50px\" : \"80px\";\r\n        this.floatBtn.style.height = cc.sys.isMobile || CC_DEV ? \"50px\" : \"80px\";\r\n        // this.floatBtn.style.backgroundImage = `url(${imageUrl})`;\r\n        this.floatBtn.style.border = \"none\";\r\n        this.floatBtn.style.backgroundRepeat = \"round\";\r\n        this.floatBtn.style.outline = \"none\";\r\n        this.floatBtn.style.backgroundColor = \"transparent\";\r\n        this.floatBtn.style.transition = \"all 0.3s\"; \r\n        this.floatBtn.style.opacity = \"0.5\";\r\n        this.floatBtn.style.zIndex = \"100\";\r\n        //iframe样式\r\n        this.gameIframe.style.background = \"rgba(255, 255, 255, 0.8)\";\r\n        this.gameIframe.style.color = \"rgb(51, 51, 51)\";\r\n        this.gameIframe.style.height = \"100%\";\r\n        this.gameIframe.style.width = \"100%\";\r\n        this.gameIframe.style.position = \"absolute\";\r\n        this.gameIframe.style.bottom = \"0px\";\r\n        this.gameIframe.style.left = \"0px\";\r\n        this.gameIframe.style.border = \"none\";\r\n        //提示样式\r\n        // let tipsUrl = this.getTipsUrl();\r\n        this.tipsContainer.style.width = \"100%\";\r\n        this.tipsContainer.style.height = \"100%\";\r\n        this.tipsContainer.style.display = \"none\";\r\n        this.tipsContainer.style.zIndex = \"900\";\r\n        this.tipsContainer.style.position = \"absolute\";\r\n        this.tipsContainer.style.backgroundColor = \"rgb(0,0,0)\";\r\n        // this.tipsContainer.style.backgroundImage = `url(${tipsUrl})`;\r\n        this.tipsContainer.style.backgroundRepeat = \"no-repeat\";\r\n        this.tipsContainer.style.backgroundSize = \"20%\";\r\n        this.tipsContainer.style.backgroundPosition = \"center center\";\r\n        this.tipsTextContent.style.color = \"rgb(255,255,255)\";\r\n        this.tipsTextContent.style.fontSize = \"32px\";\r\n        this.tipsTextContent.style.position = \"absolute\";\r\n        this.tipsTextContent.style.top = this.tipsContainer.height * 0.6 + \"px\";\r\n        this.tipsTextContent.style.width = \"100%\";\r\n        this.tipsTextContent.style.top = \"60%\";\r\n        this.tipsTextContent.style.textAlign = \"center\";\r\n        \r\n    }\r\n\r\n    public initContainerStyle(isResize = false){\r\n        if(CC_DEV){ //调试模式\r\n            this.container.style.width = document.getElementById(\"GameDiv\").offsetWidth + \"px\";\r\n            this.container.style.height = document.getElementById(\"GameDiv\").offsetHeight + \"px\";\r\n            this.container.style.position = \"absolute\";\r\n            this.container.style.top = \"50%\";\r\n            this.container.style.left = \"50%\";\r\n            this.container.style.transform = \"translate(-50%,-50%)\";\r\n            this.container.style.display = this.isShow ? \"block\" : \"none\";\r\n        }else if(cc.sys.isMobile){  //手机上\r\n            let Cocos2dGameContainer = document.getElementById(\"Cocos2dGameContainer\");\r\n            let widthTemp = Cocos2dGameContainer.style.width;\r\n            let heightTemp = Cocos2dGameContainer.style.height;\r\n            let topNum = Cocos2dGameContainer.style.paddingTop ? Cocos2dGameContainer.style.paddingTop : 0 + \"px\";\r\n            let leftNum = Cocos2dGameContainer.style.paddingLeft ? Cocos2dGameContainer.style.paddingLeft : 0 + \"px\";\r\n            if(window.innerHeight > window.innerWidth){\r\n                widthTemp = window.innerWidth + \"px\";\r\n                heightTemp = window.innerHeight + \"px\";\r\n                topNum = \"0px\";\r\n                leftNum = \"0px\";\r\n            }\r\n            this.floatBtn.style.left = \"30px\";\r\n            this.floatBtn.style.top = \"50px\";\r\n            this.container.style.width = widthTemp;\r\n            this.container.style.height = heightTemp; \r\n            this.container.style.position = \"absolute\";\r\n            this.container.style.top = topNum;\r\n            this.container.style.left = leftNum;\r\n            this.container.style.display = this.isShow ? \"block\" : \"none\";\r\n            // if(isResize && cc.sys.os == cc.sys.OS_IOS){   //ios横屏的时候才自动滚动\r\n            //     setTimeout(function(){\r\n            //         window.scrollTo(0,0)\r\n            //     },10)\r\n            // }\r\n        }else{  //正式的pc端\r\n            let Cocos2dGameContainer = document.getElementById(\"Cocos2dGameContainer\");\r\n            let widthnum = Cocos2dGameContainer.style.width ? Cocos2dGameContainer.style.width : 0 + \"PX\";\r\n            this.container.style.width = widthnum;\r\n            let heightnum = Cocos2dGameContainer.style.height ? Cocos2dGameContainer.style.height : 0 + \"PX\";\r\n            this.container.style.height = heightnum;\r\n            this.container.style.position = \"absolute\";\r\n            let topNum = Cocos2dGameContainer.style.paddingTop ? Cocos2dGameContainer.style.paddingTop : 0 + \"PX\" ;\r\n            this.container.style.top = topNum;\r\n            let leftNum = Cocos2dGameContainer.style.paddingLeft ? Cocos2dGameContainer.style.paddingLeft : 0 + \"PX\";\r\n            this.container.style.left = leftNum;\r\n            this.container.style.display = this.isShow ? \"block\" : \"none\";\r\n        }\r\n    }\r\n\r\n    private mountingDom(){\r\n        this.tipsContainer.insertBefore(this.tipsTextContent,this.tipsContainer.lastChild);\r\n        this.container.insertBefore(this.floatBtn,this.container.lastChild);\r\n        this.container.insertBefore(this.floatBtnMask,this.container.lastChild);\r\n        this.container.insertBefore(this.gameIframe,this.container.lastChild);\r\n        this.container.insertBefore(this.tipsContainer,this.container.lastChild);\r\n        document.body.insertBefore(this.container,document.body.lastChild);\r\n    }\r\n\r\n    private initEvent(){\r\n        this.canClick = true;    //是否能点击\r\n        this.startTime = 0;\r\n        if(cc.sys.isMobile){     //手机端\r\n            this.floatBtn.ontouchstart = this.touchstart.bind(this);\r\n        }else{                   //pc端\r\n            this.floatBtn.onmouseleave = this.mouseleave.bind(this);\r\n            this.floatBtn.onmouseenter = this.mouseenter.bind(this);\r\n            this.floatBtn.onmousedown = this.mousedown.bind(this);\r\n        }\r\n        this.gameIframe.addEventListener(\"load\",(event)=>{\r\n            // console.log(\"加载成功\",this.isShow);\r\n            //上分\r\n            if(this.isShow){\r\n                Global.Event.event(GlobalEvent.WebUpPoint,true);\r\n            }\r\n        },false)\r\n        this.gameIframe.addEventListener(\"error\",(event)=>{\r\n        },false)\r\n        window.addEventListener(\"resize\",()=>{\r\n            this.initContainerStyle(true)\r\n            // if()\r\n            this.isShowTipsOrNo()\r\n        })\r\n    }\r\n\r\n    private  mousedown(event) {\r\n        this.startTime = Date.now();\r\n        this.canClick = false;\r\n        let startX = event.clientX;\r\n        let startY = event.clientY;\r\n        //获取元素的left，top值\r\n        let startLeft = this.floatBtn.offsetLeft;\r\n        let startTop = this.floatBtn.offsetTop;\r\n\r\n        this.maxLeft = this.container.offsetWidth - this.floatBtn.offsetWidth;\r\n        this.maxTop = this.container.offsetHeight - this.floatBtn.offsetHeight;\r\n\r\n        event.preventDefault();\r\n\r\n        this.floatBtnMask.style.display = \"block\";\r\n\r\n        document.onmousemove = ((event)=>{\r\n            this.floatBtn.style.transform = \"scale(1.2)\";\r\n            this.floatBtn.style.opacity = \"1\";\r\n            this.floatBtn.style.transition = \"none\"; \r\n            let moveX = event.clientX;\r\n            let moveY = event.clientY;\r\n            let x = moveX - startX;\r\n            let y = moveY - startY;\r\n\r\n            let topNum = y + startTop;\r\n            let leftNum = x + startLeft;\r\n            if(topNum < 0 || leftNum < 0){\r\n                return;\r\n            }\r\n            if(topNum > this.maxTop || leftNum > this.maxLeft){\r\n                return;\r\n            }\r\n\r\n            this.canClick = false;   //移动过程中不可点击\r\n\r\n            this.floatBtn.style.top = topNum + \"px\";\r\n            this.floatBtn.style.left = leftNum + \"px\";\r\n        })\r\n\r\n        //清除事件\r\n        document.onmouseup = ((event)=>{\r\n            document.onmousemove = null;\r\n            this.floatBtnMask.style.display = \"none\";\r\n            let endTime = Date.now();\r\n            this.canClick = endTime - this.startTime < 300 \r\n            if(this.canClick){\r\n                let backToHall = confirm(\"确认返回游戏大厅？\");\r\n                if(backToHall){\r\n                    this.gameWebViewHiden();\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    private  mouseleave(event) {\r\n        this.floatBtn.style.transform = \"scale(1.0)\";\r\n        this.floatBtn.style.opacity = \"0.5\";\r\n        this.floatBtnMask.onmousemove = null;\r\n    }\r\n\r\n    private  mouseenter(event) {\r\n        this.floatBtn.style.transform = \"scale(1.2)\";\r\n        this.floatBtn.style.opacity = \"1\";\r\n    }\r\n\r\n    private touchstart(event) {\r\n        this.startTime = Date.now();\r\n        this.canClick = false;\r\n        this.floatBtn.style.transform = \"scale(1.2)\";\r\n        this.floatBtn.style.opacity = \"1\";\r\n        let startX =  event.touches[0].clientX;\r\n        let startY =  event.touches[0].clientY;\r\n        //获取元素的left，top值\r\n        let startLeft = this.floatBtn.offsetLeft;\r\n        let startTop = this.floatBtn.offsetTop;\r\n\r\n        this.maxLeft = this.container.offsetWidth - this.floatBtn.offsetWidth;\r\n        this.maxTop = this.container.offsetHeight - this.floatBtn.offsetHeight;\r\n\r\n        event.preventDefault();\r\n\r\n        this.floatBtnMask.style.display = \"block\";\r\n        document.ontouchmove = ((event)=>{\r\n            this.floatBtn.style.transform = \"scale(1.2)\";\r\n            this.floatBtn.style.opacity = \"1\";\r\n            this.floatBtn.style.transition = \"none\"; \r\n            let moveX = event.touches[0].clientX;\r\n            let moveY = event.touches[0].clientY;\r\n\r\n            let x = moveX - startX;\r\n            let y = moveY - startY;\r\n\r\n            let topNum = y + startTop;\r\n            let leftNum = x + startLeft;\r\n\r\n            if(topNum < 0 || leftNum < 0){\r\n                return;\r\n            }\r\n\r\n            if(topNum > this.maxTop || leftNum > this.maxLeft){\r\n                return;\r\n            }\r\n\r\n            this.canClick = false;   //移动过程中不可点击\r\n            \r\n            this.floatBtn.style.top = topNum + \"px\" ;\r\n            \r\n            this.floatBtn.style.left = leftNum + \"px\";\r\n        })\r\n\r\n        //清除事件\r\n        document.ontouchend = document.ontouchcancel = ((event)=>{\r\n            document.onmousemove = null;\r\n            this.floatBtnMask.style.display = \"none\";\r\n            this.floatBtn.style.transform = \"scale(1.0)\";\r\n            this.floatBtn.style.opacity = \"0.5\";\r\n            let endTime = Date.now();\r\n            this.canClick = endTime - this.startTime < 300 \r\n            if(this.canClick){\r\n                let backToHall = confirm(\"确认返回游戏大厅？\");\r\n                if(backToHall){\r\n                    this.gameWebViewHiden()\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    private getButtonImg(){\r\n        let result = \"\";\r\n        if(CC_DEV){\r\n            result = \"http://s.bjfkwh.com/\" + \"Back.png\";\r\n        }else{\r\n            let nowUrl = window.location.href;\r\n            if(nowUrl.indexOf(\"?\")>-1){\r\n                let StrArr = nowUrl.split(\"?\");\r\n                nowUrl = StrArr[0];\r\n            }\r\n            result = nowUrl + \"Back.png\";\r\n        }\r\n        return result;\r\n    }\r\n\r\n    private getTipsUrl(){\r\n        let result = \"\";\r\n        if(CC_DEV){\r\n            result = \"http://s.bjfkwh.com/\" + \"xuanzhuan.png\";\r\n        }else{\r\n            let nowUrl = window.location.href;\r\n            if(nowUrl.indexOf(\"?\")>-1){\r\n                let StrArr = nowUrl.split(\"?\");\r\n                nowUrl = StrArr[0];\r\n            }\r\n            result = nowUrl + \"xuanzhuan.png\";\r\n        }\r\n        return result;\r\n    }\r\n\r\n    private getTipsText(){\r\n        if(!this.needLandscape && !this.needPortrait) return;\r\n        let strMap = this.needPortrait ? \"请转竖屏\" : \"请转横屏\";\r\n    }\r\n\r\n    gameWebViewShow(url:string,needland?:boolean,needPor?:boolean){\r\n        if(!url) return;\r\n        if(CC_DEV){\r\n            document.getElementById(\"content\").style.display = \"none\";\r\n        }else{\r\n            document.getElementById(\"Cocos2dGameContainer\").style.visibility = \"hidden\";\r\n        }\r\n        //进游戏关闭大厅音乐\r\n        Global.Audio.stopMusic();\r\n        this.container.style.display = \"block\";\r\n        this.gameIframe.setAttribute(\"src\",url);\r\n        this.isShow = true;\r\n        this.needLandscape = needland || false;\r\n        this.needPortrait = needPor || false;\r\n        this.isShowTipsOrNo();\r\n        this.setBgImg();\r\n    }\r\n\r\n    gameWebViewHiden(){\r\n        this.container.style.display = \"none\";\r\n        if(CC_DEV){\r\n            document.getElementById(\"content\").style.display = \"flex\";\r\n        }else{\r\n            document.getElementById(\"Cocos2dGameContainer\").style.visibility = \"visible\";\r\n        }\r\n        //播放大厅音乐\r\n        var model = Global.ModelManager.getModel(\"PlayerInfoModel\")\r\n        if(model)\r\n        {\r\n            model.InitBgm()\r\n        }\r\n        this.isShow = false;\r\n        this.gameIframe.setAttribute(\"src\",\"\");\r\n        this.needLandscape = false;\r\n        this.needPortrait = false;\r\n        //下分\r\n        Global.Event.event(GlobalEvent.WebDownPoint,true);\r\n    }\r\n\r\n    setBgImg(){\r\n        if(this.floatButtonBg != \"\" && this.tipsBg != \"\") return;\r\n        this.floatButtonBg = Global.customApp.getWebFilePath(\"Back.png\");\r\n        this.tipsBg = Global.customApp.getWebFilePath(\"xuanzhuan.png\");\r\n        this.floatBtn.style.backgroundImage = `url(${this.floatButtonBg})`;\r\n        this.tipsContainer.style.backgroundImage = `url(${this.tipsBg})`;\r\n    }\r\n\r\n    isShowTipsOrNo(){   \r\n        if(!cc.sys.isMobile) return;\r\n        if(!this.needLandscape && !this.needPortrait) return;\r\n        if(this.needPortrait && this.island()){\r\n            this.showTipsContainer();\r\n            return;\r\n        }\r\n        if(this.needLandscape && this.isPort()){\r\n            this.showTipsContainer();\r\n            return;\r\n        }\r\n        this.hideTipsContainer();\r\n    }\r\n\r\n    island(){\r\n        return window.innerWidth > window.innerHeight;\r\n    }\r\n\r\n    isPort(){\r\n        return window.innerHeight > window.innerWidth;\r\n    }\r\n\r\n    //显示需要旋转\r\n    showTipsContainer(){\r\n        this.gameIframe.style.display = \"none\";\r\n        this.floatBtn.style.display = \"none\";\r\n        this.floatBtnMask.style.display = \"none\";\r\n        this.tipsContainer.style.display = \"block\";\r\n        this.tipsTextContent.textContent = this.getTipsText();\r\n    }\r\n\r\n    //隐藏需要旋转\r\n    hideTipsContainer(){\r\n        this.gameIframe.style.display = \"block\";\r\n        this.floatBtn.style.display = \"block\";\r\n        this.floatBtnMask.style.display = \"block\";\r\n        this.tipsContainer.style.display = \"none\";\r\n        this.tipsTextContent.textContent = \"\";\r\n    }\r\n}"]}