{"version":3,"sources":["assets\\ermj\\Ermj\\scripts\\handlers\\ErmjGameCfgHandler.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAAA,qDAAgD;AAChD,uDAAkD;AAClD,4CAAuC;AAEvC;IAAgD,sCAAe;IAA/D;;IA6BA,CAAC;IA5Ba,wCAAW,GAArB,UAAsB,QAAQ;QAC1B,IAAI,CAAC,OAAO,CAAC,aAAa,GAAG,QAAQ,CAAC,KAAK,CAAC;QAC5C,IAAI,CAAC,OAAO,CAAC,UAAU,GAAG,EAAE,CAAC;QAE7B,IAAI,uBAAa,CAAC,cAAc,GAAG,QAAQ,CAAC,KAAK,CAAC,UAAU,EAAC;YACzD,MAAM,CAAC,KAAK,CAAC,kBAAkB,EAAE,uBAAa,CAAC,cAAc,EAAE,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC;YAClG,OAAO;SACV;QACD,KAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,uBAAa,CAAC,cAAc,EAAE,CAAC,EAAE,EAAC;YACjD,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC;SACtD;IACL,CAAC;IAGS,oCAAO,GAAjB,UAAkB,QAAQ;QACtB,IAAI,EAAE,GAAG,IAAI,CAAC;QACd,IAAG,IAAI,CAAC,OAAO,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,EAAC;YACjD,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC;SAClC;QACD,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,QAAQ,CAAC,KAAK,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC;QAC3D,MAAM;QACN,oBAAU,CAAC,QAAQ,CAAC,SAAS,EAAE,CAAC;QAChC,oBAAU,CAAC,QAAQ,CAAC,MAAM,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;IACjE,CAAC;IAES,wCAAW,GAArB,UAAsB,QAAQ;QAC1B,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;IAC3B,CAAC;IACL,yBAAC;AAAD,CA7BA,AA6BC,CA7B+C,yBAAe,GA6B9D","file":"","sourceRoot":"/","sourcesContent":["import ErmjBaseHandler from \"./ErmjBaseHandler\";\r\nimport ErmjGameConst from \"../data/ErmjGameConst\";\r\nimport ErmjDriver from \"../ErmjDriver\";\r\n\r\nexport default class ErmjGameCfgHandler extends ErmjBaseHandler{\r\n    protected refreshData(msgParam){\r\n        this.context.serverGameCfg = msgParam._para;\r\n        this.context.playerList = [];\r\n\r\n        if (ErmjGameConst.maxPlayerCount < msgParam._para.seat_count){\r\n            Logger.error('客户端不支持服务器配置的最大人数', ErmjGameConst.maxPlayerCount, String(msgParam._para.seat_count));\r\n            return;\r\n        }\r\n        for(let i = 0; i < ErmjGameConst.maxPlayerCount; i++){\r\n            this.context.playerList.push(new PVPPlayerData(i));\r\n        }\r\n    }\r\n\r\n\r\n    protected execute(msgParam){\r\n        let lv = \"l0\";\r\n        if(this.context.session && this.context.session._glv){\r\n            lv = this.context.session._glv;\r\n        }\r\n        this.mainUI.updateLevelBase(msgParam._para.base_point, lv);\r\n        //进入游戏\r\n        ErmjDriver.instance.enterGame();\r\n        ErmjDriver.instance.mainUI.taskManager.reqGetCommisionInfo();\r\n    }\r\n\r\n    protected executeSync(msgParam){\r\n        this.execute(msgParam);\r\n    }\r\n}"]}