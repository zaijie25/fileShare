{"version":3,"sources":["assets\\hall\\scripts\\logic\\core\\component\\IntoGameAnimComp.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["\r\n\r\n// Learn TypeScript:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n/**进入子游戏时场景过渡动画组件 */\r\n@ccclass\r\nexport default class IntoGameAnimComp extends cc.Component {\r\n    //loading画面节点\r\n    loadingNode: cc.Node;\r\n    public maskNode: cc.Node;\r\n\r\n    bottomNodeArr:cc.Node[];\r\n    bottomNodeYArr:number[] = [];\r\n\r\n    topNodeArr:cc.Node[];\r\n    topNodeYArr:number[] = [];\r\n    \r\n    leftNodeArr:cc.Node[];\r\n    leftNodeXArr:number[] = [];\r\n    \r\n    rightNodeArr:cc.Node[];\r\n    rightNodeXArr:number[] = [];\r\n\r\n    middleNodeArr:cc.Node[];\r\n    middleNodeXArr:number[] = [];\r\n\r\n    public bottomObjArr: any[] = [];\r\n    public topObjArr: any[] = [];\r\n    public leftObjArr: any[] = [];\r\n    public rightObjArr: any[] = [];\r\n    public middleObjArr: any[] = [];\r\n    private bottomOffset = cc.v2(0, -200);\r\n    private topOffset = cc.v2(0, 300);\r\n    private leftOffset = cc.v2(-300, 0);\r\n    private rightOffset = cc.v2(300, 0);\r\n    private middleOffset = cc.v2(1560, 0);\r\n\r\n    //是否已执行过动画（进入场景后此动画只执行一次，后续任何情况都不再执行，除非重新进入场景）\r\n    public bInit:boolean = false;;\r\n\r\n    public init(needAlways?){\r\n        if(this.bInit && !needAlways){\r\n            return;\r\n        }\r\n        this.bInit = true;\r\n\r\n        if(!this.bottomNodeArr){\r\n            this.bottomNodeArr = [];\r\n        }\r\n        for(let i = 0; i < this.bottomNodeArr.length; i++){\r\n            let node = this.bottomNodeArr[i];\r\n            this.bottomNodeYArr[i] = node.y;\r\n            node.y -= 200;\r\n        }\r\n\r\n        if(!this.topNodeArr){\r\n            this.topNodeArr = [];\r\n        }\r\n        for(let i = 0; i < this.topNodeArr.length; i++){\r\n            let node = this.topNodeArr[i];\r\n            this.topNodeYArr[i] = node.y;\r\n            node.y += 300;\r\n        }\r\n        \r\n        if(!this.leftNodeArr){\r\n            this.leftNodeArr = [];\r\n        }\r\n        for(let i = 0; i < this.leftNodeArr.length; i++){\r\n            let node = this.leftNodeArr[i];\r\n            this.leftNodeXArr[i] = node.x;\r\n            node.x -= 300;\r\n        }\r\n        \r\n        if(!this.rightNodeArr){\r\n            this.rightNodeArr = [];\r\n        }\r\n        for(let i = 0; i < this.rightNodeArr.length; i++){\r\n            let node = this.rightNodeArr[i];\r\n            this.rightNodeXArr[i] = node.x;\r\n            node.x += 300;\r\n        }\r\n\r\n        if(!this.middleNodeArr){\r\n            this.middleNodeArr = [];\r\n        }\r\n        for(let i = 0;i<this.middleNodeArr.length;i++){\r\n            let node = this.middleNodeArr[i];\r\n            this.middleNodeXArr[i] = node.x;\r\n            node.x += 1560;\r\n        }\r\n        this.node.opacity = 1;//不能设为0，否则透明度为0的情况下触发点击事件会无法冒泡\r\n    }\r\n\r\n    public forceInit()\r\n    {\r\n        this.bInit = false;\r\n        this.init();\r\n    }\r\n\r\n    //开始动画\r\n    public startAnimation(){\r\n        this.danchu();\r\n    }\r\n\r\n    //淡出\r\n    protected danchu(){\r\n        if(this.loadingNode){\r\n            let ac1 = cc.fadeOut(0.5);\r\n            let cf1 = cc.callFunc(()=>{\r\n                this.loadingNode.active = false;\r\n                // this.loadingNode.destroy();\r\n                // this.loadingNode = null;\r\n                this.danru();\r\n            }, this);\r\n            this.loadingNode.runAction(cc.sequence(ac1, cf1));\r\n        }else{\r\n            this.danru();\r\n        }\r\n    }\r\n\r\n    //淡入\r\n    protected danru(){\r\n        let ac2 = cc.fadeIn(0.5);\r\n        let cf2 = cc.callFunc(()=>{\r\n            this.nodesAnimation();\r\n        }, this);\r\n        this.node.runAction(cc.sequence(ac2, cf2));\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param timeScale 总时间 //不精准 移动延时暂不记\r\n     * @param delay     开始延时\r\n     * @param finishCal \r\n     * @param target \r\n     */\r\n    public startAnimtionByMask(timeScale: number = 1, delay: number = 0, finishCal?: Function, target?: any){\r\n        let danchuTime = 0.25* timeScale;\r\n        let danruTime = 0.25* timeScale;\r\n        let assembleTime = 0.5* timeScale;\r\n        if ((this.leftNodeArr.length + this.bottomNodeArr.length + this.rightNodeArr.length + this.topNodeArr.length + this.middleNodeArr.length) == 0){\r\n            assembleTime = 0;\r\n        }\r\n        if (this.loadingNode && this.maskNode){\r\n            Global.Component.scheduleOnce(()=>{\r\n                this.danchuByMask(danchuTime);\r\n            }, delay);\r\n            Global.Component.scheduleOnce(()=>{\r\n                this.loadingNode.active = false;\r\n                this.danruByMask(danruTime);\r\n            }, delay + danchuTime);\r\n            Global.Component.scheduleOnce(()=>{\r\n                this.nodesAnimation(assembleTime);\r\n            }, delay + danchuTime + danruTime);\r\n            Global.Component.scheduleOnce(()=>{\r\n                this.maskNode.active = false;   // 遮罩防止动画过程中操作 debug action队列中调用时机不对\r\n                if(finishCal && target){\r\n                    finishCal.call(target);\r\n                }\r\n            }, delay + danchuTime + danruTime + assembleTime);\r\n        }\r\n        else{\r\n            this.loadingNode.active = false;\r\n            this.maskNode.active = false;\r\n            this.node.active = true;\r\n        }\r\n    }\r\n    \r\n    protected danchuByMask(time: number){\r\n        this.maskNode.active = true;\r\n        this.maskNode.opacity = 1;\r\n        let ac1 = cc.fadeTo(time, 200);\r\n        this.maskNode.runAction(ac1);\r\n    }\r\n\r\n    protected danruByMask(time){\r\n        this.node.opacity = 255;\r\n        let ac2 = cc.fadeTo(time, 1);\r\n        this.maskNode.runAction(ac2);\r\n    }\r\n\r\n    //游戏内节点动画\r\n    protected nodesAnimation(time: number = 0.5){\r\n        if (time < 0.2){\r\n            time = 0.2;     // 防错\r\n        }\r\n        var delayTime:number = 0;\r\n        for(let i = 0; i < this.bottomNodeArr.length; i++){\r\n            let node = this.bottomNodeArr[i];\r\n            let x = node.x;\r\n            let y = this.bottomNodeYArr[i];\r\n            let tween = new cc.Tween(node);//Game.Tween.get(node);\r\n            tween.delay(delayTime).to(time, {position: new cc.Vec2(x, y)}, cc.easeBackOut()).start();\r\n            delayTime += 0.1;\r\n        }\r\n\r\n        delayTime = 0;\r\n        for(let i = 0; i < this.topNodeArr.length; i++){\r\n            let node = this.topNodeArr[i];\r\n            let x = node.x;\r\n            let y = this.topNodeYArr[i];\r\n            let tween = new cc.Tween(node);\r\n            tween.delay(delayTime).to(time-0.2, {position: new cc.Vec2(x, y)}, cc.easeBackOut()).start();\r\n            delayTime += 0.1;\r\n        }\r\n        \r\n        delayTime = 0;\r\n        for(let i = 0; i < this.leftNodeArr.length; i++){\r\n            let node = this.leftNodeArr[i];\r\n            let x = this.leftNodeXArr[i]\r\n            let y = node.y;\r\n            let tween = new cc.Tween(node);\r\n            tween.delay(delayTime).to(time-0.1, {position: new cc.Vec2(x, y)}, cc.easeBackOut()).start();\r\n            delayTime += 0.1;\r\n        }\r\n        \r\n        delayTime = 0;\r\n        for(let i = 0; i < this.rightNodeArr.length; i++){\r\n            let node = this.rightNodeArr[i];\r\n            let x = this.rightNodeXArr[i]\r\n            let y = node.y;\r\n            let tween = new cc.Tween(node);\r\n            tween.delay(delayTime).to(time-0.1, {position: new cc.Vec2(x, y)}, cc.easeBackOut()).start();\r\n            delayTime += 0.1;\r\n        }\r\n        delayTime = 0;\r\n        for(let i =0; i < this.middleNodeArr.length; i++){\r\n            let node = this.middleNodeArr[i];\r\n            let x = this.middleNodeXArr[i]\r\n            let y=  node.y;\r\n            let tween = new cc.Tween(node);\r\n            tween.delay(delayTime).to(time-0.1, {position: new cc.Vec2(x, y)}, cc.easeBackOut()).start();\r\n            delayTime += 0.1;\r\n        }\r\n    }\r\n\r\n\r\n    /** \r\n     * 新的动画配置 灵活设置单个偏移\r\n     * {node: cc.node, offset: cc.vec2}\r\n     * {node: this.menu, offset: cc.v2(0, 200)} 从上往下移动 offset y=+200\r\n     * offset可以不传，走默认偏移\r\n     */\r\n    public felxInit(){\r\n        if(this.bInit){\r\n            return;\r\n        }\r\n        this.bInit = true;\r\n\r\n        if(!this.bottomObjArr){\r\n            this.bottomObjArr = [];\r\n        }\r\n        for(let i = 0; i < this.bottomObjArr.length; i++){\r\n            let node = this.bottomObjArr[i].node;\r\n            let offset = this.bottomObjArr[i].offset || this.bottomOffset;\r\n            node.y += offset.y;\r\n        }\r\n\r\n        if(!this.topObjArr){\r\n            this.topObjArr = [];\r\n        }\r\n        for(let i = 0; i < this.topObjArr.length; i++){\r\n            let node = this.topObjArr[i].node;\r\n            let offset = this.topObjArr[i].offset || this.topOffset;\r\n            node.y += offset.y;\r\n        }\r\n        \r\n        if(!this.leftObjArr){\r\n            this.leftObjArr = [];\r\n        }\r\n        for(let i = 0; i < this.leftObjArr.length; i++){\r\n            let node = this.leftObjArr[i].node;\r\n            let offset = this.leftObjArr[i].offset || this.leftOffset;\r\n            node.x += offset.x;\r\n        }\r\n        \r\n        if(!this.rightObjArr){\r\n            this.rightObjArr = [];\r\n        }\r\n        for(let i = 0; i < this.rightObjArr.length; i++){\r\n            let node = this.rightObjArr[i].node;\r\n            let offset = this.rightObjArr[i].offset || this.rightOffset;\r\n            node.x += offset.x;\r\n        }\r\n        if(!this.middleObjArr){\r\n            this.middleObjArr = [];\r\n        }\r\n        for(let i = 0; i < this.middleObjArr.length; i++){\r\n            let node = this.middleObjArr[i].node;\r\n            let offset = this.middleObjArr[i].offset || this.middleOffset;\r\n            node.x += offset.x;\r\n        }\r\n        this.node.opacity = 1;//不能设为0，否则透明度为0的情况下触发点击事件会无法冒泡\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param timeScale 总时间 //不精准 移动延时暂不记\r\n     * @param delay     开始延时\r\n     * @param finishCal \r\n     * @param target \r\n     */\r\n    public startFlexAnimtionByMask(timeScale: number = 2, delay: number = 0, finishCal?: Function, target?: any){\r\n        let danchuTime = 0.25* timeScale;\r\n        let danruTime = 0.25* timeScale;\r\n        let assembleTime = 0.5* timeScale;\r\n        if (this.getMoveCount() == 0){\r\n            assembleTime = 0;\r\n        }\r\n        if (this.loadingNode && this.maskNode){\r\n            Global.Component.scheduleOnce(()=>{\r\n                this.flexDanchuByMask(danchuTime);\r\n            }, delay);\r\n            Global.Component.scheduleOnce(()=>{\r\n                this.loadingNode.active = false;\r\n                this.flexDanruByMask(danruTime);\r\n            }, delay + danchuTime);\r\n            Global.Component.scheduleOnce(()=>{\r\n                this.flexNodesAnimation(assembleTime);\r\n            }, delay + danchuTime + danruTime);\r\n            Global.Component.scheduleOnce(()=>{\r\n                this.maskNode.active = false;   // 遮罩防止动画过程中操作 debug action队列中调用时机不对\r\n                if(finishCal && target){\r\n                    finishCal.call(target);\r\n                }\r\n            }, delay + danchuTime + danruTime + assembleTime);\r\n        }\r\n        else{\r\n            this.loadingNode.active = false;\r\n            this.maskNode.active = false;\r\n            this.node.active = true;\r\n        }\r\n    }\r\n\r\n    protected flexDanchuByMask(time: number){\r\n        this.maskNode.active = true;\r\n        this.maskNode.opacity = 1;\r\n        let ac1 = cc.fadeTo(time, 200);\r\n        this.maskNode.runAction(ac1);\r\n    }\r\n\r\n    protected flexDanruByMask(time){\r\n        this.node.opacity = 255;\r\n        let ac2 = cc.fadeTo(time, 1);\r\n        this.maskNode.runAction(ac2);\r\n    }\r\n\r\n    protected flexNodesAnimation(time: number = 0.5){\r\n        if (time < 0.2){\r\n            time = 0.2;     // 防错\r\n        }\r\n        var delayTime:number = 0;\r\n        for(let i = 0; i < this.bottomObjArr.length; i++){\r\n            let node = this.bottomObjArr[i].node;\r\n            let offset = this.bottomObjArr[i].offset || this.bottomOffset;\r\n            let tween = new cc.Tween(node);\r\n            tween.delay(delayTime).by(time, {position: offset.mul(-1)}, cc.easeBackOut()).start();\r\n            delayTime += 0.1;\r\n        }\r\n\r\n        delayTime = 0;\r\n        for(let i = 0; i < this.topObjArr.length; i++){\r\n            let node = this.topObjArr[i].node;\r\n            let offset = this.topObjArr[i].offset || this.topOffset;\r\n            let tween = new cc.Tween(node);\r\n            tween.delay(delayTime).by(time-0.2, {position: offset.mul(-1)}, cc.easeBackOut()).start();\r\n            delayTime += 0.1;\r\n        }\r\n        \r\n        delayTime = 0;\r\n        for(let i = 0; i < this.leftObjArr.length; i++){\r\n            let node = this.leftObjArr[i].node;\r\n            let offset = this.leftObjArr[i].offset || this.leftOffset;\r\n            let tween = new cc.Tween(node);\r\n            tween.delay(delayTime).by(time-0.1, {position: offset.mul(-1)}, cc.easeBackOut()).start();\r\n            delayTime += 0.1;\r\n        }\r\n        \r\n        delayTime = 0;\r\n        for(let i = 0; i < this.rightObjArr.length; i++){\r\n            let node = this.rightObjArr[i].node;\r\n            let offset = this.rightObjArr[i].offset || this.rightOffset;\r\n            let tween = new cc.Tween(node);\r\n            tween.delay(delayTime).by(time-0.1, {position: offset.mul(-1)}, cc.easeBackOut()).start();\r\n            delayTime += 0.1;\r\n        }\r\n\r\n        delayTime = 0;\r\n        for(let i = 0; i < this.middleObjArr.length; i++){\r\n            let node = this.middleObjArr[i].node;\r\n            let offset = this.middleObjArr[i].offset || this.middleOffset;\r\n            let tween = new cc.Tween(node);\r\n            tween.delay(delayTime).by(time-0.1, {position: offset.mul(-1)}, cc.easeBackOut()).start();\r\n            delayTime += 0.1;\r\n        }\r\n    }\r\n\r\n    public getMaxMoveDelay(){\r\n        return (Math.max(this.bottomObjArr.length, this.topObjArr.length, this.leftObjArr.length, this.rightObjArr.length,this.middleObjArr.length, 1) -1) * 0.1;\r\n    }\r\n\r\n    public getMoveCount(){\r\n        return this.bottomObjArr.length + this.topObjArr.length + this.leftObjArr.length + this.rightObjArr.length + this.middleObjArr.length;\r\n    }\r\n}\r\n"]}