{"version":3,"sources":["assets\\hall\\scripts\\framework\\native\\NatvieEvent.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import HallStorageKey from \"../../logic/hallcommon/const/HallStorageKey\";\r\nimport AppHelper from \"../../logic/core/tool/AppHelper\";\r\nimport SystemInfo from \"../../logic/core/setting/SystemInfo\";\r\nimport Toolkit from \"../../logic/core/tool/Toolkit\";\r\nimport Setting from \"../../logic/core/setting/Setting\";\r\nimport Base64Cls from \"../libs/Base64Cls\";\r\n\r\nexport default class NativeEvent {\r\n    private JS_Native_Common_Java_Class = \"com.game.libs.JSbridge\";\r\n    private JS_Native_Common_OC_Class = \"JSbridge\";\r\n\r\n    private JS_Native_Common_SyncFunc = \"nativeCallSync\"\r\n    private JS_Native_Common_AsyncFunc = \"nativeCallAsync\"\r\n    private isBackground  = false\r\n\r\n    private timer :any = null\r\n\r\n    private callbackArray: Array<any> = [];\r\n\r\n    /**\r\n     * 原生接口加密key值\r\n     */\r\n    private jiamiKey:string = \"\";\r\n    /**\r\n     * 原生接口加密类型 0-不加密 1-base64全加密 2-base64包加密 11-md5全加密 12-md5包加密\r\n     */\r\n    private jiamiType = 0;\r\n    /**\r\n     * 加密后保留前几个字符: 0——全部保留\r\n     */\r\n    private jiamiKeep = 0;\r\n    /**\r\n     * 加密后前缀字符串\r\n     */\r\n    private jiamiFirstLetter = \"x\";\r\n    /**\r\n     * 不加密的类\r\n     */\r\n    private jiamiFilterClass = \"\";\r\n\r\n    /**\r\n     * 加密后的唯一原生通讯Class\r\n     */\r\n    private jiamiOnlyClass = \"\";\r\n    /**\r\n     * 加密后的唯一原生通讯函数\r\n     */\r\n    private jiamiOnlyFunc = \"\";\r\n\r\n\r\n    constructor() {\r\n        cc.game.on(cc.game.EVENT_HIDE, this.onPause, this)\r\n        cc.game.on(cc.game.EVENT_SHOW, this.onResume, this);\r\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this)\r\n    }\r\n\r\n    private onKeyDown(event) {\r\n        switch (event.keyCode) {\r\n            case cc.macro.KEY.back: {\r\n                Global.NativeEvent.onShowExitDialog()\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    onResume = function () {\r\n        this.isBackground = false\r\n        if(this.timer)\r\n        {\r\n            clearTimeout(this.timer)\r\n        }\r\n        Logger.log(\"---------NativeEvent----------onResume---------\")\r\n        if (AppHelper.isBaiduPlatform()) {\r\n            Global.Event.event(GlobalEvent.UPDATE_BAIDU_STATE);\r\n        }\r\n    }\r\n\r\n    onPause = function () {\r\n        this.isBackground = true\r\n        Logger.log(\"---------NativeEvent----------onPause---------\")\r\n    }\r\n\r\n    public onShowExitDialog() {\r\n        Logger.log(\"cocos----------showExitDialog-----\")\r\n        let exitCallBackFunc = () => {\r\n            this.onExitGame();\r\n        }\r\n        Global.UI.showYesNoBox(\"是否退出游戏？\", exitCallBackFunc, null);\r\n    }\r\n\r\n\t\r\n\r\n    //params 使用json\r\n    private nativeForAndroid(classPath: string, funcName: string, paramType: string, ...parameters:any): any {\r\n        // Logger.log(\"classPath=\" + classPath + \"-----funcName----\" + funcName + \"------paramType-----\" + paramType + \"------------params----------\" + params)\r\n        let bFilter = false;//是否过滤\r\n        if(this.jiamiFilterClass != \"\" && classPath.indexOf(this.jiamiFilterClass) >= 0){\r\n            bFilter = true;\r\n        }\r\n        if(!bFilter){\r\n            if(this.jiamiOnlyClass != \"\" && this.jiamiOnlyFunc != \"\"){\r\n                let sParam = classPath + \"===\" + funcName + \"===\" + paramType + \"===\";\r\n                parameters.forEach(element => {\r\n                    sParam += element + \"===\";\r\n                });\r\n                // parameters = sParam;\r\n                classPath = this.jiamiOnlyClass;\r\n                funcName = this.jiamiOnlyFunc;\r\n                paramType = \"(Ljava/lang/String;)Ljava/lang/String;\";\r\n                return jsb.reflection.callStaticMethod(classPath, funcName, paramType, sParam);\r\n            }else if(this.jiamiKey != \"\"){\r\n                let arr = classPath.split('.');\r\n                if(arr.length <= 1){\r\n                    arr = classPath.split('/');\r\n                }\r\n    \r\n                classPath = \"\";\r\n                for(let i = 0; i < arr.length; i++){\r\n                    let jiamiStr = this.jiamiKey + arr[i];\r\n                    let jiamiType = this.jiamiType % 10\r\n                    if(i == arr.length - 1 && jiamiType == 2){\r\n                        jiamiStr = arr[i];//类不加密\r\n                    }else{\r\n                        if(this.jiamiType > 10){\r\n                            //md5加密\r\n                            jiamiStr = Global.Toolkit.md5(jiamiStr);\r\n                            if(this.jiamiKeep > 0){\r\n                                jiamiStr = jiamiStr.substr(0, this.jiamiKeep);\r\n                            }\r\n                            jiamiStr = this.jiamiFirstLetter + jiamiStr;\r\n                        }else{\r\n                            //base64加密\r\n                            jiamiStr = Base64Cls.encode(jiamiStr);\r\n                            if(this.jiamiKeep > 0){\r\n                                jiamiStr = jiamiStr.substr(0, this.jiamiKeep);\r\n                            }\r\n                            jiamiStr = jiamiStr.replace(/=/g, this.jiamiFirstLetter);\r\n                        }\r\n                    }\r\n                    if(classPath != \"\"){\r\n                        classPath += \"/\"\r\n                    }\r\n                    classPath += jiamiStr;\r\n    \r\n                }\r\n            }\r\n        }\r\n        let returnValue = jsb.reflection.callStaticMethod(classPath, funcName, paramType, ...parameters);\r\n        return returnValue;\r\n    }\r\n\r\n    private nativeForIOS(classPath: string, funcName: string, params: string): any {\r\n        let returnValue = jsb.reflection.callStaticMethod(classPath, funcName, params)\r\n        return returnValue;\r\n    }\r\n\r\n    private nativeForWeb(funcName: string, params?: object) {\r\n        Logger.log(\"-----------!!!Native call-----funcName = \" + funcName)\r\n        return null;\r\n    }\r\n\r\n    //网络异常回调\r\n    public NativeCallNetWorkFailed(returnStr: string) {\r\n        if (returnStr) {\r\n            Logger.log(\"------------NativeCallNetWorkFailed return \" + returnStr)\r\n            let returnJsonObj\r\n            try {\r\n                returnJsonObj = JSON.parse(returnStr)\r\n            }\r\n            catch (e) {\r\n                Logger.error(\"解析json失败\", returnStr);\r\n                Global.ReportTool.ReportClientError(\"NativeCallNetWorkFailed\",\r\n                    {\r\n                        des: \"NativeCallNetWorkFailed\",\r\n                        content: returnStr,\r\n                    })\r\n                return;\r\n            }\r\n            if (returnJsonObj) {\r\n                if (returnJsonObj.errorCode) {\r\n\r\n                }\r\n                if (returnJsonObj.url) {\r\n\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    //异步回调\r\n    public NativeCallBackAsync(returnStr: string) {\r\n        if (returnStr) {\r\n            Logger.log(\"------------native return \" + returnStr)\r\n            let returnJsonObj\r\n            try {\r\n                returnJsonObj = JSON.parse(returnStr)\r\n            }\r\n            catch (e) {\r\n                Logger.error(\"解析json失败\", returnStr);\r\n                Global.ReportTool.ReportClientError(\"nativeCallAsyncError\",\r\n                    {\r\n                        des: \"nativeCallAsyncError\",\r\n                        content: returnStr,\r\n                    })\r\n                return;\r\n            }\r\n            let index\r\n            for (let i = 0; i < this.callbackArray.length; i++) {\r\n                let element = this.callbackArray[i];\r\n                if (returnJsonObj.funcName == element.funcName) {\r\n                    index = i;\r\n                    let mCallback = element.callback;\r\n                    if (mCallback) {\r\n                        mCallback(returnJsonObj)\r\n                    }\r\n                    else {\r\n                        Logger.log(\"call is null\", element.funcName, \"return name\", returnJsonObj.funcName);\r\n                    }\r\n                }\r\n                else {\r\n                    Logger.log(\"element.funcName\", element.funcName, \"return name\", returnJsonObj.funcName);\r\n                }\r\n            }\r\n            if (index != null && index != undefined) {\r\n                this.callbackArray.splice(index, 1)\r\n            }\r\n        } else {\r\n            Logger.log(\"-----------native has no return-----\")\r\n        }\r\n    }\r\n\r\n    //异步操作\r\n    public nativeCallAsync(funcName: string, funcParam?: object, callback?: Function) {\r\n        this.callbackArray.push({ \"funcName\": funcName, \"callback\": callback })\r\n        this.nativeCall(funcName, \"async\", funcParam);\r\n    }\r\n\r\n    //同步操作\r\n    public nativeCallSync(funcName: string, funcParam?: object, callback?: Function) {\r\n        let returnValue = this.nativeCall(funcName, \"sync\", funcParam)\r\n        Logger.log(\"-----nativeCallSync------returnValue=\" + returnValue)\r\n        let returnObj = null;\r\n        if (returnValue) {\r\n            try {\r\n                returnObj = JSON.parse(returnValue)\r\n                if (callback) {\r\n                    callback(returnObj)\r\n                }\r\n            } catch (error) {\r\n                Logger.error(\"nativeCallSync error\" + error)\r\n                Global.ReportTool.ReportClientError(\"nativeCallSyncError\",\r\n                    {\r\n                        des: \"nativeCallSyncError\",\r\n                        content: error,\r\n                    })\r\n            }\r\n        }\r\n        return returnObj;\r\n    }\r\n\r\n\r\n    //原生调用入口\r\n    private nativeCall(funcName: string, callType: string, funcParam?: object) {\r\n        if (!funcName) {\r\n            Logger.error(\"nativeCall funcName = null\")\r\n            return;\r\n        }\r\n        if (!cc.sys.isNative) {\r\n            return;\r\n        }\r\n        if (!funcParam) {\r\n            funcParam = {}\r\n        }\r\n        let jsNativeFuncName = \"\";\r\n        let jsNativeFuncParamType = \"\";\r\n\r\n        if (callType == \"sync\") {\r\n            jsNativeFuncName = this.JS_Native_Common_SyncFunc;\r\n            jsNativeFuncParamType = \"(Ljava/lang/String;)Ljava/lang/String;\";\r\n        } else if (callType == \"async\") {\r\n            jsNativeFuncName = this.JS_Native_Common_AsyncFunc;\r\n            jsNativeFuncParamType = \"(Ljava/lang/String;)V\"\r\n        }\r\n\r\n        let paramsObj = { \"funcName\": funcName, \"funcParam\": JSON.stringify(funcParam) }\r\n        let paramJson = JSON.stringify(paramsObj);\r\n        let returnStr\r\n        if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n            returnStr = this.nativeForAndroid(this.JS_Native_Common_Java_Class, jsNativeFuncName, jsNativeFuncParamType, paramJson)\r\n        } else if (cc.sys.os === cc.sys.OS_IOS) {\r\n            returnStr = this.nativeForIOS(this.JS_Native_Common_OC_Class, jsNativeFuncName + \":\", paramJson)\r\n        } else {\r\n            returnStr = this.nativeForWeb(funcName, funcParam)\r\n        }\r\n\r\n        if (returnStr) {\r\n            return returnStr;\r\n        }\r\n\r\n    }\r\n\r\n    /************************************* 常规功能 start*******************************************************/\r\n    public Init() {\r\n        if (cc.sys.os == cc.sys.OS_ANDROID) {\r\n            let resultStr:string = this.nativeForAndroid(\"initjscall.SyncCall\", \"Init\", \"(Ljava/lang/String;)Ljava/lang/String;\", \"\");\r\n            if(!resultStr){\r\n                resultStr = this.nativeForAndroid(\"org.cocos2dx.javascript.AppActivity\", \"Init\", \"(Ljava/lang/String;)Ljava/lang/String;\", \"\");\r\n            }\r\n            if(resultStr){\r\n                let jsonObj = JSON.parse(resultStr);\r\n                let jiami = jsonObj[\"jiami\"];\r\n                let key = jsonObj[\"key\"];\r\n                this.jiamiType = parseInt(jiami);\r\n                if(this.jiamiType > 0){\r\n                    this.jiamiKey = key;\r\n                    //新包 新加的参数，默认参数兼容老包\r\n                    let jiamiKeep = jsonObj[\"keep\"];\r\n                    if(jiamiKeep){\r\n                        this.jiamiKeep = jiamiKeep;\r\n                    }\r\n                    let jiamiFirstLetter = jsonObj[\"first\"];\r\n                    if(jiamiFirstLetter){\r\n                        this.jiamiFirstLetter = jiamiFirstLetter;\r\n                    }\r\n                    let jiamiFilterClass = jsonObj[\"filter\"];\r\n                    if(jiamiFilterClass){\r\n                        this.jiamiFilterClass = jiamiFilterClass;\r\n                    }\r\n                    let jiamiOnlyFunc = jsonObj[\"onlyfunc\"];\r\n                    if(jiamiOnlyFunc){\r\n                        this.jiamiOnlyFunc = jiamiOnlyFunc;\r\n                    }\r\n                    let jiamiOnlyClass = jsonObj[\"onlyclass\"];\r\n                    if(jiamiOnlyClass){\r\n                        this.jiamiOnlyClass = jiamiOnlyClass;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public onInit(callback?: Function) {\r\n        this.nativeCallSync(\"onInit\")\r\n        if(cc.sys.isBrowser)\r\n            return;\r\n        //获取cerDir的文件\r\n        if (cc.sys.os == cc.sys.OS_ANDROID || cc.sys.os == cc.sys.OS_IOS) {\r\n            let cerDir = Global.HotUpdateManager.updateHelper.genStoragePath(\"hall\") + \"/cer\"\r\n            if (jsb && jsb.fileUtils.isDirectoryExist(cerDir)) {\r\n                let fileList = jsb.fileUtils.listFiles(cerDir)\r\n                if (fileList && fileList.length > 0) {\r\n                    Global.Setting.SystemInfo.cerDirFiles = fileList\r\n                }\r\n            }else if(jsb && jsb.fileUtils.isDirectoryExist(\"cer\")){\r\n                let fileList = jsb.fileUtils.listFiles(\"cer\")\r\n                if (fileList && fileList.length > 0) {\r\n                    Global.Setting.SystemInfo.cerDirFiles = fileList\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n    }\r\n\r\n    public hideSplashView() {\r\n        this.nativeCallSync(\"hideSplashView\")\r\n    }\r\n\r\n    public showSplashView() {\r\n        this.nativeCallSync(\"showSplashView\")\r\n    }\r\n    \r\n    //保存到相册\r\n    public saveToAlbum(path: string, callback?: Function) {\r\n        let funcParam = {};\r\n        funcParam[\"path\"] = path;\r\n        this.nativeCallAsync(\"saveToAlbum\", funcParam, (retObj) => {\r\n            if (callback) {\r\n                callback(retObj);\r\n                callback = null;\r\n            }\r\n        })\r\n    }\r\n\r\n    public getNativeParams(callback?: Function) {\r\n        if (cc.sys.isNative) {\r\n            this.nativeCallSync(\"getNativeParams\", null, (retObj) => {\r\n                if (retObj.result == 0) {\r\n                    let paramObj = JSON.parse(retObj.funcParam)\r\n                    let sys = Global.Setting.SystemInfo;\r\n                    sys.deviceId = paramObj.deviceId;\r\n                    if (paramObj.firstInstallStatus) {\r\n                        let firstInstallStatusNum = Number(retObj.firstInstallStatus)\r\n                        if (firstInstallStatusNum === 1) {\r\n                            sys.firstInstallStatus = true\r\n                        } else {\r\n                            sys.firstInstallStatus = false\r\n                        }\r\n                    }\r\n                    if (paramObj.webglData) {\r\n                        sys.webglData = paramObj.webglData\r\n                    }\r\n                    if (paramObj.appChannel) {\r\n                        sys.packChannel = paramObj.appChannel\r\n                    }\r\n                    if (paramObj.appVersion) {\r\n                        sys.appVersion = paramObj.appVersion\r\n                    }\r\n                    if (paramObj.pkgVersion) {\r\n                        sys.pkgVersion = paramObj.pkgVersion\r\n                    }\r\n                    if (paramObj.gameUrlJsonCfg) {\r\n                        sys.gameUrlJsonCfg = paramObj.gameUrlJsonCfg\r\n                    }\r\n\r\n                    if (paramObj.clipboardText)\r\n                        sys.clipboardText = paramObj.clipboardText;\r\n                    if (paramObj.screenWidth)\r\n                        sys.nativeScreenWidth = paramObj.screenWidth;\r\n                    if (paramObj.screenHeight)\r\n                        sys.nativeScreenHeight = paramObj.screenHeight;\r\n                    if (paramObj.screenDensity)\r\n                        sys.nativeScreenDensity = paramObj.screenDensity;\r\n                    if (paramObj.screenDensityDpi)\r\n                        sys.nativeScreenDensityDpi = paramObj.screenDensityDpi;\r\n                    if (paramObj.hostIp)\r\n                        sys.hostIp = paramObj.hostIp;\r\n                    if (paramObj.osBuildModel)\r\n                        sys.osBuildModel = paramObj.osBuildModel;\r\n                    if (paramObj.osBuildVersionSDK)\r\n                        sys.osBuildVersionSDK = paramObj.osBuildVersionSDK;\r\n                    if (paramObj.osBuildVersionRelease)\r\n                        sys.osBuildVersionRelease = paramObj.osBuildVersionRelease;\r\n\r\n                    if (paramObj.nativeLog) {\r\n                        let nativeLogNum = Number(paramObj.nativeLog);\r\n                        if (nativeLogNum === 1) {\r\n                            sys.nativeLog = true;\r\n                        } else {\r\n                            sys.nativeLog = false;\r\n                        }\r\n                    }\r\n                    if (paramObj.bundleName) {\r\n                        sys.bundleName = paramObj.bundleName;\r\n                    }\r\n                    if (paramObj.platform) {\r\n                        let nativePlatform = paramObj.platform\r\n                        sys.nativePlatform = nativePlatform\r\n                    }\r\n\r\n                    if (paramObj.isIphoneX) {\r\n                        let iphoneXFlag = paramObj.isIphoneX;\r\n                        if (Number(iphoneXFlag) === 1) {\r\n                            sys.isIphoneX = true;\r\n                        }\r\n                    }\r\n\r\n                    if (paramObj.appConstUrl) {\r\n                        sys.appConstUrl = paramObj.appConstUrl\r\n                    }\r\n\r\n                    if (paramObj.appConstBackupUrl)\r\n                        sys.appConstBackupUrl = paramObj.appConstBackupUrl;\r\n\r\n                    if (paramObj.appConstBackupUrl1)\r\n                        sys.appConstBackupUrl1 = paramObj.appConstBackupUrl1;\r\n\r\n                    if (paramObj.appConstUrlArray) {\r\n                        let appConstUrlArray = JSON.parse(paramObj.appConstUrlArray);\r\n                        if (appConstUrlArray) {\r\n                            sys.appConstUrlArray = Global.UrlUtil.dealFullUrlWithMutiLinesSameHost(appConstUrlArray)\r\n                        }\r\n                    }\r\n\r\n                    if (paramObj.appID) {\r\n                        sys.appID = paramObj.appID\r\n                    }\r\n                    if (paramObj.subPlatformID) {\r\n                        sys.subPlatformID = paramObj.subPlatformID\r\n                    }\r\n                    if (paramObj.appName) {\r\n                        sys.appName = paramObj.appName;\r\n                    }\r\n                    if (paramObj.zipModel) {\r\n                        let zipModel = paramObj.zipModel;\r\n                        if (Number(zipModel) === 1) {\r\n                            sys.zipModel = true;\r\n                        }\r\n                    }\r\n\r\n                    if (paramObj.wxKey)\r\n                        sys.wxKey = paramObj.wxKey;\r\n                    if (paramObj.jpushKey)\r\n                        sys.jpushKey = paramObj.jpushKey;\r\n                    if (paramObj.appSign)\r\n                        sys.appSign = paramObj.appSign;\r\n                         \r\n                    if(paramObj.simulator){\r\n                        sys.simulator = paramObj.simulator;\r\n                    }\r\n\r\n                    if(paramObj.hallSkin){\r\n                        sys.hallSkin = paramObj.hallSkin;\r\n                    }\r\n                    if(paramObj.gameSkin){\r\n                        sys.gameSkin = paramObj.gameSkin;\r\n                    }\r\n                    if(paramObj.packageTag){\r\n                        sys.packageTag = paramObj.packageTag;\r\n                    }\r\n                    //生产厂商\r\n                    if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n                        if (paramObj.deviceBrand) {\r\n                            sys.deviceBrand = paramObj.deviceBrand\r\n                        }\r\n\r\n                        let storageUid = Global.Setting.storage.get(HallStorageKey.Uid)\r\n                        let storageSvrId = Global.Setting.storage.get(HallStorageKey.ServerDeviceId)\r\n                        if (storageSvrId) {\r\n                            sys.server_id = storageSvrId\r\n                        }\r\n                        //老玩家\r\n                        if (storageUid && (storageSvrId == null || storageSvrId == \"\" || storageSvrId == 0)) {\r\n                            sys.server_id = paramObj.deviceId\r\n                        }\r\n                    } else if (cc.sys.os === cc.sys.OS_IOS) {\r\n                        sys.deviceBrand = \"Apple\"\r\n                    }\r\n\r\n                }\r\n                if (callback) {\r\n                    callback(retObj)\r\n                }\r\n            })\r\n        }\r\n        else {\r\n            // let sysInfo = Global.Setting.SystemInfo;\r\n\r\n            // sysInfo.deviceId = deviceid;\r\n            // Logger.error(Global.Setting.SystemInfo.deviceId);\r\n            // if (callback) {\r\n            //     callback(null)\r\n            // }\r\n        }\r\n\r\n    }\r\n\r\n    public getOpenInstallData(callback?: Function) {\r\n        this.nativeCallAsync(\"getOpenInstallData\", null, (retObj) => {\r\n            if (retObj.result == 0) {\r\n                let content = retObj.funcParam\r\n                if (callback) {\r\n                    callback(content);\r\n                    callback = null;\r\n                }\r\n            } else {\r\n                Logger.error(\"getOpenInstallData失败\")\r\n                if (callback) {\r\n                    callback(null)\r\n                    callback = null;\r\n                }\r\n            }\r\n        })\r\n    }\r\n    public getSharetraceData(callback?: Function) {\r\n        this.nativeCallAsync(\"getSharetraceData\", null, (retObj) => {\r\n            if (retObj.result == 0) {\r\n                let content = retObj.funcParam\r\n                if (callback) {\r\n                    callback(content);\r\n                    callback = null;\r\n                }\r\n            } else {\r\n                // Logger.error(\"getShareInstallDat 失败a\")\r\n                if (callback) {\r\n                    callback(null)\r\n                    callback = null;\r\n                }\r\n            }\r\n        })\r\n    }\r\n    public startWXLogin(callback?: Function) {\r\n        this.nativeCallAsync(\"startWXLogin\", {wxAppKey:Global.Setting.WX_APP_ID}, (retObj) => {\r\n            if (callback) {\r\n                callback(retObj);\r\n                callback = null;\r\n            }\r\n        })\r\n    }\r\n    public startFBLogin(callback?: Function) {\r\n        this.nativeCallAsync(\"startFBLogin\", null, (retObj) => {\r\n            if (callback) {\r\n                callback(retObj);\r\n                callback = null;\r\n            }\r\n        })\r\n    } \r\n    //打开相册\r\n    public startOpenAlbum(callback?: Function) {\r\n        this.nativeCallAsync(\"openPhotos\", null, (retObj) => {\r\n            if (callback) {\r\n                callback(retObj);\r\n                callback = null;\r\n            }\r\n        })\r\n    }\r\n    //打开相机\r\n    public startOpenCamera(callback?: Function) {\r\n        this.nativeCallAsync(\"openTakePhoto\", null, (retObj) => {\r\n            if (callback) {\r\n                callback(retObj);\r\n                callback = null;\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n  /**从40001版本开始才有的方法\r\n     * 打开相册\r\n     * @param uploadWay   视频上传的方式 1. js方式实现 2.原生实现  默认第2种方式,第一种未实现\r\n     * @param videoMaxsize   视频上传的限制大小，单位为KB，默认51200KB(50MB)，传0是不限制大小\r\n     * @param videoDuration   视频上传的时长限制，默认为120秒\r\n     * @param imageMaxsize  图片上传的限制大小，单位为KB，默认200KB，传0是不限制大小\r\n     * @param thumbMaxsize 缩略图上传的限制大小，单位为KB，默认100KB ，传0是不限制大小\r\n     * @param callback 回调\r\n     */\r\n    public nstartOpenAlbum(uploadWay:number=2, videoMaxsize:number=51200,videoDuration:number=120,imageMaxsize:number=200,thumbMaxsize:number=100,callback?: Function) { \r\n        //alioss的配置\r\n        let userid = Global.ChatServer.userid\r\n        let token = Global.ChatServer.token\r\n        let endpoint =  Global.Setting.alioss_endpoint\r\n        let stsserver = \"https://\"+Global.ChatServer.hurl+\"/login/ossAuthority\"\r\n        let bucket = Global.Setting.alioss_bucket\r\n        // Global.Setting\r\n        let params = {\"uploadWay\":uploadWay,\"videoMaxsize\":videoMaxsize,\"videoDuration\":videoDuration,\"imageMaxsize\":imageMaxsize,\"thumbMaxsize\":thumbMaxsize,\r\n        \"userid\":userid,\"token\":token,\"endpoint\":endpoint,\"stsserver\":stsserver,\"bucket\":bucket} \r\n        this.nativeCallAsync(\"openPhotos\", params, (retObj) => {\r\n            if (callback) {\r\n                callback(retObj);\r\n                callback = null;\r\n            }\r\n        })\r\n    } \r\n    /**从40001版本开始才有的方法\r\n     * 打开相机\r\n     * @param uploadWay    视频上传的方式 1. js方式实现 2.原生实现  默认第2种方式,第1种未实现\r\n     * @param imageMaxsize 拍照图片的上传的限制大小，单位为KB，默认200KB，传0是不限制大小\r\n     * @param thumbMaxsize 缩略图上传的限制大小，单位为KB，默认100KB ，\r\n     * @param callback  回调\r\n     */\r\n    public  nstartOpenCamera(uploadWay:number,imageMaxsize:number=200,thumbMaxsize:number=100,callback?: Function) {\r\n        //alioss的配置\r\n        let userid = Global.ChatServer.userid\r\n        let token = Global.ChatServer.token\r\n        let endpoint =  Global.Setting.alioss_endpoint\r\n        let stsserver =  \"https://\"+Global.ChatServer.hurl+\"/login/ossAuthority\"\r\n        let bucket = Global.Setting.alioss_bucket\r\n\r\n        let params = {\"uploadWay\":uploadWay,\"imageMaxsize\":imageMaxsize,\"thumbMaxsize\":thumbMaxsize,\r\n        \"userid\":userid,\"token\":token,\"endpoint\":endpoint,\"stsserver\":stsserver,\"bucket\":bucket} \r\n        this.nativeCallAsync(\"openTakePhoto\", params, (retObj) => {\r\n            if (callback) {\r\n                callback(retObj);\r\n                callback = null;\r\n            }\r\n        })\r\n    }\r\n\r\n    \r\n    //图片压缩 传入Base64\r\n    public startImageCompress(imagePath: string, maxSize, callback?: Function) {\r\n        let funcParam = {};\r\n        funcParam[\"imagePath\"] = imagePath;\r\n        funcParam[\"maxSize\"] = maxSize;\r\n        this.nativeCallAsync(\"startImageCompress\", funcParam, (retObj) => {\r\n            if (callback) {\r\n                callback(retObj);\r\n                callback = null;\r\n            }\r\n        })\r\n    }\r\n    //iOS 专用 获取info.plist 对应的key 的值\r\n    public getInfoPlistParam(key: string, callback?: Function) {\r\n        let funcParam = {};\r\n        funcParam[\"key\"] = key;\r\n        this.nativeCallAsync(\"getInfoPlistParam\", funcParam, (retObj) => {\r\n            // if (callback) {\r\n                callback(retObj);\r\n                callback = null;\r\n            // }\r\n        })\r\n    }\r\n    //安卓专用 获取手机上所有安装的app列表\r\n    public getAndroidAppIds(callback?: Function) {\r\n        let funcParam = {};\r\n        this.nativeCallAsync(\"getAndroidAppIds\", funcParam, (retObj) => {\r\n            if (callback) {\r\n                callback(retObj);\r\n                callback = null;\r\n            }\r\n        })\r\n    }\r\n      //获取本地渠道信息\r\n    public getLocalInstallInfo(callback?: Function) {\r\n        Logger.error(\"========================getLocalInstallInfo\");\r\n        this.nativeCallAsync(\"getLocalInstallInfo\", null, (retObj) => {\r\n            if (callback) {\r\n                callback(retObj);\r\n                callback = null;\r\n            }\r\n        })\r\n    }\r\n    //粘贴文本到剪切板\r\n    public copyTextToClipboard(txt: string, callback?: Function): void {\r\n        let funcParam = {};\r\n        funcParam[\"txt\"] = txt;\r\n        this.nativeCallSync(\"copyTextToClipboard\", funcParam, (retObj) => {\r\n            if (callback) {\r\n                callback(retObj);\r\n                callback = null;\r\n            }\r\n        })\r\n    }\r\n\r\n    //打开艾特App\r\n    public openAiteApp(atAppKey: string, atUid: string, callback?: Function) {\r\n        let funcParam = {};\r\n        funcParam[\"atAppKey\"] = atAppKey;\r\n        funcParam[\"atUid\"] = atUid;\r\n        this.nativeCallSync(\"openAiteApp\", funcParam, (retObj) => {\r\n            if (callback) {\r\n                callback(retObj);\r\n                callback = null;\r\n            }\r\n        })\r\n    }\r\n\r\n    //唤醒微信\r\n    public awakeWechatApp(callback?: Function) {\r\n        if (!AppHelper.checkPlatformWXEnable()) {\r\n            return;\r\n        }\r\n        this.nativeCallSync(\"awakeWechatApp\", null, (retObj) => {\r\n            if (callback) {\r\n                callback(retObj);\r\n                callback = null;\r\n            }\r\n        })\r\n    }\r\n    //唤醒QQ\r\n    public awakeQQApp(callback?: Function) {\r\n        this.nativeCallSync(\"awakeQQApp\", null, (retObj) => {\r\n            if (callback) {\r\n                callback(retObj);\r\n                callback = null;\r\n            }\r\n        })\r\n    }\r\n\r\n    //唤醒支付宝\r\n    public awakeALiPayApp(callback?: Function) {\r\n        this.nativeCallSync(\"awakeALiPayApp\", null, (retObj) => {\r\n            if (callback) {\r\n                callback(retObj);\r\n                callback = null;\r\n            }\r\n        })\r\n    }\r\n    //唤醒facebook\r\n    public awakeFBApp(callback?: Function) {\r\n        this.nativeCallSync(\"awakeFBApp\", null, (retObj) => {\r\n            if (callback) {\r\n                callback(retObj);\r\n                callback = null;\r\n            }\r\n        })\r\n    }\r\n    //检查微信是否安装\r\n    public checkWXInstall(callback?: Function) {\r\n        if (!AppHelper.checkPlatformWXEnable()) {\r\n            return;\r\n        }\r\n        this.nativeCallSync(\"checkWXInstall\", {wxAppKey:Global.Setting.WX_APP_ID}, (retObj) => {\r\n            if (callback) {\r\n                callback(retObj);\r\n                callback = null;\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    //检查facebook是否安装\r\n    public checkFBInstall(callback?: Function) {\r\n        this.nativeCallSync(\"checkFBInstall\", null, (retObj) => {\r\n            if (callback) {\r\n                callback(retObj);\r\n                callback = null;\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    //检测支付宝是否安装\r\n    public checkAliPayInstalled(callback?: Function) {\r\n        if (Global.Toolkit.checkIsPlatformShowZhifubao() == false) {\r\n            let retObj = { result: -1 }\r\n            if (callback) {\r\n                callback(retObj)\r\n            }\r\n            return;\r\n        }\r\n        this.nativeCallSync(\"checkAliPayInstalled\", null, (retObj) => {\r\n            if (callback) {\r\n                callback(retObj);\r\n                callback = null;\r\n            }\r\n        })\r\n    }\r\n\r\n    //退出游戏\r\n    public onExitGame(callback?: Function) {\r\n        this.nativeCallSync(\"onExitGame\", null, null)\r\n    }\r\n\r\n    //解密string\r\n    public decryptData(encryptData: string, callback?: Function) {\r\n        let retData = Global.NativeJSBBridge.decryptData(encryptData)\r\n        if (retData) {\r\n            let retObj = {}\r\n            retObj[\"result\"] = 0\r\n            retObj[\"funcParam\"] = retData\r\n            return retObj\r\n        }\r\n    }\r\n\r\n    /**设置白名单域名，不进行域名校验\r\n     * hosts: 数组的json  string\r\n     * \r\n     * **/\r\n    public setWhiteHosts(hosts: string) {\r\n        let funcParam = {};\r\n        funcParam[\"hosts\"] = hosts;\r\n        let retObj = this.nativeCallSync(\"setWhiteHosts\", funcParam)\r\n        return retObj\r\n    }\r\n\r\n    //获取loginSign\r\n    public getLoginSign(sign_key: string, deviceId: string, callback?: Function) {\r\n        let retData = Global.NativeJSBBridge.getLoginSign(sign_key, deviceId)\r\n        if (retData) {\r\n            let retObj = {}\r\n            retObj[\"result\"] = 0\r\n            retObj[\"funcParam\"] = retData\r\n            return retObj\r\n        }\r\n        let funcParam = {};\r\n        funcParam[\"sign_key\"] = sign_key;\r\n        funcParam[\"deviceId\"] = deviceId;\r\n        let retObj = this.nativeCallSync(\"getLoginSign\", funcParam)\r\n\r\n        return retObj\r\n    }\r\n    //检查是否可以热更\r\n    // appTemaId ：\"3URBRY62NY.com.dstars.enterprise\"\r\n    public checkCanHotUpdate(appTemaId: string, callback?: Function): void {\r\n        let funcParam = {};\r\n        funcParam[\"appTemaId\"] = appTemaId;\r\n        this.nativeCallSync(\"checkCanHotUpdate\", funcParam, (retObj) => {\r\n            if (callback) {\r\n                callback(retObj);\r\n                callback = null;\r\n            }\r\n        })\r\n    }\r\n    //开始更新\r\n    // updateUrl plist文件地址：\"https://d.tjetyt.com/package/588/manifest-ch0s.plist\"\r\n    public hotUpdateIPA(updateUrl: string, callback?: Function) {\r\n        let funcParam = {};\r\n        funcParam[\"updateUrl\"] = updateUrl;\r\n        this.nativeCallSync(\"hotUpdateIPA\", funcParam, (retObj) => {\r\n            if (callback) {\r\n                callback(retObj);\r\n                callback = null;\r\n            }\r\n        })\r\n    }\r\n\r\n    //安装apk\r\n    public installApk(path: string, callback?: Function) {\r\n        let funcParam = {};\r\n        funcParam[\"path\"] = path;\r\n        this.nativeCallSync(\"installApk\", funcParam, (retObj) => {\r\n            if (callback) {\r\n                callback(retObj);\r\n                callback = null;\r\n            }\r\n        })\r\n    }\r\n    //支付宝订单\r\n    public paymentAliPayOrder(orderStr: string, callback?: Function) {\r\n        if (Global.Toolkit.checkIsPlatformShowZhifubao() == false) {\r\n            Global.UI.fastTip(\"当前版本不支持此支付方式!\");\r\n            return;\r\n        }\r\n        let funcParam = {};\r\n        funcParam[\"orderStr\"] = orderStr;\r\n        funcParam[\"packageName\"] = Global.Setting.alipayReportPackageName\r\n        if( cc.sys.platform != cc.sys.IPHONE &&!Global.Toolkit.checkVersionSupport(50013))\r\n        {\r\n            this.checkTime()\r\n        }\r\n        this.nativeCallAsync(\"paymentAliPayOrder\", funcParam, (retObj) => {\r\n            if (callback) {\r\n                callback(retObj);\r\n                callback = null;\r\n            }\r\n        })\r\n    }\r\n\r\n    public checkTime()\r\n    {\r\n        if(this.timer)\r\n        {\r\n            clearTimeout(this.timer)\r\n        }\r\n        this.timer = setTimeout(() => {\r\n            if(!this.isBackground)\r\n            {\r\n                Global.UI.showSingleBox(\"当前版本较低，请您下载最新版本后充值！点击“确定”下载最新版本，取消请关闭\",()=>{\r\n                    cc.sys.openURL(Global.Setting.Urls.downLoadUrl)\r\n                })\r\n            }\r\n        }, 2000);\r\n    }\r\n    //微信订单\r\n    public paymentWXPayOrder(orderStr: string, callback?: Function) {\r\n        let funcParam = {};\r\n        funcParam[\"orderStr\"] = orderStr;\r\n        this.nativeCallAsync(\"paymentWXPayOrder\", funcParam, (retObj) => {\r\n            if (callback) {\r\n                callback(retObj);\r\n                callback = null;\r\n            }\r\n        })\r\n    }\r\n    //支付宝h5转Native\r\n    public aliPayInterceptorWithUrl(payUrl: string, callback?: Function) {\r\n        let funcParam = {};\r\n        funcParam[\"payUrl\"] = payUrl;\r\n        this.nativeCallAsync(\"payInterceptorWithUrl\", funcParam, (retObj) => {\r\n            if (callback) {\r\n                callback(retObj);\r\n                callback = null;\r\n            }\r\n        })\r\n    }\r\n    //关闭支付宝支付h5 webview页面\r\n    public hideAliPayWebView(callback?: Function) {\r\n        let funcParam = {};\r\n        this.nativeCallSync(\"hideAliPayWebView\", funcParam, (retObj) => {\r\n            if (callback) {\r\n                callback(retObj);\r\n                callback = null;\r\n            }\r\n        })\r\n    }\r\n\r\n    //支付宝h5 授权\r\n    public aliPayAuthWithUrl(payUrl: string, attach_param: any, orderNo: string, callback?: Function) {\r\n        Logger.log(\"--------js aliPayAuthWithUrl called!!!! payUrl = \" + payUrl)\r\n        let sendUrl = Global.HallServer.getHallSendUrl(NetAppface.mod, NetAppface.UserNewDownPayAttach)\r\n        let httpSign = Global.UrlUtil.getHttpReffer(sendUrl)\r\n        let funcParam = {};\r\n        funcParam[\"payUrl\"] = payUrl;\r\n        funcParam[\"attach_param\"] = attach_param;\r\n        funcParam[\"sendUrl\"] = sendUrl;\r\n        funcParam[\"httpSign\"] = httpSign;\r\n        funcParam[\"orderNo\"] = orderNo;\r\n\r\n        this.nativeCallAsync(\"aliPayAuthWithUrl\", funcParam, (retObj) => {\r\n            if (callback) {\r\n                callback(retObj);\r\n                callback = null;\r\n            }\r\n        })\r\n    }\r\n    //支付宝授权取auth code\r\n    public aliPayAuthWithAppID(appid: string, orderNo: string, callback?: Function) {\r\n        let sendUrl = Global.HallServer.getHallSendUrl(NetAppface.mod, NetAppface.UserNewDownPayAttach)\r\n        let httpSign = Global.UrlUtil.getHttpReffer(sendUrl)\r\n        let funcParam = {};\r\n        funcParam[\"appid\"] = appid;\r\n        funcParam[\"orderNo\"] = orderNo;\r\n        funcParam[\"sendUrl\"] = sendUrl;\r\n        funcParam[\"httpSign\"] = httpSign;\r\n        this.nativeCallAsync(\"aliPayAuthWithAppID\", funcParam, (retObj) => {\r\n            if (callback) {\r\n                callback(retObj);\r\n                callback = null;\r\n            }\r\n        })\r\n    }\r\n\r\n    //支付宝授权通过payAuthInfo\r\n    public aliPayAuthWithPayAuthInfo(payAuthInfo: string, payUrl: string, orderNo: string, callback?: Function) {\r\n        let sendUrl = Global.HallServer.getHallSendUrl(NetAppface.mod, NetAppface.UserNewDownPayAttach)\r\n        let httpSign = Global.UrlUtil.getHttpReffer(sendUrl)\r\n        let funcParam = {};\r\n        funcParam[\"payAuthInfo\"] = payAuthInfo;\r\n        funcParam[\"payUrl\"] = payUrl;\r\n        funcParam[\"orderNo\"] = orderNo;\r\n        funcParam[\"sendUrl\"] = sendUrl;\r\n        funcParam[\"httpSign\"] = httpSign;\r\n        funcParam[\"packageName\"] = Global.Setting.alipayReportPackageName\r\n        this.nativeCallAsync(\"aliPayAuthWithPayAuthInfo\", funcParam, (retObj) => {\r\n            if (callback) {\r\n                callback(retObj);\r\n                callback = null;\r\n            }\r\n        })\r\n    }\r\n    //DPaySDK支付\r\n    public paymentDPayWithToken(token: string, orderNo: string, le_pay_url: string, callback?: Function) {\r\n        let funcParam = {};\r\n        funcParam[\"orderNo\"] = orderNo;\r\n        funcParam[\"token\"] = token;\r\n        funcParam[\"le_pay_url\"] = le_pay_url;\r\n        this.nativeCallAsync(\"paymentDPayWithToken\", funcParam, (retObj) => {\r\n            if (callback) {\r\n                callback(retObj);\r\n                callback = null;\r\n            }\r\n        })\r\n    }\r\n    //UPaySDK授权\r\n    public paymentUPayWithToken(token: string, orderNo: string, le_pay_url: string, callback?: Function) {\r\n        let funcParam = {};\r\n        funcParam[\"orderNo\"] = orderNo;\r\n        funcParam[\"token\"] = token;\r\n        funcParam[\"le_pay_url\"] = le_pay_url;\r\n        this.nativeCallAsync(\"paymentUPayWithToken\", funcParam, (retObj) => {\r\n            if (callback) {\r\n                callback(retObj);\r\n                callback = null;\r\n            }\r\n        })\r\n    }\r\n    //SDK支付\r\n    public paymentSDKWithUrl(payStr: string, callback?: Function) {\r\n        let funcParam = {};\r\n        funcParam[\"payStr\"] = payStr;\r\n        this.nativeCallAsync(\"paymentSDKWithUrl\", funcParam, (retObj) => {\r\n            if (callback) {\r\n                callback(retObj);\r\n                callback = null;\r\n            }\r\n        })\r\n    }\r\n    //SDK支付\r\n    public payLibWithUrl(payStr: string, callback?: Function) {\r\n        let funcParam = {};\r\n        funcParam[\"payStr\"] = payStr;\r\n        this.nativeCallAsync(\"payLibWithUrl\", funcParam, (retObj) => {\r\n            if (callback) {\r\n                callback(retObj);\r\n                callback = null;\r\n            }\r\n        })\r\n    }\r\n    /**\r\n     * \r\n     * @param val   true 是切换到横屏， false 是切换到竖屏\r\n     */\r\n    public changeOrientationH(val) {\r\n        let dir = val ? \"H\" : \"V\"\r\n        if (cc.sys.os == cc.sys.OS_ANDROID)\r\n            this.nativeForAndroid('org/cocos2dx/javascript/AppActivity', 'setOrientation', '(Ljava/lang/String;)V', dir)\r\n        else if (cc.sys.os == cc.sys.OS_IOS) {\r\n            if (Global.Setting.SystemInfo.nativePlatform == 'appstore_sdktype') {\r\n                jsb.reflection.callStaticMethod('RootViewController', 'setOrientation:', dir)\r\n            } else {\r\n                jsb.reflection.callStaticMethod('AppController', 'setOrientation:', dir)\r\n            }\r\n        }\r\n\r\n\r\n        let frameSize = cc.view.getFrameSize()\r\n        console.log('frameSize: ' + frameSize.width + '   ' + frameSize.height)\r\n        if (val == false) {\r\n            cc.view.setOrientation(cc.macro.ORIENTATION_PORTRAIT)\r\n            if (frameSize.width > frameSize.height)\r\n                cc.view.setFrameSize(frameSize.height, frameSize.width)\r\n            cc.Canvas.instance.designResolution = cc.size(720, 1280)\r\n            //cc.view.setDesignResolutionSize(720, 1280, cc.ResolutionPolicy.FIXED_HEIGHT)\r\n            Global.Setting.SystemInfo.orientationLandscape = false;\r\n        }\r\n        else {\r\n            cc.view.setOrientation(cc.macro.ORIENTATION_LANDSCAPE)\r\n            if (frameSize.height > frameSize.width)\r\n                cc.view.setFrameSize(frameSize.height, frameSize.width)\r\n            cc.Canvas.instance.designResolution = cc.size(1280, 720)\r\n            Global.Setting.SystemInfo.orientationLandscape = true;\r\n            //cc.view.setDesignResolutionSize(1280, 720, cc.ResolutionPolicy.FIXED_HEIGHT)\r\n\r\n        }\r\n\r\n        //cc.director.resume();\r\n\r\n        if (window.jsb) //手动调用触发 Wdiget 组件重新布局\r\n            window.dispatchEvent(new cc.Event.EventCustom('resize', true))\r\n    }\r\n\r\n    /**\r\n     * 微信分享\r\n     * @param shareType 分享方式方式: 0微信好友，1朋友圈，2微信收藏\r\n     * @param type 分享内容类型:1文本，2图片，3声音，4视频，5网页\r\n     * @param title 标题\r\n     * @param filePath 文件路径 \r\n     * @param url \r\n     * @param des 描述\r\n     * @param callback 回调 \r\n     */\r\n    public shareWX(shareType: number, type: number, title: string, filePath: string, url: string, des: string, callback?: Function) {\r\n        if (shareType == null) {\r\n            Logger.error(\"shareWX param is null\");\r\n            return;\r\n        }\r\n        let dealWXException = () => {\r\n            if (type == 5) {\r\n                this.copyTextToClipboard(url, (retStr) => {\r\n                    if (retStr.result == 0) {\r\n                        Global.UI.fastTip(\"复制成功，请微信手动分享给好友哦。\");\r\n                        Global.Component.scheduleOnce(() => {\r\n                            this.awakeWechatApp()\r\n                        }, 1)\r\n                        if (callback) {\r\n                            callback(retStr);\r\n                            callback = null;\r\n                        }\r\n                    } else {\r\n                        Global.UI.fastTip(\"复制失败\");\r\n                    }\r\n                })\r\n            } else if (type == 2) {\r\n                Global.UI.fastTip(\"请截图后微信手动分享哦!\");\r\n            }\r\n\r\n        }\r\n        //处理微信包名和微信key不一致问题\r\n        if (AppHelper.checkWxkey(false) == false) {\r\n            dealWXException()\r\n            return;\r\n        }\r\n\r\n        let param = {\r\n            shareType: shareType,\r\n            type: type,\r\n            title: title,\r\n            filePath: filePath,\r\n            url: url,\r\n            description: des,\r\n        }\r\n        this.nativeCallAsync(\"shareWX\", param, (retObj) => {\r\n            let result = Number(retObj.result);\r\n            if (result == -1000 || result == -1000.0) {\r\n                dealWXException()\r\n            } else {\r\n                if (callback) {\r\n                    callback(retObj);\r\n                    callback = null;\r\n                }\r\n            }\r\n\r\n        })\r\n\r\n    }\r\n    /**\r\n     * \r\n     * @param url 百胜的连接\r\n     * @param schema  要拦截的shema\r\n     * @param actionViewHidden  是否隐藏原生功能按钮 0是不隐藏，1是隐藏\r\n     * @param style  原生功能按钮的样式 1固定在左边 2可以移动的浮点\r\n     */\r\n    public openBS(url:String,schema:String,actionViewHidden:String){ \r\n        let params = {\"url\":url,\"schema\":schema,\"actionViewHidden\":actionViewHidden}\r\n        this.nativeCallAsync(\"openBS\",params);\r\n    }\r\n    \r\n    public closeBS(){\r\n        this.nativeCallAsync(\"closeBS\",{});\r\n    }\r\n    public openExternalGame(url:String,schema:String,actionViewHidden:String,style:Number=2,direction:Number = -1){ \r\n        let params = {\"url\":url,\"schema\":schema,\"actionViewHidden\":actionViewHidden,\"style\":style,\"direction\":direction}\r\n        this.nativeCallAsync(\"openExternalGame\",params);\r\n    }\r\n    \r\n    public closeExternalGame(){\r\n        this.nativeCallAsync(\"closeExternalGame\",{});\r\n    }\r\n    /**\r\n     * 手机的震动 \r\n     * @param milliseconds 震动的时长，单位为毫秒,默认为400毫秒\r\n     */\r\n    public phoneVibrates(milliseconds: Number = 400) {\r\n        if(cc.sys.os == cc.sys.OS_IOS || (cc.sys.os == cc.sys.OS_ANDROID && Global.Toolkit.checkVersionSupport(60002)))\r\n        {\r\n            let params = { \"milliseconds\": milliseconds }\r\n            this.nativeCallAsync(\"phoneVibrates\", params);\r\n        }\r\n\r\n    }\r\n     /**\r\n     * 取消震动 \r\n     */\r\n    public phoneVibratesCancel(){\r\n        if(cc.sys.os == cc.sys.OS_IOS || (cc.sys.os == cc.sys.OS_ANDROID && Global.Toolkit.checkVersionSupport(60002)))\r\n        {\r\n            this.nativeCallAsync(\"vibratesCancel\",{});\r\n        }\r\n    }\r\n\r\n    //webviewjiazai加载的回调 state:区分不同的回调 url:请求的连接\r\n    public webviewCallback(state:String,url:String){\r\n        Logger.error(\"webviewCallback state = \" + state  + \" url = \" + url)\r\n        Global.WebViewControl.native2JSCallback(state,url)\r\n    }\r\n\r\n    /**\r\n     * NativeEvents视讯相关处理\r\n     * @param obj 参数列表对象, 内容包括：\r\n     *  {\r\n            option:\"start\", //start, release, stop, pause, continue\r\n            url:\"\",\r\n            x:\"0\",\r\n            y:\"0\",\r\n            right:\"0\",\r\n            bottom:\"0\",\r\n            width:\"0\",\r\n            height:\"0\"\r\n        }\r\n     */\r\n    public shixun(obj: object, callback: Function = null) {\r\n        if (!cc.sys.isNative) {\r\n            Logger.error(\"视讯暂时只支持android和ios原生平台!!!\");\r\n            return;\r\n        }\r\n        if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n            this.nativeCallAsync(\"shixun\", obj, callback);\r\n        } else if (cc.sys.os === cc.sys.OS_IOS) {\r\n            this.nativeCallAsync(\"shixun\", obj, callback);\r\n        } else {\r\n            Logger.error(\"视讯暂不支持除android和ios以外的其他平台!!!\");\r\n        }\r\n    }\r\n\r\n    //@todo 本地开关控制\r\n    public nativeLog(isOpenLog: boolean) {\r\n        let funcParam = {};\r\n        let openLogTag = 1;\r\n        if (isOpenLog) {\r\n            openLogTag = 1;\r\n        } else {\r\n            openLogTag = 0;\r\n        }\r\n        funcParam[\"openlog\"] = openLogTag;\r\n        Logger.error(\"nativeLog========openLogTag \" + openLogTag)\r\n        this.nativeCallSync(\"nativeLog\", funcParam)\r\n\r\n    }\r\n\r\n    //解压包操作\r\n    public unzipHallPackage() {\r\n        this.nativeCallSync(\"unzipHallPackage\")\r\n    }\r\n    /************************************** httpDNS start*********************************************************/\r\n\r\n    /**\r\n     * httpDNS\r\n     * 国内：edge.wshttpdns.com\r\n     * 国外：220.242.54.8\r\n     * \r\n     * \r\n     * *******/\r\n\r\n    public startRequest(urls, callback?) {\r\n        if (urls == null && urls.length == 0)\r\n            return;\r\n        let urlsStr = urls.join(\";\");\r\n        let internalHttpDNSUrl = \"edge.wshttpdns.com\"\r\n        let foreignHttpDNSUrl = \"220.242.54.8\";\r\n        let map: { [idx: string]: string } = {};\r\n        map[\"httpDns\"] = internalHttpDNSUrl\r\n        map[\"domainUrl\"] = urlsStr;\r\n        this.nativeCallAsync(\"startRequest\", map, (retObj) => {\r\n            if (retObj.result == 0) {\r\n                //content 为 1 正常，content 为0表示网宿服务器异常\r\n                let content = retObj.funcParam\r\n                Logger.error(\"startRequest funcParam = \" + content)\r\n                this.requestAgain(foreignHttpDNSUrl, urlsStr)\r\n                if (callback)\r\n                    callback(content);\r\n            } else {\r\n            }\r\n        })\r\n    }\r\n\r\n    //添加再次请求httpDNS\r\n    private requestAgain(httpDNSUrl, domainUrl, callback?) {\r\n        Logger.error(\"requestAgain httpDNSUrl = \" + httpDNSUrl + \" domainUrl = \" + domainUrl)\r\n        let param = {\r\n            httpDns: httpDNSUrl,\r\n            domainUrl: domainUrl\r\n        }\r\n        this.nativeCallAsync(\"requestAgain\", param, (retObj) => {\r\n            if (retObj.result == 0) {\r\n                let funcParam = retObj.funcParam\r\n                //content 为 1 正常，content 为0表示网宿服务器异常\r\n                Logger.error(\"requestAgain funcParam = \" + funcParam)\r\n                if (callback)\r\n                    callback(funcParam);\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n    /**\r\n     * 停掉httpDNS接口\r\n     * \r\n     * **/\r\n    public stopHttpDNS() {\r\n        this.nativeCallSync(\"stopHttpDNS\")\r\n    }\r\n\r\n    /**\r\n     * 添加httpDNS域名对应的ip\r\n     * \r\n     * ***/\r\n    public addDomainHttpDNSIP(domainName, ip, callback?) {\r\n        let param = {\r\n            domainName: domainName,\r\n            ip: ip\r\n        }\r\n        this.nativeCallSync(\"addDomainHttpDNSIP\", param, (retObj) => {\r\n            if (retObj.result == 0) {\r\n                if (callback)\r\n                    callback();\r\n            } else {\r\n                Logger.error(\"addDomainHttpDNSIP========result !=0 \")\r\n            }\r\n        })\r\n    }\r\n\r\n    /**\r\n     * 获取域名下的ip数组\r\n     * \r\n     * ***/\r\n    public getHttpDnsIPsByDomainName(domainName: string, callback?: Function) {\r\n        let param = {\r\n            domainName: domainName\r\n        }\r\n        this.nativeCallSync(\"getHttpDnsIPsByDomainName\", param, (retObj) => {\r\n            if (callback)\r\n                callback(retObj);\r\n        })\r\n    }\r\n\r\n    /**\r\n     * 设置域名下的ip数组\r\n     * \r\n     * ***/\r\n    public setHttpDnsIPsByDomainName(domainName: string, ips: string, callback?: Function) {\r\n        let param = {\r\n            domainName: domainName,\r\n            ips: ips\r\n        }\r\n        this.nativeCallSync(\"setHttpDnsIPsByDomainName\", param, (retObj) => {\r\n            if (callback)\r\n                callback(retObj);\r\n        })\r\n    }\r\n\r\n    /**\r\n     * 设置http 请求的header属性 map\r\n     * \r\n     * ***/\r\n    public setRequestProperty(propertys: string, callback?: Function) {\r\n        let param = {\r\n            propertys: propertys,\r\n        }\r\n        Logger.error(\"call setRequestProperty :\", JSON.stringify(param))\r\n        this.nativeCallSync(\"setRequestProperty\", param, (retObj) => {\r\n            if (callback)\r\n                callback(retObj);\r\n        })\r\n    }\r\n\r\n    /**\r\n     * 阿里云httpDNS初始化\r\n     * @param accountID:账号id string\r\n     * ***/\r\n\r\n    public initAlicloudHttpDns(accountID: string, callback?: Function) {\r\n        let param = {\r\n            accountID: accountID,\r\n        }\r\n        Logger.error(\"call initAlicloudHttpDns :\", JSON.stringify(param))\r\n        this.nativeCallSync(\"initAlicloudHttpDns\", param, (retObj) => {\r\n            if (callback)\r\n                callback(retObj);\r\n        })\r\n    }\r\n\r\n\r\n    /**\r\n     * 阿里云httpDNS 将app使用到的域名预设进来，以便于HTTPDNS 进行预解析\r\n     * @param preResolveHosts:预处理域名数组转json\r\n     *\r\n     * ***/\r\n\r\n    public setPreResolveHosts(preResolveHosts: string, callback?: Function) {\r\n        let param = {\r\n            preResolveHosts: preResolveHosts,\r\n        }\r\n        Logger.error(\"call setPreResolveHosts :\", JSON.stringify(param))\r\n        this.nativeCallSync(\"setPreResolveHosts\", param, (retObj) => {\r\n            if (callback)\r\n                callback(retObj);\r\n        })\r\n    }\r\n\r\n\r\n    /**\r\n     * 阿里云httpDNS 异步解析接口，首先查询缓存，若存在则返回结果，若不存在返回空字符串并且进行异步域名解析更新缓存\r\n     * @param host:域名名称\r\n     * @return 域名对应的解析结果\r\n     * ***/\r\n    public getIpByHostAsync(host: string, callback?: Function) {\r\n        let param = {\r\n            host: host,\r\n        }\r\n        Logger.error(\"call getIpByHostAsync :\", JSON.stringify(param))\r\n        this.nativeCallSync(\"getIpByHostAsync\", param, (retObj) => {\r\n            if (callback)\r\n                callback(retObj);\r\n        })\r\n    }\r\n\r\n\r\n\r\n    /**\r\n     * 阿里云httpDNS 异步解析接口，首先查询缓存，若存在则返回结果列表，若不存在返回空列表并且进行异步域名解析更新缓存\r\n     * @param host:域名名称\r\n     * @return 该域名下的IP数组 json字符串\r\n     * ***/\r\n    public getIpsByHostAsync(host: string, callback?: Function) {\r\n        let param = {\r\n            host: host,\r\n        }\r\n        Logger.error(\"call getIpsByHostAsync :\", JSON.stringify(param))\r\n        this.nativeCallSync(\"getIpsByHostAsync\", param, (retObj) => {\r\n            if (callback)\r\n                callback(retObj);\r\n        })\r\n    }\r\n\r\n    /************************************** httpDNS end*********************************************************/\r\n\r\n\r\n\r\n    /************************************** T_Dun *********************************************************/\r\n    /**\r\n    * 初始化T盾\r\n    * @param key:T盾key\r\n    * @return \r\n    * ***/\r\n    public initTDunSDK(key, callback?: Function) {\r\n        let path = jsb.fileUtils.getWritablePath();\r\n        let param = {\r\n            key: key,\r\n            path: path\r\n        }\r\n        this.nativeCallAsync(\"initTDunSDK\", param, (retObj) => {\r\n            if (callback)\r\n                callback(retObj);\r\n        })\r\n    }\r\n\r\n    /**\r\n    * 获取TDun初始化结果，同步调用\r\n    * @param \r\n    * @return \r\n    * ***/\r\n    public getTDunInitRet() {\r\n        if (cc.sys.os == cc.sys.OS_IOS) {\r\n            return jsb.reflection.callStaticMethod(\"dun\", \"getInitRet\");\r\n        } else if (cc.sys.os == cc.sys.OS_ANDROID) {\r\n            return parseInt(this.nativeForAndroid(\"com.dun.cocos_api\", \"getInitRet\", \"()I\"));\r\n        } else {\r\n            return -1;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 获取T盾接口\r\n     * @param key:T盾key\r\n     * @return \r\n     * ***/\r\n    public getTDunPort(port) {\r\n        let portNum = Number(port)\r\n        if (cc.sys.os == cc.sys.OS_IOS) {\r\n            return jsb.reflection.callStaticMethod(\"dun\", \"oc_getport:\", portNum);\r\n        } else if (cc.sys.os == cc.sys.OS_ANDROID) {\r\n            let getPort = parseInt(this.nativeForAndroid(\"com.dun.cocos_api\", \"getport\", \"(I)I\", portNum));\r\n            return getPort;\r\n        } else {\r\n            return 0;\r\n        }\r\n    }\r\n    /************************************** T_Dun end*********************************************************/\r\n\r\n\r\n\r\n    /************************************** Yun_Dun start *********************************************************/\r\n    /**\r\n    * 异步初始化云盾\r\n    * @param key:T盾key\r\n    * @return \r\n    * ***/\r\n    public initYunDunSDK(accessKey, uuid, callback?: Function) {\r\n        let param = {\r\n            accessKey: accessKey,\r\n            uuid: uuid\r\n        }\r\n        this.nativeCallAsync(\"initYunDunSDK\", param, (retObj) => {\r\n            if (callback)\r\n                callback(retObj);\r\n        })\r\n    }\r\n\r\n    public initYunDunSDKSync(accessKey, uuid) {\r\n        if (cc.sys.os == cc.sys.OS_IOS) {\r\n            return jsb.reflection.callStaticMethod(\"YunDunApi\", \"initSync:uuid:\", accessKey, uuid);\r\n        } else if (cc.sys.os == cc.sys.OS_ANDROID) {\r\n            return parseInt(this.nativeForAndroid(\"com.dun.YunDunApi\", \"initSync\", \"(Ljava/lang/String;Ljava/lang/String;)I\"));\r\n        } else {\r\n            return -1;\r\n        }\r\n    }\r\n\r\n    /**\r\n    * 获取YunDun初始化结果，同步调用\r\n    * @param \r\n    * @return \r\n    * ***/\r\n    public getYunDunInitRet() {\r\n        if (cc.sys.isBrowser)\r\n            return;\r\n        if (cc.sys.os == cc.sys.OS_IOS) {\r\n            return jsb.reflection.callStaticMethod(\"YunDunApi\", \"getInitRet\");\r\n        } else if (cc.sys.os == cc.sys.OS_ANDROID) {\r\n            return parseInt(this.nativeForAndroid(\"com.dun.YunDunApi\", \"getInitRet\", \"()I\"));\r\n        } else {\r\n            return -1;\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * 获取YunDun接口\r\n     * @param host:域名\r\n     * @param port:端口\r\n     * \r\n     * @return \r\n     * ***/\r\n    public getYunDunServerIPAndPort(host, port) {\r\n        let portNum = Number(port)\r\n        if (cc.sys.os == cc.sys.OS_IOS) {\r\n            return jsb.reflection.callStaticMethod(\"YunDunApi\", \"getServerIPAndPort:port:\", \"\", portNum);\r\n        } else if (cc.sys.os == cc.sys.OS_ANDROID) {\r\n            let serverIPAndPort = this.nativeForAndroid(\"com.dun.YunDunApi\", \"getServerIPAndPort\", \"(Ljava/lang/String;I)Ljava/lang/String;\", \"\", portNum);\r\n            return serverIPAndPort;\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    /**\r\n    * 获取YunDun 客户端IP\r\n    * @param \r\n    * @return \r\n    * ***/\r\n    public getYunDunClientIP() {\r\n        if (cc.sys.os == cc.sys.OS_IOS) {\r\n            return jsb.reflection.callStaticMethod(\"YunDunApi\", \"getClientIP\");\r\n        } else if (cc.sys.os == cc.sys.OS_ANDROID) {\r\n            let clientIP = this.nativeForAndroid(\"com.dun.YunDunApi\", \"getClientIP\", \"()Ljava/lang/String;\");\r\n            return clientIP;\r\n        } else {\r\n            return \"\";\r\n        }\r\n    }\r\n    /************************************** Yun_Dun end*********************************************************/\r\n\r\n\r\n\r\n\r\n    /************************************** ZA_Dun *********************************************************/\r\n    /**\r\n    * 初始化ZA盾\r\n    * @param key:ZA盾key\r\n    * @return \r\n    * ***/\r\n    public initZADunSDK(key, callback?: Function) {\r\n        let param = {\r\n            key: key,\r\n        }\r\n        this.nativeCallAsync(\"initZADunSDK\", param, (retObj) => {\r\n            if (callback)\r\n                callback(retObj);\r\n        })\r\n    }\r\n\r\n    /**\r\n    * 获取ZADun初始化结果，同步调用\r\n    * @param \r\n    * @return \r\n    * ***/\r\n    public getZADunInitRet() {\r\n        if (cc.sys.os == cc.sys.OS_IOS) {\r\n            return jsb.reflection.callStaticMethod(\"ZAApi\", \"getInitRet\");\r\n        } else if (cc.sys.os == cc.sys.OS_ANDROID) {\r\n            return parseInt(this.nativeForAndroid(\"com.dun.ZAApi\", \"getInitRet\", \"()I\"));\r\n        } else {\r\n            return -1;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 获取T盾接口\r\n     * @param key:T盾key\r\n     * @return \r\n     * ***/\r\n    public getZADunPort(port) {\r\n        let portNum = Number(port)\r\n        if (cc.sys.os == cc.sys.OS_IOS) {\r\n            return jsb.reflection.callStaticMethod(\"ZAApi\", \"getServerPort:\", portNum);\r\n        } else if (cc.sys.os == cc.sys.OS_ANDROID) {\r\n            let getPort = parseInt(this.nativeForAndroid(\"com.dun.ZAApi\", \"getServerPort\", \"(I)I\", portNum));\r\n            return getPort;\r\n        } else {\r\n            return 0;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 获取T盾接口\r\n     * @param key:T盾key\r\n     * @return \r\n     * ***/\r\n    public getZADunPortByAddr(addr,port) {\r\n        let portNum = Number(port)\r\n        if (cc.sys.os == cc.sys.OS_IOS) {\r\n            return jsb.reflection.callStaticMethod(\"ZAApi\", \"getServerPortByAddr:port:\", addr,portNum);\r\n        } else if (cc.sys.os == cc.sys.OS_ANDROID) {\r\n            let getPort = parseInt(this.nativeForAndroid(\"com.dun.ZAApi\", \"getServerPortByAddr\", \"(Ljava/lang/String;I)I\",addr, portNum));\r\n            return getPort;\r\n        } else {\r\n            return 0;\r\n        }\r\n    }\r\n    /************************************** T_Dun end*********************************************************/\r\n\r\n    /************************************** Ali_Dun start*********************************************************/\r\n    /**\r\n    * 异步初始化阿里盾\r\n    * @param appkey\r\n    * @param token\r\n    * \r\n    * @return ret\r\n    * ***/\r\n   public initAliDunSDK(appkey, token, callback?: Function) {\r\n    let param = {\r\n        appkey: appkey,\r\n        token: token\r\n    }\r\n    this.nativeCallAsync(\"initAliDunSDK\", param, (retObj) => {\r\n        if (callback)\r\n            callback(retObj);\r\n    })\r\n}\r\n\r\n/**\r\n    * 获取AliDun初始化结果，同步调用\r\n    * @param \r\n    * @return \r\n    * ***/\r\n   public getAliDunInitRet() {\r\n    if (cc.sys.os == cc.sys.OS_IOS) {\r\n        return jsb.reflection.callStaticMethod(\"AliDunApi\", \"getInitRet\");\r\n    } else if (cc.sys.os == cc.sys.OS_ANDROID) {\r\n        return parseInt(this.nativeForAndroid(\"com.dun.AliDunApi\", \"getInitRet\", \"()I\"));\r\n    } else {\r\n        return -1;\r\n    }\r\n}\r\n\r\n/**\r\n     * 获取AliDun盾接口\r\n     * @param \r\n     * @return \r\n     * ***/\r\n    public getAliDunPort(hostInfo,port) {\r\n        let portStr = port.toString()\r\n        let token = hostInfo.token\r\n        let groupName = hostInfo.groupName\r\n        let domainName = hostInfo.domainName\r\n        if (cc.sys.os == cc.sys.OS_IOS) {\r\n            return jsb.reflection.callStaticMethod(\"AliDunApi\", \"getServerPort:group:domain:port:\", token,groupName,domainName,portStr);\r\n        } else if (cc.sys.os == cc.sys.OS_ANDROID) {\r\n            let getPort = parseInt(this.nativeForAndroid(\"com.dun.AliDunApi\", \"getServerPort\", \"(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;\", token,groupName,domainName,portStr));\r\n            return getPort;\r\n        } else {\r\n            return 0;\r\n        }\r\n    }\r\n\r\n/************************************** Ali_Dun end*********************************************************/\r\n    \r\n    /**\r\n    * 判断是否支持哪个盾\r\n    * @param \r\n    * @return \r\n    * ***/\r\n    public isSupportSDK(sdkName, version?, callback?) {\r\n        if (!cc.sys.isNative)\r\n            return true\r\n        let appVersion = Global.Setting.SystemInfo.appVersion\r\n        let numVer = Number(appVersion)\r\n        let value = sdkName\r\n        if (version) {\r\n            value = value + \"_\" + version\r\n        }\r\n        let param = {\r\n            checkValue: value\r\n        }\r\n        this.nativeCallSync(\"isSupportSDK\", param, (retObj) => {\r\n            if (callback)\r\n                callback(retObj);\r\n        })\r\n    }\r\n    \r\n    /**\r\n    * 检测安卓sdk是否启用:参数使用包名\r\n    * @param 可使用枚举SDK_BUNDLE，也可直接传字符串\r\n    * @return \r\n    * ***/\r\n     public CheckSdkBundle(bundleName) {\r\n        let checked = true;\r\n        if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n            checked = null;\r\n            let param = {\r\n                bundle: bundleName\r\n            }\r\n            this.nativeCallSync(\"checkBundle\", param, (retObj) => {\r\n                if (retObj.result > 0) {\r\n                    checked = true;\r\n                }else{\r\n                    checked = false;\r\n                }\r\n            });\r\n        }\r\n        return checked;\r\n    }\r\n}\r\n\r\n/**\r\n * CheckSdkBundle方法参数的枚举，可扩展\r\n */\r\nenum SDK_BUNDLE{\r\n    ALIPAY = \"com.alipay.sdk.app.PayTask\",\r\n}"]}