{"version":3,"sources":["assets\\hall\\scripts\\logic\\hall\\ui\\waiting\\CodeTipView.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAIA,UAAU;AACJ,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAAyC,+BAAY;IAArD;QAAA,qEAqDC;QAnDG,YAAM,GAAY,IAAI,CAAC;QAEvB,UAAI,GAAa,IAAI,CAAC;QAEd,cAAQ,GAAG,IAAI,CAAC;;IA+C5B,CAAC;oBArDoB,WAAW;IAY5B,4BAAM,GAAN;QAEI,aAAW,CAAC,QAAQ,GAAG,IAAI,CAAC;QAC5B,MAAM,CAAC,QAAQ,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,EAAE,QAAQ,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;QACzE,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,GAAG,CAAC,CAAC,CAAC;QACtC,yCAAyC;QACzC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACvC,CAAC;IAED,+BAAS,GAAT;QACI,aAAW,CAAC,QAAQ,GAAG,IAAI,CAAC;IAChC,CAAC;IAES,8BAAQ,GAAlB;QACI,IAAG,IAAI,CAAC,QAAQ,EAAC;YACb,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;YACtB,IAAI,CAAC,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;YAC1B,IAAI,CAAC,WAAW,GAAgB,MAAM,CAAC,YAAY,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC;YAC5E,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAA;SAC/D;IACL,CAAC;IAES,2BAAK,GAAf;QAEI,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QACnC,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;IAC5B,CAAC;IACM,6BAAO,GAAd;QAEI,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACrB,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QACpC,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;IAC7B,CAAC;IACM,2BAAK,GAAZ;QAEI,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACrB,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;QACxB,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,UAAU,CAAC;QAC9B,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACxC,CAAC;;IA5CG;;GAED;IACI,oBAAQ,GAAe,IAAI,CAAC;IATnC;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;+CACK;IAEvB;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;6CACG;IAJL,WAAW;QAD/B,OAAO;OACa,WAAW,CAqD/B;IAAD,kBAAC;CArDD,AAqDC,CArDwC,EAAE,CAAC,SAAS,GAqDpD;kBArDoB,WAAW","file":"","sourceRoot":"/","sourcesContent":["import SpreadModel from \"../../../hallcommon/model/SpreadModel\";\r\nimport AppHelper from \"../../../core/tool/AppHelper\";\r\n\r\n\r\n//游戏列表item\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class CodeTipView extends cc.Component {\r\n    @property(cc.Node)\r\n    circle :cc.Node = null;\r\n    @property(cc.Label)\r\n    tips :cc.Label = null;\r\n    private action;\r\n    private isTounch = true;\r\n    SpreadModel: SpreadModel;\r\n        /**\r\n     * 单例对象\r\n     */\r\n    static instance:CodeTipView = null;\r\n    onLoad()\r\n    {\r\n        CodeTipView.instance = this;\r\n        Global.UIHelper.addCommonClick(this.node, \"bgNode\", this.callback, this);\r\n        this.action = cc.rotateTo(5, 360 * 5);\r\n        // this.action.easing(); //停止状态 慢 - 快 - 慢\r\n        this.circle.runAction(this.action);\r\n    }\r\n    \r\n    onDestroy(){\r\n        CodeTipView.instance = null;\r\n    }\r\n\r\n    protected callback(){\r\n        if(this.isTounch){\r\n            this.isTounch = false;\r\n            this.start();\r\n            this.tips.string = \"正在获取\";\r\n            this.SpreadModel = <SpreadModel>Global.ModelManager.getModel(\"SpreadModel\");\r\n            this.SpreadModel.loadShortUrl(Global.Setting.Urls.inviteUrl)\r\n        }\r\n    }\r\n\r\n    protected start()\r\n    {\r\n        this.circle.runAction(this.action);\r\n        this.node.active = true;\r\n    }\r\n    public success()\r\n    {\r\n        this.isTounch = true;\r\n        this.circle.stopAction(this.action);\r\n        this.node.active = false;\r\n    }\r\n    public error()\r\n    {\r\n        this.isTounch = true;\r\n        this.node.active = true;\r\n        this.tips.string = \"获取失败,请重试\";\r\n        this.circle.stopAction(this.action);\r\n    }\r\n}\r\n"]}