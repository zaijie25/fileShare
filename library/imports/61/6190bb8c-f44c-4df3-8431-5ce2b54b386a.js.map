{"version":3,"sources":["assets\\hall\\scripts\\logic\\core\\net\\hall\\HallBroadcastHelper.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import HallServer from \"./HallServer\";\r\nimport EventDispatcher from \"../../../../framework/event/EventDispatcher\";\r\nimport { NetAppface } from \"./NetEvent\";\r\nimport HallModel, { HallRedSpotType } from \"../../../hallcommon/model/HallModel\";\r\nimport GlobalEvent from \"../../GlobalEvent\";\r\nimport { SceneType } from \"../../scene/SceneManager\";\r\nimport HallStorageKey from \"../../../hallcommon/const/HallStorageKey\";\r\nimport AppHelper from \"../../tool/AppHelper\";\r\n\r\n\r\n//服务器广播消息类型\r\nenum ServerPushType {\r\n    TYPE_MARQEE_MSG = 20000, // 普通跑马灯消息\r\n    TYPE_MARQEE_WINNER = 20001, // 跑马灯大赢家播报消息\r\n    TYPE_MARQEE_CP = 20002, // 彩票跑马灯信息\r\n\r\n    TYPE_UPDATE_INFO = 20003, // 拉取用户金币信息\r\n    TYPE_PUT_DENY = 20004, // 提现拒绝信息\r\n\r\n\r\n    TYPE_MARQEE_MAilMSG = 20005, // 消息红点\r\n    TYPE_MARQEE_ACTiVETE = 20006, // 活动红点\r\n    TYPE_MARQEE_HAVENOTICE = 20007, //有新的公告\r\n    TYPE_MARQEE_HAVEMAIL = 20008, //有新的邮件  这两个\r\n\r\n    TYPE_SendFlowPoint = 20009,     // 返利推送\r\n    TYPE_MARQEE_RECHARGEGIFT = 20010,//充值返利\r\n\r\n    TYPE_VipCoin = 20011,       //vip积分变化\r\n    TYPE_GAMEROOM_CHANGE = 20012, //房间配置变化\r\n    TYPE_MARQEE_PAY_BACK = 20013, // 充值返利消息\r\n    TYPE_MARQEE_COMMI = 20014, // 领取佣金\r\n    TYPE_NEW_TASK_ACHIEVE = 20015,  //达成新的任务\r\n    TYPE_REWARD_PACK = 20017,       //奖励红包\r\n    TYPE_RECHARGE_RED = 20018,       //充值红包\r\n    TYPE_LIMIT_FIRST_PAY   = 20021, //限时首充参与通知\r\n    //彩票相关\r\n    TYPE_LOTTERY_TAB = 30000, //tab重新拉取\r\n    TYPE_LOTTERY_CFG = 30001, //cfg重新拉取\r\n    TYPE_LOTTERY_ODD = 30002, //odd重新拉取\r\n    TYPE_LOTTERY_GAMEDATA = 30003, //开奖售卖信息\r\n    TYPE_LOTTERY_RESULT = 30004, //开奖历史\r\n    TYPE_LOTTERY_ORDER = 30005, //订单重新拉取\r\n\r\n    // VIp进游戏推送\r\n    TYPE_VIP_ENTER_GAME = 20019,// vip进游戏\r\n    TYPE_PRIVATE_MARQUEE = 20020 // 私人跑马灯推送消息\r\n}\r\n\r\nexport default class HallBroadcastHelper {\r\n    private msgseq = 0;\r\n    private msgseq1 = 0;\r\n    private server: HallServer;\r\n    private internalEvent: EventDispatcher;\r\n    private cacheHallMsg: any = [];\r\n    private CONFIG_MD5_KEY = \"CONFIG_MD5_KEY\";\r\n    private CONFIG_KEY = \"CONFIG_KEY\";\r\n\r\n    constructor(server: HallServer, internalEvent: EventDispatcher) {\r\n        this.server = server;\r\n        this.internalEvent = internalEvent;\r\n        this.setup();\r\n    }\r\n\r\n    public setup() {\r\n        this.internalEvent.on(HallServer.EVENT_INTERNAL_ONHEARTBEAT, this, this.handleHeartbeat);\r\n        //监听场景切换\r\n        Global.Event.on(GlobalEvent.ON_HALL_OPEN, this, this.DealCacheHallMsg);\r\n    }\r\n\r\n    //执行大厅缓存的消息\r\n    private DealCacheHallMsg() {\r\n        if (Global.SceneManager.sceneType !== SceneType.Hall) {\r\n            return;\r\n        }\r\n\r\n        let msgFuncMap = {}\r\n        for (let msg of this.cacheHallMsg) {\r\n            let msgType = msg.type;\r\n            if (!this.dealMap[msgType]) {\r\n                Logger.error(\"未找到handler\" + msgType);\r\n                continue;\r\n            }\r\n            let func = this.dealMap[msgType].func\r\n            let merge = this.dealMap[msgType].merge;\r\n            if (!merge) {\r\n                func.apply(this, [msg]);\r\n            }\r\n            else {\r\n                msgFuncMap[msgType] = [func, msg];\r\n            }\r\n        }\r\n        for (let msgType in msgFuncMap) {\r\n            let func = msgFuncMap[msgType][0];\r\n            let msg = msgFuncMap[msgType][1];\r\n            \r\n            func.apply(this, [msg]);\r\n        }\r\n        this.cacheHallMsg = [];\r\n    }\r\n\r\n    private addTestData(msgData: any) {\r\n\r\n    }\r\n\r\n    //处理心跳并分发方法\r\n    private handleHeartbeat(param) {\r\n        let msgData = param;\r\n        if (msgData == null || msgData.list == null)\r\n            return;\r\n\r\n        //解析心跳消息\r\n        let msgFuncMap = {}\r\n\r\n        if (this.checkMsgseq(param.msg_seq_1, this.msgseq1)) {\r\n            if (param.msg_seq_1 && param.msg_seq_1 > 0)\r\n                this.msgseq1 = param.msg_seq_1;\r\n            this.handleMsgList(msgData.list_1, msgFuncMap, 1);\r\n        }\r\n\r\n        if (this.checkMsgseq(param.msg_seq, this.msgseq)) {\r\n            if (param.msg_seq && param.msg_seq > 0)\r\n                this.msgseq = param.msg_seq;\r\n            this.handleMsgList(msgData.list, msgFuncMap);\r\n        }\r\n\r\n\r\n\r\n\r\n        //执行对应心跳合并方法\r\n        for (let msgType in msgFuncMap) {\r\n            let func = msgFuncMap[msgType][0];\r\n            let msg = msgFuncMap[msgType][1];\r\n            func.apply(this, [msg]);\r\n        }\r\n        //如果在大厅中则直接处理\r\n        this.DealCacheHallMsg();\r\n        //设置下次心跳发送的seq\r\n        this.internalEvent.event(HallServer.EVENT_INTERNAL_UPDATEMSGSEQ, this.msgseq, this.msgseq1);\r\n    }\r\n\r\n    private checkMsgseq(serverSeq, localMsgSeq) {\r\n        if (serverSeq\r\n            && serverSeq > 0                           //不等0\r\n            && (localMsgSeq >= serverSeq)              //小于等于本地seq\r\n            && (localMsgSeq - serverSeq < 1000))      //差值小于1000\r\n        {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    private handleMsgList(list, msgFuncMap, priority = 0) {\r\n        if (list == null)\r\n            return;\r\n\r\n        //console.error(\"list===================\",list);\r\n\r\n        for (let element of list) {\r\n            // //判断有效seq\r\n            // if( element.msgseq \r\n            //     && element.msgseq > 0                           //不等0\r\n            //     && (this.msgseq >= element.msgseq)              //小于等于本地seq\r\n            //     && (this.msgseq - element.msgseq < 1000) )      //差值小于1000\r\n            // {\r\n            //     continue;\r\n            // }\r\n            // else if(element.msgseq && element.msgseq > 0)\r\n            // {\r\n            //     this.msgseq = element.msgseq;\r\n            // }\r\n            //执行消息对应方法\r\n\r\n            let msg = element.msg;\r\n\r\n            if (!msg) {\r\n                return\r\n            }\r\n            let msgType = msg.type;\r\n            if (msg.data && typeof (msg.data) != \"string\") {\r\n                msg.data.clientPriority = priority\r\n            }\r\n\r\n            if (!this.dealMap[msgType]) {\r\n                Logger.error(\"未找到handler\" + msgType);\r\n                continue;\r\n            }\r\n            let func = this.dealMap[msgType].func\r\n            let merge = this.dealMap[msgType].merge;\r\n            let inHall = this.dealMap[msgType].cacheInHall;\r\n            if (inHall) {\r\n                this.cacheHallMsg.push(msg);\r\n            }\r\n            else {\r\n                if (!merge) {\r\n                    func.apply(this, [msg]);\r\n                }\r\n                else {\r\n                    msgFuncMap[msgType] = [func, msg];\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n    public clear() {\r\n        this.msgseq = 0;\r\n        this.msgseq1 = 0;\r\n    }\r\n\r\n    ///服务器广播消息和处理方法对应数组,支持function 和 handler\r\n    private dealMap: { [key: number]: any } =\r\n        {\r\n            [ServerPushType.TYPE_PRIVATE_MARQUEE]: { \"func\": this.PrivateMarquee, merge: false },//私人跑马灯信息\r\n            [ServerPushType.TYPE_VIP_ENTER_GAME]: { \"func\": this.AddmissionVIp, merge: false },//VIp进游戏消息\r\n            [ServerPushType.TYPE_MARQEE_MSG]: { \"func\": this.DealMarqueeScroll, merge: false }, //普通跑马灯消息\r\n            [ServerPushType.TYPE_MARQEE_WINNER]: { \"func\": this.DealMarqueeScroll, merge: false }, //大赢家跑马灯消息\r\n            [ServerPushType.TYPE_MARQEE_CP]: { \"func\": this.DealMarqueeScroll, merge: false }, //彩票跑马灯信息\r\n\r\n            [ServerPushType.TYPE_MARQEE_PAY_BACK]: { \"func\": this.DealMarqueeScroll, merge: false }, //充值返利消息\r\n\r\n            [ServerPushType.TYPE_MARQEE_COMMI]: { \"func\": this.DealMarqueeScroll, merge: false }, //领取佣金\r\n\r\n            [ServerPushType.TYPE_UPDATE_INFO]: { \"func\": this.DealUpdatePlayerMoneyInfo, merge: true }, //拉取用户金币信息\r\n\r\n            [ServerPushType.TYPE_MARQEE_HAVEMAIL]: { \"func\": this.DealUpdateMAilMSG, merge: true }, //消息红点\r\n            [ServerPushType.TYPE_LIMIT_FIRST_PAY]: { \"func\": this.DealUpdateHallBtn, merge: true }, //消息红点\r\n            [ServerPushType.TYPE_NEW_TASK_ACHIEVE]: { \"func\": this.DealUpdatNewTask, merge: true }, //新的任务达成\r\n            [ServerPushType.TYPE_REWARD_PACK]: { \"func\": this.DealUpdatRedEnvelope, merge: true },  //奖励红包\r\n            [ServerPushType.TYPE_RECHARGE_RED]: { \"func\": this.DealUpdatHallRed, merge: true },     //充值红包\r\n            [ServerPushType.TYPE_MARQEE_ACTiVETE]: { \"func\": this.DealUpdateACTiVETE, merge: true }, //活动红点\r\n            [ServerPushType.TYPE_MARQEE_HAVENOTICE]: { \"func\": this.DealUpdateNotice, merge: true }, //公告红点\r\n            // [ServerPushType.TYPE_MARQEE_RECHARGEGIFT]: {\"func\":this.DealRechargeGiftMSG, merge:true},\r\n            // [ServerPushType.TYPE_SendFlowPoint]: {\"func\":this.DealRebateMsg, merge:false, cacheInHall: true}, //返利\r\n\r\n            [ServerPushType.TYPE_VipCoin]: { \"func\": this.DealVipMsg, merge: true }, //vip积分变化\r\n\r\n            //彩票相关\r\n            [ServerPushType.TYPE_LOTTERY_TAB]: { \"func\": this.DealUpdateLotteryTab, merge: true }, //tab重新拉取\r\n            [ServerPushType.TYPE_LOTTERY_CFG]: { \"func\": this.DealUpdateLotteryCfg, merge: true }, //cfg重新拉取\r\n            [ServerPushType.TYPE_LOTTERY_ODD]: { \"func\": this.DealUpdateLotteryOdds, merge: true }, //odd重新拉取\r\n            [ServerPushType.TYPE_LOTTERY_GAMEDATA]: { \"func\": this.DealUpdateLotteryGameData, merge: true }, //开奖售卖信息\r\n            [ServerPushType.TYPE_LOTTERY_RESULT]: { \"func\": this.DealUpdateLotteryResult, merge: true }, //开奖历史\r\n            [ServerPushType.TYPE_LOTTERY_ORDER]: { \"func\": this.DealUpdateLotteryOrder, merge: true }, //订单重新拉取\r\n            [ServerPushType.TYPE_GAMEROOM_CHANGE]: { \"func\": this.DealNewGameCfg, merge: true }, //普通跑马灯消息\r\n        }\r\n\r\n    //广播跑马灯\r\n    private DealMarqueeScroll(msg) {\r\n        switch (msg.type) {\r\n            case ServerPushType.TYPE_MARQEE_MSG: //普通跑马灯\r\n                {\r\n                    Global.Event.event(GlobalEvent.MARQUEESCROLL_COMMON, msg);\r\n                    break;\r\n                }\r\n            case ServerPushType.TYPE_MARQEE_WINNER: //大赢家跑马灯\r\n                {\r\n                    /**\r\n                     * //大赢家, 直接推送给客户端, 客户端来拼\r\n                        type BigWinner struct {\r\n                        Uid       uint64 `json:\"-\"`\r\n                        HitPoint  int64  `json:\"hitPoint\"`\r\n                        Nickname  string `json:\"nickname\"`\r\n                        Headimg   string `json:\"headimg\"`\r\n                        GameId    int32  `json:\"game_id\"`\r\n                        GameRule  string `json:\"game_rule\"`\r\n                        GameLevel string `json:\"game_level\"`\r\n                        }\r\n                     */\r\n                    Global.Event.event(GlobalEvent.MARQUEESCROLL_BIGWINNER, msg);\r\n                    break;\r\n                }\r\n            case ServerPushType.TYPE_MARQEE_PAY_BACK: //VIP返利马灯\r\n                {\r\n                    Global.Event.event(GlobalEvent.MARQUEESCROLL_VIP, msg);\r\n                    break;\r\n                }\r\n\r\n            case ServerPushType.TYPE_MARQEE_COMMI: //VIP返利马灯\r\n                {\r\n                    Global.Event.event(GlobalEvent.MARQUEESCROLL_COMMI, msg);\r\n                    break;\r\n                }\r\n        }\r\n    }\r\n\r\n    //拉取用户金币信息\r\n    private DealUpdatePlayerMoneyInfo(msg) {\r\n       \r\n        Global.HallServer.send(NetAppface.mod, NetAppface.GetUserPoint, {});\r\n    }\r\n\r\n    //消息红点\r\n    private DealUpdateMAilMSG(msg) {\r\n        Global.Event.event(GlobalEvent.ShowRedSpot, [true, HallRedSpotType.Mail]);\r\n    }\r\n\r\n    //消息红点\r\n    private DealUpdateHallBtn(msg) {\r\n        Global.Event.event(GlobalEvent.TimeLimitedRechargeStatusChange,false);\r\n    }\r\n\r\n    //任务红点\r\n    private DealUpdatNewTask(msg) {\r\n        Global.Event.event(GlobalEvent.ShowRedSpot, [true, HallRedSpotType.Commision]);\r\n    }\r\n    //获取红包个数\r\n    private DealUpdatRedEnvelope(msg) {\r\n        let model = <HallModel>Global.ModelManager.getModel(\"HallModel\");\r\n        model.requestGetRewardPackCount()\r\n    }\r\n    //大厅充值红包\r\n    private DealUpdatHallRed(msg) {\r\n        let model = <HallModel>Global.ModelManager.getModel(\"HallModel\");\r\n        model.recharge_red = msg.data;\r\n        Global.Event.event(GlobalEvent.ShowHallRed, msg.data);\r\n        // model.requestGetRewardPackCount()\r\n    }\r\n    //活动红点\r\n    private DealUpdateACTiVETE(msg) {\r\n        Global.Event.event(GlobalEvent.ShowRedSpot, [false, HallRedSpotType.Activity]);\r\n    }\r\n    //活动红点\r\n    private DealUpdateNotice(msg) {\r\n        Global.Event.event(GlobalEvent.ShowRedSpot, [true, HallRedSpotType.Gonggao]);\r\n    }\r\n\r\n    // private DealRebateMsg(msg){\r\n    //     Global.Event.event(GlobalEvent.ShowRedSpot, [true,HallRedSpotType.Rebate]);\r\n    //     if (msg && msg.data){\r\n    //         Global.Event.event(GlobalEvent.SHOW_REBATE_GET, msg.data);\r\n    //     }\r\n    // }\r\n\r\n    /**\r\n     * vip积分变化处理\r\n     * @param msg \r\n     */\r\n    private DealVipMsg(msg) {\r\n        Global.HallServer.send(NetAppface.mod, NetAppface.GetUserInfo, {});\r\n    }\r\n\r\n    /** 彩票 tab重新拉取 */\r\n    private DealUpdateLotteryTab(msg) {\r\n        Global.Event.event(GlobalEvent.LotteryUpdateTab, [msg.data]);\r\n    }\r\n\r\n    /** 彩票 cfg重新拉取 */\r\n    private DealUpdateLotteryCfg(msg) {\r\n        Global.Event.event(GlobalEvent.LotteryUpdateCfg, [msg.data]);\r\n    }\r\n\r\n    /** 彩票 odd重新拉取 */\r\n    private DealUpdateLotteryOdds(msg) {\r\n        Global.Event.event(GlobalEvent.LotteryUpdateOdds, [msg.data]);\r\n    }\r\n\r\n\r\n    /** 重新拉取游戏配置 */\r\n    private DealNewGameCfg(msg) {\r\n        let md5 = this.loadLocalMd5();\r\n        let cfg = null;\r\n        let param: any = {};\r\n        if (md5 && md5 != \"\")\r\n            cfg = this.loadConfig();\r\n\r\n        if (cfg != null && cfg.length > 0 && md5) {\r\n            param.game_sum = md5;\r\n        }\r\n        let device = Global.Toolkit.genDeviceInfo();\r\n        param.device = device\r\n        param.hall_skin = Global.Setting.SystemInfo.hallSkin;\r\n        param.game_skin = Global.Setting.SystemInfo.gameSkin;\r\n        param.app_version = Global.Setting.SystemInfo.appVersion\r\n        let megeServerFlag = Global.Toolkit.checkMegeServer()\r\n        if (megeServerFlag) {\r\n            param.old_app_id = parseInt(Global.Setting.SystemInfo.appID)\r\n        }\r\n        Global.HallServer.send(NetAppface.mod, NetAppface.GetGameList, param, (data) => {\r\n            if (data.game_list != null && data.game_list.length > 0) {\r\n                cfg = data.game_list;\r\n                let svrMd5 = data.game_sum;\r\n                try {\r\n                    let cfgStr = JSON.stringify(data.game_list);\r\n                    if (!svrMd5 || svrMd5 == \"\")\r\n                        svrMd5 = Global.Toolkit.md5(cfgStr);\r\n                    Global.Setting.storage.set(this.CONFIG_MD5_KEY, svrMd5);\r\n                    Global.Setting.storage.set(this.CONFIG_KEY, cfgStr);\r\n                }\r\n                catch (e) {\r\n                }\r\n                Global.GameData.init(cfg);\r\n            }\r\n        })\r\n\r\n        //保存游戏配置\r\n    }\r\n    /** 彩票  开奖售卖信息 */\r\n    private DealUpdateLotteryGameData(msg) {\r\n        Global.Event.event(GlobalEvent.LotteryUpdateGameData, [msg.data]);\r\n    }\r\n\r\n    /** 彩票 开奖历史 */\r\n    private DealUpdateLotteryResult(msg) {\r\n        Global.Event.event(GlobalEvent.LotteryUpdateResult, [msg.data]);\r\n    }\r\n\r\n    /** 彩票 订单重新拉取 */\r\n    private DealUpdateLotteryOrder(msg) {\r\n        Global.Event.event(GlobalEvent.LotteryUpdateOrder, [msg.data]);\r\n    }\r\n\r\n    /**vip玩家进场时候的推送 */\r\n    private AddmissionVIp(msg) {\r\n        Global.Event.event(GlobalEvent.TYPE_VIP_ENTER_GAME, msg)\r\n    }\r\n    private PrivateMarquee(msg) {\r\n        Global.Event.event(GlobalEvent.TYPE_PRIVATE_MARQUEE, msg)\r\n    }\r\n    private loadLocalMd5() {\r\n        let md5 = Global.Setting.storage.get(this.CONFIG_MD5_KEY);\r\n        return md5;\r\n    }\r\n\r\n    private loadConfig() {\r\n        let cfgStr = Global.Setting.storage.get(this.CONFIG_KEY);\r\n        if (cfgStr != null && cfgStr != \"\") {\r\n            try {\r\n                let cfg = JSON.parse(cfgStr);\r\n                return cfg;\r\n            }\r\n            catch (e) {\r\n                cc.error(\"解析config 失败\");\r\n                return null;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n}\r\n"]}