{"version":3,"sources":["assets\\hall\\scripts\\logic\\hall\\ui\\Feedback\\ServicerFactory.ts"],"names":[],"mappings":";;;;;;AACA,iDAAyE;AACzE,iDAA6C;AAE7C;;;EAGE;AACF;IAKI,SAAS;IACT;QAHO,QAAG,GAA2B,IAAI,GAAG,EAAsB,CAAC;QAYnD,gBAAW,GAAG;YAC1B,eAAe,EAAE,8BAAc;YAC/B,WAAW,EAAE,0BAAU;YACvB,WAAW,EAAE,0BAAU;YACvB,WAAW,EAAE,0BAAU;SAC1B,CAAA;IAdqB,CAAC;IAET,2BAAW,GAAzB;QACI,IAAG,eAAe,CAAC,QAAQ,IAAI,IAAI,EAAC;YAChC,eAAe,CAAC,QAAQ,GAAG,IAAI,eAAe,EAAE,CAAC;SACpD;QACD,OAAO,eAAe,CAAC,QAAQ,CAAC;IACpC,CAAC;IASD,QAAQ;IACA,2CAAiB,GAAzB,UAA0B,CAAS;QAC/B,OAAO,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;IAC/C,CAAC;IAED,aAAa;IACL,mCAAS,GAAjB,UAAyC,CAAc;QACnD,IAAI,CAAC,GAAG,IAAI,CAAC;QACb,IAAG;YACC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC;SACf;QAAA,OAAM,CAAC,EAAC;YACL,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;SACf;QACD,OAAO,CAAC,CAAC;IACb,CAAC;IAED,QAAQ;IACD,mCAAS,GAAhB,UAAiB,GAAU,EAAC,GAAe;QACvC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,EAAC,GAAG,CAAC,CAAC;QACtB,OAAO,eAAe,CAAC,QAAQ,CAAC;IACpC,CAAC;IAED,QAAQ;IACD,mCAAS,GAAhB,UAAiB,GAAU;QACvB,OAAO,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IAC7B,CAAC;IA9CD,eAAe;IACR,wBAAQ,GAAG,IAAI,CAAC;IA+C3B,sBAAC;CAjDD,AAiDC,IAAA;kBAjDoB,eAAe","file":"","sourceRoot":"/","sourcesContent":["import AbsServicer from \"./AbsServicer\";\r\nimport { OnlineServicer, WxServicer, QqServicer } from \"./OuterServicer\";\r\nimport { AtServicer } from \"./InnerServicer\";\r\n\r\n/*  \r\n   懒汉单例 \r\n   客服工厂 \r\n*/\r\nexport default class ServicerFactory{\r\n    // 静态成员instance\r\n    static instance = null;\r\n    public map:Map<string,AbsServicer> = new Map<string,AbsServicer>();\r\n\r\n    // 私有构造函数\r\n    private constructor(){}\r\n\r\n    public static getInstance(){\r\n        if(ServicerFactory.instance == null){\r\n            ServicerFactory.instance = new ServicerFactory();\r\n        }\r\n        return ServicerFactory.instance;\r\n    }\r\n\r\n    public readonly servicerDic = {\r\n        \"onlineService\": OnlineServicer,\r\n        \"wxService\": WxServicer,\r\n        \"qqService\": QqServicer,\r\n        \"atService\": AtServicer,\r\n    }\r\n\r\n    //创建客服实例\r\n    public  createServicerObj(c: string): AbsServicer|null {\r\n        return this.createObj(this.servicerDic[c]);\r\n    }\r\n\r\n    //这里用泛型保证类型安全\r\n    private createObj<T extends AbsServicer>(c: new () => T): T|null {\r\n        let d = null;\r\n        try{\r\n            d = new c();\r\n        }catch(e){\r\n            cc.error(e);\r\n        }\r\n        return d;\r\n    }\r\n\r\n    //添加客服实例\r\n    public addEntity(key:string,ser:AbsServicer):ServicerFactory{\r\n        this.map.set(key,ser);\r\n        return ServicerFactory.instance;\r\n    }\r\n\r\n    //获取客服实例\r\n    public getEntity(key:string):AbsServicer{\r\n        return this.map.get(key);\r\n    }\r\n\r\n}"]}