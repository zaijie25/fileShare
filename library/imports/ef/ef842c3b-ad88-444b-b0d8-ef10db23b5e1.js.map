{"version":3,"sources":["assets\\hall\\scripts\\logic\\hall\\ui\\playerInfo\\WndVip3.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import WndBase, { DestoryType } from \"../../../core/ui/WndBase\";\r\nimport PlayerInfoModel from \"../../../hallcommon/model/PlayerInfoModel\";\r\nimport VipView from \"./VipView\";\r\n\r\nexport default class WndVip3 extends WndBase {\r\n    /**\r\n     * 全局对象\r\n     */\r\n    static instance: WndVip3 = null;\r\n\r\n    /**\r\n     * 滑动容器\r\n     */\r\n    pageView: cc.PageView = null;\r\n    /**\r\n     * pageview对象数组\r\n     */\r\n    vipViewArr: VipView[] = [];\r\n    /**\r\n     * 左右箭头数组\r\n     */\r\n    jiantouNodeArr: cc.Node[] = [];\r\n\r\n    private itemNode: cc.Node = null\r\n\r\n    private vipCount: number = 15;\r\n\r\n    private uiInit = false;\r\n\r\n    private VipListReward = [];\r\n    /**\r\n     * 当前显示的页面\r\n     */\r\n    private LockvipView = -1;\r\n    /**\r\n     * 初始化脚本\r\n     */\r\n    protected onInit() {\r\n        WndVip3.instance = this;\r\n        this.isNeedDelay = true\r\n        this.name = \"WndVip3\";\r\n        this.layer = Global.UI.PopLayer;\r\n        this.resPath = \"hall/prefabs/ui/PlayerInfo/VipUI3\";\r\n        // this.destoryType = DestoryType.ChangeScene;\r\n        // this.model = <PlayerInfoModel>Global.ModelManager.getModel(\"PlayerInfoModel\");\r\n    }\r\n\r\n    onDispose() {\r\n        this.vipViewArr = []\r\n        this.uiInit = false;\r\n        WndVip3.instance = null;\r\n    }\r\n\r\n    /**\r\n     * 初始化UI\r\n     */\r\n    protected initView() {\r\n        this.addCommonClick(\"bg/close\", this.closeBtnFunc, this);\r\n\r\n        this.pageView = cc.find(\"pageview\", this.node).getComponent(cc.PageView);\r\n        this.pageView.node.on(\"page-turning\", this.PageTurnCallback, this);\r\n        this.itemNode = cc.find(\"pageview/view/content/page_1\", this.node);\r\n        this.itemNode.active = false;\r\n        this.itemNode.parent.width = this.itemNode.width * PlayerInfoModel.instance.vip_cfg.length;\r\n        let index = 1;\r\n        this.vipCount = PlayerInfoModel.instance.vip_cfg.length + 1;\r\n        Global.Component.schedule(() => {\r\n            if (index >= this.vipCount) {\r\n                this.itemNode.parent.width = this.itemNode.width * PlayerInfoModel.instance.vip_cfg.length;\r\n                this.PageTurnCallback();\r\n                this.uiInit = true;\r\n                this.OnDataPrepared()\r\n                return;\r\n            }\r\n            let end = index + 2;\r\n            let begin = index;\r\n            for (let i = begin; i < end; i++) {\r\n                if (i >= this.vipCount) {\r\n                    index++;\r\n                    return;\r\n                }\r\n                var item: cc.Node = cc.instantiate(this.itemNode);\r\n                item.name = \"page_\" + index;\r\n                item.active = true;\r\n                item.x = (index - 1) * this.itemNode.width;\r\n                var vipView: VipView = item.getComponent(VipView);\r\n                vipView.vip = index;\r\n                vipView.initView()\r\n                this.vipViewArr.push(vipView);\r\n                item.setParent(this.itemNode.parent);\r\n                index++;\r\n            }\r\n        }, 0, this.vipCount / 2)\r\n        this.jiantouNodeArr[0] = Global.UIHelper.addCommonClick(this.node, \"jiantou_left\", this.leftBtnFunc, this);\r\n        this.jiantouNodeArr[1] = Global.UIHelper.addCommonClick(this.node, \"jiantou_right\", this.rightBtnFunc, this);\r\n\r\n        var scaleValue = 1.2;\r\n        var time = 0.8;\r\n        var ac1 = cc.scaleTo(time, scaleValue, scaleValue);\r\n        var ac2 = cc.scaleTo(time, 1, 1);\r\n        var seq = cc.sequence(ac1, ac2);\r\n        var action = cc.repeatForever(seq);\r\n        this.jiantouNodeArr[1].runAction(action);\r\n\r\n        var ac1 = cc.scaleTo(time, scaleValue, scaleValue);\r\n        var ac2 = cc.scaleTo(time, 1, 1);\r\n        var seq = cc.sequence(ac1, ac2);\r\n        var action = cc.repeatForever(seq);\r\n        this.jiantouNodeArr[0].runAction(action);\r\n\r\n    }\r\n\r\n    /**\r\n     * 界面打开回调\r\n     */\r\n    protected onOpen() {\r\n        // this.pageView.node.active = false;\r\n        // this.UpdateJiantou();\r\n        if (this.uiInit)\r\n            this.OnDataPrepared();\r\n        Global.Event.on(GlobalEvent.CHANGEVIP, this, this.UseInfoUpdateUI)\r\n    }\r\n\r\n    openAnimFinish() {\r\n        this.PageTurnCallback()\r\n        this.LockvipView = Global.PlayerData.vip\r\n        this.UpdateUI()\r\n        this.UpdateJiantou();\r\n        // this.pageView.node.active = true;\r\n        // this.UpdateUI();\r\n    }\r\n    /**\r\n     * 界面关闭回调\r\n     */\r\n    protected onClose() {\r\n        Global.Event.off(GlobalEvent.CHANGEVIP, this, this.UseInfoUpdateUI)\r\n    }\r\n\r\n    /**\r\n     * 关闭按钮点击\r\n     */\r\n    private closeBtnFunc() {\r\n        this.close();\r\n    }\r\n\r\n    /**\r\n     * 更新界面\r\n     */\r\n    UpdateUI() {\r\n        Global.HallServer.send(NetAppface.mod, NetAppface.CheckVipReward, null, (data) => {\r\n            if (data.list) {\r\n                this.VipListReward = data.list;\r\n                let status = 0;\r\n                for (var i = 0; i < this.vipViewArr.length; i++) {\r\n                    var vipView: VipView = this.vipViewArr[i];\r\n                    if (this.VipListReward[i]) {\r\n                        vipView.UpdateUI(this.VipListReward[i]);\r\n                        if (this.VipListReward[i].status == 0 && Global.PlayerData.vip > i) {\r\n                            status = 1;\r\n                        }\r\n                    }\r\n                    else {\r\n                        vipView.UpdateUI();\r\n                    }\r\n                }\r\n                PlayerInfoModel.instance.is_vip_reward = status;\r\n                Global.Event.event(GlobalEvent.VIPREWARD, null);\r\n                if (this.LockvipView <= 0) {\r\n                    this.LockvipView = Global.PlayerData.vip\r\n                }\r\n                if (this.LockvipView >= PlayerInfoModel.instance.vip_cfg.length) {\r\n                    this.LockvipView = PlayerInfoModel.instance.vipExpArr.length - 1;\r\n                }\r\n                this.pageView.scrollToPage(this.LockvipView, 0.01);\r\n            }\r\n        }, (error) => {\r\n            Global.UI.fastTip(error._errstr);\r\n            // console.log(error);\r\n        }, false, 60);\r\n    }\r\n\r\n    /**\r\n     * 通知更新界面\r\n     */\r\n    private UseInfoUpdateUI() {\r\n        Global.HallServer.clearCache(NetAppface.mod, NetAppface.CheckVipReward, null)\r\n        this.UpdateUI();\r\n    }\r\n\r\n    /**\r\n     * 更新箭头\r\n     */\r\n    UpdateJiantou() {\r\n        var index = this.pageView.getCurrentPageIndex();\r\n        this.LockvipView = this.pageView.getCurrentPageIndex();\r\n        if (index > this.vipCount - 1)\r\n            index = this.vipCount - 1;\r\n        if (index <= 0) {\r\n            this.jiantouNodeArr[0].active = false;\r\n            this.jiantouNodeArr[1].active = true;\r\n        } else if (index >= PlayerInfoModel.instance.vip_cfg.length - 1) {\r\n            this.jiantouNodeArr[0].active = true;\r\n            this.jiantouNodeArr[1].active = false;\r\n        } else {\r\n            this.jiantouNodeArr[0].active = true;\r\n            this.jiantouNodeArr[1].active = true;\r\n        }\r\n        // this.OnDataPrepared()\r\n    }\r\n\r\n    /**\r\n     * 翻页事件回调\r\n     */\r\n    PageTurnCallback() {\r\n        var index = this.pageView.getCurrentPageIndex();\r\n        this.LockvipView = this.pageView.getCurrentPageIndex();\r\n        this.pageView.content.width = PlayerInfoModel.instance.vip_cfg.length * this.itemNode.width\r\n        if (index > this.vipCount - 1) {\r\n            index = this.vipCount - 1;\r\n        }\r\n        for (let i = 0; i < this.vipViewArr.length; i++) {\r\n            if (i < index - 1 || i > index + 1)\r\n                this.vipViewArr[i].node.active = false;\r\n            else\r\n                this.vipViewArr[i].node.active = true;\r\n        }\r\n        this.UpdateJiantou();\r\n    }\r\n\r\n    /**\r\n     * 左箭头 点击\r\n     */\r\n    leftBtnFunc() {\r\n        var index = this.pageView.getCurrentPageIndex();\r\n        this.LockvipView = this.pageView.getCurrentPageIndex();\r\n        if (index > 0) {\r\n            this.pageView.scrollToPage(index - 1, 0.3);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 右箭头 点击\r\n     */\r\n    rightBtnFunc() {\r\n        var index = this.pageView.getCurrentPageIndex();\r\n        this.LockvipView = this.pageView.getCurrentPageIndex();\r\n        if (index < PlayerInfoModel.instance.vip_cfg.length - 1) {\r\n            this.pageView.scrollToPage(index + 1, 0.3);\r\n        }\r\n    }\r\n}"]}