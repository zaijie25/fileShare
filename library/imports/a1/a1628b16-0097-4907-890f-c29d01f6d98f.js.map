{"version":3,"sources":["assets\\hall\\scripts\\logic\\core\\game\\TweenManager.ts"],"names":[],"mappings":";;;;;;AAAA,qCAAoC;AAEpC;IAAA;QAEW,cAAS,GAAO,EAAE,CAAC;QAElB,SAAI,GAAG,CAAC,CAAC;IAyDrB,CAAC;IArDU,4BAAK,GAAZ;QAEI,IAAI,CAAC,SAAS,GAAG,IAAI,EAAE,CAAC,aAAa,EAAE,CAAC;QACxC,EAAE,CAAC,QAAQ,CAAC,YAAY,EAAE,CAAC,cAAc,CAAC,IAAI,CAAC,SAAS,EAAE,EAAE,CAAC,SAAS,CAAC,eAAe,EAAE,KAAK,CAAC,CAAA;IAClG,CAAC;IAEM,0BAAG,GAAV,UAAW,MAAe;QAEtB,IAAG,CAAC,MAAM,IAAI,CAAC,MAAM,CAAC,OAAO,EAC7B;YACI,MAAM,CAAC,KAAK,CAAC,uCAAuC,CAAC,CAAA;YACrD,OAAO;SACV;QACD,IAAI,KAAK,GAAG,IAAI,iBAAO,EAAE,CAAC;QAC1B,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QACrB,sDAAsD;QACtD,OAAO,KAAK,CAAC;IACjB,CAAC;IAGM,4BAAK,GAAZ;QAEI,IAAI,CAAC,SAAS,CAAC,gBAAgB,EAAE,CAAC;QAClC,kDAAkD;QAClD,IAAI;QACJ,uEAAuE;QACvE,0CAA0C;QAC1C,IAAI;QACJ,uBAAuB;QACvB,iBAAiB;IACrB,CAAC;IAEM,+BAAQ,GAAf,UAAgB,EAAE;QAEd,mBAAmB;QACnB,0BAA0B;QAC1B,8BAA8B;QAC9B,IAAI;QACJ,0DAA0D;QAC1D,QAAQ;QACR,0HAA0H;QAC1H,YAAY;QACZ,uEAAuE;QACvE,gBAAgB;QAChB,kDAAkD;QAClD,gBAAgB;QAChB,2CAA2C;QAC3C,YAAY;QACZ,QAAQ;QACR,IAAI;IACR,CAAC;IAGL,mBAAC;AAAD,CA7DA,AA6DC,IAAA","file":"","sourceRoot":"/","sourcesContent":["import { YXTween } from \"./YXTween\";\r\n\r\nexport default class TweenManager\r\n{\r\n    public tweenList:any = [];\r\n\r\n    private time = 0;\r\n\r\n    public actionMgr:cc.ActionManager;\r\n\r\n    public setup()\r\n    {\r\n        this.actionMgr = new cc.ActionManager();\r\n        cc.director.getScheduler().scheduleUpdate(this.actionMgr, cc.Scheduler.PRIORITY_SYSTEM, false)\r\n    }\r\n\r\n    public get(target?:cc.Node): cc.Tween\r\n    {\r\n        if(!target || !target.isValid)\r\n        {\r\n            Logger.error(\"TweenManager  target is !isValid!!!!!\")\r\n            return;\r\n        }\r\n        let tween = new YXTween();\r\n        tween.target(target);\r\n        //this.tweenList.push({tween:tween, time:Date.now()});\r\n        return tween;\r\n    }\r\n\r\n\r\n    public clear()\r\n    {\r\n        this.actionMgr.removeAllActions();\r\n        // for(let i = 0 ; i < this.tweenList.length; i++)\r\n        // {\r\n        //     if(this.tweenList[i] != null && this.tweenList[i].tween != null)\r\n        //         this.tweenList[i].tween.stop();\r\n        // }\r\n        // this.tweenList = [];\r\n        // this.time = 0;\r\n    }\r\n\r\n    public onUpdate(dt)\r\n    {\r\n        // this.time += dt;\r\n        // //每30秒检查一次    存在60秒 则移除\r\n        // if(this.time >= 10)        \r\n        // {\r\n        //     for(let i = this.tweenList.length - 1; i >= 0; i--)\r\n        //     {\r\n        //         if(this.tweenList[i] == null || this.tweenList[i].tween == null || Date.now() - this.tweenList[i].time > 10000)\r\n        //         {\r\n        //             if(this.tweenList[i] == null && this.tweenList[i].tween)\r\n        //             {\r\n        //                 this.tweenList[i].tween.stop();\r\n        //             }\r\n        //             this.tweenList.splice(i, 1);\r\n        //         }\r\n        //     }\r\n        // }\r\n    }\r\n\r\n\r\n}"]}