{"version":3,"sources":["assets\\ermj\\Ermj\\scripts\\handlers\\ErmjWinHandler.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import ErmjBaseHandler from \"./ErmjBaseHandler\";\r\n\r\nexport default class ErmjWinHandler extends ErmjBaseHandler{\r\n    protected execute(msg){\r\n        this.context.set(this.Define.FieldHandActionEnable, false);\r\n        this.context.set(this.Define.FieldInPlayTurn, false);\r\n\r\n        this.mainUI.callAllPlayers(\"showStateSp\", false);\r\n        this.mainUI.askNoticeView.setTimerShow(false);\r\n        this.mainUI.selfPlayView.resetSelectMj();\r\n        this.mainUI.selfPlayView.showPlayTips(false);\r\n        this.mainUI.askActionView.active = false;\r\n        \r\n        let localSeat = this.SitHelper.serverSToLocalN(msg._src);\r\n        let whoSeat = this.SitHelper.serverSToLocalN(msg._para.who);\r\n        this.mainUI.onWin(localSeat, whoSeat, msg._para.card, msg._para.type, true);\r\n        this.context.set(this.Define.FieldHandActionEnable, false);\r\n\r\n        // 预先设置 结算显示\r\n        this.mainUI.settleView.setWinType(msg._para.type);\r\n    }\r\n\r\n    protected executeSync(msg){\r\n        this.context.set(this.Define.FieldHandActionEnable, false);\r\n        this.context.set(this.Define.FieldInPlayTurn, false);\r\n        \r\n        this.mainUI.callAllPlayers(\"showStateSp\", false);\r\n        this.mainUI.askNoticeView.setTimerShow(false);\r\n        this.mainUI.selfPlayView.resetSelectMj();\r\n        this.mainUI.selfPlayView.showPlayTips(false);\r\n        this.mainUI.askActionView.active = false;\r\n\r\n        let localSeat = this.SitHelper.serverSToLocalN(msg._src);\r\n        let whoSeat = this.SitHelper.serverSToLocalN(msg._para.who);\r\n        this.mainUI.onWin(localSeat, whoSeat, msg._para.card, msg._para.type, false);\r\n        this.context.set(this.Define.FieldHandActionEnable, false);\r\n\r\n        // 预先设置 结算显示\r\n        this.mainUI.settleView.setWinType(msg._para.type);\r\n    }\r\n}"]}