{"version":3,"sources":["assets\\hall\\scripts\\logic\\hall\\ui\\Feedback\\FeedbackServiceItem.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import {CustomerEntranceType, PopItemType } from \"../../../hallcommon/model/ServicerModel\";\r\n\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class FeedbackServiceItem extends cc.Component {\r\n\r\n    @property([cc.SpriteFrame])\r\n    spriteList : Array<cc.SpriteFrame> = [];\r\n\r\n    @property([cc.String])\r\n    stringList: Array<string> = [];\r\n\r\n    @property(cc.Sprite)\r\n    iconSprite: cc.Sprite = null;\r\n\r\n    @property(cc.Label)\r\n    iconName: cc.Label = null;\r\n\r\n    @property(cc.Label)\r\n    servicerName: cc.Label = null;\r\n    private data : any = null;\r\n   \r\n\r\n    refreshUI(data)\r\n    {\r\n        if(!data)\r\n        {\r\n            Logger.error(\"客服信息不存在\")\r\n            return\r\n        }\r\n        this.data = data\r\n        this.iconSprite.spriteFrame = this.spriteList[data.type];\r\n        let string = data.msg || this.stringList[data.type];\r\n        this.iconName.string = Global.Toolkit.substrEndWithElli(string,8)\r\n        this.servicerName.string = Global.Toolkit.substrEndWithElli(data.data,10)\r\n\r\n    }\r\n    awakeQQCallBack( retStr ){\r\n        if (retStr.result == 0) {\r\n        } \r\n        else {\r\n            let ret = retStr.result\r\n            if (ret == -1) {\r\n                Logger.log(\"请先安装QQ\");\r\n                Global.UI.showSingleBox(\"请先安装QQ\", null);\r\n            } else {\r\n                Logger.log(\"打开QQ失败\");\r\n                Global.UI.showSingleBox(\"打开QQ失败\", null);\r\n            }\r\n        }\r\n    }\r\n\r\n    awakeWeChatCallBack( retStr ){\r\n        if (retStr.result == 0) {\r\n        } else {\r\n            let ret = retStr.result\r\n            if (ret == -1) {\r\n                Logger.log(\"请先安装微信\");\r\n                Global.UI.showSingleBox(\"请先安装微信\", null);\r\n            } else {\r\n                Logger.log(\"打开微信失败\");\r\n                Global.UI.showSingleBox(\"打开微信失败\", null);\r\n            }\r\n        }\r\n    }\r\n\r\n    copyTextToClipboardCallBack( retStr ){\r\n        if (retStr.result == 0) {\r\n            Global.UI.fastTip(\"复制成功\");\r\n            if(this.data.type == PopItemType.QQ){\r\n                Global.NativeEvent.awakeQQApp(this.awakeQQCallBack.bind(this));\r\n            }else if(this.data.type == PopItemType.WX || this.data.type == PopItemType.WXPUBLIC){\r\n                Global.NativeEvent.awakeWechatApp(this.awakeWeChatCallBack.bind(this));\r\n            }\r\n        }else {\r\n            Global.UI.fastTip(\"复制失败\");\r\n        }\r\n    }\r\n\r\n    //复制并前往\r\n    ServicerBtnFunc(event, customEventData) {\r\n        switch (this.data.type) {\r\n            case PopItemType.QQ:\r\n            case PopItemType.WX:\r\n            case PopItemType.WXPUBLIC:\r\n                Global.NativeEvent.copyTextToClipboard(this.data.data, this.copyTextToClipboardCallBack.bind(this));\r\n                break;\r\n            case PopItemType.Link:\r\n            case PopItemType.AtLink:\r\n                cc.sys.openURL(Global.Toolkit.DealWithUrl(this.data.data));\r\n                break;\r\n            case PopItemType.AtWnd:\r\n                Global.ChatServer.serverType = CustomerEntranceType.HallService\r\n                Global.ChatServer.userSetting(null, this.data.data);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n}\r\n"]}