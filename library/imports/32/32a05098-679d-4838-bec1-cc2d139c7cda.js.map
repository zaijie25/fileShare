{"version":3,"sources":["assets\\hall\\scripts\\logic\\hall\\ui\\login\\WndLogin.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import WndBase from \"../../../core/ui/WndBase\";\r\nimport LoginModel from \"../../../hallcommon/model/LoginModel\";\r\nimport HallStorageKey from \"../../../hallcommon/const/HallStorageKey\";\r\nimport AppHelper from \"../../../core/tool/AppHelper\";\r\nimport { HallRedSpotType } from \"../../../hallcommon/model/HallModel\";\r\nimport { CustomerEntranceType } from \"../../../hallcommon/model/ServicerModel\";\r\nimport { BTNINDEX } from \"../../../hallcommon/app/CustomApp\";\r\nimport SystemInfo from \"../../../core/setting/SystemInfo\";\r\n\r\nexport default class WndLogin extends WndBase {\r\n    private model: LoginModel;\r\n    private showWx = true;\r\n    private versionLabel:cc.Label;\r\n\r\n    private kefuNode:cc.Node;\r\n    private kefuSpot:cc.Node;\r\n    private guangWangNode:cc.Node;\r\n\r\n    private bg:cc.Sprite;\r\n    //private logo:cc.Sprite;\r\n    private effectNode:cc.Node;\r\n    private lgEffect:cc.Node;\r\n\r\n    private vistorLoginx = 0\r\n    private phoneLoginx = 0\r\n\r\n    private clickTagMap = {}\r\n\r\n    private guestBtn :cc.Node\r\n\r\n    private phoneBtn : cc.Node\r\n\r\n    private registBtn :cc.Node\r\n\r\n    protected onInit() {\r\n        this.name = \"WndLogin\";\r\n        this.layer = \"MainLayer\";\r\n        this.resPath = \"hall/prefabs/ui/LoginUI\";\r\n        //animType\r\n        this.model = <LoginModel>Global.ModelManager.getModel(\"LoginModel\");  \r\n    }\r\n\r\n    protected initView() {\r\n        this.guestBtn = this.addCommonClick(\"btnContainer/guestBtn\", this.onGuestBtnClick, this, cc.Button.Transition.SCALE, 2);\r\n        this.addCommonClick(\"btnContainer/wxBtn\", this.onWxBtnClick, this, cc.Button.Transition.SCALE, 2);\r\n        this.phoneBtn = this.addCommonClick(\"btnContainer/phoneBtn\", this.onPhoneBtnClick, this, cc.Button.Transition.SCALE, 2);\r\n        // this.addCommonClick(\"btnContainer/registerBtn\", this.onRegisterBtnClick, this, cc.Button.Transition.SCALE, 2);\r\n        this.addCommonClick(\"btnContainer/gnx_kefu\", this.onKefuClick, this, cc.Button.Transition.SCALE, 2);\r\n        this.addCommonClick(\"btnContainer/gnx_guanwang\", this.onGuanwangClick, this, cc.Button.Transition.SCALE, 2);\r\n        this.registBtn = this.addCommonClick(\"btnContainer/RegistBtn\", this.onRegistBtnClick, this, cc.Button.Transition.SCALE, 2);\r\n\r\n        this.kefuNode = this.getChild(\"btnContainer/gnx_kefu\");\r\n        this.kefuSpot = this.getChild(\"btnContainer/gnx_kefu/hongdian\");\r\n        this.kefuSpot.active = false;\r\n        \r\n        this.guangWangNode = this.getChild(\"btnContainer/gnx_guanwang\");\r\n        let widgets = this.node.getComponentsInChildren(cc.Widget);\r\n        this.versionLabel = this.getComponent(\"versionLabel\", cc.Label);\r\n        this.versionLabel.string = Global.Toolkit.genAppInfo();\r\n       // this.versionLabel.string = Global.HotUpdateManager.hallNewVersion;\r\n        if(widgets && widgets.length > 0)\r\n        {\r\n            for(let i = 0; i < widgets.length; i++)\r\n            {\r\n                widgets[i].target = cc.Canvas.instance.node;\r\n            }\r\n        }\r\n        this.showWx = Global.Toolkit.checkIsPlatformShowWX()\r\n        if(!this.showWx)\r\n            this.getChild(\"btnContainer/wxBtn\").active = false;\r\n\r\n        // if (Global.Setting.weixinLoginDisable){\r\n        //     this.getChild(\"btnContainer/wxBtn\").active = false;\r\n        // }\r\n\r\n        //this.effectNode = this.getChild(\"effect\");\r\n        this.bg = this.getComponent(\"bg\", cc.Sprite);\r\n        //this.logo = this.getComponent(\"logo\", cc.Sprite);\r\n        this.lgEffect = this.getChild(\"lgEffect\");\r\n        let config = Global.customApp.getAppConfig()\r\n        if(!config)\r\n        {\r\n            this.lgEffect.active = Global.customApp.showLoginEff;\r\n        }\r\n        else\r\n        {\r\n            this.lgEffect.active = config.showLoginEff;\r\n        }\r\n        \r\n        this.guestBtn =   this.getChild(\"btnContainer/guestBtn\")\r\n        if(this.guestBtn)\r\n        {\r\n            this.vistorLoginx = this.guestBtn.x\r\n        }\r\n\r\n        this.phoneBtn =  this.getChild(\"btnContainer/phoneBtn\")\r\n        if(this.phoneBtn)\r\n        {\r\n            this.phoneLoginx = this.phoneBtn.x\r\n        }\r\n        this.clickTagMap[\"wxTag\"] = true\r\n        this.clickTagMap[\"vistorTag\"] = true\r\n        this.clickTagMap[\"phoneTag\"] = true\r\n    }\r\n   \r\n    onRegistBtnClick() {\r\n        Global.UI.show(\"WndRegist\");\r\n    }\r\n\r\n\r\n    protected onOpen() {\r\n        Global.HallServer.stop();\r\n        this.setBottomBtnActive()\r\n        this.CheckKefu()\r\n        Global.Event.on(GlobalEvent.ShowRedSpot,this,this.showRedSpot);\r\n        Global.Event.on(GlobalEvent.CloseRedSpot,this,this.closeRedSpot);\r\n        if (Global.Setting.enableAutoLogin && this.model.firstLogin) {\r\n            this.model.firstLogin = false;\r\n            this.doAutoLogin();\r\n        }\r\n        let node = cc.find(\"Canvas/loading\")\r\n        if(node)\r\n            node.active = false;\r\n    }\r\n\r\n    CheckKefu()\r\n    {\r\n        let data = null\r\n        let model = Global.ModelManager.getModel(\"ServicerModel\")\r\n        if(model)\r\n        {\r\n            data = model.getServiceInfo(CustomerEntranceType.LoginService)\r\n        }\r\n        if(!data || !data.status)\r\n        {\r\n            this.kefuNode.active = false\r\n        }\r\n        else\r\n        {\r\n            this.kefuNode.active = true\r\n        }\r\n    }\r\n    private showRedSpot( data ){\r\n        let redSpotType = data[1]\r\n        switch(redSpotType){\r\n            case HallRedSpotType.LoginKefu:\r\n            {\r\n                this.kefuSpot.active = true;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    public closeRedSpot( redSpotType ){\r\n        switch(redSpotType){\r\n            case HallRedSpotType.LoginKefu:\r\n            {\r\n                this.kefuSpot.active = false;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    private onKefuClick()\r\n    {\r\n        Global.ModelManager.getModel(\"ServicerModel\").enterCustomerService(CustomerEntranceType.LoginService);\r\n    }\r\n\r\n    private onGuanwangClick()\r\n    {\r\n        let url = Global.Setting.Urls.downLoadUrl\r\n        cc.sys.openURL(url);\r\n    }\r\n\r\n    private setBottomBtnActive(){\r\n\r\n        if(this.guestBtn)\r\n        {\r\n            this.SetBtnPos(this.guestBtn,BTNINDEX.VistorLoginBtn)\r\n            \r\n        }\r\n        let wxBtn = this.getChild(\"btnContainer/wxBtn\")\r\n        if(wxBtn)\r\n        {\r\n            this.SetBtnPos(wxBtn,BTNINDEX.WeChatLoginBtn)\r\n        }\r\n        if(this.phoneBtn)\r\n        {\r\n            this.SetBtnPos(this.phoneBtn,BTNINDEX.PhoneLoginBtn)\r\n        }\r\n\r\n        if(this.registBtn)\r\n        {\r\n            this.SetBtnPos(this.registBtn,BTNINDEX.RegistBtn)\r\n        }\r\n        \r\n        let offical:cc.Node = this.getChild(\"btnContainer/gnx_guanwang\")\r\n\r\n        if(offical)\r\n        {\r\n            this.SetBtnPos(offical,BTNINDEX.OfficalBtn)\r\n        }\r\n        let service:cc.Node = this.getChild(\"btnContainer/gnx_kefu\")\r\n\r\n        if(service)\r\n        {\r\n            this.SetBtnPos(service,BTNINDEX.ServiceBtn)\r\n        }\r\n        \r\n        let wxFlag = this.showWx && AppHelper.checkWxkey(false) && !Global.Setting.weixinLoginDisable  \r\n        // if(cc.sys.platform == cc.sys.IPHONE )\r\n        // {\r\n        //     wxFlag = wxFlag && Global.Setting.isAppStoreEnableWXSDK\r\n        // }\r\n\r\n        wxBtn.active = wxFlag\r\n        this.guestBtn.active = !Global.Setting.vistorLoginLimited\r\n        this.registBtn.active = !Global.Setting.registLimited\r\n        let config = Global.customApp.getAppConfig()\r\n        if(config && config.layout != null && config.layout != undefined)\r\n        {\r\n\r\n            let layOut = config.layout\r\n            if(layOut == 1) // 1表示按钮横向排榜 0 竖向\r\n            {\r\n                if (!wxFlag) {\r\n\r\n                    let rightFlag =  this.guestBtn.x > this.phoneBtn.x //微信不显示时判断哪个按钮在右边，右边按钮往左移动，左边按钮往右边移动\r\n                    if (rightFlag)\r\n                    {\r\n                        this.guestBtn.x -= 120\r\n                        this.phoneBtn.x += 120\r\n                        return\r\n                    }\r\n                    this.guestBtn.x += 120\r\n                    this.phoneBtn.x -= 120\r\n                }\r\n            }\r\n            else\r\n            {\r\n                if (!wxFlag) {\r\n                    let upFlag =  this.guestBtn.y > this.phoneBtn.y//微信不显示时判断哪个按钮在上面，上面按钮往下移动，下面按钮往上移动\r\n                    if (upFlag)\r\n                    {\r\n                        this.guestBtn.y -= 40\r\n                        this.phoneBtn.y += 40\r\n                        return\r\n                    }\r\n                    this.guestBtn.y += 40\r\n                    this.phoneBtn.y -= 40\r\n                } \r\n            }\r\n            return\r\n        }\r\n        if (!wxFlag) {\r\n            this.guestBtn.x = this.vistorLoginx\r\n            this.phoneBtn.x = this.phoneLoginx\r\n            let rightFlag = this.guestBtn.x > this.phoneBtn.x\r\n            if (rightFlag) {\r\n                this.guestBtn.x -= 120\r\n                this.phoneBtn.x += 120\r\n                return\r\n            }\r\n            this.guestBtn.x += 120\r\n            this.phoneBtn.x -= 120\r\n        }\r\n\r\n\r\n    }\r\n\r\n    SetBtnPos(node: cc.Node, btnIndex: BTNINDEX) {\r\n        let config = Global.customApp.getAppConfig()\r\n        if (!config || !cc.isValid(node)) {\r\n            return\r\n        }\r\n        switch (btnIndex) {\r\n            case BTNINDEX.OfficalBtn:\r\n                if(config.officalBtnPos)\r\n                    node.setPosition(cc.v2(config.officalBtnPos[0], config.officalBtnPos[1]))\r\n                break;\r\n            case BTNINDEX.RegistBtn:\r\n                if(config.registBtnPos)\r\n                    node.setPosition(cc.v2(config.registBtnPos[0], config.registBtnPos[1]))\r\n                break;\r\n            case BTNINDEX.ServiceBtn:\r\n                if(config.serviceBtnPos)\r\n                    node.setPosition(cc.v2(config.serviceBtnPos[0], config.serviceBtnPos[1]))\r\n                break;\r\n            case BTNINDEX.VistorLoginBtn:\r\n                if(config.vistorLoginBtnPos)\r\n                    node.setPosition(cc.v2(config.vistorLoginBtnPos[0], config.vistorLoginBtnPos[1]))\r\n                break;\r\n            case BTNINDEX.WeChatLoginBtn:\r\n                if(config.wechatLoginBtnPos)\r\n                    node.setPosition(cc.v2(config.wechatLoginBtnPos[0], config.wechatLoginBtnPos[1]))\r\n                break;\r\n            case BTNINDEX.PhoneLoginBtn:\r\n                if(config.phoneLoginBtnPos)\r\n                    node.setPosition(cc.v2(config.phoneLoginBtnPos[0], config.phoneLoginBtnPos[1]))\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    private doAutoLogin() {\r\n        //隐藏底部三个按钮\r\n        // this.setBottomBtnActive(false)\r\n        let token = Global.Setting.storage.get(HallStorageKey.Token);\r\n        let uid = Global.Setting.storage.get(HallStorageKey.Uid);\r\n        if (token && token != \"\" && uid != \"\") {\r\n            this.model.reqAutoLogin(token, Number(uid), null);\r\n        }\r\n    }\r\n\r\n\r\n    private onGuestBtnClick() {\r\n        if (!this.clickTagMap[\"vistorTag\"]) {\r\n            return\r\n        }\r\n        this.clickTagMap[\"vistorTag\"] = false\r\n        this.clickTagMap[\"vistorTimer\"] = setTimeout(() => {\r\n            this.clickTagMap[\"vistorTag\"] = true\r\n        }, 1000);\r\n        this.model.reqVisitorLogin();\r\n    }\r\n\r\n    private onWxBtnClick() {\r\n        if (!this.clickTagMap[\"wxTag\"]) {\r\n            return\r\n        }\r\n        this.clickTagMap[\"wxTag\"] = false\r\n        this.clickTagMap[\"wxTimer\"] = setTimeout(() => {\r\n            this.clickTagMap[\"wxTag\"] = true\r\n        }, 1000);\r\n        if(!AppHelper.getAppWXLoginEnable())\r\n            return;\r\n        Global.NativeEvent.checkWXInstall((retInfo) => {\r\n            if (!retInfo) {\r\n                Logger.error(\"checkWXInstall callback error retInfo = null\")\r\n                return;\r\n            }\r\n            if (retInfo.result == 0) {\r\n                Global.NativeEvent.startWXLogin((wxInfo) => {\r\n                    if (!wxInfo) {\r\n                        Logger.error(\"startWXLogin callback error wxInfo = null\")\r\n                        return;\r\n                    }\r\n                    Logger.log(\"------------------onWxBtnClick callback wxInfo \" + JSON.stringify(wxInfo))\r\n                    if (wxInfo.result == 0) {\r\n                        let accesstoken = wxInfo.funcParam;\r\n                        this.model.reqWxLogin(accesstoken, 1);\r\n                    }\r\n                    else {\r\n                        Global.UI.fastTip(\"微信登录失败\");\r\n                    }\r\n                })\r\n            } else {\r\n                Global.UI.showSingleBox(\"请先安装微信\", null);\r\n            }\r\n\r\n        })\r\n\r\n    }\r\n    private onPhoneBtnClick() {\r\n        Global.UI.show(\"WndPhoneLogin\");\r\n    }\r\n\r\n    onDispose()\r\n    {\r\n        super.onDispose()\r\n        this.resetTag()\r\n        Global.Event.off(GlobalEvent.ShowRedSpot,this,this.showRedSpot);\r\n        Global.Event.off(GlobalEvent.CloseRedSpot,this,this.closeRedSpot);\r\n        \r\n    }\r\n    onClose()\r\n    {\r\n        this.resetTag()\r\n        Global.Event.off(GlobalEvent.ShowRedSpot,this,this.showRedSpot);\r\n        Global.Event.off(GlobalEvent.CloseRedSpot,this,this.closeRedSpot);\r\n    }\r\n\r\n    resetTag()\r\n    {\r\n        if(this.clickTagMap[\"wxTimer\"])\r\n        {\r\n            clearTimeout(this.clickTagMap[\"wxTimer\"])\r\n        }\r\n        if(this.clickTagMap[\"vistorTimer\"])\r\n        {\r\n            clearTimeout(this.clickTagMap[\"vistorTimer\"])\r\n        }\r\n        this.clickTagMap[\"wxTag\"] = true\r\n        this.clickTagMap[\"vistorTag\"] = true\r\n       \r\n\r\n    }\r\n\r\n    // private onRegisterBtnClick(){\r\n    //     Global.UI.show(\"WndRegist\");\r\n    // }\r\n\r\n}"]}