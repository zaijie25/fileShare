{"version":3,"sources":["assets\\ddz\\ddz\\scripts\\subView\\DdzLeftThreePokerView.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import DdzBaseView from \"./DdzBaseView\";\r\nimport DdzPokerView from \"./DdzPokerView\";\r\nimport DdzDriver from \"../DdzDriver\";\r\n\r\n/**\r\n * 底分倍数，地主三张牌的view\r\n */\r\nexport default class DdzLeftThreePokerView extends DdzBaseView{\r\n    private dzPokersRoot: cc.Node;\r\n    private dzScoreNode: cc.Node;\r\n    private dzScoreLbl: cc.Label;\r\n    private pokerList: DdzPokerView[] = [];\r\n    private spaceX = 25;\r\n\r\n    constructor(node: cc.Node){\r\n        super();\r\n        this.setNode(node);\r\n    }\r\n\r\n    protected initView(){\r\n        this.dzPokersRoot = this.getChild('dzPokersRoot');\r\n        this.dzScoreNode = this.getChild('socre');\r\n        this.dzScoreNode.active = false;\r\n        this.dzScoreLbl = <cc.Label>this.getComponent('socre/dzScoreLbl', cc.Label);\r\n    }\r\n\r\n    public addDZPokers(arr: DdzPokerView[] = []){\r\n        this.pokerList = arr;\r\n        this.pokerList.forEach(poker=>{\r\n            poker.active = true;\r\n            poker.setPokerStyle(0);\r\n            poker.isFront = false;\r\n            poker.node.setParent(this.dzPokersRoot);\r\n            poker.setPokerPosition(cc.Vec3.ZERO);\r\n            poker.setPokerScale(this.Define.SmallPokerScale);\r\n        });\r\n    }\r\n\r\n    public playShowAnimation(isAnim = true, timeScale = 0.2){\r\n        this.pokerList.forEach((poker, i)=>{\r\n            poker.active = true;\r\n            if (isAnim)\r\n                poker.doPokerMove(cc.Vec3.ZERO, cc.v3(-this.spaceX + i * this.spaceX, 0), timeScale);\r\n            else\r\n                poker.setPokerPosition(cc.v3(-this.spaceX + i * this.spaceX, 0));\r\n        });\r\n    }\r\n\r\n    public showThreePoker(isFront: boolean = false){\r\n        this.pokerList.forEach(poker=>{\r\n            poker.isFront = isFront;\r\n        });\r\n    }\r\n\r\n    public setThreePokerValue(arr: number[]){\r\n        for(let i=0; i< 3; i++){\r\n            if (arr[i]){\r\n                this.pokerList[i].pokerValue = arr[i];\r\n            }\r\n        }\r\n    }\r\n\r\n    //TODO 拼的字体的分\r\n    public showScoreLbl(isShow: boolean, score: number = 0){\r\n        this.dzScoreNode.active = isShow;\r\n        if (isShow)\r\n            this.dzScoreLbl.string = score + 'F';\r\n    }\r\n\r\n    public resetPokers(){\r\n        this.pokerList.forEach(poker=>{\r\n            poker.setPokerPosition(cc.Vec3.ZERO);\r\n        });\r\n    }\r\n\r\n    public clearByRound(){\r\n        this.active = false;\r\n        this.showScoreLbl(false);\r\n        this.showThreePoker(false);\r\n        this.resetPokers();\r\n        DdzDriver.instance.PokerPool.recycleAll(this.pokerList);\r\n        this.pokerList = [];\r\n    }\r\n}"]}