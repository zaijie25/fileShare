{"version":3,"sources":["assets\\hall\\scripts\\logic\\hall\\ui\\recharge\\OlPayView.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import ViewBase from \"../../../core/ui/ViewBase\";\r\nimport RechargeModel from \"../../../hallcommon/model/RechargeModel\";\r\nimport { NetAppface } from \"../../../core/net/hall/NetEvent\";\r\nimport AppHelper from \"../../../core/tool/AppHelper\";\r\nimport HallStorageKey from \"../../../hallcommon/const/HallStorageKey\";\r\nimport ScanCodeView from \"./ScanCodeView\";\r\nimport { LoadingState } from \"../../../core/ui/WndBase\";\r\n\r\nexport default class OlPayView extends ViewBase {\r\n    private payTipsLbl: cc.Label;\r\n    private payKey: string;\r\n    private nView = RechargeModel.PayType.Wechat;\r\n    private itemList: Array<ToggleItem> = [];\r\n    private moneyArr: Array<number> = [];\r\n    private curBtnIndex: number = -1;\r\n    private btnLayout: cc.Layout;\r\n    private model: RechargeModel;\r\n    private data: any;\r\n    private curPayUrl: string = \"\";\r\n    private orderNo: string = \"\";\r\n    private bankAccountEditBox: cc.EditBox\r\n    private nameEditBox: cc.EditBox\r\n    private infoNode: cc.Node\r\n    private scanCodeView:ScanCodeView\r\n\r\n\r\n    protected initView() {\r\n        this.model = Global.ModelManager.getModel(\"RechargeModel\");\r\n        this.payTipsLbl = this.getComponent(\"node/InputBox/moneyLbl\", cc.Label);\r\n        this.btnLayout = this.getComponent(\"btnLayout\", cc.Layout);\r\n        this.infoNode = this.getChild(\"Infonode\")\r\n        this.infoNode.active = false\r\n        this.bankAccountEditBox = this.getComponent(\"Infonode/unionAccountEditBox\", cc.EditBox)\r\n        this.nameEditBox = this.getComponent(\"Infonode/nameEditBox\", cc.EditBox)\r\n        this.btnLayout.node.active = true;\r\n        this.addCommonClick(\"goToPayBtn\", this.goToPay, this);\r\n        this.initToggleList();\r\n        this.scanCodeView = <ScanCodeView>this.addView(\"ScanCodeView\", this.getChild(\"ScanCodeView\"), ScanCodeView, false);\r\n    }\r\n\r\n    private initToggleList() {\r\n        for (let i = 1; i <= 8; i++) {\r\n            let toggle = this.getChild(\"btnLayout/toggle\" + String(i));\r\n            let item = new ToggleItem(toggle, this.onItemClick, this);\r\n            item.node.active = false;\r\n            this.itemList.push(item);\r\n        }\r\n\r\n        // 按钮列表的适配  注意不可频繁变动btnLayout大小，开销大\r\n        // this.btnLayout.node.on(cc.Node.EventType.SIZE_CHANGED, () => {\r\n        //     let w = this.btnLayout.node.width;\r\n        //     let tmpW = this.itemList[0].node.width;\r\n        //     let spaceX = (w - tmpW * 4) / 5;\r\n        //     this.btnLayout.paddingLeft = spaceX;\r\n        //     this.btnLayout.spacingX = spaceX;\r\n        // })\r\n        this.bankAccountEditBox.string = \"请输入银行卡号\"\r\n        this.nameEditBox.string = \"请输入姓名\"\r\n    }\r\n\r\n\r\n    showScanCodeView(data) {\r\n        if(this.scanCodeView)\r\n        {\r\n            this.scanCodeView.data = data\r\n            this.scanCodeView.subViewState = true\r\n        }\r\n    }\r\n    private onItemClick(num: number) {\r\n        this.payTipsLbl.string = String(this.moneyArr[num]);\r\n        // this.payTipsLbl.node.color = new cc.Color(160, 116, 56);\r\n        if (this.curBtnIndex != num) {\r\n            let curItem = this.itemList[this.curBtnIndex];\r\n            if (curItem) {\r\n                curItem.isChecked = false;\r\n            }\r\n            this.curBtnIndex = num;\r\n        }\r\n    }\r\n\r\n    public initData(viewIndex: string, data) {\r\n        this.resetSelect();\r\n        this.data = data;\r\n        this.nView = viewIndex;\r\n        this.payKey = data.id;\r\n        this.moneyArr = data.pay_num_list || [];\r\n        this.moneyArr.sort((a, b) => { return a - b });\r\n        for (let i = 0; i < this.itemList.length; i++) {\r\n            let item = this.itemList[i];\r\n            if (this.moneyArr[i]) {\r\n                item.initItemData(i, this.moneyArr[i]);\r\n                item.node.active = true;\r\n            }\r\n            else {\r\n                item.node.active = false;\r\n            }\r\n        }\r\n    }\r\n\r\n    private goToPay() {\r\n        let str = this.payTipsLbl.string;\r\n        if (str == '' || isNaN(Number(str))) {\r\n            return Global.UI.fastTip(\"请选择充值金额\");\r\n        }\r\n        console.log(Global.PlayerData.phone)\r\n        if(this.model.need_bind_phone && Global.PlayerData.phone == \"\")\r\n        {\r\n            return Global.UI.fastTip(\"为了您的财产安全，请先绑定手机号码后再充值\");\r\n        }\r\n        let attach = {\r\n            \"name\": \"加藤\",\r\n            \"card\": \"12542245542125\",\r\n        }\r\n        // if (this.nView == RechargeModel.PayType.UnionFast) {\r\n        //     if (!this.checkTextEmptyAndShowTips(this.nameEditBox.string, \"姓名不能为空\"))\r\n        //         return;\r\n        //     if (!this.checkTextEmptyAndShowTips(this.bankAccountEditBox.string, \"账户不能为空\"))\r\n        //         return;\r\n        // }\r\n        if (this.nView.indexOf(RechargeModel.PayType.Union) > -1) {\r\n            Global.UI.show(\"WndRechangeBankInfo\", str, this.data);\r\n        }\r\n        else {\r\n            this.model.reqGetUserDownPay(this.nView, Number(str), this.payKey, JSON.stringify(attach));\r\n            Logger.log(\"支付请求中----\", this.payKey);\r\n        }\r\n    }\r\n\r\n    private checkTextEmptyAndShowTips(text: string, tipsLabel: string) {\r\n        if (text.length <= 0) {\r\n            Global.UI.fastTip(tipsLabel);\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    protected onSubViewShow() {\r\n        Global.HallServer.on(NetAppface.UserDownPay, this, this.onReqOrder);\r\n        this.model.on(RechargeModel.GetPayUrlResult, this, this.onGetPayUrl);\r\n    }\r\n\r\n    private onReqOrder(data) {\r\n        console.log(data);\r\n        let order = data.order_id;\r\n        if (order) {\r\n            this.model.event(RechargeModel.ShowWaitingAnim, true, this.nView);\r\n            this.model.reqGetPayUrl(order);\r\n        }\r\n    }\r\n\r\n     /**\r\n     * 请求绑定信息\r\n     * @param bind_type 0全部 1银行卡 2支付宝\r\n     */\r\n    public reqGetBankInfo(bNew:boolean = false){\r\n        let _param = {\r\n            \"bind_type\": 0, \r\n        };\r\n        Global.HallServer.send(NetAppface.mod,NetAppface.GetBankInfo,_param,this.onResGetBankInfo.bind(this), null, true, 60);\r\n    }\r\n    public onResGetBankInfo(data : any)\r\n    {\r\n        if(data)\r\n        {\r\n            this.bankAccountEditBox.string = data.entrus_bank_account\r\n            this.nameEditBox.string = data.entrus_bank_user\r\n        }\r\n    }\r\n\r\n    //h5 打开支付\r\n    private openPayUrlByH5(url: string) {\r\n        cc.sys.openURL(Global.Toolkit.DealWithUrl(url));\r\n        Global.UI.showSingleBox(Global.Language.getWord(1606) || \"支付等待中\");\r\n    }\r\n    //支付宝SDK订单\r\n    private openAliSDKByOrder(url: string) {\r\n        if (AppHelper.enableAliPaySDK) {\r\n            // 类型为支付宝支付时调用原生支付包支付\r\n            Logger.log(\"SDK支付url：\", url);\r\n            Global.NativeEvent.checkAliPayInstalled((retObj) => {\r\n                if (retObj.result == 0) {\r\n                    Logger.error(\"AliPayInstalled true\")\r\n                    Global.NativeEvent.paymentAliPayOrder(url, this.paymentOrderCallBack.bind(this));\r\n                } \r\n                else if(retObj.result == -1){\r\n                    Global.UI.showSingleBox(\"请先安装支付宝\", null);\r\n                }\r\n            })\r\n            \r\n        } else {\r\n            Global.UI.showSingleBox(\"当前版本不支持支付宝，请更新到最新版本\", null);\r\n        }\r\n    }\r\n    //DPaySDK订单\r\n    private openDPayByOrder(url: string,token: string,le_pay_url:string) {\r\n        if (AppHelper.enableSDKPay) {\r\n            Global.NativeEvent.paymentDPayWithToken(token,url,le_pay_url, (retObj) =>{\r\n            })\r\n        } else {\r\n            Global.UI.showSingleBox(\"当前版本不支持Upay支付方式\", null);\r\n        }\r\n    }\r\n    //微信SDK订单\r\n    private openWXByOrder(url: string) {\r\n        if (AppHelper.enableWXSDK) {\r\n            // 类型为支付宝支付时调用原生支付包支付\r\n            Logger.log(\"微信SDK支付url：\", url);\r\n            Global.NativeEvent.checkWXInstall((retObj) => {\r\n                if (retObj.result == 0) {\r\n                    Logger.error(\"WXInstalled true\")\r\n                    Global.NativeEvent.paymentWXPayOrder(url, this.paymentOrderCallBack.bind(this));\r\n                } \r\n                else if(retObj.result == -1){\r\n                    Global.UI.showSingleBox(\"请先安装微信\", null);\r\n                }\r\n            })\r\n            \r\n        } else {\r\n            Global.UI.showSingleBox(\"当前版本不支持微信支付，请更新到最新版本\", null);\r\n        }\r\n    }\r\n    //UPaySDK订单\r\n    private openUPayByOrder(url: string,token: string,le_pay_url:string) {\r\n        if (AppHelper.enableUPay) {\r\n            Global.NativeEvent.paymentUPayWithToken(token,url,le_pay_url, (retObj) =>{\r\n            })\r\n        } else {\r\n            Global.UI.showSingleBox(\"当前版本不支持Dpay支付方式\", null);\r\n        }\r\n    }\r\n    //SDK订单支付\r\n    private openSDKByOrder(payStr: string) {\r\n        if (AppHelper.enableSDK) {\r\n            Global.NativeEvent.paymentSDKWithUrl(payStr, (retObj) =>{\r\n                if (retObj.result == 0) {\r\n                    Logger.error(\"openSDKByOrder true\")\r\n                    this.model.event(RechargeModel.ShowWaitingAnim, false);\r\n                }else{\r\n                    Global.UI.showSingleBox(\"订单获取失败,请稍后再试\", null);\r\n                    this.model.event(RechargeModel.ShowWaitingAnim, false);\r\n                }\r\n            })\r\n        } else {\r\n            Global.UI.showSingleBox(\"当前版本不支持SDK支付方式\", null);\r\n        }\r\n    }\r\n    //SDK订单支付\r\n    private openLibByOrder(payStr: string) {\r\n        Global.NativeEvent.payLibWithUrl(payStr, (retObj) =>{\r\n            if (retObj.result == 0) {\r\n                Logger.error(\"openSDKByOrder true\")\r\n                this.model.event(RechargeModel.ShowWaitingAnim, false);\r\n            }else{\r\n                Global.UI.showSingleBox(\"订单获取失败,请稍后再试\", null);\r\n                this.model.event(RechargeModel.ShowWaitingAnim, false);\r\n            }\r\n        })\r\n    }\r\n    //支付宝h5转native \r\n    private openAliSDKInterceptorWithUrl(url: string) {\r\n        if (AppHelper.enableAliPaySDK) {\r\n            if (AppHelper.enableAliPayInterceptorWithUrl) {\r\n                if (AppHelper.enableAliPayCheckInstall) {\r\n                    Global.NativeEvent.checkAliPayInstalled((retObj) => {\r\n                        if (retObj.result == 0) {\r\n                            Logger.error(\"AliPayInstalled true\")\r\n                            Logger.log(\"openAliSDKInterceptorWithUrl url：\", url);\r\n                            Global.NativeEvent.aliPayInterceptorWithUrl(url, this.aliPayInterceptorWithUrlCallBack.bind(this));\r\n                        } else {\r\n                            Logger.error(\"AliPayInstalled false\")\r\n                            this.openPayUrlByH5(url)\r\n                        }\r\n                    })\r\n                } else {\r\n                    Logger.error(\"enableAliPayCheckInstall false\")\r\n                    this.openPayUrlByH5(url)\r\n                }\r\n\r\n            } else {\r\n                Logger.log(\"openAliSDKInterceptorWithUrl  enableAliPayInterceptorWithUrl = false url：\", url);\r\n                this.openPayUrlByH5(url)\r\n            }\r\n        } else {\r\n            Logger.error(\"openAliSDKInterceptorWithUrl enableAliPaySDK = false open url\")\r\n            this.openPayUrlByH5(url)\r\n        }\r\n    }\r\n\r\n    private aliPayInterceptorWithUrlCallBack(retObj) {\r\n        if (!retObj) {\r\n            Logger.error(\"aliPayInterceptorWithUrlCallBack retObj == null\")\r\n            return;\r\n        }\r\n        let ret = Number(retObj.result)\r\n        if (ret == 0) {\r\n            Logger.error(\"aliPayInterceptorWithUrl success and wait money\")\r\n        } else {\r\n            Logger.error(\"aliPayInterceptorWithUrl failed\")\r\n            this.openPayUrlByH5(this.curPayUrl)\r\n        }\r\n    }\r\n\r\n    private checkPayrUrlValid(url) {\r\n        if (url != null && url != \"\") {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    //支付宝h5 授权 url\r\n    private openAliSDKAuthWithUrl(url: string, attach_param: any = {}) {\r\n        if (AppHelper.enableAliPaySDK) {\r\n            if (AppHelper.enableAliPayAuthWithUrl) {\r\n                if (AppHelper.enableAliPayCheckInstall) {\r\n                    Global.NativeEvent.checkAliPayInstalled((retObj) => {\r\n                        if (retObj.result == 0) {\r\n                            Logger.error(\"AliPayInstalled true\")\r\n                            Logger.log(\"openAliSDKAuthWithUrl url：\", url);\r\n                            Logger.log(\"openAliSDKAuthWithUrl orderNo\", this.orderNo);\r\n                            Global.NativeEvent.aliPayAuthWithUrl(url, attach_param, this.orderNo, this.aliPayAuthWithUrlCallBack.bind(this));\r\n                        }\r\n                        else {\r\n                            Logger.error(\"openAliSDKAuthWithUrl() AliPayInstalled false\")\r\n                        }\r\n                    })\r\n                }\r\n                else {\r\n                    Logger.error(\"openAliSDKAuthWithUrl() enableAliPayCheckInstall false\")\r\n                }\r\n            }\r\n            else {\r\n                Logger.error(\"openAliSDKAuthWithUrl()  enableAliPayAuthWithUrl = false url：\", url);\r\n            }\r\n        }\r\n        else {\r\n            Logger.error(\"openAliSDKAuthWithUrl() enableAliPaySDK = false open url\");\r\n        }\r\n    }\r\n\r\n    private aliPayAuthWithUrlCallBack(retObj) {\r\n        if (!retObj) {\r\n            Logger.error(\"aliPayAuthWithUrlCallBack retObj == null\")\r\n            return;\r\n        }\r\n        let ret = Number(retObj.result)\r\n        if (ret == 0) {\r\n            Logger.error(\"aliPayAuthWithUrlCallBack success and wait money\")\r\n        }\r\n        else {\r\n            Logger.error(\"aliPayAuthWithUrlCallBack failed\")\r\n            this.openPayUrlByH5(this.curPayUrl)\r\n        }\r\n    }\r\n\r\n    private openAliSDKAuthWithAppID(appid: string) {\r\n        if (AppHelper.enableAliPaySDK) {\r\n            if (AppHelper.enableAliPayAuthWithUrl) {\r\n                if (AppHelper.enableAliPayCheckInstall) {\r\n                    Global.NativeEvent.checkAliPayInstalled((retObj) => {\r\n                        if (retObj.result == 0) {\r\n                            Logger.error(\"AliPayInstalled true\")\r\n                            Logger.log(\"openAliSDKAuthWithAppID appid:\", appid);\r\n                            Logger.log(\"openAliSDKAuthWithAppID order_no:\", this.orderNo);\r\n                            Global.NativeEvent.aliPayAuthWithAppID(appid, this.orderNo, this.aliPayAuthWithAppIDCallBack.bind(this));\r\n                        }\r\n                        else {\r\n                            Logger.error(\"openAliSDKAuthWithAppID() AliPayInstalled false\")\r\n                            Global.UI.showSingleBox(\"请先安装支付宝!\", null);\r\n                        }\r\n                    })\r\n                }\r\n                else {\r\n                    Logger.error(\"openAliSDKAuthWithAppID() enableAliPayCheckInstall false\")\r\n                }\r\n            }\r\n            else {\r\n                Logger.error(\"openAliSDKAuthWithAppID()  enableAliPayAuthWithUrl = false url：\", appid);\r\n            }\r\n        }\r\n        else {\r\n            Logger.error(\"openAliSDKAuthWithAppID() enableAliPaySDK = false open url\");\r\n        }\r\n    }\r\n\r\n    private aliPayAuthWithAppIDCallBack(retObj) {\r\n        if (!retObj) {\r\n            Logger.error(\"aliPayAuthWithAppIDCallBack retObj == null\")\r\n            return;\r\n        }\r\n        let ret = Number(retObj.result)\r\n        if (ret == 0) {\r\n            Logger.error(\"aliPayAuthWithAppIDCallBack success and wait money\")\r\n            //原始逻辑是要拿到authcode后请求，但是会出现切后台请求被关掉问题。此请求放到原生来做。\r\n            // let auth_code = retObj.funcParam\r\n            // let order_no = this.orderNo\r\n            // if (auth_code && order_no){\r\n            //     this.model.reqOrderStrByAuthCode(auth_code,order_no)\r\n            // }else {\r\n            //     Logger.error(\"aliPayAuthWithAppIDCallBack failed params error auth_code = \" + auth_code + \" order_no = \" + order_no )\r\n            // }\r\n\r\n        }\r\n        else {\r\n            Logger.error(\"aliPayAuthWithAppIDCallBack failed\")\r\n        }\r\n    }\r\n\r\n    private openAliSDKAuthWithPayAuthInfo(jsonStr: string) {\r\n        if (AppHelper.enableAliPaySDK) {\r\n            if (AppHelper.enableAliPayAuthWithPayAuthInfo) {\r\n                if (AppHelper.enableAliPayCheckInstall) {\r\n                    Global.NativeEvent.checkAliPayInstalled((retObj) => {\r\n                        if (retObj.result == 0) {\r\n                            Logger.error(\"AliPayInstalled true\")\r\n                            let jsonObj = JSON.parse(jsonStr)\r\n                            let payAuthInfo = jsonObj.payAuthInfo\r\n                            let payUrl = jsonObj.payUrl\r\n                            if (payAuthInfo && payUrl) {\r\n                                Logger.log(\"openAliSDKAuthWithPayAuthInfo payAuthInfo:\", payAuthInfo);\r\n                                Logger.log(\"openAliSDKAuthWithPayAuthInfo payUrl:\", payUrl);\r\n                                Logger.log(\"openAliSDKAuthWithPayAuthInfo order_no:\", this.orderNo);\r\n                                Global.NativeEvent.aliPayAuthWithPayAuthInfo(payAuthInfo, payUrl, this.orderNo, this.aliPayAuthWithPayAuthInfoCallBack.bind(this));\r\n                            } else {\r\n                                Logger.log(\"openAliSDKAuthWithPayAuthInfo payAuthInfo payUrl not invalid\");\r\n                            }\r\n\r\n                        }\r\n                        else {\r\n                            Logger.error(\"openAliSDKAuthWithPayAuthInfo() AliPayInstalled false\")\r\n                            Global.UI.showSingleBox(\"请先安装支付宝!\", null);\r\n                        }\r\n                    })\r\n                }\r\n                else {\r\n                    Logger.error(\"openAliSDKAuthWithPayAuthInfo() enableAliPayCheckInstall false\")\r\n                }\r\n            }\r\n            else {\r\n                Logger.error(\"openAliSDKAuthWithPayAuthInfo()  enableAliPayAuthWithPayAuthInfo = false url：\", jsonStr);\r\n            }\r\n        }\r\n        else {\r\n            Logger.error(\"openAliSDKAuthWithPayAuthInfo() enableAliPaySDK = false open url\");\r\n        }\r\n    }\r\n\r\n    private aliPayAuthWithPayAuthInfoCallBack(retObj) {\r\n        if (!retObj) {\r\n            Logger.error(\"aliPayAuthWithPayAuthInfoCallBack retObj == null\")\r\n            return;\r\n        }\r\n        let ret = Number(retObj.result)\r\n        if (ret == 0) {\r\n            Logger.error(\"aliPayAuthWithPayAuthInfoCallBack success and wait money\")\r\n            //原始逻辑是要拿到authcode后请求，但是会出现切后台请求被关掉问题。此请求放到原生来做。\r\n        }\r\n        else {\r\n            Logger.error(\"aliPayAuthWithPayAuthInfoCallBack failed\")\r\n        }\r\n    }\r\n\r\n\r\n    //老版本支付判断逻辑\r\n    private oldPayUrlLogic(url: string) {\r\n        if (this.checkPayrUrlValid(url)) {\r\n            if (url.startsWith('http')) {\r\n                this.openPayUrlByH5(url)\r\n            } else if (url.startsWith('weixin')) {\r\n                this.openWXByOrder(url)\r\n            } else {\r\n                this.openAliSDKByOrder(url)\r\n            }\r\n        } else {\r\n            Logger.error(\"pay_sdk_type = null invalid url ++++++\")\r\n        }\r\n    }\r\n\r\n    private onGetPayUrl(result: number, data: any) {\r\n        // console.error(data);\r\n        let pay_sdk_type = data.pay_sdk_type;\r\n        if(pay_sdk_type !=null && pay_sdk_type !=undefined && pay_sdk_type !=12  && pay_sdk_type !=13){ //sdk支付走回调关闭\r\n            this.model.event(RechargeModel.ShowWaitingAnim, false);\r\n        }\r\n        if (result == 0) {\r\n            let url = data.url;\r\n            this.curPayUrl = url;\r\n            //pay_sdk_type   1原有 url 模式  2  现在支付宝SDK   3 h5转sdk native模式 0 之前的版本\r\n            let order_no = data.order_no\r\n            this.orderNo = order_no\r\n            if (pay_sdk_type != null) { // 新版本加入的字段\r\n                if (this.checkPayrUrlValid(url)) {\r\n                    switch (pay_sdk_type) {\r\n                        case 0: //有这种可能性，配置没有生效\r\n                            this.oldPayUrlLogic(url)\r\n                            break;\r\n                        case 1: // 1原有 url 模式\r\n                            this.openPayUrlByH5(url)\r\n                            break;\r\n                        case 2://2现在支付宝SDK\r\n                            this.openAliSDKByOrder(url)\r\n                            break;\r\n                        case 3: //3 h5转sdk native模式\r\n                            this.openAliSDKInterceptorWithUrl(url)\r\n                            break;\r\n                        case 4: //4 支付宝授权\r\n                            //附件参数, json格式的字符串\r\n                            let paramStr = data.attach_param || \"{}\";\r\n                            let attach_param = JSON.parse(paramStr);\r\n                            this.openAliSDKAuthWithUrl(url, attach_param);\r\n                            break;\r\n                        case 5: //支付宝授权直接通过AppID获取authcode\r\n                            let appid = url;\r\n                            this.openAliSDKAuthWithAppID(appid)\r\n                            break;\r\n                        case 6:\r\n                            this.openAliSDKAuthWithPayAuthInfo(url)\r\n                            break;\r\n                        case 7://DPaySDK支付\r\n                            this.openDPayByOrder(url, data.token, data.le_pay_url)\r\n                            break;\r\n                        case 9://Upay支付\r\n                            this.openUPayByOrder(url, data.token, data.le_pay_url)\r\n                            break\r\n                        case 10://扫码支付\r\n                            this.showScanCodeView(data)\r\n                            break\r\n                        case 11://微信SDK支付\r\n                            this.openWXByOrder(url)\r\n                            break\r\n                        case 12://SDK支付\r\n                            this.openSDKByOrder(url)\r\n                            break\r\n                        case 13://果子SDK支付\r\n                            this.openLibByOrder(url)\r\n                            break\r\n                    }\r\n                } else {\r\n                    Logger.error(\"pay_sdk_type = \" + pay_sdk_type + \" invalid url ++++++\")\r\n                }\r\n            } else { //没有该字段走老的模式\r\n                this.oldPayUrlLogic(url)\r\n            }\r\n\r\n        }\r\n        else if (result == 2) {\r\n            let errno = data._errno;\r\n            if (errno) {\r\n                Global.UI.fastTip(data._errstr);\r\n            }\r\n        }\r\n        else {\r\n            Global.UI.fastTip(\"支付失败，请尝试其他充值方式\");\r\n        }\r\n    }\r\n\r\n    private paymentOrderCallBack(result) {\r\n        Logger.log(\"支付返回的参数\", result);\r\n    }\r\n\r\n    protected onSubViewHide() {\r\n        Global.HallServer.off(NetAppface.UserDownPay, this, this.onReqOrder);\r\n        this.model.off(RechargeModel.GetPayUrlResult, this, this.onGetPayUrl);\r\n    }\r\n\r\n    public resetSelect() {\r\n        if(!this.node) return\r\n        if(this.payTipsLbl)\r\n        {\r\n            this.payTipsLbl.string = \"请选择充值金额\";\r\n        }\r\n        // this.payTipsLbl.node.color = new cc.Color(160, 116, 56);\r\n        this.scanCodeView.subViewState = false\r\n        if (this.itemList[this.curBtnIndex]) {\r\n            this.itemList[this.curBtnIndex].isChecked = false;\r\n        }\r\n    }\r\n\r\n    public hideAllItems() {\r\n        for (let i = 0; i < this.itemList.length; i++) {\r\n            this.itemList[i].active = false;\r\n        }\r\n    }\r\n}\r\n\r\nclass ToggleItem extends ViewBase {\r\n    private valueLbl: cc.Label[] = [];\r\n    private index: number;\r\n    private checked: boolean = false;\r\n    private bg: cc.Node;\r\n    private checkBg: cc.Node;\r\n\r\n    constructor(node: cc.Node, private callback: Function, private target: any) {\r\n        super();\r\n        this.setNode(node);\r\n    }\r\n\r\n    protected initView() {\r\n        this.addCommonClick(\"\", this.onToggleClick, this);\r\n        this.valueLbl.push(this.getComponent(\"Background/valueLbl\", cc.Label));\r\n        this.valueLbl.push(this.getComponent(\"checkmark/valueLbl\", cc.Label));\r\n        this.bg = this.getChild(\"Background\");\r\n        this.checkBg = this.getChild(\"checkmark\");\r\n    }\r\n\r\n    public initItemData(index: number, money: number) {\r\n        this.index = index;\r\n        this.valueLbl[0].string = String(money);\r\n        this.valueLbl[1].string = String(money);\r\n    }\r\n\r\n    public set isChecked(value: boolean) {\r\n        if (this.checked != value) {\r\n            this.checked = value;\r\n        }\r\n        this.setItemStyle();\r\n    }\r\n\r\n    public get isChecked() {\r\n        return this.checked;\r\n    }\r\n\r\n    private onToggleClick() {\r\n        if (this.callback) {\r\n            this.callback.call(this.target, this.index);\r\n        }\r\n        this.isChecked = true;\r\n    }\r\n\r\n    private setItemStyle() {\r\n        this.bg.active = !this.isChecked;\r\n        this.checkBg.active = this.isChecked;\r\n    }\r\n}"]}