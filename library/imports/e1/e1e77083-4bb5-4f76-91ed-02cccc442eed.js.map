{"version":3,"sources":["assets\\hall\\scripts\\framework\\uiManager\\UIManagerEx.ts"],"names":[],"mappings":";;;;;;AACA;IAGI;QADQ,WAAM,GAAG,EAAE,CAAC;QAEhB,IAAI,CAAC,MAAM,GAAG,EAAE,CAAA;IACpB,CAAC;IACD,sBAAkB,uBAAQ;aAA1B;YACI,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,EAAE;gBACxB,IAAI,CAAC,SAAS,GAAG,IAAI,WAAW,EAAE,CAAC;aACtC;YACD,OAAO,IAAI,CAAC,SAAS,CAAC;QAC1B,CAAC;;;OAAA;IAEM,4BAAM,GAAb,UAAc,MAAM,EAAE,QAAmB;QACrC,IAAI,IAAI,GAAG,IAAI,CAAC;QAChB,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,EAAE,UAAU,GAAG,EAAE,MAAM;YAC3C,IAAI,GAAG,EAAE;gBACL,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,IAAI,GAAG,CAAC,CAAC;gBACjC,OAAO;aACV;YACD,IAAI,IAAI,GAAG,EAAE,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;YAClC,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC;YACtC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAEvB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACzC,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,EAAE,EAAE;oBAC9C,IAAI,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;oBACtD,IAAI,QAAQ,IAAI,QAAQ,CAAC,KAAK,EAAE;wBAC5B,QAAQ,CAAC,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;qBACxC;iBACJ;aACJ;YACD,UAAU;YACV,IAAI,QAAQ,EAAE;gBACV,QAAQ,CAAC,IAAI,CAAC,CAAC;aAClB;QACL,CAAC,CAAC,CAAA;IACN,CAAC;IAEM,6BAAO,GAAd,UAAe,QAAQ;QACnB,KAAK,IAAI,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE;YAC9C,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,QAAQ,KAAK,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE;gBAC/C,QAAQ,CAAC,OAAO,EAAE,CAAC;gBACnB,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;gBACzB,MAAM;aACT;SACJ;IACL,CAAC;IAEM,4BAAM,GAAb,UAAc,MAAM;QAChB,KAAK,IAAI,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE;YAC9C,IAAI,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;YAC1B,IAAI,IAAI,IAAI,IAAI,CAAC,IAAI,KAAK,MAAM,EAAE;gBAC9B,OAAO,IAAI,CAAC;aACf;SACJ;QACD,OAAO,IAAI,CAAC;IAChB,CAAC;IAxDc,qBAAS,GAAgB,IAAI,CAAC;IA2DjD,kBAAC;CA5DD,AA4DC,IAAA;kBA5DoB,WAAW","file":"","sourceRoot":"/","sourcesContent":["\r\nexport default class UIManagerEx {\r\n    private static _instance: UIManagerEx = null;\r\n    private uiList = [];\r\n    constructor() {\r\n        this.uiList = []\r\n    }\r\n    public static get Instance(): UIManagerEx {\r\n        if (this._instance == null) {\r\n            this._instance = new UIManagerEx();\r\n        }\r\n        return this._instance;\r\n    }\r\n\r\n    public openUI(uiPath, callBack?: Function) {\r\n        let self = this;\r\n        cc.loader.loadRes(uiPath, function (err, prefab) {\r\n            if (err) {\r\n                Logger.error(err.message || err);\r\n                return;\r\n            }\r\n            var temp = cc.instantiate(prefab);\r\n            temp.parent = cc.Canvas.instance.node;\r\n            self.uiList.push(temp);\r\n\r\n            for (var i = 0; i < self.uiList.length; i++) {\r\n                if (self.uiList[i] && self.uiList[i].name !== \"\") {\r\n                    var targetUI = self.uiList[i].getComponent(\"uiPanel\");\r\n                    if (targetUI && targetUI.isTop) {\r\n                        targetUI.node.setSiblingIndex(99999);\r\n                    }\r\n                }\r\n            }\r\n            // event--\r\n            if (callBack) {\r\n                callBack(temp);\r\n            }\r\n        })\r\n    }\r\n\r\n    public closeUI(targetUI){\r\n        for (var i = this.uiList.length - 1; i >= 0; i--) {\r\n            if (this.uiList[i] && targetUI === this.uiList[i]) {\r\n                targetUI.destroy();\r\n                this.uiList.splice(i, 1);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    public findUI(uiName){\r\n        for (var i = this.uiList.length - 1; i >= 0; i--) {\r\n            var temp = this.uiList[i];\r\n            if (temp && temp.name === uiName) {\r\n                return temp;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n\r\n}"]}