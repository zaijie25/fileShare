{"version":3,"sources":["assets\\hall\\scripts\\logic\\hall\\ui\\money\\ui\\bank\\WndBankChangePW.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import WndBase from \"../../../../../core/ui/WndBase\";\r\nimport BankModel from \"../../../../../hallcommon/model/BankModel\";\r\nimport GlobalEvent from \"../../../../../core/GlobalEvent\";\r\n\r\nexport default class WndBankChangePW extends WndBase {\r\n\r\n    //private _pwCheckRx : RegExp = /^.*(?=.{6,16})(?=.*\\d)(?=.*[A-Z]{2,})(?=.*[a-z]{2,})(?=.*[!@#$%^&*?\\(\\)]).*$/;\r\n    //private _pwCheckRx : RegExp = /^.*(?=.{6,16})(?=.*\\d)(?=.*[a-zA-Z]).*$/;\r\n    private _pwCheckString : string = \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\";\r\n    private model : BankModel;\r\n\r\n    private pwEditBox0 : cc.EditBox;\r\n    private pwEditBox1 : cc.EditBox;\r\n    private pwEditBox2 : cc.EditBox;\r\n\r\n    protected onInit()\r\n    {\r\n        this.name = \"WndBankChangePW\";\r\n        this.layer = Global.UI.PopLayer;\r\n        this.resPath = \"hall/prefabs/ui/money/bank/BankChangePWUI\";\r\n        this.model = <BankModel>Global.ModelManager.getModel(\"BankModel\");\r\n    }\r\n\r\n    protected initView()\r\n    {\r\n        this.node.width = cc.Canvas.instance.node.width;\r\n        this.node.height = cc.Canvas.instance.node.height;\r\n\r\n        this.addCommonClick(\"close\",this.close,this);\r\n        this.addCommonClick(\"confirmBtn\",this.confirmBtnFunc,this);\r\n        this.addCommonClick(\"canelBtn\",this.close,this);\r\n\r\n        this.pwEditBox0 = this.getComponent(\"PasswordBox0/editBox\",cc.EditBox);\r\n        this.pwEditBox1 = this.getComponent(\"PasswordBox1/editBox\",cc.EditBox);\r\n        this.pwEditBox2 = this.getComponent(\"PasswordBox2/editBox\",cc.EditBox);\r\n    }\r\n\r\n    protected onOpen(args)\r\n    {\r\n        this.pwEditBox0.string = \"\";\r\n        this.pwEditBox1.string = \"\";\r\n        this.pwEditBox2.string = \"\";\r\n        // Global.Event.on(GlobalEvent.BANK_CHANGE_PWD_SUCCEED, this, this.bank_change_pwd_succeed);\r\n    }\r\n    \r\n    protected onClose()\r\n    {\r\n        // Global.Event.off(GlobalEvent.BANK_CHANGE_PWD_SUCCEED, this, this.bank_change_pwd_succeed);\r\n    }\r\n\r\n    private checkTextEmptyAndShowTips(text:string, tipsLabel:string)\r\n    {\r\n        if(text.length <= 0)\r\n        {\r\n            this.model.showBankTips(tipsLabel);\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    private checkPWFormat(text:string, tipsLabel:string){\r\n        let bValid : boolean = Global.Toolkit.checkPWFormat(text);\r\n        if(!bValid){\r\n            this.model.showBankTips(tipsLabel);\r\n        }\r\n        return bValid;\r\n    }\r\n\r\n    /** 密码修改成功回调事件*/\r\n    // bank_change_pwd_succeed() \r\n    // {\r\n    //     this.close();\r\n    // }\r\n\r\n    /** 确认按钮 */\r\n    confirmBtnFunc(){\r\n        if(!this.checkTextEmptyAndShowTips(this.pwEditBox0.string, \"请输入密码\"))\r\n            return;\r\n        if(!this.checkPWFormat(this.pwEditBox1.string, \"请按要求输入6~16位数字和字母密码\"))\r\n            return;\r\n        // if(!this.checkPWFormat(this.pwEditBox2.string, \"请按要求输入6~16位数字和字母密码\"))\r\n        //     return;\r\n        if(this.pwEditBox1.string != this.pwEditBox2.string){\r\n            this.model.showBankTips(\"新密码输入不一致，请重新输入\");\r\n            return;\r\n        }\r\n        this.model.reqSetBankPwd(this.pwEditBox0.string , this.pwEditBox1.string);\r\n    }\r\n\r\n    \r\n}\r\n\r\n\r\n\r\n"]}