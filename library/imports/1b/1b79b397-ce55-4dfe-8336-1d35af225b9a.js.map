{"version":3,"sources":["assets\\ermj\\Ermj\\scripts\\handlers\\ErmjEnterHandler.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAAA,qDAAgD;AAChD,uDAAkD;AAClD,yDAAwD;AAExD;IAA+C,oCAAe;IAA9D;;IA0BA,CAAC;IAzBa,sCAAW,GAArB,UAAsB,GAAG;QACrB,IAAI,GAAG,GAAG,GAAG,CAAC,IAAI,CAAC;QACnB,OAAO;QACP,IAAG,IAAI,CAAC,OAAO,CAAC,OAAO,IAAI,GAAG,EAAC;YAC3B,IAAI,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC;YACpD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,EAAE,uBAAa,CAAC,cAAc,EAAE,uBAAa,CAAC,cAAc,CAAC,CAAC;YACxF,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;SACtD;QAED,IAAI,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC;QACpD,IAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,SAAS,CAAC,IAAI,IAAI,EAAC;YAC1C,MAAM,CAAC,KAAK,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC;YACjC,OAAO;SACV;QACD,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;IAC1D,CAAC;IAGS,kCAAO,GAAjB,UAAkB,GAAG;QACjB,IAAI,GAAG,GAAG,GAAG,CAAC,IAAI,CAAC;QACnB,IAAI,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC;QACpD,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC,CAAC;QAC9E,uBAAa,CAAC,SAAS,CAAC,+BAAc,CAAC,WAAW,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;QACnE,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,iBAAiB,EAAE,kBAAkB,EAAE,GAAG,CAAC,CAAC;IACtE,CAAC;IACL,uBAAC;AAAD,CA1BA,AA0BC,CA1B8C,yBAAe,GA0B7D","file":"","sourceRoot":"/","sourcesContent":["import ErmjBaseHandler from \"./ErmjBaseHandler\";\r\nimport ErmjGameConst from \"../data/ErmjGameConst\";\r\nimport { ErmjAudioConst } from \"../data/ErmjPathHelper\";\r\n\r\nexport default  class ErmjEnterHandler extends ErmjBaseHandler{\r\n    protected refreshData(msg){\r\n        let src = msg._src;\r\n        //自己进游戏\r\n        if(this.context.selfSrc == src){\r\n            let seatId = this.SitHelper.serverSeatStrToNum(src);\r\n            this.SitHelper.init(seatId, ErmjGameConst.maxPlayerCount, ErmjGameConst.localToViewMap);\r\n            this.context.set(this.Define.FieldInSettle, false);\r\n        }\r\n \r\n        let localSeat = this.SitHelper.serverSToLocalN(src);\r\n        if(this.context.playerList[localSeat] == null){\r\n            Logger.error(\"服务器异常\", localSeat);\r\n            return;\r\n        }\r\n        this.context.playerList[localSeat].setInfo(msg._para);\r\n    }\r\n\r\n\r\n    protected execute(msg){\r\n        let src = msg._src;\r\n        let localSeat = this.SitHelper.serverSToLocalN(src);\r\n        this.mainUI.callPlayer(localSeat, \"show\", this.context.playerList[localSeat]);\r\n        ErmjGameConst.playSound(ErmjAudioConst.commonAudio.SeatDown, true);\r\n        Game.Event.event(Game.EVENT_ADDTIMELOCK, \"ErmjEnterHandler\", 0.1);\r\n    }\r\n}"]}