{"version":3,"sources":["assets\\hall\\scripts\\logic\\hall\\ui\\money\\ui\\bank\\WndBankLogin.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAAA,0DAAqD;AAGrD;IAA0C,gCAAO;IAAjD;;IAsEA,CAAC;IAhEa,6BAAM,GAAhB;QAEI,IAAI,CAAC,IAAI,GAAG,cAAc,CAAC;QAC3B,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,EAAE,CAAC,QAAQ,CAAC;QAChC,IAAI,CAAC,OAAO,GAAG,4CAA4C,CAAC;QAC5D,IAAI,CAAC,KAAK,GAAc,MAAM,CAAC,YAAY,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;IACtE,CAAC;IAES,+BAAQ,GAAlB;QAEI,mDAAmD;QACnD,qDAAqD;QAErD,IAAI,CAAC,cAAc,CAAC,OAAO,EAAC,IAAI,CAAC,KAAK,EAAC,IAAI,CAAC,CAAC;QAE7C,IAAI,CAAC,cAAc,CAAC,YAAY,EAAC,IAAI,CAAC,cAAc,EAAC,IAAI,CAAC,CAAC;QAC3D,IAAI,CAAC,cAAc,CAAC,aAAa,EAAC,IAAI,CAAC,eAAe,EAAC,IAAI,EAAC,IAAI,CAAC,CAAC;QAClE,IAAI,CAAC,cAAc,CAAC,aAAa,EAAC,IAAI,CAAC,eAAe,EAAC,IAAI,EAAC,IAAI,CAAC,CAAC;QAElE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,qBAAqB,EAAC,EAAE,CAAC,OAAO,CAAC,CAAC;IACzE,CAAC;IAES,6BAAM,GAAhB,UAAiB,IAAI;QAEjB,0DAA0D;IAC9D,CAAC;IAEO,gDAAyB,GAAjC,UAAkC,IAAW,EAAE,SAAgB;QAE3D,IAAG,IAAI,CAAC,MAAM,IAAI,CAAC,EACnB;YACI,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;YACnC,OAAO,KAAK,CAAC;SAChB;QACD,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,WAAW;IACX,qCAAc,GAAd;QACI,IAAG,CAAC,IAAI,CAAC,yBAAyB,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,QAAQ,CAAC;YAC/D,OAAO;QACX,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;IACnD,CAAC;IAED,aAAa;IACb,sCAAe,GAAf;QACI,gCAAgC;QAChC,IAAI,SAAS,GAAG,CAAC,MAAM,CAAC,UAAU,CAAC,KAAK,IAAI,IAAI,IAAI,MAAM,CAAC,UAAU,CAAC,KAAK,IAAI,EAAE,CAAC,CAAC;QACnF,IAAG,CAAC,SAAS,EAAC;YACV,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,mBAAmB,CAAC,CAAC;YAC7C,OAAO;SACV;QACD,MAAM,CAAC,EAAE,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;IACtC,CAAC;IAED,aAAa;IACb,sCAAe,GAAf;QACI,IAAI,SAAS,GAAG,CAAC,MAAM,CAAC,UAAU,CAAC,KAAK,IAAI,IAAI,IAAI,MAAM,CAAC,UAAU,CAAC,KAAK,IAAI,EAAE,CAAC,CAAC;QACnF,IAAG,CAAC,SAAS,EAAC;YACV,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,kBAAkB,CAAC,CAAC;YAC5C,OAAO;SACV;QACD,MAAM,CAAC,EAAE,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;IACtC,CAAC;IACL,mBAAC;AAAD,CAtEA,AAsEC,CAtEyC,iBAAO,GAsEhD","file":"","sourceRoot":"/","sourcesContent":["import WndBase from \"../../../../../core/ui/WndBase\";\r\nimport BankModel from \"../../../../../hallcommon/model/BankModel\";\r\n\r\nexport default class WndBankLogin extends WndBase {\r\n\r\n    private model : BankModel;\r\n\r\n    private pwEditBox : cc.EditBox;\r\n\r\n    protected onInit()\r\n    {\r\n        this.name = \"WndBankLogin\";\r\n        this.layer = Global.UI.PopLayer;\r\n        this.resPath = \"hall/prefabs/ui/money/bank/BankLoginBankUI\";\r\n        this.model = <BankModel>Global.ModelManager.getModel(\"BankModel\");\r\n    }\r\n\r\n    protected initView()\r\n    {\r\n        // this.node.width = cc.Canvas.instance.node.width;\r\n        // this.node.height = cc.Canvas.instance.node.height;\r\n\r\n        this.addCommonClick(\"close\",this.close,this);\r\n\r\n        this.addCommonClick(\"confirmBtn\",this.confirmBtnFunc,this);\r\n        this.addCommonClick(\"changePWBtn\",this.changePWBtnFunc,this,null);\r\n        this.addCommonClick(\"forgetPWBtn\",this.forgetPWBtnFunc,this,null);\r\n\r\n        this.pwEditBox = this.getComponent(\"PasswordBox/editBox\",cc.EditBox);\r\n    }\r\n\r\n    protected onOpen(args)\r\n    {\r\n        //this.pwEditBox.string = this.model.getDefaultPassword();\r\n    }\r\n\r\n    private checkTextEmptyAndShowTips(text:string, tipsLabel:string)\r\n    {\r\n        if(text.length <= 0)\r\n        {\r\n            this.model.showBankTips(tipsLabel);\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    /** 确认按钮 */\r\n    confirmBtnFunc(){\r\n        if(!this.checkTextEmptyAndShowTips(this.pwEditBox.string, \"密码不能为空\"))\r\n            return;\r\n        this.model.reqLoginBank(this.pwEditBox.string);\r\n    }\r\n\r\n    /** 修改密码按钮 */\r\n    changePWBtnFunc(){\r\n        // 1游客 没有绑定手机 2 绑定手机了 3微信 4第三方账号\r\n        var havePhone = (Global.PlayerData.phone != null && Global.PlayerData.phone != \"\");\r\n        if(!havePhone){\r\n            this.model.showBankTips(\"请您先绑定手机号码再修改银行密码！\");\r\n            return;\r\n        }\r\n        Global.UI.show(\"WndBankChangePW\");\r\n    }\r\n\r\n    /** 忘记密码按钮 */\r\n    forgetPWBtnFunc(){\r\n        var havePhone = (Global.PlayerData.phone != null && Global.PlayerData.phone != \"\");\r\n        if(!havePhone){\r\n            this.model.showBankTips(\"请您先绑定手机号码再找回银行密码\");\r\n            return;\r\n        }\r\n        Global.UI.show(\"WndBankForgetPW\");\r\n    }\r\n}\r\n"]}